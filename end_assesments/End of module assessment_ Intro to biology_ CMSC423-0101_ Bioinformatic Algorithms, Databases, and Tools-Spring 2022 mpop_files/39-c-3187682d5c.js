(window["canvasWebpackJsonp"]=window["canvasWebpackJsonp"]||[]).push([[39,4197],{"5+Bo":function(e,t,n){"use strict"
n.r(t)
var r=n("71tw")
var o=n("9Uei")
var a=n.n(o)
n("Gtfj")
n("NhbT")
n("xw2z")
n("LCgA")
n("YTLx")
n("8MtL")
n("eYD6")
n("ujec")
n("I9W/")
n("5R7V")
n("Gy1R")
n("HF4P")
n("Xg8j")
n("a+My")
n("Rwab")
var i={variant:"Line",glyphName:"arrow-open-down",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path transform="matrix(0 1 1 0 .153 -.153)" d="M526.298905 0L434 92.1683552 1301.63582 959.934725 434 1827.57054 526.298905 1920 1486.23363 959.934725z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var u={variant:"Line",glyphName:"attach-media",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M101.002105,1230.63705 L101.002105,377.954947 C658.711579,230.317053 1177.31368,342.485474 1315.45263,377.954947 L1315.45263,773.879158 L1416.50526,743.563368 L1416.50526,302.165474 L1380.83368,291.150737 C1354.56,282.864421 729.246316,93.9970526 31.68,292.464421 L-0.0505263158,305.197053 L-0.0505263158,1306.42653 L35.6210526,1317.34021 C52.9010526,1322.79705 331.402105,1406.87284 717.827368,1406.87284 C840,1406.87284 973.692632,1396.86863 1112.53895,1374.94021 L1112.53895,1273.68547 C636.176842,1351.496 222.063158,1261.66021 101.002105,1230.63705 M1919.90905,789.309895 L1919.90905,1482.83411 C1919.808,1585.90779 1837.65221,1669.68042 1736.59958,1669.68042 C1644.74274,1669.68042 1569.25642,1600.15621 1556.01853,1510.21937 C1554.60379,1501.12463 1553.29011,1492.02989 1553.29011,1482.53095 C1553.29011,1379.45726 1635.44589,1295.48253 1736.59958,1295.48253 C1753.27326,1295.48253 1769.13853,1298.41305 1784.49853,1302.75832 C1796.52379,1305.992 1808.04379,1310.64042 1818.85642,1316.29937 L1818.85642,1316.29937 L1818.85642,924.619368 L1779.04168,936.442526 L1416.46484,1043.76042 L1388.57432,1051.94568 L1388.57432,1631.88674 C1388.57432,1634.71621 1387.86695,1637.34358 1387.76589,1640.072 C1383.52168,1739.30568 1303.58905,1819.03621 1205.16379,1819.03621 C1104.01011,1819.03621 1021.85432,1735.06147 1021.85432,1631.88674 C1021.85432,1563.37305 1058.53642,1503.85305 1112.49853,1471.31411 C1139.88379,1454.84253 1171.21011,1444.73726 1205.16379,1444.73726 C1234.97432,1444.73726 1262.66274,1452.72042 1287.52168,1465.55411 L1287.52168,1465.55411 L1287.52168,976.459368 L1315.41221,968.274105 L1416.46484,938.362526 L1777.42484,831.549895 L1919.90905,789.309895 Z M527.514947,480.634526 L1088.35705,810.470316 L527.514947,1140.20505 L527.514947,480.634526 Z M628.567579,657.274526 L628.567579,963.565053 L888.980211,810.470316 L628.567579,657.274526 Z M1736.59958,1568.62779 C1698.50274,1568.62779 1667.78274,1540.93937 1658.48589,1503.95411 C1656.66695,1496.98147 1654.34274,1490.21095 1654.34274,1482.53095 C1654.34274,1435.13726 1691.22695,1396.53516 1736.59958,1396.53516 C1755.49642,1396.53516 1772.27116,1404.31621 1786.11537,1415.63411 C1805.61853,1431.39832 1818.85642,1454.94358 1818.85642,1482.53095 C1818.85642,1530.02568 1781.97221,1568.62779 1736.59958,1568.62779 L1736.59958,1568.62779 Z M1205.16379,1717.98358 C1159.79116,1717.98358 1122.90695,1679.38147 1122.90695,1631.88674 C1122.90695,1584.392 1159.79116,1545.78989 1205.16379,1545.78989 C1250.53642,1545.78989 1287.52168,1584.392 1287.52168,1631.88674 C1287.52168,1679.38147 1250.53642,1717.98358 1205.16379,1717.98358 L1205.16379,1717.98358 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var c={variant:"Line",glyphName:"bold",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M480.285714,822.857143 L1028.85714,822.857143 C1180.12571,822.857143 1303.14286,699.84 1303.14286,548.571429 C1303.14286,397.302857 1180.12571,274.285714 1028.85714,274.285714 L480.285714,274.285714 L480.285714,822.857143 Z M480.285714,1645.71429 L1166,1645.71429 C1317.26857,1645.71429 1440.28571,1522.69714 1440.28571,1371.42857 C1440.28571,1220.16 1317.26857,1097.14286 1166,1097.14286 L480.285714,1097.14286 L480.285714,1645.71429 Z M1166,1920 L206,1920 L206,0 L1028.85714,0 C1331.39429,0 1577.42857,246.034286 1577.42857,548.571429 C1577.42857,682.834286 1528.88,805.988571 1448.65143,901.302857 C1607.87429,997.44 1714.57143,1172.29714 1714.57143,1371.42857 C1714.57143,1673.96571 1468.53714,1920 1166,1920 L1166,1920 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var s={variant:"Line",glyphName:"bullet-list-alpha",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M546.15,1603.617 L1906.15,1603.617 L1906.15,1483.617 L546.15,1483.617 L546.15,1603.617 Z M546.15,482.616 L1906.15,482.616 L1906.15,362.616 L546.15,362.616 L546.15,482.616 Z M546.15,1043.616 L1906.15,1043.616 L1906.15,923.616 L546.15,923.616 L546.15,1043.616 Z M271.675,429.5 L234.55,319.775 C231.8,312.808 228.867,304.604 225.75,295.162 C222.633,285.721 219.517,275.5 216.4,264.5 C213.65,275.683 210.717,286.042 207.6,295.575 C204.483,305.108 201.55,313.358 198.8,320.325 L161.95,429.5 L271.675,429.5 Z M419.35,582.675 L347.3,582.675 C339.233,582.675 332.725,580.796 327.775,577.037 C322.825,573.279 319.067,568.467 316.5,562.6 L292.85,492.75 L140.5,492.75 L116.85,562.6 C114.833,567.733 111.213,572.362 105.988,576.487 C100.762,580.613 94.3,582.675 86.6,582.675 L14,582.675 L169.1,182 L264.25,182 L419.35,582.675 Z M230.325,1112.55 C242.608,1112.55 252.646,1110.992 260.437,1107.875 C268.229,1104.758 274.325,1100.725 278.725,1095.775 C283.125,1090.825 286.15,1085.234 287.8,1079 C289.45,1072.767 290.275,1066.442 290.275,1060.025 C290.275,1052.692 289.312,1046.092 287.388,1040.225 C285.463,1034.359 282.162,1029.409 277.488,1025.375 C272.812,1021.341 266.625,1018.225 258.925,1016.025 C251.225,1013.825 241.509,1012.725 229.775,1012.725 L164.875,1012.725 L164.875,1112.55 L230.325,1112.55 Z M164.875,851.575 L164.875,950.575 L213.275,950.575 C223.542,950.575 232.8,949.842 241.05,948.375 C249.3,946.908 256.312,944.342 262.088,940.675 C267.863,937.008 272.263,931.967 275.287,925.55 C278.312,919.133 279.825,911.067 279.825,901.35 C279.825,891.817 278.633,883.888 276.25,877.562 C273.867,871.238 270.2,866.15 265.25,862.3 C260.3,858.45 254.021,855.7 246.412,854.05 C238.804,852.4 229.775,851.575 219.325,851.575 L164.875,851.575 Z M219.325,782 C247.009,782 270.567,784.567 290,789.7 C309.433,794.833 325.292,802.075 337.575,811.425 C349.858,820.775 358.796,832.141 364.388,845.525 C369.979,858.909 372.775,873.85 372.775,890.35 C372.775,899.333 371.492,907.996 368.925,916.337 C366.358,924.679 362.325,932.471 356.825,939.712 C351.325,946.954 344.267,953.6 335.65,959.65 C327.034,965.7 316.675,970.925 304.575,975.325 C330.975,981.742 350.5,992.1 363.15,1006.4 C375.8,1020.701 382.125,1039.216 382.125,1061.95 C382.125,1079 378.825,1094.859 372.225,1109.525 C365.625,1124.192 355.954,1136.979 343.213,1147.887 C330.471,1158.796 314.75,1167.321 296.05,1173.462 C277.35,1179.604 255.992,1182.675 231.975,1182.675 L71.925,1182.675 L71.925,782 L219.325,782 Z M345.975,1629 C348.175,1629 350.375,1629.412 352.575,1630.238 C354.775,1631.063 356.883,1632.484 358.9,1634.5 L395.75,1673.275 C379.617,1694.359 359.404,1710.262 335.113,1720.988 C310.821,1731.712 282.083,1737.075 248.9,1737.075 C218.467,1737.075 191.196,1731.896 167.088,1721.537 C142.979,1711.179 122.537,1696.879 105.762,1678.637 C88.988,1660.396 76.108,1638.763 67.125,1613.738 C58.141,1588.712 53.65,1561.534 53.65,1532.2 C53.65,1502.317 58.508,1474.863 68.225,1449.837 C77.942,1424.813 91.6,1403.225 109.2,1385.075 C126.8,1366.925 147.883,1352.808 172.45,1342.725 C197.017,1332.642 224.058,1327.6 253.575,1327.6 C268.608,1327.6 282.771,1328.929 296.062,1331.587 C309.354,1334.245 321.775,1337.912 333.325,1342.587 C344.875,1347.262 355.508,1352.9 365.225,1359.5 C374.942,1366.1 383.558,1373.25 391.075,1380.95 L359.725,1423.025 C357.708,1425.592 355.325,1427.929 352.575,1430.037 C349.825,1432.146 345.975,1433.2 341.025,1433.2 C337.725,1433.2 334.608,1432.467 331.675,1431 C328.742,1429.534 325.625,1427.745 322.325,1425.637 C319.025,1423.53 315.404,1421.238 311.463,1418.762 C307.521,1416.287 302.846,1413.995 297.437,1411.887 C292.029,1409.78 285.704,1407.992 278.463,1406.525 C271.221,1405.058 262.742,1404.325 253.025,1404.325 C237.625,1404.325 223.554,1407.166 210.812,1412.85 C198.071,1418.534 187.071,1426.829 177.812,1437.738 C168.554,1448.646 161.404,1462.029 156.363,1477.887 C151.321,1493.745 148.8,1511.85 148.8,1532.2 C148.8,1552.734 151.596,1570.975 157.187,1586.925 C162.779,1602.875 170.387,1616.304 180.012,1627.212 C189.637,1638.12 200.867,1646.416 213.7,1652.1 C226.533,1657.784 240.283,1660.625 254.95,1660.625 C263.384,1660.625 271.083,1660.212 278.05,1659.387 C285.017,1658.563 291.525,1657.188 297.575,1655.262 C303.625,1653.337 309.308,1650.771 314.625,1647.563 C319.942,1644.354 325.35,1640.275 330.85,1635.325 C333.05,1633.492 335.433,1631.979 338,1630.787 C340.567,1629.596 343.225,1629 345.975,1629 L345.975,1629 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var l={variant:"Line",glyphName:"bullet-list-circle-outline",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M559.706,1575.941 L1919.706,1575.941 L1919.706,1455.941 L559.706,1455.941 L559.706,1575.941 Z M559.706,454.941 L1919.706,454.941 L1919.706,334.941 L559.706,334.941 L559.706,454.941 Z M559.706,1015.941 L1919.706,1015.941 L1919.706,895.941 L559.706,895.941 L559.706,1015.941 Z M169.5,565 C75.888,565 0,489.112 0,395.5 C0,301.888 75.888,226 169.5,226 C263.112,226 339,301.888 339,395.5 C339,489.112 263.112,565 169.5,565 L169.5,565 Z M169.5,481 C216.72,481 255,442.72 255,395.5 C255,348.28 216.72,310 169.5,310 C122.28,310 84,348.28 84,395.5 C84,442.72 122.28,481 169.5,481 L169.5,481 Z M169.5,1689 C75.888,1689 0,1613.112 0,1519.5 C0,1425.888 75.888,1350 169.5,1350 C263.112,1350 339,1425.888 339,1519.5 C339,1613.112 263.112,1689 169.5,1689 L169.5,1689 Z M169.5,1605 C216.72,1605 255,1566.721 255,1519.5 C255,1472.279 216.72,1434 169.5,1434 C122.28,1434 84,1472.279 84,1519.5 C84,1566.721 122.28,1605 169.5,1605 L169.5,1605 Z M169.5,1127 C75.888,1127 0,1051.112 0,957.5 C0,863.888 75.888,788 169.5,788 C263.112,788 339,863.888 339,957.5 C339,1051.112 263.112,1127 169.5,1127 L169.5,1127 Z M169.5,1043 C216.72,1043 255,1004.721 255,957.5 C255,910.28 216.72,872 169.5,872 C122.28,872 84,910.28 84,957.5 C84,1004.721 122.28,1043 169.5,1043 L169.5,1043 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var f={variant:"Line",glyphName:"bullet-list-roman",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M368,585.675 L461.5,585.675 L461.5,185 L368,185 L368,585.675 Z M639,484.675 L1919,484.675 L1919,364.675 L639,364.675 L639,484.675 Z M368.275,1184.675 L461.775,1184.675 L461.775,784 L368.275,784 L368.275,1184.675 Z M183.225,1184.675 L276.725,1184.675 L276.725,784 L183.225,784 L183.225,1184.675 Z M639,1045.675 L1919,1045.675 L1919,925.674 L639,925.674 L639,1045.675 Z M368.225,1734.675 L461.725,1734.675 L461.725,1333.999 L368.225,1333.999 L368.225,1734.675 Z M184.225,1734.675 L277.725,1734.675 L277.725,1333.999 L184.225,1333.999 L184.225,1734.675 Z M1,1734.675 L94.5,1734.675 L94.5,1333.999 L1,1333.999 L1,1734.675 Z M639,1605.675 L1919,1605.675 L1919,1485.675 L639,1485.675 L639,1605.675 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var v={variant:"Line",glyphName:"bullet-list-square",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0,560 L320,560 L320,240 L0,240 L0,560 Z M560,459.941 L1920,459.941 L1920,339.941 L560,339.941 L560,459.941 Z M0,1120 L320,1120 L320,800 L0,800 L0,1120 Z M560,1020.942 L1920,1020.942 L1920,900.941 L560,900.941 L560,1020.942 Z M0,1680 L320,1680 L320,1360 L0,1360 L0,1680 Z M560,1580.941 L1920,1580.941 L1920,1460.941 L560,1460.941 L560,1580.941 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var d={variant:"Line",glyphName:"bullet-list",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M169.411765,1355.41176 C262.814118,1355.41176 338.823529,1431.42118 338.823529,1524.82353 C338.823529,1618.22588 262.814118,1694.23529 169.411765,1694.23529 C76.0094118,1694.23529 0,1618.22588 0,1524.82353 C0,1431.42118 76.0094118,1355.41176 169.411765,1355.41176 Z M1920,1468.35294 L1920,1581.29412 L564.705882,1581.29412 L564.705882,1468.35294 L1920,1468.35294 Z M169.411765,790.705882 C262.814118,790.705882 338.823529,866.715294 338.823529,960.117647 C338.823529,1053.52 262.814118,1129.52941 169.411765,1129.52941 C76.0094118,1129.52941 0,1053.52 0,960.117647 C0,866.715294 76.0094118,790.705882 169.411765,790.705882 Z M1920,903.647059 L1920,1016.58824 L564.705882,1016.58824 L564.705882,903.647059 L1920,903.647059 Z M169.411765,226 C262.814118,226 338.823529,302.009412 338.823529,395.411765 C338.823529,488.814118 262.814118,564.823529 169.411765,564.823529 C76.0094118,564.823529 0,488.814118 0,395.411765 C0,302.009412 76.0094118,226 169.411765,226 Z M1920,338.941176 L1920,451.882353 L564.705882,451.882353 L564.705882,338.941176 L1920,338.941176 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var m={variant:"Line",glyphName:"clear-text-formatting",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <g stroke="none" stroke-width="1" fill-rule="evenodd">\n        <path d="M1235.1411,1439.9223 L1044.8241,1439.9223 L864.8271,1259.9243 L1499.9761,624.7753 L1775.1321,899.9303 L1235.1411,1439.9223 Z M1902.4501,857.4503 L1542.4561,497.4563 C1518.9351,474.0573 1481.0161,474.0573 1457.6171,497.4563 L737.6281,1217.4453 C714.1091,1240.9653 714.1091,1278.8843 737.6281,1302.4033 L875.1461,1439.9223 L0.0001,1439.9223 L0.0001,1559.9203 L1259.9801,1559.9203 C1275.9401,1559.9203 1291.1801,1553.5603 1302.4601,1542.4003 L1902.4501,942.4093 C1925.8491,918.8903 1925.8491,880.9703 1902.4501,857.4503 L1902.4501,857.4503 Z" transform="translate(0 180)"/>\n        <path d="M120.0339 0.004L120.0339 120.003 615.0269 120.003 243.3919 1180.066 356.5499 1219.786 742.1049 120.003 1200.0169 120.003 1200.0169 0.004z" transform="translate(0 180)"/>\n    </g>\n</svg>\n',deprecated:false}
var g={variant:"Line",glyphName:"document",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1468.2354,1807.0586 L112.9414,1807.0586 L112.9414,112.9406 L1016.4714,112.9406 L1016.4714,564.7056 L1468.2354,564.7056 L1468.2354,1807.0586 Z M1129.4124,136.3196 L1444.8554,451.7656 L1129.4124,451.7656 L1129.4124,136.3196 Z M1531.5944,378.8056 L1202.3724,49.5806 C1170.2964,17.6196 1127.7174,-0.0004 1082.5414,-0.0004 L0.0004,-0.0004 L0.0004,1919.9996 L1581.1754,1919.9996 L1581.1754,498.6346 C1581.1754,453.4586 1563.5574,410.8796 1531.5944,378.8056 L1531.5944,378.8056 Z M338.823,1242.353 L1129.412,1242.353 L1129.412,1129.413 L338.823,1129.413 L338.823,1242.353 Z M338.823,790.588 L1242.353,790.588 L1242.353,677.647 L338.823,677.647 L338.823,790.588 Z M338.823,1468.235 L790.588,1468.235 L790.588,1355.294 L338.823,1355.294 L338.823,1468.235 Z M338.823,1016.471 L1016.471,1016.471 L1016.471,903.53 L338.823,903.53 L338.823,1016.471 Z M338.823,564.706 L790.588,564.706 L790.588,451.765 L338.823,451.765 L338.823,564.706 Z" transform="translate(238)" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var h={variant:"Line",glyphName:"equation",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1920,260 L1920,372.941176 L1048.43294,372.941176 L558.494118,1660.69647 L451.990588,1658.32471 L244.743529,1031.04941 L0,1031.04941 L0,918.108235 L285.515294,918.108235 L339.162353,956.847059 L509.364706,1471.97176 L956.611765,296.367059 L1009.46824,260 L1920,260 Z M1786.01788,863.218824 L1865.86729,943.181176 L1585.66024,1223.16235 L1865.86729,1503.36941 L1786.01788,1583.10588 L1505.81082,1303.01176 L1225.82965,1583.10588 L1145.98024,1503.36941 L1426.07435,1223.16235 L1145.98024,943.181176 L1225.82965,863.218824 L1505.81082,1143.31294 L1786.01788,863.218824 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var p={variant:"Line",glyphName:"full-screen",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1158.513 -0.0123680261L1158.513 123.667893 1709.01384 123.667893 123.680261 1708.87779 123.680261 1158.50063 0 1158.50063 0 1920 761.499365 1920 761.499365 1796.31974 211.122205 1796.31974 1796.33211 211.109837 1796.33211 761.610678 1920.01237 761.610678 1920.01237 -0.0123680261z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var b={variant:"Line",glyphName:"image",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1920,113 L1920,1807.11765 L0,1807.11765 L0,113 L1920,113 Z M1807.05882,225.941176 L112.941176,225.941176 L112.941176,1694.28941 L1807.05882,1694.28941 L1807.05882,225.941176 Z M935.943529,1058.76941 C1118.79529,800.36 1268.44235,771.898824 1362.63529,793.922353 C1523.35059,831.305882 1634.71059,1036.18118 1693.44,1402.90118 L1693.44,1402.90118 L1703.94353,1468.29412 L207.924706,1468.29412 L228.028235,1396.57647 C313.411765,1090.50588 400.941176,939.503529 511.397647,906.863529 C613.948235,876.708235 696.734118,950.684706 770.258824,1015.96471 C813.854118,1054.47765 861.063529,1097.05647 892.8,1094.79765 C908.724706,1092.99059 924.988235,1074.24235 935.943529,1058.76941 Z M1337.11059,903.927059 C1254.09882,884.614118 1141.04471,964.689412 1028.21647,1123.93647 C992.978824,1173.74353 951.868235,1201.75294 905.901176,1207.06118 C829.674918,1216.08518 767.719319,1164.23433 707.088995,1110.79476 L703.220649,1107.38213 C700.642786,1105.10638 698.066824,1102.83002 695.491765,1100.55765 C641.28,1052.44471 584.809412,1003.54118 543.472941,1015.17412 C509.025882,1025.33882 441.148235,1084.29412 357.684706,1355.35294 L357.684706,1355.35294 L1570.44706,1355.35294 C1519.96235,1090.16706 1436.04706,926.967059 1337.11059,903.927059 Z M677.647059,338.882353 C802.221176,338.882353 903.529412,440.190588 903.529412,564.764706 C903.529412,689.338824 802.221176,790.647059 677.647059,790.647059 C553.072941,790.647059 451.764706,689.338824 451.764706,564.764706 C451.764706,440.190588 553.072941,338.882353 677.647059,338.882353 Z M677.647059,451.823529 C615.303529,451.823529 564.705882,502.534118 564.705882,564.764706 C564.705882,626.995294 615.303529,677.705882 677.647059,677.705882 C739.990588,677.705882 790.588235,626.995294 790.588235,564.764706 C790.588235,502.534118 739.990588,451.823529 677.647059,451.823529 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var y={variant:"Line",glyphName:"indent",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1920,1482.42 L1920,1602.42 L0,1602.42 L0,1482.42 L1920,1482.42 Z M1920,1122.42 L1920,1242.42 L0,1242.42 L0,1122.42 L1920,1122.42 Z M1920,762.42 L1920,882.42 L840,882.42 L840,762.42 L1920,762.42 Z M462.456,300.048 L744.936,582.528 L462.456,864.888 L377.616,780.048 L515.136,642.408 L-0.024,642.408 L-0.024,522.408 L515.136,522.408 L377.616,384.768 L462.456,300.048 Z M1920,402.42 L1920,522.42 L840,522.42 L840,402.42 L1920,402.42 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var w={variant:"Line",glyphName:"italic",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M738.076923 0L738.076923 147.692308 1086.63077 147.692308 680.476923 1772.30769 295 1772.30769 295 1920 1181.30154 1920 1181.30154 1772.30769 832.747692 1772.30769 1238.75385 147.692308 1624.23077 147.692308 1624.23077 0z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var x={variant:"Line",glyphName:"link",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1866.00282,351.563294 L1565.12753,50.5750588 C1495.66871,-17.0767059 1384.19576,-16.8508235 1316.20518,51.1397647 L906.228706,461.116235 C837.899294,529.558588 837.899294,640.805647 906.341647,709.248 L937.965176,740.871529 L1017.70165,660.909176 L986.078118,629.398588 C961.795765,605.003294 961.795765,565.360941 986.078118,540.965647 L1396.05459,130.989176 C1420.56282,106.593882 1460.88282,106.819765 1485.72988,130.989176 L1785.58871,430.960941 C1810.32282,456.146824 1810.43576,496.579765 1786.15341,520.975059 L1376.17694,930.951529 C1351.66871,955.233882 1312.02635,955.233882 1287.63106,930.951529 L1176.83576,820.043294 L1336.30871,660.683294 L1256.45929,580.833882 L820.845176,1016.33506 L711.066353,906.556235 C678.200471,872.899765 634.266353,854.264471 587.395765,853.925647 C543.800471,855.619765 495.122824,872.222118 461.240471,906.104471 L51.3769412,1316.08094 C-17.0654118,1384.52329 -17.0654118,1495.77035 51.3769412,1564.21271 L352.929882,1865.76565 C387.038118,1899.87388 431.988706,1917.04094 476.939294,1917.04094 C521.889882,1917.04094 566.840471,1899.87388 601.061647,1865.76565 L1011.03812,1455.78918 C1044.80753,1421.90682 1063.44282,1377.18212 1063.104,1329.74682 C1062.87812,1282.76329 1044.12988,1238.82918 1011.03812,1206.528 L980.544,1176.03388 L900.694588,1255.88329 L931.640471,1286.82918 C943.499294,1298.46212 950.049882,1313.93506 950.162824,1330.42447 C950.275765,1347.36565 943.499294,1363.51624 931.188706,1375.93976 L521.212235,1785.91624 C497.720471,1809.408 456.271059,1809.408 432.779294,1785.91624 L131.226353,1484.36329 C119.480471,1472.61741 113.042824,1456.91859 113.042824,1440.09035 C113.042824,1423.37506 119.480471,1407.67624 131.226353,1395.93035 L541.202824,985.953882 C553.400471,973.643294 569.438118,966.866824 586.266353,966.866824 L586.718118,966.866824 C603.207529,966.979765 618.680471,973.530353 630.652235,985.953882 L740.995765,1096.18447 L578.812235,1258.48094 L658.661647,1338.33035 L1096.98635,899.892706 L1207.78165,1010.80094 C1242.11576,1045.02212 1286.95341,1062.07624 1331.904,1062.07624 C1376.85459,1062.07624 1421.80518,1045.02212 1456.02635,1010.80094 L1866.00282,600.824471 C1933.88047,532.833882 1933.99341,421.360941 1866.00282,351.563294" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var C={variant:"Line",glyphName:"lti",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1581.23529,734.117647 C1581.23529,952.094118 1403.91765,1129.41176 1185.94118,1129.41176 L960.058824,1129.41176 C742.082353,1129.41176 564.764706,952.094118 564.764706,734.117647 L564.764706,564.705882 L1581.23529,564.705882 L1581.23529,734.117647 Z M1807.11765,451.764706 L1694.17647,451.764706 L1468.29412,451.764706 L1468.29412,0 L1355.35294,0 L1355.35294,451.764706 L790.647059,451.764706 L790.647059,0 L677.705882,0 L677.705882,451.764706 L451.823529,451.764706 L338.882353,451.764706 L338.882353,564.705882 L451.823529,564.705882 L451.823529,734.117647 C451.823529,1014.32471 679.851765,1242.35294 960.058824,1242.35294 L1016.52941,1242.35294 L1016.52941,1637.64706 C1016.52941,1731.04941 940.52,1807.05882 847.117647,1807.05882 C753.715294,1807.05882 677.705882,1731.04941 677.705882,1637.64706 C677.705882,1482.01412 550.985882,1355.29412 395.352941,1355.29412 C239.72,1355.29412 113,1482.01412 113,1637.64706 L113,1920 L225.941176,1920 L225.941176,1637.64706 C225.941176,1544.24471 301.950588,1468.23529 395.352941,1468.23529 C488.755294,1468.23529 564.764706,1544.24471 564.764706,1637.64706 C564.764706,1793.28 691.484706,1920 847.117647,1920 C1002.86353,1920 1129.47059,1793.28 1129.47059,1637.64706 L1129.47059,1242.35294 L1185.94118,1242.35294 C1466.14824,1242.35294 1694.17647,1014.32471 1694.17647,734.117647 L1694.17647,564.705882 L1807.11765,564.705882 L1807.11765,451.764706 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var S={variant:"Line",glyphName:"numbered-list",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M169.411765,1355.29412 C262.814118,1355.29412 338.823529,1431.30353 338.823529,1524.70588 C338.823529,1568.30118 321.882353,1607.60471 294.663529,1637.64706 C321.882353,1667.68941 338.823529,1706.99294 338.823529,1750.58824 C338.823529,1843.99059 262.814118,1920 169.411765,1920 L169.411765,1920 L0,1920 L0,1807.05882 L169.411765,1807.05882 C200.470588,1807.05882 225.882353,1781.64706 225.882353,1750.58824 C225.882353,1719.52941 200.470588,1694.11765 169.411765,1694.11765 L169.411765,1694.11765 L0,1694.11765 L0,1581.17647 L169.411765,1581.17647 C200.470588,1581.17647 225.882353,1555.76471 225.882353,1524.70588 C225.882353,1493.64706 200.470588,1468.23529 169.411765,1468.23529 L169.411765,1468.23529 L0,1468.23529 L0,1355.29412 Z M1920,1468.23529 L1920,1581.17647 L564.705882,1581.17647 L564.705882,1468.23529 L1920,1468.23529 Z M188.058353,677.669647 C249.837176,677.669647 306.872471,716.069647 333.413647,775.363765 C362.213647,839.401412 348.773647,911.909647 297.498353,969.396706 C281.212235,987.659294 263.3904,1007.27774 245.311228,1026.97851 L242.209659,1030.35635 C240.140584,1032.60847 238.069102,1034.86071 235.997121,1037.11117 L232.889014,1040.4853 L232.889014,1040.4853 L229.781591,1043.85534 C201.304376,1074.72424 173.093647,1104.89788 150.110118,1129.43435 L338.834824,1129.43435 L338.834824,1242.37553 L56.4818824,1242.37553 C25.1971765,1242.37553 0.0112941176,1217.07671 0.0112941176,1185.90494 L0.0112941176,1146.37553 C0.0112941176,1131.91906 5.54541176,1117.91435 15.5971765,1107.41082 C15.7101176,1107.29788 133.056,983.853176 213.244235,894.177882 C234.590118,870.234353 240.688941,844.370824 230.411294,821.556706 C222.279529,803.260235 204.773647,790.610824 188.058353,790.610824 C147.512471,790.610824 105.159529,839.062588 93.6395294,856.116706 L0.0112941176,792.982588 C7.80423529,781.236706 80.4254118,677.669647 188.058353,677.669647 Z M1920,903.529412 L1920,1016.47059 L564.705882,1016.47059 L564.705882,903.529412 L1920,903.529412 Z M169.411765,2.5243549e-29 C200.583529,2.5243549e-29 225.882353,25.2988235 225.882353,56.4705882 L225.882353,56.4705882 L225.882353,564.705882 L112.941176,564.705882 L112.941176,112.941176 L0,112.941176 L0,2.5243549e-29 Z M1920,338.823529 L1920,451.764706 L564.705882,451.764706 L564.705882,338.823529 L1920,338.823529 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var k={variant:"Line",glyphName:"outdent",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1919.88508,1468.30298 L1919.88508,1583.22143 L81.3048032,1583.22143 L81.3048032,1468.30298 L1919.88508,1468.30298 Z M1919.88508,1123.54763 L1919.88508,1238.46608 L81.3048032,1238.46608 L81.3048032,1123.54763 L1919.88508,1123.54763 Z M1920,778.792279 L1920,893.710729 L885.733952,893.710729 L885.733952,778.792279 L1920,778.792279 Z M270.518031,336 L351.765375,417.132426 L220.068831,548.943887 L713.413736,548.943887 L713.413736,663.862337 L220.068831,663.862337 L351.765375,795.673799 L270.518031,876.921143 L1.13686838e-13,606.518031 L270.518031,336 Z M1920,434.03693 L1920,548.955379 L885.733952,548.955379 L885.733952,434.03693 L1920,434.03693 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var O={variant:"Line",glyphName:"remove-link",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1406.94167,1536.21945 L1406.94167,1920 L1279.01482,1920 L1279.01482,1536.21945 L1406.94167,1536.21945 Z M461.216844,901.702271 C496.268801,866.522388 539.252223,841.832505 591.958085,847.589214 C640.698215,847.845067 686.240174,867.289949 720.396643,902.213979 L720.396643,902.213979 L628.801018,991.634847 C618.822724,981.144845 609.100283,975.516064 590.93467,975.516064 C576.351009,975.516064 562.406983,981.400699 551.789054,992.146555 L551.789054,992.146555 L144.597889,1399.20979 C123.617886,1420.31772 123.617886,1454.60212 144.725816,1475.71005 L144.725816,1475.71005 L444.074646,1775.05888 C464.415015,1795.27132 500.234533,1795.27132 520.574903,1775.05888 L520.574903,1775.05888 L927.63814,1368.12357 C938.383996,1357.37771 944.268631,1343.17783 944.140704,1328.46624 C944.140704,1314.26636 938.383996,1300.96197 928.149848,1290.85575 L928.149848,1290.85575 L1017.44279,1199.38805 C1052.36682,1233.41659 1071.8117,1278.95855 1072.0701,1327.69868 C1072.32341,1376.95052 1053.26231,1423.38797 1018.08242,1458.56785 L1018.08242,1458.56785 L611.019186,1865.50316 C576.73479,1899.91548 531.064904,1918.72073 482.324774,1918.72073 C433.584644,1918.72073 387.786832,1899.91548 353.502436,1865.50316 L353.502436,1865.50316 L54.1536063,1566.15433 C-16.7178688,1495.28286 -16.7178688,1379.63698 54.1536063,1308.76551 L54.1536063,1308.76551 Z M1644.04129,1554.96073 L1899.895,1810.81443 L1809.45071,1901.25872 L1553.59701,1645.40502 L1644.04129,1554.96073 Z M1918.64907,1280.36575 L1918.64907,1408.2926 L1534.86852,1408.2926 L1534.86852,1280.36575 L1918.64907,1280.36575 Z M1309.87078,53.0739244 C1380.35847,-17.541697 1496.00434,-17.6696239 1568.02716,52.562217 L1568.02716,52.562217 L1866.73636,351.271412 C1937.35198,423.67801 1937.09612,539.451809 1866.73636,609.811577 L1866.73636,609.811577 L1459.67312,1016.74689 C1425.51665,1051.15921 1379.71884,1069.96446 1330.97871,1069.96446 C1282.23858,1069.96446 1236.56869,1051.15921 1202.2843,1016.74689 L1202.2843,1016.74689 L1292.72858,926.302605 C1313.06895,946.515047 1349.01639,946.515047 1369.22884,926.302605 L1369.22884,926.302605 L1776.29207,519.367294 C1797.4,498.259363 1797.14415,463.207407 1775.78037,441.076061 L1775.78037,441.076061 L1477.96666,143.518208 C1456.47495,122.538204 1421.42299,122.538204 1400.31506,143.518208 L1400.31506,143.518208 L993.379749,550.453518 C983.273528,560.55974 977.644746,574.119986 977.644746,588.57572 C977.644746,603.287308 983.273528,616.847554 993.379749,626.953775 L993.379749,626.953775 L902.935466,717.398058 C831.936064,646.526583 831.936064,530.88071 902.935466,460.009235 L902.935466,460.009235 Z M372.525159,512.804646 L372.525159,640.731497 L10.748026,640.731497 L10.748026,512.804646 L372.525159,512.804646 Z M639.380569,12.0989542 L639.380569,373.876087 L511.453718,373.876087 L511.453718,12.0989542 L639.380569,12.0989542 Z M108.919091,19.8385286 L364.772792,275.692229 L274.328508,366.136512 L18.4748078,110.282812 L108.919091,19.8385286 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var T={variant:"Line",glyphName:"strikethrough",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1388.388,1178.604 C1423.428,1260.924 1426.308,1356.204 1397.028,1461.924 C1336.668,1677.924 1197.708,1756.644 1091.628,1784.604 C1049.508,1795.764 1005.948,1800.804 962.028,1800.804 C770.508,1800.804 571.788,1704.564 459.348,1592.844 L459.348,1592.844 L408.468,1538.244 L496.308,1456.524 L545.508,1509.324 C660.228,1623.324 885.228,1715.124 1060.908,1668.564 C1171.068,1639.524 1245.348,1559.124 1281.468,1429.644 C1303.548,1349.844 1302.468,1283.124 1277.988,1225.764 L1277.988,1225.764 Z M758.472,137.928 C985.152,76.248 1257.192,183.168 1398.312,314.928 L1398.312,314.928 L1316.472,402.648 C1199.832,293.928 965.592,205.728 790.032,253.728 C683.952,282.528 612.432,356.808 577.512,474.408 C503.112,724.728 713.232,809.568 995.592,894.408 C1070.232,916.848 1134.792,936.888 1181.952,962.208 L1181.952,962.208 L1919.952,962.208 L1919.952,1082.208 L-0.048,1082.208 L-0.048,962.208 L814.872,962.208 C601.632,885.288 370.272,750.288 462.432,440.088 C509.352,282.408 611.712,177.888 758.472,137.928 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var E={variant:"Line",glyphName:"text-centered",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1664,1664 L1664,1792 L256,1792 L256,1664 L1664,1664 Z M1920,1280 L1920,1408 L0,1408 L0,1280 L1920,1280 Z M1792.128,896 L1792.128,1024 L128,1024 L128,896 L1792.128,896 Z M1920,512 L1920,640 L0,640 L0,512 L1920,512 Z M1664,128 L1664,256 L256,256 L256,128 L1664,128 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var _={variant:"Line",glyphName:"text-direction-ltr",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1384.15184,1232.85621 L1654.44497,1503.07551 L288.974957,1503.07551 L288.974957,1588.96848 L1654.44497,1588.96848 L1384.15184,1859.27367 L1444.89477,1920 L1818.97496,1546.10789 L1444.89477,1172.21577 L1384.15184,1232.85621 Z M650.966702,85.8929738 L813.864276,85.8929738 L813.864276,629.509605 L650.966702,629.509605 C501.04251,629.509605 379.041163,507.627475 379.041163,357.744236 C379.041163,207.775104 501.04251,85.8929738 650.966702,85.8929738 M650.966702,715.402579 L813.864276,715.402579 L813.864276,1256.18474 L899.780718,1256.18474 L899.780718,85.8929738 L1125.65504,85.8929738 L1125.65504,1256.18474 L1211.57149,1256.18474 L1211.57149,85.8929738 L1377.47614,85.8929738 L1377.47614,0 L650.966702,0 C453.702551,0 293.124721,160.448075 293.124721,357.744236 C293.124721,554.954504 453.702551,715.402579 650.966702,715.402579" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var L={variant:"Line",glyphName:"text-direction-rtl",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M188,1544.88673 L561.6325,1918.48769 L622.4025,1857.80864 L352.285,1587.71395 L1725.0175,1587.71395 L1725.0175,1501.97369 L352.285,1501.97369 L622.4025,1231.87899 L561.6325,1171.28577 L188,1544.88673 Z M755.598667,85.826087 L918.338667,85.826087 L918.338667,629.019391 L755.598667,629.019391 C605.8195,629.019391 483.936167,507.232174 483.936167,357.465652 C483.936167,207.613304 605.8195,85.826087 755.598667,85.826087 M755.598667,714.845478 L918.338667,714.845478 L918.338667,1255.20652 L1004.172,1255.20652 L1004.172,85.826087 L1229.82783,85.826087 L1229.82783,1255.20652 L1315.66117,1255.20652 L1315.66117,85.826087 L1481.40533,85.826087 L1481.40533,0 L755.598667,0 C558.525333,0 398.102833,160.32313 398.102833,357.465652 C398.102833,554.522348 558.525333,714.845478 755.598667,714.845478" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var D={variant:"Line",glyphName:"text-end",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1920,1663.89761 L1920,1791.88907 L255.982934,1791.88907 L255.982934,1663.89761 L1920,1663.89761 Z M1919.87201,1279.92321 L1919.87201,1407.91467 L0,1407.91467 L0,1279.92321 L1919.87201,1279.92321 Z M1920,895.948803 L1920,1023.94027 L255.982934,1023.94027 L255.982934,895.948803 L1920,895.948803 Z M1919.87201,511.974402 L1919.87201,639.965869 L0,639.965869 L0,511.974402 L1919.87201,511.974402 Z M1920,128 L1920,255.991467 L255.982934,255.991467 L255.982934,128 L1920,128 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var A={variant:"Line",glyphName:"text-start",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1664,1664 L1664,1792 L0,1792 L0,1664 L1664,1664 Z M1920,1280 L1920,1408 L0,1408 L0,1280 L1920,1280 Z M1664,896 L1664,1024 L0,1024 L0,896 L1664,896 Z M1920,512 L1920,640 L0,640 L0,512 L1920,512 Z M1664,128 L1664,256 L0,256 L0,128 L1664,128 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var M={variant:"Line",glyphName:"text-subscript",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1543.86059,983 C1642.5128,983 1733.91319,1043.3435 1771.13012,1133.243 C1807.93656,1222.18467 1783.71819,1321.6625 1706.27415,1399.11017 C1615.96838,1489.42017 1493.23463,1600.11833 1417.84299,1667.16667 L1417.84299,1667.16667 L1783.30771,1667.16667 L1783.30771,1804 L1304.41346,1804 C1266.64923,1804 1236,1773.34933 1236,1735.58333 L1236,1735.58333 L1236,1675.65033 C1236,1655.94633 1244.6201,1637.06333 1259.53423,1624.06417 C1261.72346,1622.1485 1475.99443,1435.91833 1609.53751,1302.369 C1648.12271,1263.782 1660.3003,1223.41617 1644.70204,1185.51333 C1628.69328,1146.7895 1587.23473,1119.83333 1543.86059,1119.83333 C1443.70328,1119.83333 1359.9652,1228.34217 1359.00741,1229.57367 L1359.00741,1229.57367 L1249.68269,1147.2 C1254.74529,1140.49517 1374.87933,983 1543.86059,983 Z M1373,162 L1373,298.8 L825.888889,298.8 L825.888889,1530 L689.111111,1530 L689.111111,298.8 L142,298.8 L142,162 L1373,162 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var N={variant:"Line",glyphName:"text-superscript",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1231.31354,481.451526 L1231.31354,618.264141 L684.063075,618.264141 L684.063075,1849.57768 L547.25046,1849.57768 L547.25046,618.264141 L0,618.264141 L0,481.451526 L1231.31354,481.451526 Z M1675.88613,71 C1774.52802,71 1865.91885,131.334363 1903.13188,221.220251 C1939.93448,310.148451 1915.71864,409.611222 1838.2827,487.047162 C1747.98638,577.343488 1625.26546,688.024894 1549.88171,755.063075 L1549.88171,755.063075 L1915.3082,755.063075 L1915.3082,891.87569 L1436.46405,891.87569 C1398.70377,891.87569 1368.05774,861.229665 1368.05774,823.469383 L1368.05774,823.469383 L1368.05774,763.545457 C1368.05774,743.844441 1376.67694,724.9643 1391.58951,711.967101 C1393.77852,710.051725 1608.02707,523.849756 1741.55618,390.320644 C1780.13734,351.739486 1792.31366,311.379765 1776.71703,273.48267 C1760.70995,234.7647 1719.25573,207.812615 1675.88613,207.812615 C1575.73929,207.812615 1492.00997,316.305019 1491.05229,317.536332 L1491.05229,317.536332 L1381.73901,235.175138 C1386.80107,228.47132 1506.92255,71 1675.88613,71 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
var R={variant:"Line",glyphName:"underline",src:'<svg viewBox="0 0 1920 1920" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1698.92308,1772.30769 L1698.92308,1920 L222,1920 L222,1772.30769 L1698.92308,1772.30769 Z M369.692308,0 L369.692308,812.307692 C369.692308,1097.35385 601.569231,1329.23077 886.615385,1329.23077 L886.615385,1329.23077 L1034.30769,1329.23077 C1319.35385,1329.23077 1551.23077,1097.35385 1551.23077,812.307692 L1551.23077,812.307692 L1551.23077,0 L1698.92308,0 L1698.92308,812.307692 C1698.92308,1178.73231 1400.73231,1476.92308 1034.30769,1476.92308 L1034.30769,1476.92308 L886.615385,1476.92308 C520.190769,1476.92308 222,1178.73231 222,812.307692 L222,812.307692 L222,0 L369.692308,0 Z" stroke="none" stroke-width="1" fill-rule="evenodd"/>\n</svg>\n',deprecated:false}
tinymce.PluginManager.add("instructure-ui-icons",(function(e){const t={"align-center":E,"align-left":A,"align-right":D,"list-bull-default":d,"list-num-default":S,bold:c,image:b,indent:y,italic:w,underline:R,link:x,video:u,document:g,"list-bull-circle":l,"list-bull-square":v,"list-num-upper-alpha":s,"list-num-upper-roman":f,"ordered-list":S,lti:C,outdent:k,"remove-formatting":m,"strike-through":T,subscript:M,superscript:N,"text-color":{src:'<svg viewBox="7 7 1773 1920">\n      <g fill="none" fill-rule="evenodd">\n        <g fill="#2B3B46" fill-rule="nonzero">\n          <path id="tox-icon-text-color__color" d="M0 1920v-443.07692h1772.30769V1920z"/>\n          <path d="M736.526769.05907692h299.224611L1545.14215 1227.08677l-136.46769 56.56615-164.97231-397.587689H528.576L363.603692 1283.65292 227.136 1227.08677 736.526769.05907692zM835.332923 147.751385L589.868308 738.372923h592.541542L937.09292 147.751385H835.332923z" id="A"/>\n        </g>\n      </g>\n    </svg>'},"highlight-bg-color":{src:'<svg viewBox="0 0 1920 1920" version="1.1">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <path id="tox-icon-highlight-bg-color__color" fill="#2B3B46" d="M74 1918.14125 1841 1918.14125 1841 1469.14125 74 1469.14125z"/>\n          <path d="M1543.03014,312.225305 L1056.25966,861 L795,619.351719 L1335.45236,123.521776 C1343.65702,115.67377 1355.72958,114.736695 1363.23098,121.647625 L1541.15479,286.221467 C1548.53898,293.015262 1548.65619,305.19724 1543.03014,312.225305 L1543.03014,312.225305 Z M898.711011,994.448142 C836.706813,972.459128 767.201162,989.769628 721.489183,1038.89402 L701.094608,1061 L616,982.517932 L636.628996,960.294992 C681.989345,911.287561 694.179206,840.758966 667.220859,780.757027 C659.250565,762.627787 664.056183,740.638772 678.355828,726.95412 L708.830481,699 L979,948.481745 L952.393284,978.190307 C939.148531,994.565105 917.699064,1000.76414 898.711011,994.448142 L898.711011,994.448142 Z M598.157143,1171.267 L416,1171.618 L532.908571,1065.382 L621,1146.931 L598.157143,1171.267 Z M1620.96383,200.201811 L1443.1176,35.7209178 C1390.27923,-13.0965429 1307.56551,-11.4575874 1255.6644,38.0622828 L598.40662,641.080844 C547.442781,689.781237 532.212208,764.939054 560.330188,828.15591 C567.945475,845.013738 564.079252,866.203091 550.606054,880.602486 L492.261245,943.819342 L304.690887,1114.38778 C276.104274,1140.494 265.208557,1179.82894 276.221432,1216.8225 C287.234308,1253.93314 317.929769,1280.85884 365.37886,1287.6488 L649.136142,1288 L707.246634,1226.18796 L707.480951,1226.4221 L743.448533,1187.55544 L747.080439,1183.69219 L807.534096,1118.25104 C821.35877,1103.50044 842.09578,1098.23236 859.200884,1104.43698 C924.45803,1127.73356 998.267727,1106.77835 1041.49912,1053.98057 L1632.44533,387.979285 C1678.60569,331.43532 1673.56788,248.902203 1620.96383,200.201811 L1620.96383,200.201811 Z" id="Fill-1" fill="#2B3B46"/>\n        </g>\n      </svg>'},unlink:O,"unordered-list":d,ltr:_,rtl:L,"chevron-down":i,fullscreen:p,htmlview:{src:'<svg viewBox="0 0 24 24" font-size="16px" width="24" height="24" ">\n        <g role="presentation">\n          <text textAnchor="start" x="0" y="18px">\n            &lt;/&gt;\n          </text>\n        </g>\n      </svg>'},embed:{src:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.7647 5.21417C13.6694 5.21417 13.5773 5.23988 13.482 5.24631C12.8329 3.36281 11.0795 2 9 2C6.53506 2 4.52435 3.91029 4.28294 6.34234C4.09341 6.31127 3.90176 6.28556 3.70588 6.28556C1.66235 6.28556 0 7.96764 0 10.0354C0 12.1032 1.66235 13.7853 3.70588 13.7853L5 13.7853V12.7139L3.70588 12.7139C2.24682 12.7139 1.05882 11.5129 1.05882 10.0354C1.05882 8.55798 2.24682 7.35695 3.70588 7.35695C4.40259 7.35695 5.06012 7.62908 5.55882 8.12192L6.29894 7.35588C6.00565 7.0666 5.66788 6.84483 5.30894 6.66912C5.38941 4.67419 7.00835 3.07139 9 3.07139C11.0435 3.07139 12.7059 4.75347 12.7059 6.82126C12.7059 7.1491 12.6635 7.47266 12.582 7.78658L13.6059 8.06085C13.7107 7.65801 13.7647 7.24124 13.7647 6.82126C13.7647 6.64019 13.7308 6.4677 13.7118 6.29199C13.7298 6.29199 13.7467 6.28556 13.7647 6.28556C15.516 6.28556 16.9412 7.72765 16.9412 9.49973C16.9412 11.2718 15.516 12.7139 13.7647 12.7139L13 12.7139V13.7853L13.7647 13.7853C16.1005 13.7853 18 11.8632 18 9.49973C18 7.13624 16.1005 5.21417 13.7647 5.21417Z" fill="#2B3B46"/>\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.72039 10.6479L8.3603 11.1813L6.75882 13.1025L8.36029 15.0239L7.72038 15.5573L5.6748 13.1024L7.72039 10.6479ZM10.2802 10.6479L12.3258 13.1024L10.2802 15.5573L9.64031 15.0239L11.2418 13.1025L9.6403 11.1813L10.2802 10.6479Z" fill="#2D3B45"/>\n      </svg>'},buttons:{src:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">\n          <g fill="#2D3B45" clip-path="url(#clip0)">\n            <path fill-rule="evenodd" d="M.999993 11l.000001 6H6.99999v-6H.999993zm-.99999933 7H7.99999v-8H-.00000668l3.5e-7 8zM4 7c1.65685 0 3-1.34315 3-3S5.65685 1 4 1 1 2.34315 1 4s1.34315 3 3 3zm0 1c2.20914 0 4-1.79086 4-4S6.20914 0 4 0-3e-7 1.79086-3e-7 4 1.79086 8 4 8z" clip-rule="evenodd"/>\n            <path d="M12.5 10h1v8h-1v-8z"/>\n            <path d="M17 13.5v1H9v-1h8z"/>\n            <path fill-rule="evenodd" d="M13 0L8.66987 7.5h8.66023L13 0zm0 2l-2.5981 4.5h5.1962L13 2z" clip-rule="evenodd"/>\n          </g>\n          <defs>\n            <clipPath id="clip0">\n              <path fill="white" d="M0 0h18v18H0z"/>\n            </clipPath>\n          </defs>\n        </svg>\n      '}}
Object.keys(t).forEach(n=>{e.ui.registry.addIcon(n,t[n].src)})}))
var z=n("NFDp")
var B=function(e){const t=[{name:"alignleft",text:Object(z["a"])("Align left"),cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:Object(z["a"])("Align center"),cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:Object(z["a"])("Align right"),cmd:"JustifyRight",icon:"align-right"}]
const n=Object(z["a"])("Align")
e.ui.registry.addSplitButton("align",{tooltip:n,icon:"align-left",presets:"listpreview",columns:3,fetch:e=>{const n=t.map(e=>({type:"choiceitem",value:e.cmd,icon:e.icon,text:e.text}))
e(n)},onAction:()=>{const n=t.find(t=>e.formatter.match(t.name))
const r=n?n.cmd:"JustifyLeft"
e.execCommand(r)},onItemAction:(t,n)=>e.execCommand(n),select:n=>{const r=t.find(e=>e.cmd===n)
return e.formatter.match(r.name)},onSetup:r=>{const o=e.$(`.tox-split-button[aria-label="${n}"] .tox-icon`,document)
const a=e.ui.registry.getAll().icons
function i(){const n=t.find(t=>e.formatter.match(t.name))
const i=n?n.icon:"align-left"
const u=a[i]
r.setActive(!!n)
o.html(u)}i()
e.on("NodeChange",i)
return()=>e.off("NodeChange",i)}})}
function P(e){const t={tooltip:Object(z["a"])("Increase indent"),icon:"indent",onAction:()=>e.execCommand("indent")}
e.ui.registry.addButton("inst_indent",t)
e.ui.registry.addSplitButton("inst_outdent",{...t,presets:"listpreview",columns:3,fetch:e=>{e([{type:"choiceitem",icon:"outdent",text:Object(z["a"])("Decrease indent")}])},onItemAction:()=>e.execCommand("outdent"),onSetup:()=>{function n(n){e.$(`.tox-tbtn[aria-label="${t.tooltip}"]`,document)[n?"hide":"show"]()
e.$(`.tox-split-button[aria-label="${t.tooltip}"]`,document)[n?"show":"hide"]()}function r(){const t=e.queryCommandState("outdent")
n(t)}setTimeout(r)
e.on("NodeChange",r)
return()=>e.off("NodeChange",r)}})}const I=function(e,t,n){const r="UL"===t?"InsertUnorderedList":"InsertOrderedList"
e.execCommand(r,false,false===n?null:{"list-style-type":n})}
var H={applyListFormat:I}
const F=(e,t)=>e.$.contains(e.getBody(),t)
const V=e=>e&&/^(TH|TD)$/.test(e.nodeName)
const j=e=>t=>t&&/^(OL|UL|DL)$/.test(t.nodeName)&&F(e,t)
const U=e=>{const t=e.dom.getParent(e.selection.getNode(),"ol,ul")
if(t)return{listType:t.nodeName,listStyleType:e.dom.getStyle(t,"listStyleType")}}
var W={isTableCellNode:V,isListNode:j,getSelectedStyleType:U}
const q={"unordered-default":{listType:"UL",icon:"list-bull-default",text:Object(z["a"])("default bulleted unordered list")},circle:{listType:"UL",icon:"list-bull-circle",text:Object(z["a"])("circle unordered list")},square:{listType:"UL",icon:"list-bull-square",text:Object(z["a"])("square unordered list")},"ordered-default":{listType:"OL",icon:"list-num-default",text:Object(z["a"])("default numerical ordered list")},"upper-alpha":{listType:"OL",icon:"list-num-upper-alpha",text:Object(z["a"])("uppercase alphabetic ordered list")},"upper-roman":{listType:"OL",icon:"list-num-upper-roman",text:Object(z["a"])("uppercase Roman numeral ordered list")}}
function $(e,t){const n=W.getSelectedStyleType(t)
return n&&e.find(e=>{if("OL"===n.listType&&"ordered-default"===e&&!n.listStyleType)return true
if("UL"===n.listType&&"unordered-default"===e&&!n.listStyleType)return true
return e===n.listStyleType})}const G=(e,t)=>{const n=Array.prototype.findIndex.call(t.parents,W.isTableCellNode)
const r=-1!==n?t.parents.slice(0,n):t.parents
const o=tinymce.grep(r,W.isListNode(e))
return o.length>0&&("UL"===o[0].nodeName||"OL"===o[0].nodeName)}
const X=Object(z["a"])("Ordered and Unordered Lists")
function K(e){e.ui.registry.addSplitButton("bullist",{tooltip:X,icon:"unordered-list",presets:"listpreview",columns:3,fetch:e=>{const t=Object.keys(q).map(e=>{const{icon:t,text:n}=q[e]
return{type:"choiceitem",value:e,icon:t,text:n}})
e(t)},onAction:()=>{const t=q[$(Object.keys(q),e)]
const n=t&&"OL"==t.listType?"InsertOrderedList":"InsertUnorderedList"
e.execCommand(n)},onItemAction:(t,n)=>{const r=q[n]
const o="unordered-default"!==n&&"ordered-default"!==n&&n
H.applyListFormat(e,r.listType,o)},select:t=>!!$([t],e),onSetup:t=>{const n=e.$(`.tox-split-button[aria-label="${X}"] .tox-icon`,document)
const r=e.ui.registry.getAll().icons
const o=o=>{const a=G(e,o)
t.setActive(a)
let i=r["list-bull-default"]
if(a){var u
const t=$(Object.keys(q),e)
const n=r[null===(u=q[t])||void 0===u?void 0:u.icon]
void 0!==n&&(i=n)}n.html(i)}
o({parents:e.dom.getParents(e.selection.getNode(),"ol,ul")})
e.on("NodeChange",o)
return()=>e.off("NodeChange",o)}})}function Z(e){const t={superscript:Object(z["a"])("Superscript"),subscript:Object(z["a"])("Subscript")}
Object.keys(t).forEach(n=>{const r="superscript"===n?"subscript":"superscript"
e.ui.registry.addSplitButton("inst_"+n,{presets:"listpreview",columns:3,tooltip:t[n],icon:n,fetch:e=>{e([{type:"choiceitem",icon:r,text:t[r]}])},onAction:()=>e.execCommand("mceToggleFormat",false,n),onItemAction:()=>e.execCommand("mceToggleFormat",false,r),onSetup(o){const a=e.$(`.tox-split-button[aria-label="${t[n]}"]`,document)
function i(){const t=e.formatter.match(n)
const i=t||"superscript"===n&&!e.formatter.match(r)
a[i?"show":"hide"]()
o.setActive(t)}i()
e.on("NodeChange",i)
return()=>e.off("NodeChange",i)}})})}var Y=function(e){function t(){return document.dir}const n=[{name:"ltr",text:Object(z["a"])("Left-to-Right"),cmd:"mceDirectionLTR",icon:"ltr"},{name:"rtl",text:Object(z["a"])("Right-to-Left"),cmd:"mceDirectionRTL",icon:"rtl"}]
"rtl"===t()&&n.reverse()
e.ui.registry.addNestedMenuItem("directionality",{text:Object(z["a"])("Directionality"),getSubmenuItems:()=>[n[0].name,n[1].name]})
n.forEach(t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,onAction:()=>e.execCommand(t.cmd)})})}
tinymce.PluginManager.add("instructure_condensed_buttons",(function(e){[B,P,K,Z,Y].forEach(t=>t(e))}))
var J=n("dKDz")
var Q=n.n(J)
var ee=n("q1tI")
var te=n.n(ee)
var ne=n("i8i4")
var re=n.n(ne)
var oe=n("QV6e")
var ae=function(e,t,r){return Promise.all([n.e(30),n.e(4120)]).then(n.bind(null,"yEDi")).then(n=>{const r=oe["a"].activeEditor()
const o=n.default
let a=t.querySelector(".canvas-rce-equation-container")
if(!a){a=t.createElement("div")
a.className="canvas-rce-equation-container"
t.body.appendChild(a)}const i=()=>{re.a.unmountComponentAtNode(a)
e.focus(false)}
const u=e=>{r.insertMathEquation(e)}
re.a.render(te.a.createElement(o,{editor:e,label:Object(z["a"])("Equation Editor"),onModalDismiss:i,onModalClose:i,onEquationSubmit:u}),a)})}
function ie(e,t){const n=t.createEvent("CustomEvent")
n.initCustomEvent("tinyRCE/initEquation",true,true,{ed:e})
t.dispatchEvent(n)}var ue,ce
function se(e){return"IMG"===e.tagName&&e.classList.contains("equation_image")||e.classList.contains("math_equation_latex")}if(null!==(ue=ENV)&&void 0!==ue&&null!==(ce=ue.FEATURES)&&void 0!==ce&&ce.new_equation_editor){tinymce.create("tinymce.plugins.InstructureEquation",{init(e){e.ui.registry.addIcon("equation",h.src)
e.addCommand("instructureEquation",ae.bind(this,e,document))
e.ui.registry.addMenuItem("instructure_equation",{text:Object(z["a"])("Equation"),icon:"equation",onAction:()=>e.execCommand("instructureEquation")})
e.ui.registry.addToggleButton("instructure_equation",{tooltip:Q()(Object(z["a"])({default:"Insert Math Equation",description:"Title for RCE button to insert a math equation"})),onAction:()=>e.execCommand("instructureEquation"),icon:"equation",onSetup(t){const n=e=>{t.setActive(se(e.element))}
e.on("NodeChange",n)
return()=>e.off("NodeChange",n)}})
e.ui.registry.addButton("instructure-equation-options",{onAction(){e.execCommand("instructureEquation")},text:Object(z["a"])("Edit Equation")})
e.ui.registry.addContextToolbar("instructure-equation-toolbar",{items:"instructure-equation-options",position:"node",predicate:se,scope:"node"})}})
tinymce.PluginManager.add("instructure_equation",tinymce.plugins.InstructureEquation)}else{tinymce.create("tinymce.plugins.InstructureEquation",{init(e){e.ui.registry.addIcon("equation",h.src)
e.addCommand("instructureEquation",ie.bind(this,e,document))
e.ui.registry.addMenuItem("instructure_equation",{text:Object(z["a"])("Equation"),icon:"equation",onAction:()=>e.execCommand("instructureEquation")})
e.ui.registry.addToggleButton("instructure_equation",{tooltip:Q()(Object(z["a"])({default:"Insert Math Equation",description:"Title for RCE button to insert a math equation"})),onAction:()=>e.execCommand("instructureEquation"),icon:"equation",onSetup(t){const n=e=>{t.setActive(se(e.element))}
e.on("NodeChange",n)
return()=>e.off("NodeChange",n)}})
e.ui.registry.addButton("instructure-equation-options",{onAction(){e.execCommand("instructureEquation")},text:Object(z["a"])("Edit Equation")})
e.ui.registry.addContextToolbar("instructure-equation-toolbar",{items:"instructure-equation-options",position:"node",predicate:se,scope:"node"})}})
tinymce.PluginManager.add("instructure_equation",tinymce.plugins.InstructureEquation)}var le=n("WRSb")
var fe=n("DWdj")
var ve=n("b5/e")
var de=n("17x9")
var me=n("Mmr1")
var ge=n("Xx/m")
var he=n("msMH")
var pe=n("TstA")
var be=n("Ci/e")
var ye=n("hlkS")
var we=n("Mesd")
var xe=n("587I")
var Ce=n("z7I/")
var Se=n("CxY0")
const ke=["ftp:","http:","https:","mailto:","tel:","skype:"]
function Oe(e){const t=e.trim()
const n=Object(Se["parse"])(t,false,true)
const r=n.protocol
if(r){if(r){if(!ke.includes(r))throw new Error(Object(z["a"])("{p} is not a valid protocol which must be ftp, http, https, mailto, skype, tel or may be omitted",{p:r.replace(/:$/,"")}))
if(/(?:ftp|http|https):\/\/.+/.test(t))return true
if(/(?:mailto|skype|tel):(\/\/)?[^/].*/.test(t))return true
if(/^(?:ftp|http|https):\/{0,1}[^/]/.test(t))throw new Error(Object(z["a"])("Invalid URL"))
return false}}else{if(":"===n.href[0])throw new Error(Object(z["a"])("Protocol must be ftp, http, https, mailto, skype, tel or may be omitted"))
if(/^\/\/$/.test(t))return false}return true}var Te=n("NVgN")
function Ee(e){const{imageOptions:t,onEntered:n,onExited:r,onRequestClose:o,onSave:a,open:i}=e
const{naturalHeight:u,naturalWidth:c,isLinked:s}=t
const l=t.appliedHeight||u
const f=t.appliedWidth||c
const[v,d]=Object(ee["useState"])(t.url)
const[m,g]=Object(ee["useState"])(false)
const[h,p]=Object(ee["useState"])(t.altText)
const[b,y]=Object(ee["useState"])(t.isDecorativeImage)
const[w,x]=Object(ee["useState"])("embed")
const[C,S]=Object(ee["useState"])(t.imageSize)
const[k,O]=Object(ee["useState"])(l)
const[T,E]=Object(ee["useState"])(f)
const _=Object(we["b"])(t,{minHeight:ye["b"],minWidth:ye["d"],minPercentage:ye["c"]})
function L(e){d(e)}function D(e){p(e.target.value)}function A(e){y(e.target.checked)}function M(e){x(e.target.value)}function N(e,t){S(t.value)
if(t.value===ye["a"]){O(l)
E(f)}else{const{height:e,width:n}=Object(ye["j"])(t.value,c,u)
O(e)
E(n)}}function R(e){e.preventDefault()
const t=b?"":h
let n=k
let r=T
if(C===ye["a"])if(_.usePercentageUnits){n=_.percentage+"%"
r=_.percentage+"%"}else{n=_.height
r=_.width}a({url:v,altText:t,appliedHeight:n,appliedWidth:r,displayAs:w,isDecorativeImage:b})}Object(ee["useEffect"])(()=>{let e
try{e=Oe(v)}catch(t){e=false}finally{g(!e||Object(Ce["b"])(v))}},[])
const B=[]
C!==ye["a"]&&B.push({text:Object(z["a"])("{width} x {height}px",{height:k,width:T}),type:"hint"})
const P=""===v||"embed"===w&&(!b&&""===h||C===ye["a"]&&!(null!==_&&void 0!==_&&_.isValid))
return te.a.createElement(be["a"],{"data-mce-component":true,label:Object(z["a"])("Image Options Tray"),onDismiss:o,onEntered:n,onExited:r,open:i,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},te.a.createElement(pe["a"],{direction:"column",height:Object(Ce["a"])()},te.a.createElement(pe["a"].Item,{as:"header",padding:"medium"},te.a.createElement(pe["a"],{direction:"row"},te.a.createElement(pe["a"].Item,{grow:true,shrink:true},te.a.createElement(he["a"],{as:"h2"},Object(z["a"])("Image Options"))),te.a.createElement(pe["a"].Item,null,te.a.createElement(me["a"],{placemet:"static",variant:"icon",onClick:o},Object(z["a"])("Close"))))),te.a.createElement(pe["a"].Item,{as:"form",grow:true,margin:"none",shrink:true},te.a.createElement(pe["a"],{justifyItems:"space-between",direction:"column",height:"100%"},te.a.createElement(pe["a"],{direction:"column"},m&&te.a.createElement(pe["a"].Item,{padding:"small"},te.a.createElement(Te["default"],{fileUrl:v,setFileUrl:L})),te.a.createElement(xe["a"],{id:"image-options-form",imageSize:C,displayAs:w,isDecorativeImage:b,altText:h,isLinked:s,dimensionsState:_,handleAltTextChange:D,handleIsDecorativeChange:A,handleDisplayAsChange:M,handleImageSizeChange:N,messagesForSize:B})),te.a.createElement(pe["a"].Item,{background:"secondary",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},te.a.createElement(ge["a"],{disabled:P,onClick:R,variant:"primary"},Object(z["a"])("Done")))))))}Ee.propTypes={imageOptions:Object(de["shape"])({altText:de["string"].isRequired,appliedHeight:de["number"],appliedWidth:de["number"],isDecorativeImage:de["bool"].isRequired,isLinked:de["bool"],naturalHeight:de["number"].isRequired,naturalWidth:de["number"].isRequired}).isRequired,onEntered:de["func"],onExited:de["func"],onRequestClose:de["func"].isRequired,onSave:de["func"].isRequired,open:de["bool"].isRequired}
Ee.defaultProps={onEntered:null,onExited:null}
const _e="instructure-image-options-tray-container"
class Le{constructor(){this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let e=document.getElementById(_e)
if(null==e){e=document.createElement("div")
e.id=_e
document.body.appendChild(e)}return e}get isOpen(){return this._isOpen}showTrayForEditor(e){this._editor=e
this.$img=e.selection.getNode()
this._shouldOpen=true
oe["a"].focusedEditor&&oe["a"].hideTrays()
this._renderTray()}hideTrayForEditor(e){this._editor===e&&this._dismissTray()}_applyImageOptions(e){const t=this._editor
const{$img:n}=this
if("embed"===e.displayAs){n.setAttribute("alt",e.altText)
t.dom.setAttribs(n,{src:e.url,role:e.isDecorativeImage?"presentation":null,width:e.appliedWidth,height:e.appliedHeight})
t.fire("ObjectResized",{target:n,width:e.appliedWidth,height:e.appliedHeight})}else{const r=Object(ve["c"])({href:n.src,text:e.altText||n.src,target:"_blank"})
t.selection.setContent(r)}this._dismissTray()
t.focus()}_dismissTray(){this._shouldOpen=false
this._renderTray()
this.$img=null
this._editor=null}_renderTray(){this._shouldOpen&&this._renderId++
const e=Object(le["e"])(this.$img)
e.isLinked="A"===this._editor.selection.getSel().anchorNode.tagName
const t=te.a.createElement(Ee,{key:this._renderId,imageOptions:e,onEntered:()=>{this._isOpen=true},onExited:()=>{oe["a"].focusActiveEditor(false)
this._isOpen=false},onSave:e=>{this._applyImageOptions(e)},onRequestClose:()=>this._dismissTray(),open:this._shouldOpen})
re.a.render(t,this.$container)}}var De=function(e,t,r){return Promise.all([n.e(30),n.e(87),n.e(128)]).then(n.bind(null,"ErcB")).then(({UploadFile:n})=>{let o=t.querySelector(".canvas-rce-upload-container")
if(!o){o=t.createElement("div")
o.className="canvas-rce-upload-container"
t.body.appendChild(o)}const a=()=>{re.a.unmountComponentAtNode(o)
e.focus(false)}
re.a.render(te.a.createElement(n,{accept:"image/*",editor:e,label:Object(z["a"])("Upload Image"),panels:["COMPUTER","UNSPLASH","URL"],onDismiss:a,trayProps:r}),o)})}
var Ae=n("0k/6")
const Me="course_images"
const Ne="user_images"
const Re="group_images"
const ze=new Le
function Be(e){var t
const n=null===(t=e.settings.canvas_rce_user_context)||void 0===t?void 0:t.type
const r=[{text:Object(z["a"])("Upload Image"),value:"instructure_upload_image"}]
"course"===n?r.push({text:Object(z["a"])("Course Images"),value:"instructure_course_image"}):"group"===n&&r.push({text:Object(z["a"])("Group Images"),value:"instructure_group_image"})
r.push({text:Object(z["a"])("User Images"),value:"instructure_user_image"})
return r}function Pe(e,t){switch(t){case"instructure_upload_image":e.execCommand("mceInstructureImage")
break
case"instructure_course_image":e.focus(true)
e.execCommand("instructureTrayForImages",false,Me)
break
case"instructure_group_image":e.focus(true)
e.execCommand("instructureTrayForImages",false,Re)
break
case"instructure_user_image":e.focus(true)
e.execCommand("instructureTrayForImages",false,Ne)}}tinymce.create("tinymce.plugins.InstructureImagePlugin",{init(e){e.addCommand("mceInstructureImage",De.bind(this,e,document))
e.addCommand("instructureTrayForImages",(t,n)=>{oe["a"].showTrayForPlugin(n,e.id)})
e.ui.registry.addNestedMenuItem("instructure_image",{text:Object(z["a"])("Image"),icon:"image",getSubmenuItems:()=>Be(e).map(t=>({type:"menuitem",text:t.text,onAction:()=>Pe(e,t.value),onSetup:t=>{t.setDisabled(!Object(fe["d"])(e.selection.getContent()))
return()=>{}}}))})
e.ui.registry.addSplitButton("instructure_image",{tooltip:Object(z["a"])("Images"),icon:"image",fetch(t){const n=Be(e).map(e=>({type:"choiceitem",text:e.text,value:e.value}))
t(n)},onAction(t){t.isDisabled()||Pe(e,"instructure_upload_image")},onItemAction:(t,n)=>Pe(e,n),onSetup(t){function n(n){t.setDisabled(!Object(fe["d"])(e.selection.getContent()))}setTimeout(n)
e.on("NodeChange",n)
return()=>{e.off("NodeChange",n)}}})
function t(e){return!e.classList.contains("equation_image")&&Object(le["k"])(e)&&!e.getAttribute(Ae["a"])}const n=Object(z["a"])("Show image options")
e.ui.registry.addButton("instructure-image-options",{onAction(){ze.showTrayForEditor(e)},text:Object(z["a"])("Image Options"),tooltip:n})
e.ui.registry.addContextToolbar("instructure-image-toolbar",{items:"instructure-image-options",position:"node",predicate:t,scope:"node"})},remove(e){ze.hideTrayForEditor(e)}})
tinymce.PluginManager.add("instructure_image",tinymce.plugins.InstructureImagePlugin)
var Ie=function(e,t,n){const r=t.createEvent("CustomEvent")
r.initCustomEvent("tinyRCE/initExternalTools",true,true,{ed:e,url:n})
t.dispatchEvent(r)}
function He(e,t){return n.e(3710).then(n.bind(null,"DiQt")).then(({LtiToolsModal:n})=>{let r=document.querySelector(".canvas-rce-upload-container")
if(!r){r=document.createElement("div")
r.className="canvas-rce-upload-container"
document.body.appendChild(r)}const o=()=>{re.a.unmountComponentAtNode(r)
e.focus()}
re.a.render(te.a.createElement(n,{editor:e,onDismiss:o,ltiButtons:t}),r)})}tinymce.create("tinymce.plugins.InstructureExternalTools",{init(e,t){document.addEventListener("tinyRCE/onExternalTools",t=>{He(e,t.detail.ltiButtons)})
e.ui.registry.addIcon("lti",C.src)
Ie(e,document,t)},icon:"lti"})
tinymce.PluginManager.add("instructure_external_tools",tinymce.plugins.InstructureExternalTools)
var Fe=n("eHui")
var Ve=n("n/1O")
const je=(e,t,n,r)=>{let o=e&&oe["a"].uploadMediaTranslations.UploadMediaStrings.UPLOADING_ERROR
"FileSizeError"===(null===e||void 0===e?void 0:e.name)&&(o=Object(z["a"])("Size of caption file is greater than the maximum {max} kb allowed file size.",{max:e.maxBytes/1e3}))
const a=oe["a"].activeEditor()
let i
if(r){i=a.editor.selection.getBookmark(2,true)
a.editor.selection.moveToBookmark(r)}n(o,t)
i&&a.editor.selection.moveToBookmark(i)}
var Ue=function(e,t){return Promise.all([n.e(30),n.e(65),n.e(4180)]).then(n.bind(null,"JobW")).then(n=>{const r=n.default
let o=t.querySelector(".canvas-rce-media-upload")
if(!o){o=t.createElement("div")
o.className="canvas-rce-media-upload"
t.body.appendChild(o)}const a=()=>{re.a.unmountComponentAtNode(o)
e.focus(false)}
let i=null
const u=t=>{var n
oe["a"].focusEditor(e.rceWrapper)
const r=oe["a"].activeEditor()
i=null===r||void 0===r||null===(n=r.editor)||void 0===n?void 0:n.selection.getBookmark(2,true)
oe["a"].insertImagePlaceholder(t)
a()}
const c=oe["a"].trayProps.get(e)
re.a.render(te.a.createElement(Fe["a"],c,n=>te.a.createElement(r,{rcsConfig:{contextType:e.settings.canvas_rce_user_context.type,contextId:e.settings.canvas_rce_user_context.id,origin:Object(Ve["c"])(n.host),headers:Object(Ve["b"])(n.jwt)},languages:oe["a"].languages,open:true,liveRegion:()=>t.getElementById("flash_screenreader_holder"),onStartUpload:e=>u(e),onUploadComplete:(e,t)=>je(e,t,n.mediaUploadComplete,i),onDismiss:a,tabs:{record:true,upload:true},uploadMediaTranslations:oe["a"].uploadMediaTranslations})),o)})}
var We=n("G1G5")
var qe=n("sTNg")
var $e=n("4LsN")
const Ge=()=>document.getElementById("flash_screenreader_holder")
function Xe({open:e,onEntered:t,onExited:n,onDismiss:r,onSave:o,trayProps:a,audioOptions:i}){const[u,c]=Object(ee["useState"])(i.tracks||[])
const s=(e,t)=>{o({media_object_id:i.id,subtitles:u,updateMediaObject:t.updateMediaObject})}
return te.a.createElement(Fe["a"],a,o=>te.a.createElement(be["a"],{key:"audio-options-tray","data-mce-component":true,label:Object(z["a"])("Audio Options Tray"),onDismiss:r,onEntered:t,onExited:n,open:e,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},te.a.createElement(pe["a"],{direction:"column",height:Object(Ce["a"])()},te.a.createElement(pe["a"].Item,{as:"header",padding:"medium"},te.a.createElement(pe["a"],{direction:"row"},te.a.createElement(pe["a"].Item,{grow:true,shrink:true},te.a.createElement(he["a"],{as:"h2"},Object(z["a"])("Audio Options"))),te.a.createElement(pe["a"].Item,null,te.a.createElement(me["a"],{placement:"static",variant:"icon",onClick:r},Object(z["a"])("Close"))))),te.a.createElement(pe["a"].Item,{as:"form",grow:true,margin:"none",shrink:true},te.a.createElement(pe["a"],{justifyItems:"space-between",direction:"column",height:"100%"},te.a.createElement(pe["a"].Item,{grow:true,padding:"small",shrink:true},te.a.createElement(pe["a"],{direction:"column"},te.a.createElement(pe["a"].Item,{padding:"small"},te.a.createElement(qe["b"],{description:Object(z["a"])("Closed Captions/Subtitles")},te.a.createElement($e["default"],{subtitles:u.map(e=>({locale:e.locale,file:{name:e.language||e.locale}})),uploadMediaTranslations:oe["a"].uploadMediaTranslations,languages:oe["a"].languages,updateSubtitles:e=>c(e),liveRegion:Ge}))))),te.a.createElement(pe["a"].Item,{background:"secondary",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},te.a.createElement(ge["a"],{onClick:e=>s(e,o),variant:"primary"},Object(z["a"])("Done"))))))))}Xe.propTypes={onEntered:de["func"],onExited:de["func"],onDismiss:de["func"],onSave:de["func"],open:de["bool"].isRequired,trayProps:Object(de["shape"])({host:de["string"].isRequired,jwt:de["string"].isRequired}).isRequired,audioOptions:Object(de["shape"])({id:de["string"].isRequired,titleText:de["string"].isRequired,tracks:Object(de["arrayOf"])(Object(de["shape"])({locale:de["string"].isRequired}))}).isRequired}
Xe.defaultProps={onEntered:null,onExited:null,onDismiss:null,onSave:null}
const Ke="instructure-audio-options-tray-container"
class Ze{constructor(){this._isOpen=false
this._shouldOpen=false
this._editor=null
this._audioContainer=null}get container(){let e=document.getElementById(Ke)
if(null==e){e=document.createElement("div")
e.id=Ke
document.body.appendChild(e)}return e}get isOpen(){return this._isOpen}showTrayForEditor(e){this._shouldOpen=true
this._editor=e
this._audioContainer=Object(le["g"])(e.selection.getNode())
oe["a"].focusedEditor&&oe["a"].hideTrays()
const t=oe["a"].trayProps.get(e)
this._renderTray(t)}hideTrayForEditor(e){this._editor===e&&this._dismissTray()}_dismissTray(){this._audioContainer&&this._editor.selection.select(this._audioContainer)
this._resetController()}_resetController(){this._shouldOpen=false
this._renderTray()
this._editor=null
this._audioContainer=null
const e=document.getElementById(Ke)
return e.parentNode.removeChild(e)}_applyAudioOptions(e){if(!e.media_object_id||"undefined"===e.media_object_id)return
const t=this._audioContainer
return e.updateMediaObject({media_object_id:e.media_object_id,subtitles:e.subtitles}).then(()=>null===t||void 0===t?void 0:t.contentWindow.location.reload()).catch(e=>{console.error("Failed updating audio captions",e)})}_renderTray(e){let t={}
this._shouldOpen&&(t=Object(le["d"])(this._audioContainer))
const n=te.a.createElement(Xe,{audioOptions:t,onEntered:()=>{this._isOpen=true},onExited:()=>{oe["a"].focusActiveEditor(false)
this._isOpen=false},onSave:e=>{this._applyAudioOptions(e)
this._dismissTray()},onDismiss:()=>this._dismissTray(),open:this._shouldOpen,trayProps:e})
re.a.render(n,this.container)}}const Ye=new We["c"]
const Je=new Ze
const Qe="course_media"
const et="user_media"
const tt="group_media"
function nt(e){const t=e.settings.canvas_rce_user_context.type
const n=[]
e.getParam("show_media_upload")&&n.push({text:Object(z["a"])("Upload/Record Media"),value:"instructure_upload_media"})
"course"===t?n.push({text:Object(z["a"])("Course Media"),value:"instructure_course_media"}):"group"===t&&n.push({text:Object(z["a"])("Group Media"),value:"instructure_group_media"})
n.push({text:Object(z["a"])("User Media"),value:"instructure_user_media"})
return n}function rt(e,t){switch(t){case"instructure_upload_media":e.execCommand("instructureRecord")
break
case"instructure_course_media":e.focus(true)
e.execCommand("instructureTrayForMedia",false,Qe)
break
case"instructure_group_media":e.focus(true)
e.execCommand("instructureTrayForMedia",false,tt)
break
case"instructure_user_media":e.focus(true)
e.execCommand("instructureTrayForMedia",false,et)}}tinymce.create("tinymce.plugins.InstructureRecord",{init(e){e.addCommand("instructureRecord",Ue.bind(this,e,document))
e.addCommand("instructureTrayForMedia",(t,n)=>{oe["a"].showTrayForPlugin(n,e.id)})
e.ui.registry.addNestedMenuItem("instructure_media",{text:Object(z["a"])("Media"),icon:"video",getSubmenuItems:()=>nt(e).map(t=>({type:"menuitem",text:t.text,onAction:()=>rt(e,t.value),onSetup:t=>{t.setDisabled(!Object(fe["d"])(e.selection.getContent()))
return()=>{}}}))})
e.ui.registry.addSplitButton("instructure_record",{tooltip:Object(z["a"])("Record/Upload Media"),icon:"video",fetch(t){const n=nt(e).map(e=>({type:"choiceitem",text:e.text,value:e.value}))
t(n)},onAction(t){if(!t.isDisabled()){const t=nt(e)[0].value
rt(e,t)}},onItemAction:(t,n)=>rt(e,n),onSetup(t){function n(n){t.setDisabled(!Object(fe["d"])(e.selection.getContent()))}setTimeout(n)
e.on("NodeChange",n)
return()=>{e.off("NodeChange",n)}}})
const t=Object(z["a"])("Show video options")
e.ui.registry.addButton("instructure-video-options",{onAction(){Ye.showTrayForEditor(e)},text:Object(z["a"])("Video Options"),tooltip:t})
e.ui.registry.addContextToolbar("instructure-video-toolbar",{items:"instructure-video-options",position:"node",predicate:le["l"],scope:"node"})
e.ui.registry.addButton("instructure-audio-options",{onAction(){Je.showTrayForEditor(e)},text:Object(z["a"])("Audio Options"),tooltip:Object(z["a"])("Show audio options")})
e.ui.registry.addContextToolbar("instructure-audio-toolbar",{items:"instructure-audio-options",position:"node",predicate:le["i"],scope:"node"})},remove(e){Je.hideTrayForEditor(e)
Ye.hideTrayForEditor(e)}})
tinymce.PluginManager.add("instructure_record",tinymce.plugins.InstructureRecord)
var ot=n("L+/K")
var at=n("WEeK")
var it=n("Dibh")
var ut=n("n12J")
const ct="create"
const st="edit"
function lt(e){const[t,n]=Object(ee["useState"])(e.text||"")
const[r,o]=Object(ee["useState"])(e.url||"")
const[a,i]=Object(ee["useState"])(null)
const[u,c]=Object(ee["useState"])(false)
Object(ee["useEffect"])(()=>{try{const e=Oe(r)
c(e)
i(null)}catch(e){c(false)
i(e.message)}},[r])
function s(n){n.preventDefault()
if(!r)return
const o=t.trim()||r
e.onSave({text:o,target:"_blank",href:r,userText:e.showText,class:"inline_disabled",forceRename:true})}function l(e){n(e.target.value)}function f(e){o(e.target.value)}const v=e.operation===ct?Object(z["a"])("Insert Link"):Object(z["a"])("Edit Link")
return te.a.createElement(it["a"],{"data-testid":"RCELinkOptionsDialog","data-mce-component":true,as:"form",label:v,onDismiss:e.onRequestClose,onEntered:e.onEntered,onExited:e.onExited,onSubmit:s,open:e.open,shouldCloseOnDocumentClick:true,shouldReturnFocus:false,size:"medium"},te.a.createElement(it["a"].Header,null,te.a.createElement(me["a"],{offset:"medium",placement:"end",screenReaderLabel:Object(z["a"])("Close"),onClick:e.onRequestClose}),te.a.createElement(he["a"],null,v)),te.a.createElement(it["a"].Body,null,e.showText&&te.a.createElement(ut["a"],{as:"div",margin:"small"},te.a.createElement(at["a"],{renderLabel:Object(z["a"])("Text"),name:"linktext",onChange:l,value:t})),te.a.createElement(ut["a"],{as:"div",margin:"small"},te.a.createElement(at["a"],{renderLabel:Object(z["a"])("Link"),name:"linklink",onChange:f,value:r})),a&&te.a.createElement(ut["a"],{as:"div",margin:"small","data-testid":"url-error"},te.a.createElement(ot["a"],{variant:"error"},a))),te.a.createElement(it["a"].Footer,null,te.a.createElement("input",{type:"submit",style:{display:"none"}}),te.a.createElement(ge["a"],{onClick:e.onRequestClose,margin:"0 small",color:"secondary"},Object(z["a"])("Close")),te.a.createElement(ge["a"],{disabled:!(r&&u),onClick:s,color:"primary"},Object(z["a"])("Done"))))}lt.propTypes={text:de["string"],url:de["string"],operation:Object(de["oneOf"])([ct,st]),onEntered:de["func"],onExited:de["func"],onRequestClose:de["func"].isRequired,onSave:de["func"].isRequired,open:de["bool"].isRequired,showText:de["bool"]}
lt.defaultProps={onEntered:null,onExited:null,showText:true}
const ft="instructure-link-options-tray-container"
const vt="create"
const dt="edit"
class mt{constructor(){this._dismissDialog=()=>{this._shouldOpen=false
this._renderDialog()}
this._hasClosed=()=>{oe["a"].focusActiveEditor(false)
this._isOpen=false
this._editor.focus(false)
this._editor=null}
this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let e=document.getElementById(ft)
if(null==e){e=document.createElement("div")
e.id=ft
document.body.appendChild(e)}return e}get isOpen(){return this._isOpen}showDialogForEditor(e,t){this._editor=e
this._shouldOpen=true
this._op=t
this._renderDialog()}hideDialog(){this._dismissDialog()}_applyLinkOptions(e){this._dismissDialog()
oe["a"].insertLink(e)}_renderDialog(){let e,t,n,r,o
if(this._shouldOpen){var a
e=this._editor.selection.getContent()
t=Object(fe["e"])(e)
o=t&&this._editor.selection.getContent({format:"text"})
n=Object(fe["b"])(this._editor,this._editor.selection.getNode())
r=null===(a=n)||void 0===a?void 0:a.getAttribute("href")
this._renderId++}const i=te.a.createElement(lt,{key:this._renderId,size:"medium",showText:t,text:o,url:r,operation:this._op,onEntered:()=>{this._isOpen=true},onExited:this._hasClosed,onRequestClose:this._dismissDialog,onSave:e=>{oe["a"].focusEditor(this._editor.rceWrapper)
this._applyLinkOptions(e)},open:this._shouldOpen})
re.a.render(i,this.$container)}}const gt=new mt
var ht=function(e,t){gt.showDialogForEditor(e,t)}
var pt=n("9lnB")
var bt=n("/5Zp")
var yt=n("GTSS")
function wt(e){const t=e.content||{}
const n=t.text||""
const r=t.onlyTextSelected
const[o,a]=Object(ee["useState"])(n||"")
const[i,u]=Object(ee["useState"])(t.url||"")
const[c,s]=Object(ee["useState"])(null)
const[l,f]=Object(ee["useState"])(false)
const[v,d]=Object(ee["useState"])(t.displayAs===le["a"])
const[m,g]=Object(ee["useState"])(t.displayAs===le["b"])
Object(ee["useEffect"])(()=>{try{const e=Oe(i)
f(e)
s(null)}catch(e){f(false)
s(e.message)}},[i])
function h(n){n.preventDefault()
const r=t.isPreviewable?"scribd":null
const a={embed:r?{type:r,autoOpenPreview:v&&!m,disablePreview:m}:null,text:o,href:i,id:t.id||null,forceRename:true}
e.onSave(a)}function p(e){a(e.target.value)}function b(e){u(e.target.value)}function y(e){d(e.target.checked)}function w(e,t){g("overlay"===t)}function x(){return te.a.createElement(qe["b"],{description:Object(z["a"])("Display Options"),layout:"stacked",rowSpacing:"small"},te.a.createElement(bt["a"],{description:" ",name:"preview_option",onChange:w,value:m?"overlay":"inline"},te.a.createElement(yt["a"],{key:"overlay",value:"overlay",label:Object(z["a"])("Preview in overlay")}),te.a.createElement(yt["a"],{key:"inline",value:"inline",label:Object(z["a"])("Preview inline")})),!m&&te.a.createElement(ut["a"],{as:"div",margin:"0 0 0 small"},te.a.createElement(pt["a"],{label:Object(z["a"])("Expand preview by Default"),name:"auto-preview",onChange:y,checked:v})))}return te.a.createElement(be["a"],{"data-testid":"RCELinkOptionsTray","data-mce-component":true,label:Object(z["a"])("Link Options"),onDismiss:e.onRequestClose,onEntered:e.onEntered,onExited:e.onExited,open:e.open,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},te.a.createElement(pe["a"],{direction:"column",height:Object(Ce["a"])()},te.a.createElement(pe["a"].Item,{as:"header",padding:"medium"},te.a.createElement(pe["a"],{direction:"row"},te.a.createElement(pe["a"].Item,{grow:true,shrink:true},te.a.createElement(he["a"],{as:"h2"},Object(z["a"])("Link Options"))),te.a.createElement(pe["a"].Item,null,te.a.createElement(me["a"],{placement:"static",variant:"icon",onClick:e.onRequestClose},Object(z["a"])("Close"))))),te.a.createElement(pe["a"].Item,{as:"form",grow:true,margin:"none",shrink:true,onSubmit:h},te.a.createElement(pe["a"],{justifyItems:"space-between",direction:"column",height:"100%"},te.a.createElement(pe["a"].Item,{grow:true,padding:"small",shrink:true},te.a.createElement("input",{type:"submit",style:{display:"none"}}),te.a.createElement(pe["a"],{direction:"column"},r&&te.a.createElement(pe["a"].Item,{padding:"small"},te.a.createElement(at["a"],{renderLabel:()=>Object(z["a"])("Text"),onChange:p,value:o})),te.a.createElement(pe["a"].Item,{padding:"small"},te.a.createElement(at["a"],{renderLabel:()=>Object(z["a"])("Link"),onChange:b,value:i})),c&&te.a.createElement(pe["a"].Item,{padding:"small","data-testid":"url-error"},te.a.createElement(ot["a"],{variant:"error"},c)),t.isPreviewable&&te.a.createElement(pe["a"].Item,{margin:"small none none none",padding:"small"},x()))),te.a.createElement(pe["a"].Item,{background:"secondary",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},te.a.createElement(ge["a"],{disabled:r&&!o||!(i&&l),onClick:h,variant:"primary"},Object(z["a"])("Done")))))))}wt.propTypes={content:(e,t,n)=>{e.open&&Object(de["checkPropTypes"])({content:Object(de["shape"])({$element:de["object"],dispalyAs:Object(de["oneOf"])([le["c"],le["a"]]),isPreviewable:de["bool"],text:de["string"],url:de["string"]}).isRequired},e,"content","LinkOptionsTray")},onEntered:de["func"],onExited:de["func"],onRequestClose:de["func"].isRequired,onSave:de["func"].isRequired,open:de["bool"].isRequired}
wt.defaultProps={onEntered:null,onExited:null}
const xt="instructure-link-options-tray-container"
class Ct{constructor(){this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let e=document.getElementById(xt)
if(null==e){e=document.createElement("div")
e.id=xt
document.body.appendChild(e)}return e}get isOpen(){return this._isOpen}showTrayForEditor(e){this._editor=e
this._shouldOpen=true
const t=e.selection.getNode()
if(e.selection.isCollapsed()&&"A"===t.nodeName)e.selection.select(e.selection.getNode())
else{const n=Object(fe["b"])(e,t)
e.selection.select(n)}oe["a"].focusedEditor&&oe["a"].hideTrays()
this._renderTray()}hideTrayForEditor(e){this._editor===e&&this._dismissTray()}_applyLinkOptions(e){this._dismissTray()
oe["a"].insertLink({...e,userText:true})}_dismissTray(){this._shouldOpen=false
this._renderTray()
this._editor=null}_renderTray(){let e={}
if(this._shouldOpen){e=Object(le["h"])(this._editor)
this._renderId++}const t=te.a.createElement(wt,{content:e,key:this._renderId,onEntered:()=>{this._isOpen=true},onExited:()=>{oe["a"].focusActiveEditor(false)
this._isOpen=false},onSave:e=>{this._applyLinkOptions(e)},onRequestClose:()=>this._dismissTray(),open:this._shouldOpen})
re.a.render(t,this.$container)}}const St=new Ct
const kt="course_links"
const Ot="group_links"
function Tt(e){return e.selection.getRng().cloneContents().querySelectorAll("a").length}function Et(e){var t
const n=null===(t=e.settings.canvas_rce_containing_context)||void 0===t?void 0:t.type
const r=e.selection.isCollapsed()?0:Tt(e)
let o
if(Object(fe["b"])(e,e.selection.getNode()))o=[{text:Object(z["a"])("Edit Link"),value:"instructureTrayToEditLink"},{text:Object(z["a"])("Remove Link"),value:"instructureUnlink"}]
else{o=[{text:Object(z["a"])("External Links"),value:"instructureLinkCreate"}]
"course"===n?o.push({text:Object(z["a"])("Course Links"),value:"instructure_course_links"}):"group"===n&&o.push({text:Object(z["a"])("Group Links"),value:"instructure_group_links"})
r>0&&o.push({text:z["a"].plural(r,{one:"Remove Link",other:"Remove Links"}),value:"instructureUnlinkAll"})}return o}function _t(e){const t=e.selection.getNode()
const n=Object(fe["b"])(e,t)
e.selection.select(n)
e.undoManager.add()
e.execCommand("Unlink")}function Lt(e,t){switch(t){case"instructureTrayToEditLink":case"instructureLinkCreate":e.execCommand(t)
break
case"instructureUnlink":_t(e)
break
case"instructureUnlinkAll":e.undoManager.add()
e.execCommand("unlink")
break
case"instructure_course_links":e.focus(true)
e.execCommand("instructureTrayForLinks",false,kt)
break
case"instructure_group_links":e.focus(true)
e.execCommand("instructureTrayForLinks",false,Ot)}}tinymce.create("tinymce.plugins.InstructureLinksPlugin",{init(e){e.addCommand("instructureLinkCreate",ht.bind(this,e,vt))
e.addCommand("instructureLinkEdit",ht.bind(this,e,dt))
e.addCommand("instructureTrayForLinks",(t,n)=>{oe["a"].showTrayForPlugin(n,e.id)})
e.addCommand("instructureTrayToEditLink",t=>{St.showTrayForEditor(e)})
e.addShortcut("Meta+K","","instructureLinkCreate")
e.ui.registry.addNestedMenuItem("instructure_links",{text:Object(z["a"])("Link"),icon:"link",getSubmenuItems:()=>Et(e).map(t=>({type:"menuitem",text:t.text,onAction:()=>Lt(e,t.value),onSetup:t=>{t.setDisabled(!Object(fe["d"])(e.selection.getContent()))
return()=>{}}}))})
e.ui.registry.addSplitButton("instructure_links",{tooltip:Object(z["a"])("Links"),icon:"link",fetch(t){const n=Et(e).map(e=>({type:"choiceitem",text:e.text,value:e.value}))
t(n)},onAction(t){t.isDisabled()||(Object(fe["b"])(e,e.selection.getNode())?Lt(e,"instructureTrayToEditLink"):Lt(e,"instructureLinkCreate"))},onItemAction:(t,n)=>Lt(e,n),onSetup(t){function n(n){null!==n&&void 0!==n&&n.element&&t.setActive(!!Object(fe["b"])(e,n.element))
t.setDisabled(!Object(fe["d"])(e.selection.getContent()))}function r(){let t
if("A"===e.selection.getNode().tagName)t=e.selection.getNode()
else{var n,r
const o=e.selection.getRng()
o.commonAncestorContainer===o.endContainer&&"A"===(null===(n=o.endContainer.nextSibling)||void 0===n?void 0:n.tagName)?t=o.endContainer.nextSibling:"A"===(null===(r=o.nextSibling)||void 0===r?void 0:r.tagName)&&(t=o.nextSibling)}if(t){var o
if(t.firstElementChild)return
const n=null===(o=t.textContent)||void 0===o?void 0:o.trim()
0===n.length&&e.execCommand("Unlink")}}setTimeout(n,0,null)
e.on("NodeChange",n)
e.on("Change",r)
return()=>{e.off("NodeChange",n)
e.off("Change",r)}}})
e.ui.registry.addButton("instructure-link-options",{onAction(){e.execCommand("instructureTrayToEditLink",false,e)},text:Object(z["a"])("Link Options"),tooltip:Object(z["a"])("Show link options")})
const t=Object(z["a"])("Remove Link")
e.ui.registry.addButton("instructureUnlink",{onAction(){_t(e)},text:t})
e.ui.registry.addContextToolbar("instructure-link-toolbar",{items:"instructure-link-options instructureUnlink",position:"node",predicate:t=>!!Object(fe["b"])(e,t),scope:"node"})}})
tinymce.PluginManager.add("instructure_links",tinymce.plugins.InstructureLinksPlugin)
var Dt=function(e,t){return Promise.all([n.e(30),n.e(87),n.e(128)]).then(n.bind(null,"ErcB")).then(({UploadFile:n})=>{let r=t.querySelector(".canvas-rce-upload-container")
if(!r){r=t.createElement("div")
r.className="canvas-rce-upload-container"
t.body.appendChild(r)}const o=()=>{re.a.unmountComponentAtNode(r)
e.focus()}
re.a.render(te.a.createElement(n,{accept:void 0,editor:e,label:Object(z["a"])("Upload File"),panels:["COMPUTER"],onDismiss:o}),r)})}
const At="course_documents"
const Mt="user_documents"
const Nt="group_documents"
function Rt(e){const t=e.settings.canvas_rce_user_context.type
const n=[{text:Object(z["a"])("Upload Document"),value:"instructure_upload_document"}]
"course"===t?n.push({text:Object(z["a"])("Course Documents"),value:"instructure_course_document"}):"group"===t&&n.push({text:Object(z["a"])("Group Documents"),value:"instructure_group_document"})
n.push({text:Object(z["a"])("User Documents"),value:"instructure_user_document"})
return n}function zt(e,t){switch(t){case"instructure_upload_document":e.execCommand("mceInstructureDocuments")
break
case"instructure_course_document":e.focus(true)
e.execCommand("instructureTrayForDocuments",false,At)
break
case"instructure_user_document":e.focus(true)
e.execCommand("instructureTrayForDocuments",false,Mt)
break
case"instructure_group_document":e.focus(true)
e.execCommand("instructureTrayForDocuments",false,Nt)}}tinymce.create("tinymce.plugins.InstructureDocumentsPlugin",{init(e){e.addCommand("mceInstructureDocuments",Dt.bind(this,e,document))
e.addCommand("instructureTrayForDocuments",(t,n)=>{oe["a"].showTrayForPlugin(n,e.id)})
e.ui.registry.addNestedMenuItem("instructure_document",{text:Object(z["a"])("Document"),icon:"document",getSubmenuItems:()=>Rt(e).map(t=>({type:"menuitem",text:t.text,onAction:()=>zt(e,t.value),onSetup:t=>{t.setDisabled(!Object(fe["d"])(e.selection.getContent()))
return()=>{}}}))})
e.ui.registry.addSplitButton("instructure_documents",{tooltip:Object(z["a"])("Documents"),icon:"document",fetch(t){const n=Rt(e).map(e=>({type:"choiceitem",text:e.text,value:e.value}))
t(n)},onAction(t){t.isDisabled()||zt(e,"instructure_upload_document")},onItemAction:(t,n)=>zt(e,n),onSetup(t){function n(n){t.setDisabled(!Object(fe["d"])(e.selection.getContent()))}setTimeout(n)
e.on("NodeChange",n)
return()=>{e.off("NodeChange",n)}}})}})
tinymce.PluginManager.add("instructure_documents",tinymce.plugins.InstructureDocumentsPlugin)
var Bt=function(){oe["a"].activeEditor().toggleView()}
tinymce.create("tinymce.plugins.InstructureHtmlView",{init(e){e.addCommand("instructureHtmlView",Bt.bind(this,e,document))
e.ui.registry.addMenuItem("instructure_html_view",{text:Object(z["a"])("HTML Editor"),icon:"htmlview",onAction:()=>e.execCommand("instructureHtmlView"),onSetup(e){e.setDisabled(false)}})}})
tinymce.PluginManager.add("instructure_html_view",tinymce.plugins.InstructureHtmlView)
var Pt=function(e,t){return n.e(4338).then(n.bind(null,"msS2")).then(({Embed:n})=>{let r=t.querySelector(".canvas-rce-embed-container")
if(!r){r=t.createElement("div")
r.className="canvas-rce-embed-container"
t.body.appendChild(r)}const o=()=>{re.a.unmountComponentAtNode(r)
e.focus(false)}
const a=e=>{oe["a"].insertEmbedCode(e)}
re.a.render(te.a.createElement(n,{onSubmit:a,onDismiss:o}),r)})}
tinymce.create("tinymce.plugins.InstructureMediaEmbed",{init(e){e.addCommand("instructureMediaEmbed",Pt.bind(this,e,document))
e.ui.registry.addMenuItem("instructure_media_embed",{text:Object(z["a"])("Embed"),icon:"embed",onAction:()=>e.execCommand("instructureMediaEmbed")})
e.ui.registry.addButton("instructure_media_embed",{tooltip:Object(z["a"])("Embed"),icon:"embed",onAction:()=>e.execCommand("instructureMediaEmbed")})}})
tinymce.PluginManager.add("instructure_media_embed",tinymce.plugins.InstructureMediaEmbed)
const It="create_buttons_and_icons"
const Ht="list_buttons_and_icons"
const Ft="edit_buttons_and_icons"
var Vt=function(e,t,r){return Promise.all([n.e(18),n.e(22),n.e(84),n.e(4153)]).then(n.bind(null,"IrNC")).then(({ButtonsTray:n})=>{let o=t.querySelector("#instructure-rce-buttons-tray-container")
const a=oe["a"].trayProps.get(e)
const i=()=>{re.a.unmountComponentAtNode(o)
e.focus(false)}
if(o)r==It&&i()
else{o=t.createElement("div")
o.id="instructure-rce-buttons-tray-container"
t.body.appendChild(o)}re.a.render(te.a.createElement(Fe["a"],a,()=>te.a.createElement(n,{editor:e,editing:r===Ft,onUnmount:i,rcsConfig:a})),o)})}
function jt(){return[{text:Object(z["a"])("Create Icon Maker Icon"),value:"instructure_create_button"},{text:Object(z["a"])("Saved Icon Maker Icons"),value:"instructure_list_buttons"}]}function Ut(e,t){switch(t){case"instructure_create_button":e.focus(true)
e.execCommand("instructureTrayForButtonsPlugin",false,It)
break
case"instructure_list_buttons":e.focus(true)
e.execCommand("instructureTrayForButtonsPlugin",false,Ht)
break
case"instructure_edit_button":e.focus(true)
e.execCommand("instructureTrayForButtonsPlugin",false,Ft)}}tinymce.create("tinymce.plugins.InstructureButtonsPlugin",{init(e){e.addCommand("instructureTrayForButtonsPlugin",(t,n)=>{n===Ht?oe["a"].showTrayForPlugin(n,e.id):Vt(e,document,n)})
e.ui.registry.addNestedMenuItem("instructure_buttons",{text:Object(z["a"])("Icon Maker Icons"),icon:"buttons",getSubmenuItems:()=>jt().map(t=>({type:"menuitem",text:t.text,onAction:()=>Ut(e,t.value),onSetup:t=>{t.setDisabled(!Object(fe["d"])(e.selection.getContent()))
return()=>{}}}))})
e.ui.registry.addSplitButton("instructure_buttons",{tooltip:Object(z["a"])("Icon Maker Icons"),icon:"buttons",fetch(e){const t=jt().map(e=>({type:"choiceitem",text:e.text,value:e.value}))
e(t)},onAction(t){t.isDisabled()||Ut(e,"instructure_create_button")},onItemAction:(t,n)=>Ut(e,n),onSetup(t){function n(n){t.setDisabled(!Object(fe["d"])(e.selection.getContent()))}setTimeout(n)
e.on("NodeChange",n)
return()=>{e.off("NodeChange",n)}}})
Object(Ae["d"])(e,t=>{t.isDisabled()||Ut(e,"instructure_edit_button")})}})
tinymce.PluginManager.add("instructure_buttons",tinymce.plugins.InstructureButtonsPlugin)
n("OS/W")
const Wt=a.a.ScriptLoader.add
a.a.ScriptLoader.add=function(e){"none"!==e&&Wt.apply(a.a.ScriptLoader,arguments)}
r["c"](a.a)
t["default"]=a.a},"587I":function(e,t,n){"use strict"
var r=n("q1tI")
var o=n.n(r)
var a=n("6SzX")
var i=n("Xx/m")
var u=n("2zZe")
var c=n("/5Zp")
var s=n("GTSS")
var l=n("M8//")
var f=n("9lnB")
var v=n("gW/U")
var d=n("TstA")
var m=n("n12J")
var g=n("bZJi")
var h=n("hlkS")
var p=n("NFDp")
var b=n("Mesd")
const y=({imageSize:e,displayAs:t,isDecorativeImage:n,altText:r,isLinked:y,dimensionsState:w,handleAltTextChange:x,handleIsDecorativeChange:C,handleDisplayAsChange:S,handleImageSizeChange:k,messagesForSize:O,hideDimensions:T,id:E="image-options-form"})=>{const _=Object(p["a"])("Used by screen readers to describe the content of an image")
const L=o.a.createElement(d["a"],{alignItems:"center"},o.a.createElement(d["a"].Item,null,Object(p["a"])("Alt Text")),o.a.createElement(d["a"].Item,{margin:"0 0 0 xx-small"},o.a.createElement(g["a"],{on:["hover","focus"],placement:"top",tip:o.a.createElement(m["a"],{display:"block",id:"alt-text-label-tooltip",maxWidth:"14rem"},_)},o.a.createElement(i["a"],{icon:v["a"],size:"small",variant:"icon"},o.a.createElement(a["a"],null,_)))))
return o.a.createElement(d["a"],{direction:"column"},o.a.createElement(d["a"].Item,{padding:"small"},o.a.createElement(l["a"],{disabled:n,"aria-describedby":"alt-text-label-tooltip",height:"4rem",label:L,onChange:x,placeholder:Object(p["a"])("(Describe the image)"),resize:"vertical",value:r})),o.a.createElement(d["a"].Item,{padding:"small"},o.a.createElement(f["a"],{checked:n,disabled:"link"===t,label:Object(p["a"])("Decorative Image"),onChange:C})),o.a.createElement(d["a"].Item,{padding:"small"},o.a.createElement(c["a"],{description:Object(p["a"])("Display Options"),disabled:y,name:"display-image-as",onChange:S,value:t},o.a.createElement(s["a"],{label:Object(p["a"])("Embed Image"),value:"embed"}),o.a.createElement(s["a"],{disabled:n,label:Object(p["a"])("Display Text Link (Opens in a new tab)"),value:"link"}))),!T&&o.a.createElement(d["a"].Item,null,o.a.createElement(m["a"],{as:"div",padding:"small"},o.a.createElement(u["a"],{id:E+"-size",disabled:"embed"!==t,renderLabel:Object(p["a"])("Size"),messages:O,assistiveText:Object(p["a"])("Use arrow keys to navigate options."),onChange:k,value:e},h["h"].map(e=>o.a.createElement(u["a"].Option,{id:`${E}-size-${e}`,key:e,value:e},Object(h["i"])(e))))),e===h["a"]&&o.a.createElement(m["a"],{as:"div"},o.a.createElement(b["a"],{dimensionsState:w,disabled:"embed"!==t,minHeight:h["b"],minWidth:h["d"],minPercentage:h["c"]}))))}
t["a"]=y},"5R7V":function(e,t){(function(){"use strict"
var e=function(e){var t=e
var n=function(){return t}
var r=function(e){t=e}
return{get:n,set:r}}
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=function(){n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n]
for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}
return n.apply(this,arguments)}
function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length
var r=Array(e),o=0
for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var o=function(e){var t=typeof e
return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}
var a=function(e){return function(t){return o(t)===e}}
var i=a("string")
var u=a("object")
var c=a("array")
var s=function(){}
var l=function(e){return function(){return e}}
var f=function(e){return e}
var v=function(e){return function(){throw new Error(e)}}
var d=l(false)
var m=l(true)
var g=function(){return h}
var h=(p=function(e){return e.isNone()},b=function(e){return e()},y=function(e){return e},w={fold:function(e,t){return e()},is:d,isSome:d,isNone:m,getOr:y,getOrThunk:b,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:y,orThunk:b,map:g,each:s,bind:g,exists:d,forall:m,filter:g,equals:p,equals_:p,toArray:function(){return[]},toString:l("none()")},w)
var p,b,y,w
var x=function(e){var t=l(e)
var n=function(){return o}
var r=function(t){return t(e)}
var o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:m,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return x(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(d,(function(t){return n(e,t)}))}}
return o}
var C=function(e){return null===e||void 0===e?h:x(e)}
var S={some:x,none:g,from:C}
var k=Array.prototype.slice
var O=Array.prototype.indexOf
var T=function(e,t){return O.call(e,t)}
var E=function(e,t){return T(e,t)>-1}
var _=function(e,t){var n=e.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=e[o]
r[o]=t(a,o)}return r}
var L=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
t(o,n)}}
var D=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n]
t(r,n)}}
var A=function(e,t){var n=[]
for(var r=0,o=e.length;r<o;r++){var a=e[r]
t(a,r)&&n.push(a)}return n}
var M=function(e,t,n){D(e,(function(e){n=t(n,e)}))
return n}
var N=function(e,t,n){L(e,(function(e){n=t(n,e)}))
return n}
var R=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r]
if(t(a,r))return S.some(a)
if(n(a,r))break}return S.none()}
var z=function(e,t){return R(e,t,d)}
var B=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n]
if(true!==t(o,n))return false}return true}
var P=function(e,t){var n=k.call(e,0)
n.sort(t)
return n}
var I=function(e,t){return t>=0&&t<e.length?S.some(e[t]):S.none()}
var H=function(e){return I(e,0)}
var F=Object.keys
var V=Object.hasOwnProperty
var j=function(e,t){return V.call(e,t)}
var U=function(e){if(!c(e))throw new Error("cases must be an array")
if(0===e.length)throw new Error("there must be at least one case")
var t=[]
var n={}
L(e,(function(r,o){var a=F(r)
if(1!==a.length)throw new Error("one and only one name per case")
var i=a[0]
var u=r[i]
if(void 0!==n[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!c(u))throw new Error("case arguments must be an array")
t.push(i)
n[i]=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var a=n.length
if(a!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+a)
var c=function(e){var r=F(e)
if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","))
var o=B(t,(function(e){return E(r,e)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "))
return e[i].apply(null,n)}
return{fold:function(){var t=[]
for(var r=0;r<arguments.length;r++)t[r]=arguments[r]
if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)
var a=t[o]
return a.apply(null,n)},match:c,log:function(e){console.log(e,{constructors:t,constructor:i,params:n})}}}}))
return n}
var W={generate:U}
W.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}])
var q=function(e){var t=[]
var n=[]
L(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))}))
return{errors:t,values:n}}
var $=function(e){var t=function(t){return e===t}
var n=function(t){return $(e)}
var r=function(t){return $(e)}
var o=function(t){return $(t(e))}
var a=function(t){return $(e)}
var i=function(t){t(e)}
var u=function(t){return t(e)}
var c=function(t,n){return n(e)}
var s=function(t){return t(e)}
var f=function(t){return t(e)}
var v=function(){return S.some(e)}
return{is:t,isValue:m,isError:d,getOr:l(e),getOrThunk:l(e),getOrDie:l(e),or:n,orThunk:r,fold:c,map:o,mapError:a,each:i,bind:u,exists:s,forall:f,toOptional:v}}
var G=function(e){var t=function(e){return e()}
var n=function(){return v(String(e))()}
var r=function(e){return e}
var o=function(e){return e()}
var a=function(t){return G(e)}
var i=function(t){return G(t(e))}
var u=function(t){return G(e)}
var c=function(t,n){return t(e)}
return{is:d,isValue:d,isError:m,getOr:f,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:s,bind:u,exists:d,forall:m,toOptional:S.none}}
var X=function(e,t){return e.fold((function(){return G(t)}),$)}
var K={value:$,error:G,fromOption:X}
var Z=function(e){return"inline-command"===e.type||"inline-format"===e.type}
var Y=function(e){return"block-command"===e.type||"block-format"===e.type}
var J=function(e){return P(e,(function(e,t){if(e.start.length===t.start.length)return 0
return e.start.length>t.start.length?-1:1}))}
var Q=function(e){var t=function(t){return K.error({message:t,pattern:e})}
var n=function(n,r,o){if(void 0!==e.format){var a=void 0
if(c(e.format)){if(!B(e.format,i))return t(n+" pattern has non-string items in the `format` array")
a=e.format}else{if(!i(e.format))return t(n+" pattern has non-string `format` parameter")
a=[e.format]}return K.value(r(a))}if(void 0!==e.cmd){if(!i(e.cmd))return t(n+" pattern has non-string `cmd` parameter")
return K.value(o(e.cmd,e.value))}return t(n+" pattern is missing both `format` and `cmd` parameters")}
if(!u(e))return t("Raw pattern is not an object")
if(!i(e.start))return t("Raw pattern is missing `start` parameter")
if(void 0!==e.end){if(!i(e.end))return t("Inline pattern has non-string `end` parameter")
if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters")
var r=e.start
var o=e.end
if(0===o.length){o=r
r=""}return n("Inline",(function(e){return{type:"inline-format",start:r,end:o,format:e}}),(function(e,t){return{type:"inline-command",start:r,end:o,cmd:e,value:t}}))}if(void 0!==e.replacement){if(!i(e.replacement))return t("Replacement pattern has non-string `replacement` parameter")
if(0===e.start.length)return t("Replacement pattern has empty `start` parameter")
return K.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement})}if(0===e.start.length)return t("Block pattern has empty `start` parameter")
return n("Block",(function(t){return{type:"block-format",start:e.start,format:t[0]}}),(function(t,n){return{type:"block-command",start:e.start,cmd:t,value:n}}))}
var ee=function(e){if("block-command"===e.type)return{start:e.start,cmd:e.cmd,value:e.value}
if("block-format"===e.type)return{start:e.start,format:e.format}
if("inline-command"===e.type)return"mceInsertContent"===e.cmd&&""===e.start?{start:e.end,replacement:e.value}:{start:e.start,end:e.end,cmd:e.cmd,value:e.value}
if("inline-format"===e.type)return{start:e.start,end:e.end,format:1===e.format.length?e.format[0]:e.format}}
var te=function(e){return{inlinePatterns:A(e,Z),blockPatterns:J(A(e,Y))}}
var ne=function(e){var t=function(t){var n=q(_(t,Q))
if(n.errors.length>0){var r=n.errors[0]
throw new Error(r.message+":\n"+JSON.stringify(r.pattern,null,2))}e.set(te(n.values))}
var n=function(){return r(_(e.get().inlinePatterns,ee),_(e.get().blockPatterns,ee))}
return{setPatterns:t,getPatterns:n}}
var re="undefined"!==typeof window?window:Function("return this;")()
var oe=function(){var e=[]
for(var t=0;t<arguments.length;t++)e[t]=arguments[t]
var n=re.console
n&&(n.error?n.error.apply(n,e):n.log.apply(n,e))}
var ae=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]
var ie=function(e){var t=e.getParam("textpattern_patterns",ae,"array")
if(!c(t)){oe("The setting textpattern_patterns should be an array")
return{inlinePatterns:[],blockPatterns:[]}}var n=q(_(t,Q))
L(n.errors,(function(e){return oe(e.message,e.pattern)}))
return te(n.values)}
var ue=function(e){var t=e.getParam("forced_root_block","p")
return false===t?"":true===t?"p":t}
var ce=tinymce.util.Tools.resolve("tinymce.util.Delay")
var se=tinymce.util.Tools.resolve("tinymce.util.VK")
var le="\ufeff"
var fe=" "
var ve=tinymce.util.Tools.resolve("tinymce.util.Tools")
var de=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var me=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker")
var ge=function(e,t){return{container:e,offset:t}}
var he=function(e){return e.nodeType===Node.TEXT_NODE}
var pe=function(e,t,n){if(t&&e.isEmpty(t)&&!n(t)){var r=t.parentNode
e.remove(t)
pe(e,r,n)}}
var be=function(e,t,n,r){void 0===r&&(r=true)
var o=t.startContainer.parentNode
var a=t.endContainer.parentNode
t.deleteContents()
if(r&&!n(t.startContainer)){he(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer)
he(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer)
pe(e,o,n)
o!==a&&pe(e,a,n)}}
var ye=function(e,t){var n=t.get(e)
return c(n)&&H(n).exists((function(e){return j(e,"block")}))}
var we=function(e){return 0===e.start.length}
var xe=function(e,t){var n=S.from(e.dom.getParent(t.startContainer,e.dom.isBlock))
return""===ue(e)?n.orThunk((function(){return S.some(e.getBody())})):n}
var Ce=de.DOM
var Se=function(e){return function(t){return e===t?-1:0}}
var ke=function(e){return function(t){return e.isBlock(t)||E(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)}}
var Oe=function(e,t,n){if(he(e)&&t>=0)return S.some(ge(e,t))
var r=me(Ce)
return S.from(r.backwards(e,t,Se(e),n)).map((function(e){return ge(e.container,e.container.data.length)}))}
var Te=function(e,t,n){if(he(e)&&t>=e.length)return S.some(ge(e,t))
var r=me(Ce)
return S.from(r.forwards(e,t,Se(e),n)).map((function(e){return ge(e.container,0)}))}
var Ee=function(e,t,n){if(!he(e))return S.none()
var r=e.textContent
if(t>=0&&t<=r.length)return S.some(ge(e,t))
var o=me(Ce)
return S.from(o.backwards(e,t,Se(e),n)).bind((function(e){var r=e.container.data
return Ee(e.container,t+r.length,n)}))}
var _e=function(e,t,n){if(!he(e))return S.none()
var r=e.textContent
if(t<=r.length)return S.some(ge(e,t))
var o=me(Ce)
return S.from(o.forwards(e,t,Se(e),n)).bind((function(e){return _e(e.container,t-r.length,n)}))}
var Le=function(e,t,n,r,o){var a=me(e,ke(e))
return S.from(a.backwards(t,n,r,o))}
var De=function(e,t,n){if(he(t)&&(n<0||n>t.data.length))return[]
var r=[n]
var o=t
while(o!==e&&o.parentNode){var a=o.parentNode
for(var i=0;i<a.childNodes.length;i++)if(a.childNodes[i]===o){r.push(i)
break}o=a}return o===e?r.reverse():[]}
var Ae=function(e,t,n,r,o){var a=De(e,t,n)
var i=De(e,r,o)
return{start:a,end:i}}
var Me=function(e,t){var n=t.slice()
var r=n.pop()
var o=N(n,(function(e,t){return e.bind((function(e){return S.from(e.childNodes[t])}))}),S.some(e))
return o.bind((function(e){return he(e)&&(r<0||r>e.data.length)?S.none():S.some({node:e,offset:r})}))}
var Ne=function(e,t){return Me(e,t.start).bind((function(n){var r=n.node,o=n.offset
return Me(e,t.end).map((function(e){var t=e.node,n=e.offset
var a=document.createRange()
a.setStart(r,o)
a.setEnd(t,n)
return a}))}))}
var Re=function(e,t){return Ae(e,t.startContainer,t.startOffset,t.endContainer,t.endOffset)}
var ze=function(e,t,n){var r=Te(t,0,t)
r.each((function(r){var o=r.container
_e(o,n.start.length,t).each((function(n){var r=e.createRng()
r.setStart(o,0)
r.setEnd(n.container,n.offset)
be(e,r,(function(e){return e===t}))}))}))}
var Be=function(e,t){var n=e.dom
var r=t.pattern
var o=Ne(n.getRoot(),t.range).getOrDie("Unable to resolve path range")
xe(e,o).each((function(t){"block-format"===r.type?ye(r.format,e.formatter)&&e.undoManager.transact((function(){ze(e.dom,t,r)
e.formatter.apply(r.format)})):"block-command"===r.type&&e.undoManager.transact((function(){ze(e.dom,t,r)
e.execCommand(r.cmd,false,r.value)}))}))
return true}
var Pe=function(e,t){var n=t.replace(fe," ")
return z(e,(function(e){return 0===t.indexOf(e.start)||0===n.indexOf(e.start)}))}
var Ie=function(e,t){var n=e.dom
var r=e.selection.getRng()
return xe(e,r).filter((function(t){var r=ue(e)
var o=""===r&&n.is(t,"body")||n.is(t,r)
return null!==t&&o})).bind((function(e){var r=e.textContent
var o=Pe(t,r)
return o.map((function(t){if(ve.trim(r).length===t.start.length)return[]
return[{pattern:t,range:Ae(n.getRoot(),e,0,e,0)}]}))})).getOr([])}
var He=function(e,t){if(0===t.length)return
var n=e.selection.getBookmark()
L(t,(function(t){return Be(e,t)}))
e.selection.moveToBookmark(n)}
var Fe=0
var Ve=function(e){var t=new Date
var n=t.getTime()
var r=Math.floor(1e9*Math.random())
Fe++
return e+"_"+r+Fe+String(n)}
var je=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}
var Ue=function(e,t){return je(e,t,e.length-t.length)}
var We=function(e,t){return e.create("span",{"data-mce-type":"bookmark",id:t})}
var qe=function(e,t){var n=e.createRng()
n.setStartAfter(t.start)
n.setEndBefore(t.end)
return n}
var $e=function(e,t,n){var r=Ne(e.getRoot(),n).getOrDie("Unable to resolve path range")
var o=r.startContainer
var a=r.endContainer
var i=0===r.endOffset?a:a.splitText(r.endOffset)
var u=0===r.startOffset?o:o.splitText(r.startOffset)
return{prefix:t,end:i.parentNode.insertBefore(We(e,t+"-end"),i),start:u.parentNode.insertBefore(We(e,t+"-start"),u)}}
var Ge=function(e,t,n){pe(e,e.get(t.prefix+"-end"),n)
pe(e,e.get(t.prefix+"-start"),n)}
var Xe=function(e,t,n){return function(e,t){var r=e.data
var o=r.substring(0,t)
var a=o.lastIndexOf(n.charAt(n.length-1))
var i=o.lastIndexOf(n)
return-1!==i?i+n.length:-1!==a?a+1:-1}}
var Ke=function(e,t,n,r){var o=t.start
var a=Le(e,r.container,r.offset,Xe(e,n,o),n)
return a.bind((function(r){if(r.offset>=o.length){var a=e.createRng()
a.setStart(r.container,r.offset-o.length)
a.setEnd(r.container,r.offset)
return S.some(a)}var i=r.offset-o.length
return Ee(r.container,i,n).map((function(t){var n=e.createRng()
n.setStart(t.container,t.offset)
n.setEnd(r.container,r.offset)
return n})).filter((function(e){return e.toString()===o})).orThunk((function(){return Ke(e,t,n,ge(r.container,0))}))}))}
var Ze=function(e,t,n,r,o,a){void 0===a&&(a=false)
if(0===t.start.length&&!a){var i=e.createRng()
i.setStart(n,r)
i.setEnd(n,r)
return S.some(i)}return Oe(n,r,o).bind((function(n){var r=Ke(e,t,o,n)
return r.bind((function(e){if(a){if(e.endContainer===n.container&&e.endOffset===n.offset)return S.none()
if(0===n.offset&&e.endContainer.textContent.length===e.endOffset)return S.none()}return S.some(e)}))}))}
var Ye=function(e,t,n){var r=e.dom
var o=r.getRoot()
var a=n.pattern
var i=n.position.container
var u=n.position.offset
return Ee(i,u-n.pattern.end.length,t).bind((function(c){var s=Ae(o,c.container,c.offset,i,u)
if(we(a))return S.some({matches:[{pattern:a,startRng:s,endRng:s}],position:c})
var l=Je(e,n.remainingPatterns,c.container,c.offset,t)
var f=l.getOr({matches:[],position:c})
var v=f.position
var d=Ze(r,a,v.container,v.offset,t,l.isNone())
return d.map((function(e){var t=Re(o,e)
return{matches:f.matches.concat([{pattern:a,startRng:t,endRng:s}]),position:ge(e.startContainer,e.startOffset)}}))}))}
var Je=function(e,t,n,r,o){var a=e.dom
return Oe(n,r,a.getRoot()).bind((function(i){var u=a.createRng()
u.setStart(o,0)
u.setEnd(n,r)
var c=u.toString()
for(var s=0;s<t.length;s++){var l=t[s]
if(!Ue(c,l.end))continue
var f=t.slice()
f.splice(s,1)
var v=Ye(e,o,{pattern:l,remainingPatterns:f,position:i})
if(v.isSome())return v}return S.none()}))}
var Qe=function(e,t,n){e.selection.setRng(n)
"inline-format"===t.type?L(t.format,(function(t){e.formatter.apply(t)})):e.execCommand(t.cmd,false,t.value)}
var et=function(e,t,n,r){var o=qe(e.dom,n)
be(e.dom,o,r)
Qe(e,t,o)}
var tt=function(e,t,n,r,o){var a=e.dom
var i=qe(a,r)
var u=qe(a,n)
be(a,u,o)
be(a,i,o)
var c={prefix:n.prefix,start:n.end,end:r.start}
var s=qe(a,c)
Qe(e,t,s)}
var nt=function(e,t){var r=Ve("mce_textpattern")
var o=M(t,(function(t,o){var a=$e(e,r+"_end"+t.length,o.endRng)
return t.concat([n(n({},o),{endMarker:a})])}),[])
return M(o,(function(t,a){var i=o.length-t.length-1
var u=we(a.pattern)?a.endMarker:$e(e,r+"_start"+i,a.startRng)
return t.concat([n(n({},a),{startMarker:u})])}),[])}
var rt=function(e,t,n){var r=e.selection.getRng()
if(false===r.collapsed)return[]
return xe(e,r).bind((function(o){var a=r.startOffset-(n?1:0)
return Je(e,t,r.startContainer,a,o)})).fold((function(){return[]}),(function(e){return e.matches}))}
var ot=function(e,t){if(0===t.length)return
var n=e.dom
var r=e.selection.getBookmark()
var o=nt(n,t)
L(o,(function(t){var r=n.getParent(t.startMarker.start,n.isBlock)
var o=function(e){return e===r}
we(t.pattern)?et(e,t.pattern,t.endMarker,o):tt(e,t.pattern,t.startMarker,t.endMarker,o)
Ge(n,t.endMarker,o)
Ge(n,t.startMarker,o)}))
e.selection.moveToBookmark(r)}
var at=function(e,t){if(!e.selection.isCollapsed())return false
var n=rt(e,t.inlinePatterns,false)
var r=Ie(e,t.blockPatterns)
if(r.length>0||n.length>0){e.undoManager.add()
e.undoManager.extra((function(){e.execCommand("mceInsertNewLine")}),(function(){e.insertContent(le)
ot(e,n)
He(e,r)
var t=e.selection.getRng()
var o=Oe(t.startContainer,t.startOffset,e.dom.getRoot())
e.execCommand("mceInsertNewLine")
o.each((function(t){var n=t.container
if(n.data.charAt(t.offset-1)===le){n.deleteData(t.offset-1,1)
pe(e.dom,n.parentNode,(function(t){return t===e.dom.getRoot()}))}}))}))
return true}return false}
var it=function(e,t){var n=rt(e,t.inlinePatterns,true)
n.length>0&&e.undoManager.transact((function(){ot(e,n)}))}
var ut=function(e,t,n){for(var r=0;r<e.length;r++)if(n(e[r],t))return true}
var ct=function(e,t){return ut(e,t,(function(e,t){return e===t.keyCode&&false===se.modifierPressed(t)}))}
var st=function(e,t){return ut(e,t,(function(e,t){return e.charCodeAt(0)===t.charCode}))}
var lt=function(e,t){var n=[",",".",";",":","!","?"]
var r=[32]
e.on("keydown",(function(n){13!==n.keyCode||se.modifierPressed(n)||at(e,t.get())&&n.preventDefault()}),true)
e.on("keyup",(function(n){ct(r,n)&&it(e,t.get())}))
e.on("keypress",(function(r){st(n,r)&&ce.setEditorTimeout(e,(function(){it(e,t.get())}))}))}
function ft(){t.add("textpattern",(function(t){var n=e(ie(t))
lt(t,n)
return ne(n)}))}ft()})()},"71tw":function(e,t,n){"use strict"
n.d(t,"c",(function(){return a}))
n.d(t,"b",(function(){return u}))
n.d(t,"a",(function(){return c}))
let r=false
let o=false
function a(e){i(e.Env)}function i(e){r=!!e.ie
o=r&&!!(e.edge||12==e.ie)}function u(){return r}function c(){return o}},"8MtL":function(e,t){(function(){"use strict"
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var t=tinymce.util.Tools.resolve("tinymce.util.Tools")
var n=function(e){return e.getParam("noneditable_noneditable_class","mceNonEditable")}
var r=function(e){return e.getParam("noneditable_editable_class","mceEditable")}
var o=function(e){var t=e.getParam("noneditable_regexp",[])
return t&&t.constructor===RegExp?[t]:t}
var a=function(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}}
var i=function(e,t,n){return function(r){var o=arguments,a=o[o.length-2]
var i=a>0?t.charAt(a-1):""
if('"'===i)return r
if(">"===i){var u=t.lastIndexOf("<",a)
if(-1!==u){var c=t.substring(u,a)
if(-1!==c.indexOf('contenteditable="false"'))return r}}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"===typeof o[1]?o[1]:o[0])+"</span>"}}
var u=function(e,t,r){var o=t.length,a=r.content
if("raw"===r.format)return
while(o--)a=a.replace(t[o],i(e,a,n(e)))
r.content=a}
var c=function(e){var i="contenteditable"
var c=" "+t.trim(r(e))+" "
var s=" "+t.trim(n(e))+" "
var l=a(c)
var f=a(s)
var v=o(e)
e.on("PreInit",(function(){v.length>0&&e.on("BeforeSetContent",(function(t){u(e,v,t)}))
e.parser.addAttributeFilter("class",(function(e){var t,n=e.length
while(n--){t=e[n]
l(t)?t.attr(i,"true"):f(t)&&t.attr(i,"false")}}))
e.serializer.addAttributeFilter(i,(function(e){var t,n=e.length
while(n--){t=e[n]
if(!l(t)&&!f(t))continue
if(v.length>0&&t.attr("data-mce-content")){t.name="#text"
t.type=3
t.raw=true
t.value=t.attr("data-mce-content")}else t.attr(i,null)}}))}))}
function s(){e.add("noneditable",(function(e){c(e)}))}s()})()},"9Uei":function(e,t,n){(function(t,n){(function(){"use strict"
var r=function(e){if(null===e)return"null"
if(void 0===e)return"undefined"
var t=typeof e
if("object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name))return"array"
if("object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name))return"string"
return t}
var o=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}
var a=function(e,t){var n=Array.prototype.slice.call(e)
return n.sort(t)}
var i=function(e,t){return u((function(n,r){return e.eq(t(n),t(r))}))}
var u=function(e){return{eq:e}}
var c=u((function(e,t){return e===t}))
var s=c
var l=function(e){return u((function(t,n){if(t.length!==n.length)return false
var r=t.length
for(var o=0;o<r;o++)if(!e.eq(t[o],n[o]))return false
return true}))}
var f=function(e,t){return i(l(e),(function(e){return a(e,t)}))}
var v=function(e){return u((function(t,n){var r=Object.keys(t)
var o=Object.keys(n)
if(!f(s).eq(r,o))return false
var a=r.length
for(var i=0;i<a;i++){var u=r[i]
if(!e.eq(t[u],n[u]))return false}return true}))}
var d=u((function(e,t){if(e===t)return true
var n=r(e)
var a=r(t)
if(n!==a)return false
if(o(n))return e===t
if("array"===n)return l(d).eq(e,t)
if("object"===n)return v(d).eq(e,t)
return false}))
var m=function(e){var t=typeof e
return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}
var g=function(e){return function(t){return m(t)===e}}
var h=function(e){return function(t){return typeof t===e}}
var p=function(e){return function(t){return e===t}}
var b=g("string")
var y=g("object")
var w=g("array")
var x=p(null)
var C=h("boolean")
var S=p(void 0)
var k=function(e){return null===e||void 0===e}
var O=function(e){return!k(e)}
var T=h("function")
var E=h("number")
var _=function(){}
var L=function(e,t){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return e(t.apply(null,n))}}
var D=function(e,t){return function(n){return e(t(n))}}
var A=function(e){return function(){return e}}
var M=function(e){return e}
function N(e){var t=[]
for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=t.concat(n)
return e.apply(null,o)}}var R=function(e){return function(t){return!e(t)}}
var z=function(e){return function(){throw new Error(e)}}
var B=function(e){return e()}
var P=function(e){e()}
var I=A(false)
var H=A(true)
var F=function(){return V}
var V=function(){var e=function(e){return e.isNone()}
var t=function(e){return e()}
var n=function(e){return e}
var r={fold:function(e,t){return e()},is:I,isSome:I,isNone:H,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:A(null),getOrUndefined:A(void 0),or:n,orThunk:t,map:F,each:_,bind:F,exists:I,forall:H,filter:F,equals:e,equals_:e,toArray:function(){return[]},toString:A("none()")}
return r}()
var j=function(e){var t=A(e)
var n=function(){return o}
var r=function(t){return t(e)}
var o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:H,isNone:I,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return j(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:V},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(I,(function(t){return n(e,t)}))}}
return o}
var U=function(e){return null===e||void 0===e?V:j(e)}
var W={some:j,none:F,from:U}
var q=Array.prototype.slice
var $=Array.prototype.indexOf
var G=Array.prototype.push
var X=function(e,t){return $.call(e,t)}
var K=function(e,t){var n=X(e,t)
return-1===n?W.none():W.some(n)}
var Z=function(e,t){return X(e,t)>-1}
var Y=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
if(t(o,n))return true}return false}
var J=function(e,t){var n=e.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=e[o]
r[o]=t(a,o)}return r}
var Q=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
t(o,n)}}
var ee=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n]
t(r,n)}}
var te=function(e,t){var n=[]
var r=[]
for(var o=0,a=e.length;o<a;o++){var i=e[o]
var u=t(i,o)?n:r
u.push(i)}return{pass:n,fail:r}}
var ne=function(e,t){var n=[]
for(var r=0,o=e.length;r<o;r++){var a=e[r]
t(a,r)&&n.push(a)}return n}
var re=function(e,t,n){ee(e,(function(e){n=t(n,e)}))
return n}
var oe=function(e,t,n){Q(e,(function(e){n=t(n,e)}))
return n}
var ae=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r]
if(t(a,r))return W.some(a)
if(n(a,r))break}return W.none()}
var ie=function(e,t){return ae(e,t,I)}
var ue=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
if(t(o,n))return W.some(n)}return W.none()}
var ce=function(e){var t=[]
for(var n=0,r=e.length;n<r;++n){if(!w(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)
G.apply(t,e[n])}return t}
var se=function(e,t){return ce(J(e,t))}
var le=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n]
if(true!==t(o,n))return false}return true}
var fe=function(e){var t=q.call(e,0)
t.reverse()
return t}
var ve=function(e,t){return ne(e,(function(e){return!Z(t,e)}))}
var de=function(e,t){var n={}
for(var r=0,o=e.length;r<o;r++){var a=e[r]
n[String(a)]=t(a,r)}return n}
var me=function(e,t){var n=q.call(e,0)
n.sort(t)
return n}
var ge=function(e,t){return t>=0&&t<e.length?W.some(e[t]):W.none()}
var he=function(e){return ge(e,0)}
var pe=function(e){return ge(e,e.length-1)}
var be=T(Array.from)?Array.from:function(e){return q.call(e)}
var ye=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n)
if(r.isSome())return r}return W.none()}
var we=Object.keys
var xe=Object.hasOwnProperty
var Ce=function(e,t){var n=we(e)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=e[a]
t(i,a)}}
var Se=function(e,t){return ke(e,(function(e,n){return{k:n,v:t(e,n)}}))}
var ke=function(e,t){var n={}
Ce(e,(function(e,r){var o=t(e,r)
n[o.k]=o.v}))
return n}
var Oe=function(e){return function(t,n){e[n]=t}}
var Te=function(e,t,n,r){var o={}
Ce(e,(function(e,o){(t(e,o)?n:r)(e,o)}))
return o}
var Ee=function(e,t){var n={}
var r={}
Te(e,t,Oe(n),Oe(r))
return{t:n,f:r}}
var _e=function(e,t){var n={}
Te(e,t,Oe(n),_)
return n}
var Le=function(e,t){var n=[]
Ce(e,(function(e,r){n.push(t(e,r))}))
return n}
var De=function(e){return Le(e,(function(e){return e}))}
var Ae=function(e,t){return Me(e,t)?W.from(e[t]):W.none()}
var Me=function(e,t){return xe.call(e,t)}
var Ne=function(e,t){return Me(e,t)&&void 0!==e[t]&&null!==e[t]}
var Re=function(e,t,n){void 0===n&&(n=d)
return v(n).eq(e,t)}
var ze=Array.isArray
var Be=function(e){if(ze(e))return e
var t=[]
for(var n=0,r=e.length;n<r;n++)t[n]=e[n]
return t}
var Pe=function(e,t,n){var r,o
if(!e)return false
n=n||e
if(void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(false===t.call(n,e[r],r,e))return false}else for(r in e)if(e.hasOwnProperty(r)&&false===t.call(n,e[r],r,e))return false
return true}
var Ie=function(e,t){var n=[]
Pe(e,(function(r,o){n.push(t(r,o,e))}))
return n}
var He=function(e,t){var n=[]
Pe(e,(function(r,o){t&&!t(r,o,e)||n.push(r)}))
return n}
var Fe=function(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n
return-1}
var Ve=function(e,t,n,r){var o=S(n)?e[0]:n
for(var a=0;a<e.length;a++)o=t.call(r,o,e[a],a)
return o}
var je=function(e,t,n){var r,o
for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r
return-1}
var Ue=function(e){return e[e.length-1]}
var We=function(){We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n]
for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}
return We.apply(this,arguments)}
function qe(e,t){var n={}
for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r])
if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0
for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function $e(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length
var r=Array(e),o=0
for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var Ge=function(e){var t=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!t){t=true
n=e.apply(null,r)}return n}}
var Xe=function(e,t,n,r){var o=e.isiOS()&&true===/ipad/i.test(n)
var a=e.isiOS()&&!o
var i=e.isiOS()||e.isAndroid()
var u=i||r("(pointer:coarse)")
var c=o||!a&&i&&r("(min-device-width:768px)")
var s=a||i&&!c
var l=t.isSafari()&&e.isiOS()&&false===/safari/i.test(n)
var f=!s&&!c&&!l
return{isiPad:A(o),isiPhone:A(a),isTablet:A(c),isPhone:A(s),isTouch:A(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(l),isDesktop:A(f)}}
var Ke=function(e,t){for(var n=0;n<e.length;n++){var r=e[n]
if(r.test(t))return r}return}
var Ze=function(e,t){var n=Ke(e,t)
if(!n)return{major:0,minor:0}
var r=function(e){return Number(t.replace(n,"$"+e))}
return Qe(r(1),r(2))}
var Ye=function(e,t){var n=String(t).toLowerCase()
if(0===e.length)return Je()
return Ze(e,n)}
var Je=function(){return Qe(0,0)}
var Qe=function(e,t){return{major:e,minor:t}}
var et={nu:Qe,detect:Ye,unknown:Je}
var tt=function(e,t){var n=String(t).toLowerCase()
return ie(e,(function(e){return e.search(n)}))}
var nt=function(e,t){return tt(e,t).map((function(e){var n=et.detect(e.versionRegexes,t)
return{current:e.name,version:n}}))}
var rt=function(e,t){return tt(e,t).map((function(e){var n=et.detect(e.versionRegexes,t)
return{current:e.name,version:n}}))}
var ot={detectBrowser:nt,detectOs:rt}
var at=function(e,t){return e.substring(t)}
var it=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}
var ut=function(e,t){return st(e,t)?at(e,t.length):e}
var ct=function(e,t){return-1!==e.indexOf(t)}
var st=function(e,t){return it(e,t,0)}
var lt=function(e){return function(t){return t.replace(e,"")}}
var ft=lt(/^\s+|\s+$/g)
var vt=lt(/^\s+/g)
var dt=lt(/\s+$/g)
var mt=function(e){return e.length>0}
var gt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var ht=function(e){return function(t){return ct(t,e)}}
var pt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ct(e,"edge/")&&ct(e,"chrome")&&ct(e,"safari")&&ct(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,gt],search:function(e){return ct(e,"chrome")&&!ct(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ct(e,"msie")||ct(e,"trident")}},{name:"Opera",versionRegexes:[gt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ht("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ht("firefox")},{name:"Safari",versionRegexes:[gt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ct(e,"safari")||ct(e,"mobile/"))&&ct(e,"applewebkit")}}]
var bt=[{name:"Windows",search:ht("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ct(e,"iphone")||ct(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ht("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ht("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ht("linux"),versionRegexes:[]},{name:"Solaris",search:ht("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ht("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ht("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var yt={browsers:A(pt),oses:A(bt)}
var wt="Edge"
var xt="Chrome"
var Ct="IE"
var St="Opera"
var kt="Firefox"
var Ot="Safari"
var Tt=function(){return Et({current:void 0,version:et.unknown()})}
var Et=function(e){var t=e.current
var n=e.version
var r=function(e){return function(){return t===e}}
return{current:t,version:n,isEdge:r(wt),isChrome:r(xt),isIE:r(Ct),isOpera:r(St),isFirefox:r(kt),isSafari:r(Ot)}}
var _t={unknown:Tt,nu:Et,edge:A(wt),chrome:A(xt),ie:A(Ct),opera:A(St),firefox:A(kt),safari:A(Ot)}
var Lt="Windows"
var Dt="iOS"
var At="Android"
var Mt="Linux"
var Nt="OSX"
var Rt="Solaris"
var zt="FreeBSD"
var Bt="ChromeOS"
var Pt=function(){return It({current:void 0,version:et.unknown()})}
var It=function(e){var t=e.current
var n=e.version
var r=function(e){return function(){return t===e}}
return{current:t,version:n,isWindows:r(Lt),isiOS:r(Dt),isAndroid:r(At),isOSX:r(Nt),isLinux:r(Mt),isSolaris:r(Rt),isFreeBSD:r(zt),isChromeOS:r(Bt)}}
var Ht={unknown:Pt,nu:It,windows:A(Lt),ios:A(Dt),android:A(At),linux:A(Mt),osx:A(Nt),solaris:A(Rt),freebsd:A(zt),chromeos:A(Bt)}
var Ft=function(e,t){var n=yt.browsers()
var r=yt.oses()
var o=ot.detectBrowser(n,e).fold(_t.unknown,_t.nu)
var a=ot.detectOs(r,e).fold(Ht.unknown,Ht.nu)
var i=Xe(a,o,e,t)
return{browser:o,os:a,deviceType:i}}
var Vt={detect:Ft}
var jt=function(e){return window.matchMedia(e).matches}
var Ut=Ge((function(){return Vt.detect(navigator.userAgent,jt)}))
var Wt=function(){return Ut()}
var qt=navigator.userAgent
var $t=Wt()
var Gt=$t.browser
var Xt=$t.os
var Kt=$t.deviceType
var Zt=/WebKit/.test(qt)&&!Gt.isEdge()
var Yt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL
var Jt=-1!==qt.indexOf("Windows Phone")
var Qt={opera:Gt.isOpera(),webkit:Zt,ie:!(!Gt.isIE()&&!Gt.isEdge())&&Gt.version.major,gecko:Gt.isFirefox(),mac:Xt.isOSX()||Xt.isiOS(),iOS:Kt.isiPad()||Kt.isiPhone(),android:Xt.isAndroid(),contentEditable:true,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:true,range:window.getSelection&&"Range"in window,documentMode:Gt.isIE()?document.documentMode||7:10,fileApi:Yt,ceFalse:true,cacheSuffix:null,container:null,experimentalShadowDom:false,canHaveCSP:!Gt.isIE(),desktop:Kt.isDesktop(),windowsPhone:Jt,browser:{current:Gt.current,version:Gt.version,isChrome:Gt.isChrome,isEdge:Gt.isEdge,isFirefox:Gt.isFirefox,isIE:Gt.isIE,isOpera:Gt.isOpera,isSafari:Gt.isSafari},os:{current:Xt.current,version:Xt.version,isAndroid:Xt.isAndroid,isChromeOS:Xt.isChromeOS,isFreeBSD:Xt.isFreeBSD,isiOS:Xt.isiOS,isLinux:Xt.isLinux,isOSX:Xt.isOSX,isSolaris:Xt.isSolaris,isWindows:Xt.isWindows},deviceType:{isDesktop:Kt.isDesktop,isiPad:Kt.isiPad,isiPhone:Kt.isiPhone,isPhone:Kt.isPhone,isTablet:Kt.isTablet,isTouch:Kt.isTouch,isWebView:Kt.isWebView}}
var en=/^\s*|\s*$/g
var tn=function(e){return null===e||void 0===e?"":(""+e).replace(en,"")}
var nn=function(e,t){if(!t)return void 0!==e
if("array"===t&&ze(e))return true
return typeof e===t}
var rn=function(e,t,n){var r
e=e||[]
t=t||","
"string"===typeof e&&(e=e.split(t))
n=n||{}
r=e.length
while(r--)n[e[r]]={}
return n}
var on=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}
var an=function(e,t,n){var r=this
var o,a,i,u=0
e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e)
var c=e[3].match(/(^|\.)(\w+)$/i)[2]
var s=r.createNS(e[3].replace(/\.\w+$/,""),n)
if(s[c])return
if("static"===e[2]){s[c]=t
this.onCreate&&this.onCreate(e[2],e[3],s[c])
return}if(!t[c]){t[c]=function(){}
u=1}s[c]=t[c]
r.extend(s[c].prototype,t)
if(e[5]){o=r.resolve(e[5]).prototype
a=e[5].match(/\.(\w+)$/i)[1]
i=s[c]
s[c]=u?function(){return o[a].apply(this,arguments)}:function(){this.parent=o[a]
return i.apply(this,arguments)}
s[c].prototype[c]=s[c]
r.each(o,(function(e,t){s[c].prototype[t]=o[t]}))
r.each(t,(function(e,t){o[t]?s[c].prototype[t]=function(){this.parent=o[t]
return e.apply(this,arguments)}:t!==c&&(s[c].prototype[t]=e)}))}r.each(t.static,(function(e,t){s[c][t]=e}))}
var un=function(e){var t=[]
for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n]
for(var r=0;r<t.length;r++){var o=t[r]
for(var a in o)if(o.hasOwnProperty(a)){var i=o[a]
void 0!==i&&(e[a]=i)}}return e}
var cn=function(e,t,n,r){r=r||this
if(e){n&&(e=e[n])
Pe(e,(function(e,o){if(false===t.call(r,e,o,n))return false
cn(e,t,n,r)}))}}
var sn=function(e,t){var n,r
t=t||window
e=e.split(".")
for(n=0;n<e.length;n++){r=e[n]
t[r]||(t[r]={})
t=t[r]}return t}
var ln=function(e,t){var n,r
t=t||window
e=e.split(".")
for(n=0,r=e.length;n<r;n++){t=t[e[n]]
if(!t)break}return t}
var fn=function(e,t){if(!e||nn(e,"array"))return e
return Ie(e.split(t||","),tn)}
var vn=function(e){var t=Qt.cacheSuffix
t&&(e+=(-1===e.indexOf("?")?"?":"&")+t)
return e}
var dn={trim:tn,isArray:ze,is:nn,toArray:Be,makeMap:rn,each:Pe,map:Ie,grep:He,inArray:Fe,hasOwn:on,extend:un,create:an,walk:cn,createNS:sn,resolve:ln,explode:fn,_addCacheSuffix:vn}
var mn=function(e,t){var n=t||document
var r=n.createElement("div")
r.innerHTML=e
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e)
throw new Error("HTML must have a single root node")}return pn(r.childNodes[0])}
var gn=function(e,t){var n=t||document
var r=n.createElement(e)
return pn(r)}
var hn=function(e,t){var n=t||document
var r=n.createTextNode(e)
return pn(r)}
var pn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined")
return{dom:e}}
var bn=function(e,t,n){return W.from(e.dom.elementFromPoint(t,n)).map(pn)}
var yn={fromHtml:mn,fromTag:gn,fromText:hn,fromDom:pn,fromPoint:bn}
var wn=function(e,t){var n=[]
var r=function(e){n.push(e)
return t(e)}
var o=t(e)
do{o=o.bind(r)}while(o.isSome())
return n}
var xn=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)}
var Cn=function(e,t){return xn(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Sn=8
var kn=9
var On=11
var Tn=1
var En=3
var _n=function(e,t){var n=e.dom
if(n.nodeType!==Tn)return false
var r=n
if(void 0!==r.matches)return r.matches(t)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t)
throw new Error("Browser lacks native selectors")}
var Ln=function(e){return e.nodeType!==Tn&&e.nodeType!==kn&&e.nodeType!==On||0===e.childElementCount}
var Dn=function(e,t){var n=void 0===t?document:t.dom
return Ln(n)?[]:J(n.querySelectorAll(e),yn.fromDom)}
var An=function(e,t){var n=void 0===t?document:t.dom
return Ln(n)?W.none():W.from(n.querySelector(e)).map(yn.fromDom)}
var Mn=function(e,t){return e.dom===t.dom}
var Nn=function(e,t){var n=e.dom
var r=t.dom
return n!==r&&n.contains(r)}
var Rn=function(e,t){return Cn(e.dom,t.dom)}
var zn=function(e,t){return Wt().browser.isIE()?Rn(e,t):Nn(e,t)}
"undefined"!==typeof window?window:Function("return this;")()
var Bn=function(e){var t=e.dom.nodeName
return t.toLowerCase()}
var Pn=function(e){return e.dom.nodeType}
var In=function(e){return function(t){return Pn(t)===e}}
var Hn=function(e){return Pn(e)===Sn||"#comment"===Bn(e)}
var Fn=In(Tn)
var Vn=In(En)
var jn=In(kn)
var Un=In(On)
var Wn=function(e){return yn.fromDom(e.dom.ownerDocument)}
var qn=function(e){return jn(e)?e:Wn(e)}
var $n=function(e){return yn.fromDom(qn(e).dom.documentElement)}
var Gn=function(e){return yn.fromDom(qn(e).dom.defaultView)}
var Xn=function(e){return W.from(e.dom.parentNode).map(yn.fromDom)}
var Kn=function(e,t){var n=T(t)?t:I
var r=e.dom
var o=[]
while(null!==r.parentNode&&void 0!==r.parentNode){var a=r.parentNode
var i=yn.fromDom(a)
o.push(i)
if(true===n(i))break
r=a}return o}
var Zn=function(e){var t=function(t){return ne(t,(function(t){return!Mn(e,t)}))}
return Xn(e).map(tr).map(t).getOr([])}
var Yn=function(e){return W.from(e.dom.previousSibling).map(yn.fromDom)}
var Jn=function(e){return W.from(e.dom.nextSibling).map(yn.fromDom)}
var Qn=function(e){return fe(wn(e,Yn))}
var er=function(e){return wn(e,Jn)}
var tr=function(e){return J(e.dom.childNodes,yn.fromDom)}
var nr=function(e,t){var n=e.dom.childNodes
return W.from(n[t]).map(yn.fromDom)}
var rr=function(e){return nr(e,0)}
var or=function(e){return nr(e,e.dom.childNodes.length-1)}
var ar=function(e){return e.dom.childNodes.length}
var ir=function(e){var t=e.dom.head
if(null===t||void 0===t)throw new Error("Head is not available yet")
return yn.fromDom(t)}
var ur=function(e){return Un(e)&&O(e.dom.host)}
var cr=T(Element.prototype.attachShadow)&&T(Node.prototype.getRootNode)
var sr=A(cr)
var lr=cr?function(e){return yn.fromDom(e.dom.getRootNode())}:qn
var fr=function(e){return ur(e)?e:ir(qn(e))}
var vr=function(e){var t=lr(e)
return ur(t)?W.some(t):W.none()}
var dr=function(e){return yn.fromDom(e.dom.host)}
var mr=function(e){if(sr()&&O(e.target)){var t=yn.fromDom(e.target)
if(Fn(t)&&gr(t)&&e.composed&&e.composedPath){var n=e.composedPath()
if(n)return he(n)}}return W.from(e.target)}
var gr=function(e){return O(e.dom.shadowRoot)}
var hr=function(e,t){var n=Xn(e)
n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}
var pr=function(e,t){var n=Jn(e)
n.fold((function(){var n=Xn(e)
n.each((function(e){yr(e,t)}))}),(function(e){hr(e,t)}))}
var br=function(e,t){var n=rr(e)
n.fold((function(){yr(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))}
var yr=function(e,t){e.dom.appendChild(t.dom)}
var wr=function(e,t){hr(e,t)
yr(t,e)}
var xr=function(e,t){Q(t,(function(t){hr(e,t)}))}
var Cr=function(e,t){Q(t,(function(t){yr(e,t)}))}
var Sr=function(e){e.dom.textContent=""
Q(tr(e),(function(e){kr(e)}))}
var kr=function(e){var t=e.dom
null!==t.parentNode&&t.parentNode.removeChild(t)}
var Or=function(e){var t=tr(e)
t.length>0&&xr(e,t)
kr(e)}
var Tr=function(e){var t=Vn(e)?e.dom.parentNode:e.dom
if(void 0===t||null===t||null===t.ownerDocument)return false
var n=t.ownerDocument
return vr(yn.fromDom(t)).fold((function(){return n.body.contains(t)}),D(Tr,dr))}
var Er=function(e,t){var n=function(n,r){return Er(e+n,t+r)}
return{left:e,top:t,translate:n}}
var _r=Er
var Lr=function(e){var t=e.getBoundingClientRect()
return _r(t.left,t.top)}
var Dr=function(e,t){return void 0!==e?e:void 0!==t?t:0}
var Ar=function(e){var t=e.dom.ownerDocument
var n=t.body
var r=t.defaultView
var o=t.documentElement
if(n===e.dom)return _r(n.offsetLeft,n.offsetTop)
var a=Dr(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop)
var i=Dr(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft)
var u=Dr(o.clientTop,n.clientTop)
var c=Dr(o.clientLeft,n.clientLeft)
return Mr(e).translate(i-c,a-u)}
var Mr=function(e){var t=e.dom
var n=t.ownerDocument
var r=n.body
if(r===t)return _r(r.offsetLeft,r.offsetTop)
if(!Tr(e))return _r(0,0)
return Lr(t)}
var Nr=function(e){var t=void 0!==e?e.dom:document
var n=t.body.scrollLeft||t.documentElement.scrollLeft
var r=t.body.scrollTop||t.documentElement.scrollTop
return _r(n,r)}
var Rr=function(e,t,n){var r=void 0!==n?n.dom:document
var o=r.defaultView
o&&o.scrollTo(e,t)}
var zr=function(e,t){var n=Wt().browser.isSafari()
n&&T(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(false):e.dom.scrollIntoView(t)}
var Br=function(e){var t=void 0===e?window:e
return W.from(t["visualViewport"])}
var Pr=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}}
var Ir=function(e){var t=void 0===e?window:e
var n=t.document
var r=Nr(yn.fromDom(n))
return Br(t).fold((function(){var e=t.document.documentElement
var n=e.clientWidth
var o=e.clientHeight
return Pr(r.left,r.top,n,o)}),(function(e){return Pr(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))}
var Hr=function(e){return function(t){return!!t&&t.nodeType===e}}
var Fr=function(e){return!!e&&!Object.getPrototypeOf(e)}
var Vr=Hr(1)
var jr=function(e){var t=e.map((function(e){return e.toLowerCase()}))
return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase()
return Z(t,n)}return false}}
var Ur=function(e,t){var n=t.toLowerCase().split(" ")
return function(t){var r,o
if(Vr(t))for(r=0;r<n.length;r++){var a=t.ownerDocument.defaultView.getComputedStyle(t,null)
o=a?a.getPropertyValue(e):null
if(o===n[r])return true}return false}}
var Wr=function(e){return function(t){return Vr(t)&&t.hasAttribute(e)}}
var qr=function(e,t){return function(n){return Vr(n)&&n.getAttribute(e)===t}}
var $r=function(e){return Vr(e)&&e.hasAttribute("data-mce-bogus")}
var Gr=function(e){return Vr(e)&&"all"===e.getAttribute("data-mce-bogus")}
var Xr=function(e){return Vr(e)&&"TABLE"===e.tagName}
var Kr=function(e){return function(t){if(Vr(t)){if(t.contentEditable===e)return true
if(t.getAttribute("data-mce-contenteditable")===e)return true}return false}}
var Zr=jr(["textarea","input"])
var Yr=Hr(3)
var Jr=Hr(8)
var Qr=Hr(9)
var eo=Hr(11)
var to=jr(["br"])
var no=jr(["img"])
var ro=Kr("true")
var oo=Kr("false")
var ao=jr(["td","th"])
var io=jr(["video","audio","object","embed"])
var uo=function(e){return void 0!==e.style&&T(e.style.getPropertyValue)}
var co=function(e,t,n){if(!(b(n)||C(n)||E(n))){console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e)
throw new Error("Attribute value was not simple")}e.setAttribute(t,n+"")}
var so=function(e,t,n){co(e.dom,t,n)}
var lo=function(e,t){var n=e.dom
Ce(t,(function(e,t){co(n,t,e)}))}
var fo=function(e,t){var n=e.dom.getAttribute(t)
return null===n?void 0:n}
var vo=function(e,t){return W.from(fo(e,t))}
var mo=function(e,t){var n=e.dom
return!(!n||!n.hasAttribute)&&n.hasAttribute(t)}
var go=function(e,t){e.dom.removeAttribute(t)}
var ho=function(e){return oe(e.dom.attributes,(function(e,t){e[t.name]=t.value
return e}),{})}
var po=function(e,t,n){if(!b(n)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e)
throw new Error("CSS value must be a string: "+n)}uo(e)&&e.style.setProperty(t,n)}
var bo=function(e,t){var n=e.dom
Ce(t,(function(e,t){po(n,t,e)}))}
var yo=function(e,t){var n=e.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(t)
return""!==o||Tr(e)?o:wo(n,t)}
var wo=function(e,t){return uo(e)?e.style.getPropertyValue(t):""}
var xo=function(e,t){var n=e.dom
var r=wo(n,t)
return W.from(r).filter((function(e){return e.length>0}))}
var Co=function(e){var t={}
var n=e.dom
if(uo(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r)
t[o]=n.style[o]}return t}
var So=function(e){return e.dom.offsetWidth}
var ko=Wt().browser
var Oo=function(e){return ie(e,Fn)}
var To=function(e){return ko.isFirefox()&&"table"===Bn(e)?Oo(tr(e)).filter((function(e){return"caption"===Bn(e)})).bind((function(e){return Oo(er(e)).map((function(t){var n=t.dom.offsetTop
var r=e.dom.offsetTop
var o=e.dom.offsetHeight
return n<=r?-o:0}))})).getOr(0):0}
var Eo=function(e,t){return e.children&&Z(e.children,t)}
var _o=function(e,t,n){var r,o=0,a=0
var i=e.ownerDocument
var u
n=n||e
if(t){if(n===e&&t.getBoundingClientRect&&"static"===yo(yn.fromDom(e),"position")){u=t.getBoundingClientRect()
o=u.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft
a=u.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop
return{x:o,y:a}}r=t
while(r&&r!==n&&r.nodeType&&!Eo(r,n)){o+=r.offsetLeft||0
a+=r.offsetTop||0
r=r.offsetParent}r=t.parentNode
while(r&&r!==n&&r.nodeType&&!Eo(r,n)){o-=r.scrollLeft||0
a-=r.scrollTop||0
r=r.parentNode}a+=To(yn.fromDom(t))}return{x:o,y:a}}
var Lo={},Do={exports:Lo};(function(e,n,r,o){(function(o){if("object"===typeof n&&"undefined"!==typeof r)r.exports=o()
else if("function"===typeof e&&e.amd)e([],o)
else{var a
a="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this
a.EphoxContactWrapper=o()}})((function(){return function(){function e(t,n,r){function a(u,c){if(!n[u]){if(!t[u]){var s="function"==typeof o&&o
if(!c&&s)return s(u,!0)
if(i)return i(u,!0)
var l=new Error("Cannot find module '"+u+"'")
throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}}
t[u][0].call(f.exports,(function(e){var n=t[u][1][e]
return a(n||e)}),f,f.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof o&&o,u=0;u<r.length;u++)a(r[u])
return a}return e}()({1:[function(e,t,n){var r=t.exports={}
var o
var a
function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{o="function"===typeof setTimeout?setTimeout:i}catch(e){o=i}try{a="function"===typeof clearTimeout?clearTimeout:u}catch(e){a=u}})()
function c(e){if(o===setTimeout)return setTimeout(e,0)
if((o===i||!o)&&setTimeout){o=setTimeout
return setTimeout(e,0)}try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function s(e){if(a===clearTimeout)return clearTimeout(e)
if((a===u||!a)&&clearTimeout){a=clearTimeout
return clearTimeout(e)}try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}var l=[]
var f=false
var v
var d=-1
function m(){if(!f||!v)return
f=false
v.length?l=v.concat(l):d=-1
l.length&&g()}function g(){if(f)return
var e=c(m)
f=true
var t=l.length
while(t){v=l
l=[]
while(++d<t)v&&v[d].run()
d=-1
t=l.length}v=null
f=false
s(e)}r.nextTick=function(e){var t=new Array(arguments.length-1)
if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n]
l.push(new h(e,t))
1!==l.length||f||c(g)}
function h(e,t){this.fun=e
this.array=t}h.prototype.run=function(){this.fun.apply(null,this.array)}
r.title="browser"
r.browser=true
r.env={}
r.argv=[]
r.version=""
r.versions={}
function p(){}r.on=p
r.addListener=p
r.once=p
r.off=p
r.removeListener=p
r.removeAllListeners=p
r.emit=p
r.prependListener=p
r.prependOnceListener=p
r.listeners=function(e){return[]}
r.binding=function(e){throw new Error("process.binding is not supported")}
r.cwd=function(){return"/"}
r.chdir=function(e){throw new Error("process.chdir is not supported")}
r.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){(function(n){var r=setTimeout
function o(){}function a(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof e)throw new TypeError("not a function")
this._state=0
this._handled=false
this._value=void 0
this._deferreds=[]
v(e,this)}function u(e,t){while(3===e._state)e=e._value
if(0===e._state){e._deferreds.push(t)
return}e._handled=true
i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected
if(null===n){(1===e._state?c:s)(t.promise,e._value)
return}var r
try{r=n(e._value)}catch(e){s(t.promise,e)
return}c(t.promise,r)}))}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.")
if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then
if(t instanceof i){e._state=3
e._value=t
l(e)
return}if("function"===typeof n){v(a(n,t),e)
return}}e._state=1
e._value=t
l(e)}catch(t){s(e,t)}}function s(e,t){e._state=2
e._value=t
l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}))
for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t])
e._deferreds=null}function f(e,t,n){this.onFulfilled="function"===typeof e?e:null
this.onRejected="function"===typeof t?t:null
this.promise=n}function v(e,t){var n=false
try{e((function(e){if(n)return
n=true
c(t,e)}),(function(e){if(n)return
n=true
s(t,e)}))}catch(e){if(n)return
n=true
s(t,e)}}i.prototype["catch"]=function(e){return this.then(null,e)}
i.prototype.then=function(e,t){var n=new this.constructor(o)
u(this,new f(e,t,n))
return n}
i.all=function(e){var t=Array.prototype.slice.call(e)
return new i((function(e,n){if(0===t.length)return e([])
var r=t.length
function o(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(e){o(a,e)}),n)
return}}t[a]=i
0===--r&&e(t)}catch(e){n(e)}}for(var a=0;a<t.length;a++)o(a,t[a])}))}
i.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===i)return e
return new i((function(t){t(e)}))}
i.reject=function(e){return new i((function(t,n){n(e)}))}
i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))}
i._immediateFn="function"===typeof e?function(t){e(t)}:function(e){r(e,0)}
i._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)}
i._setImmediateFn=function(e){i._immediateFn=e}
i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e}
"undefined"!==typeof t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick
var a=Function.prototype.apply
var i=Array.prototype.slice
var u={}
var c=0
n.setTimeout=function(){return new s(a.call(setTimeout,window,arguments),clearTimeout)}
n.setInterval=function(){return new s(a.call(setInterval,window,arguments),clearInterval)}
n.clearTimeout=n.clearInterval=function(e){e.close()}
function s(e,t){this._id=e
this._clearFn=t}s.prototype.unref=s.prototype.ref=function(){}
s.prototype.close=function(){this._clearFn.call(window,this._id)}
n.enroll=function(e,t){clearTimeout(e._idleTimeoutId)
e._idleTimeout=t}
n.unenroll=function(e){clearTimeout(e._idleTimeoutId)
e._idleTimeout=-1}
n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId)
var t=e._idleTimeout
t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))}
n.setImmediate="function"===typeof t?t:function(e){var t=c++
var r=!(arguments.length<2)&&i.call(arguments,1)
u[t]=true
o((function(){if(u[t]){r?e.apply(null,r):e.call(null)
n.clearImmediate(t)}}))
return t}
n.clearImmediate="function"===typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill")
var o="undefined"!==typeof window?window:Function("return this;")()
t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,Lo,Do,void 0)
var Ao=Do.exports.boltExport
var Mo=function(e){var t=W.none()
var n=[]
var r=function(e){return Mo((function(t){o((function(n){t(e(n))}))}))}
var o=function(e){i()?c(e):n.push(e)}
var a=function(e){if(!i()){t=W.some(e)
u(n)
n=[]}}
var i=function(){return t.isSome()}
var u=function(e){Q(e,c)}
var c=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))}
e(a)
return{get:o,map:r,isReady:i}}
var No=function(e){return Mo((function(t){t(e)}))}
var Ro={nu:Mo,pure:No}
var zo=function(e){setTimeout((function(){throw e}),0)}
var Bo=function(e){var t=function(t){e().then(t,zo)}
var n=function(t){return Bo((function(){return e().then(t)}))}
var r=function(t){return Bo((function(){return e().then((function(e){return t(e).toPromise()}))}))}
var o=function(t){return Bo((function(){return e().then((function(){return t.toPromise()}))}))}
var a=function(){return Ro.nu(t)}
var i=function(){var t=null
return Bo((function(){null===t&&(t=e())
return t}))}
var u=e
return{map:n,bind:r,anonBind:o,toLazy:a,toCached:i,toPromise:u,get:t}}
var Po=function(e){return Bo((function(){return new Ao(e)}))}
var Io=function(e){return Bo((function(){return Ao.resolve(e)}))}
var Ho={nu:Po,pure:Io}
var Fo=function(e,t){return t((function(t){var n=[]
var r=0
var o=function(o){return function(a){n[o]=a
r++
r>=e.length&&t(n)}}
0===e.length?t([]):Q(e,(function(e,t){e.get(o(t))}))}))}
var Vo=function(e){return Fo(e,Ho.nu)}
var jo=function(e){var t=function(t){return e===t}
var n=function(t){return jo(e)}
var r=function(t){return jo(e)}
var o=function(t){return jo(t(e))}
var a=function(t){return jo(e)}
var i=function(t){t(e)}
var u=function(t){return t(e)}
var c=function(t,n){return n(e)}
var s=function(t){return t(e)}
var l=function(t){return t(e)}
var f=function(){return W.some(e)}
return{is:t,isValue:H,isError:I,getOr:A(e),getOrThunk:A(e),getOrDie:A(e),or:n,orThunk:r,fold:c,map:o,mapError:a,each:i,bind:u,exists:s,forall:l,toOptional:f}}
var Uo=function(e){var t=function(e){return e()}
var n=function(){return z(String(e))()}
var r=function(e){return e}
var o=function(e){return e()}
var a=function(t){return Uo(e)}
var i=function(t){return Uo(t(e))}
var u=function(t){return Uo(e)}
var c=function(t,n){return t(e)}
return{is:I,isValue:I,isError:H,getOr:M,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:_,bind:u,exists:I,forall:H,toOptional:W.none}}
var Wo=function(e,t){return e.fold((function(){return Uo(t)}),jo)}
var qo={value:jo,error:Uo,fromOption:Wo}
var $o=function(e){if(!w(e))throw new Error("cases must be an array")
if(0===e.length)throw new Error("there must be at least one case")
var t=[]
var n={}
Q(e,(function(r,o){var a=we(r)
if(1!==a.length)throw new Error("one and only one name per case")
var i=a[0]
var u=r[i]
if(void 0!==n[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!w(u))throw new Error("case arguments must be an array")
t.push(i)
n[i]=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var a=n.length
if(a!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+a)
var c=function(e){var r=we(e)
if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","))
var o=le(t,(function(e){return Z(r,e)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "))
return e[i].apply(null,n)}
return{fold:function(){var t=[]
for(var r=0;r<arguments.length;r++)t[r]=arguments[r]
if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)
var a=t[o]
return a.apply(null,n)},match:c,log:function(e){console.log(e,{constructors:t,constructor:i,params:n})}}}}))
return n}
var Go={generate:$o}
Go.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}])
var Xo=function(e){return e.fold(M,M)}
function Ko(e,t,n,r,o){return e(n,r)?W.some(n):T(o)&&o(n)?W.none():t(n,r,o)}var Zo=function(e,t,n){var r=e.dom
var o=T(n)?n:I
while(r.parentNode){r=r.parentNode
var a=yn.fromDom(r)
if(t(a))return W.some(a)
if(o(a))break}return W.none()}
var Yo=function(e,t,n){var r=function(e,t){return t(e)}
return Ko(r,Zo,e,t,n)}
var Jo=function(e,t){var n=e.dom
if(!n.parentNode)return W.none()
return Qo(yn.fromDom(n.parentNode),(function(n){return!Mn(e,n)&&t(n)}))}
var Qo=function(e,t){var n=function(e){return t(yn.fromDom(e))}
var r=ie(e.dom.childNodes,n)
return r.map(yn.fromDom)}
var ea=function(e,t,n){return Zo(e,(function(e){return _n(e,t)}),n)}
var ta=function(e,t){return An(t,e)}
var na=function(e,t,n){var r=function(e,t){return _n(e,t)}
return Ko(r,ea,e,t,n)}
var ra=function(){var e=function(e,t){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
e.apply(t,n)}}
var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}
var r=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof t)throw new TypeError("not a function")
this._state=null
this._value=null
this._deferreds=[]
l(t,e(i,this),e(u,this))}
var o=r.immediateFn||"function"===typeof n&&n||function(e){return setTimeout(e,1)}
function a(e){var t=this
if(null===this._state){this._deferreds.push(e)
return}o((function(){var n=t._state?e.onFulfilled:e.onRejected
if(null===n){(t._state?e.resolve:e.reject)(t._value)
return}var r
try{r=n(t._value)}catch(t){e.reject(t)
return}e.resolve(r)}))}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.")
if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then
if("function"===typeof n){l(e(n,t),e(i,this),e(u,this))
return}}this._state=true
this._value=t
c.call(this)}catch(e){u.call(this,e)}}function u(e){this._state=false
this._value=e
c.call(this)}function c(){for(var e=0,t=this._deferreds.length;e<t;e++)a.call(this,this._deferreds[e])
this._deferreds=null}function s(e,t,n,r){this.onFulfilled="function"===typeof e?e:null
this.onRejected="function"===typeof t?t:null
this.resolve=n
this.reject=r}var l=function(e,t,n){var r=false
try{e((function(e){if(r)return
r=true
t(e)}),(function(e){if(r)return
r=true
n(e)}))}catch(e){if(r)return
r=true
n(e)}}
r.prototype.catch=function(e){return this.then(null,e)}
r.prototype.then=function(e,t){var n=this
return new r((function(r,o){a.call(n,new s(e,t,r,o))}))}
r.all=function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
var o=Array.prototype.slice.call(1===e.length&&t(e[0])?e[0]:e)
return new r((function(e,t){if(0===o.length)return e([])
var n=o.length
var r=function(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(e){r(a,e)}),t)
return}}o[a]=i
0===--n&&e(o)}catch(e){t(e)}}
for(var a=0;a<o.length;a++)r(a,o[a])}))}
r.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===r)return e
return new r((function(t){t(e)}))}
r.reject=function(e){return new r((function(t,n){n(e)}))}
r.race=function(e){return new r((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))}
return r}
var oa=window.Promise?window.Promise:ra()
var aa
var ia=function(e,t){var n=window.requestAnimationFrame
var r=["ms","moz","webkit"]
var o=function(e){window.setTimeout(e,0)}
for(var a=0;a<r.length&&!n;a++)n=window[r[a]+"RequestAnimationFrame"]
n||(n=o)
n(e,t)}
var ua=function(e,t){"number"!==typeof t&&(t=0)
return setTimeout(e,t)}
var ca=function(e,t){"number"!==typeof t&&(t=1)
return setInterval(e,t)}
var sa=function(e){return clearTimeout(e)}
var la=function(e){return clearInterval(e)}
var fa=function(e,t){var n
var r=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
clearTimeout(n)
n=ua((function(){e.apply(this,r)}),t)}
r.stop=function(){clearTimeout(n)}
return r}
var va={requestAnimationFrame:function(e,t){if(aa){aa.then(e)
return}aa=new oa((function(e){t||(t=document.body)
ia(e,t)})).then(e)},setTimeout:ua,setInterval:ca,setEditorTimeout:function(e,t,n){return ua((function(){e.removed||t()}),n)},setEditorInterval:function(e,t,n){var r=ca((function(){e.removed?clearInterval(r):t()}),n)
return r},debounce:fa,throttle:fa,clearInterval:la,clearTimeout:sa}
var da=function(e,t){void 0===t&&(t={})
var n=0
var r={}
var o=yn.fromDom(e)
var a=qn(o)
var i=t.maxLoadTime||5e3
var u=function(e){t.referrerPolicy=e}
var c=function(e){yr(fr(o),e)}
var s=function(e){var t=fr(o)
ta(t,"#"+e).each(kr)}
var l=function(e){return Ae(r,e).getOrThunk((function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}}))}
var f=function(n,o,u){var s
var f=dn._addCacheSuffix(n)
var v=l(f)
r[f]=v
v.count++
var d=function(e,t){var n=e.length
while(n--)e[n]()
v.status=t
v.passed=[]
v.failed=[]
if(s){s.onload=null
s.onerror=null
s=null}}
var m=function(){return d(v.passed,2)}
var g=function(){return d(v.failed,3)}
var h=function(e,t){e()||(Date.now()-y<i?va.setTimeout(t):g())}
var p=function(){h((function(){var t=e.styleSheets
var n=t.length
while(n--){var r=t[n]
var o=r.ownerNode
if(o&&o.id===s.id){m()
return true}}return false}),p)}
o&&v.passed.push(o)
u&&v.failed.push(u)
if(1===v.status)return
if(2===v.status){m()
return}if(3===v.status){g()
return}v.status=1
var b=yn.fromTag("link",a.dom)
lo(b,{rel:"stylesheet",type:"text/css",id:v.id})
var y=Date.now()
t.contentCssCors&&so(b,"crossOrigin","anonymous")
t.referrerPolicy&&so(b,"referrerpolicy",t.referrerPolicy)
s=b.dom
s.onload=p
s.onerror=g
c(b)
so(b,"href",f)}
var v=function(e){return Ho.nu((function(t){f(e,L(t,A(qo.value(e))),L(t,A(qo.error(e))))}))}
var d=function(e,t,n){Vo(J(e,v)).get((function(e){var r=te(e,(function(e){return e.isValue()}))
r.fail.length>0?n(r.fail.map(Xo)):t(r.pass.map(Xo))}))}
var m=function(e){var t=dn._addCacheSuffix(e)
Ae(r,t).each((function(e){var n=--e.count
if(0===n){delete r[t]
s(e.id)}}))}
var g=function(e){Q(e,(function(e){m(e)}))}
return{load:f,loadAll:d,unload:m,unloadAll:g,_setReferrerPolicy:u}}
var ma=function(){var e=new WeakMap
var t=function(t,n){var r=lr(t)
var o=r.dom
return W.from(e.get(o)).getOrThunk((function(){var t=da(o,n)
e.set(o,t)
return t}))}
return{forElement:t}}
var ga=ma()
var ha=function(){function e(e,t){this.node=e
this.rootNode=t
this.current=this.current.bind(this)
this.next=this.next.bind(this)
this.prev=this.prev.bind(this)
this.prev2=this.prev2.bind(this)}e.prototype.current=function(){return this.node}
e.prototype.next=function(e){this.node=this.findSibling(this.node,"firstChild","nextSibling",e)
return this.node}
e.prototype.prev=function(e){this.node=this.findSibling(this.node,"lastChild","previousSibling",e)
return this.node}
e.prototype.prev2=function(e){this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e)
return this.node}
e.prototype.findSibling=function(e,t,n,r){var o,a
if(e){if(!r&&e[t])return e[t]
if(e!==this.rootNode){o=e[n]
if(o)return o
for(a=e.parentNode;a&&a!==this.rootNode;a=a.parentNode){o=a[n]
if(o)return o}}}}
e.prototype.findPreviousNode=function(e,t,n,r){var o,a,i
if(e){o=e[n]
if(this.rootNode&&o===this.rootNode)return
if(o){if(!r)for(i=o[t];i;i=i[t])if(!i[t])return i
return o}a=e.parentNode
if(a&&a!==this.rootNode)return a}}
return e}()
var pa=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]
var ba=["td","th"]
var ya=["thead","tbody","tfoot"]
var wa=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]
var xa=["h1","h2","h3","h4","h5","h6"]
var Ca=["li","dd","dt"]
var Sa=["ul","ol","dl"]
var ka=["pre","script","textarea","style"]
var Oa=function(e){var t
return function(n){t=t||de(e,H)
return t.hasOwnProperty(Bn(n))}}
var Ta=Oa(xa)
var Ea=Oa(pa)
var _a=function(e){return"table"===Bn(e)}
var La=function(e){return Fn(e)&&!Ea(e)}
var Da=function(e){return Fn(e)&&"br"===Bn(e)}
var Aa=Oa(wa)
var Ma=Oa(Sa)
var Na=Oa(Ca)
var Ra=Oa(ya)
var za=Oa(ba)
var Ba=Oa(ka)
var Pa=function(e,t,n){return ea(e,t,n).isSome()}
var Ia="\ufeff"
var Ha=" "
var Fa=function(e){return e===Ia}
var Va=function(e){return e.replace(/\uFEFF/g,"")}
var ja=Ia
var Ua=Fa
var Wa=Va
var qa=Vr
var $a=Yr
var Ga=function(e){$a(e)&&(e=e.parentNode)
return qa(e)&&e.hasAttribute("data-mce-caret")}
var Xa=function(e){return $a(e)&&Ua(e.data)}
var Ka=function(e){return Ga(e)||Xa(e)}
var Za=function(e){return e.firstChild!==e.lastChild||!to(e.firstChild)}
var Ya=function(e,t){var n
var r=e.ownerDocument
var o=r.createTextNode(ja)
var a=e.parentNode
if(t){n=e.previousSibling
if($a(n)){if(Ka(n))return n
if(ri(n))return n.splitText(n.data.length-1)}a.insertBefore(o,e)}else{n=e.nextSibling
if($a(n)){if(Ka(n))return n
if(ni(n)){n.splitText(1)
return n}}e.nextSibling?a.insertBefore(o,e.nextSibling):a.appendChild(o)}return o}
var Ja=function(e){var t=e.container()
if(!Yr(t))return false
return t.data.charAt(e.offset())===ja||e.isAtStart()&&Xa(t.previousSibling)}
var Qa=function(e){var t=e.container()
if(!Yr(t))return false
return t.data.charAt(e.offset()-1)===ja||e.isAtEnd()&&Xa(t.nextSibling)}
var ei=function(){var e=document.createElement("br")
e.setAttribute("data-mce-bogus","1")
return e}
var ti=function(e,t,n){var r=t.ownerDocument
var o=r.createElement(e)
o.setAttribute("data-mce-caret",n?"before":"after")
o.setAttribute("data-mce-bogus","all")
o.appendChild(ei())
var a=t.parentNode
n?a.insertBefore(o,t):t.nextSibling?a.insertBefore(o,t.nextSibling):a.appendChild(o)
return o}
var ni=function(e){return $a(e)&&e.data[0]===ja}
var ri=function(e){return $a(e)&&e.data[e.data.length-1]===ja}
var oi=function(e){var t=e.getElementsByTagName("br")
var n=t[t.length-1]
$r(n)&&n.parentNode.removeChild(n)}
var ai=function(e){if(e&&e.hasAttribute("data-mce-caret")){oi(e)
e.removeAttribute("data-mce-caret")
e.removeAttribute("data-mce-bogus")
e.removeAttribute("style")
e.removeAttribute("_moz_abspos")
return e}return null}
var ii=function(e){return Ga(e.startContainer)}
var ui=ro
var ci=oo
var si=to
var li=Yr
var fi=jr(["script","style","textarea"])
var vi=jr(["img","input","textarea","hr","iframe","video","audio","object","embed"])
var di=jr(["table"])
var mi=Ka
var gi=function(e){if(mi(e))return false
if(li(e))return!fi(e.parentNode)
return vi(e)||si(e)||di(e)||pi(e)}
var hi=function(e){return Vr(e)&&"true"===e.getAttribute("unselectable")}
var pi=function(e){return false===hi(e)&&ci(e)}
var bi=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(pi(e))return false
if(ui(e))return true}return true}
var yi=function(e){if(!pi(e))return false
return true!==oe(be(e.getElementsByTagName("*")),(function(e,t){return e||ui(t)}),false)}
var wi=function(e){return vi(e)||yi(e)}
var xi=function(e,t){return gi(e)&&bi(e,t)}
var Ci=/^[ \t\r\n]*$/
var Si=function(e){return Ci.test(e)}
var ki=function(e,t){var n=yn.fromDom(t)
var r=yn.fromDom(e)
return Pa(r,"pre,code",N(Mn,n))}
var Oi=function(e,t){return Yr(e)&&Si(e.data)&&false===ki(e,t)}
var Ti=function(e){return Vr(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))}
var Ei=function(e,t){return gi(e)&&false===Oi(e,t)||Ti(e)||_i(e)}
var _i=Wr("data-mce-bookmark")
var Li=Wr("data-mce-bogus")
var Di=qr("data-mce-bogus","all")
var Ai=function(e,t){var n,r=0
if(Ei(e,e))return false
n=e.firstChild
if(!n)return true
var o=new ha(n,e)
do{if(t){if(Di(n)){n=o.next(true)
continue}if(Li(n)){n=o.next()
continue}}if(to(n)){r++
n=o.next()
continue}if(Ei(n,e))return false
n=o.next()}while(n)
return r<=1}
var Mi=function(e,t){void 0===t&&(t=true)
return Ai(e.dom,t)}
var Ni=function(e){return"span"===e.nodeName.toLowerCase()}
var Ri=function(e,t){return O(e)&&(Ei(e,t)||La(yn.fromDom(e)))}
var zi=function(e,t){var n=new ha(e,t).prev(false)
var r=new ha(e,t).next(false)
var o=S(n)||Ri(n,t)
var a=S(r)||Ri(r,t)
return o&&a}
var Bi=function(e){return Ni(e)&&"bookmark"===e.getAttribute("data-mce-type")}
var Pi=function(e,t){return Yr(e)&&e.data.length>0&&zi(e,t)}
var Ii=function(e){return!!Vr(e)&&e.childNodes.length>0}
var Hi=function(e){return eo(e)||Qr(e)}
var Fi=function(e,t,n){var r=n||t
if(Vr(t)&&Bi(t))return t
var o=t.childNodes
for(var a=o.length-1;a>=0;a--)Fi(e,o[a],r)
if(Vr(t)){var i=t.childNodes
1===i.length&&Bi(i[0])&&t.parentNode.insertBefore(i[0],t)}Hi(t)||Ei(t,r)||Ii(t)||Pi(t,r)||e.remove(t)
return t}
var Vi=dn.makeMap
var ji=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g
var Ui=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g
var Wi=/[<>&\"\']/g
var qi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi
var $i={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"}
var Gi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"}
var Xi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"}
var Ki=function(e){var t=yn.fromTag("div").dom
t.innerHTML=e
return t.textContent||t.innerText||e}
var Zi=function(e,t){var n,r,o
var a={}
if(e){e=e.split(",")
t=t||10
for(n=0;n<e.length;n+=2){r=String.fromCharCode(parseInt(e[n],t))
if(!Gi[r]){o="&"+e[n+1]+";"
a[r]=o
a[o]=r}}return a}}
var Yi=Zi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32)
var Ji=function(e,t){return e.replace(t?ji:Ui,(function(e){return Gi[e]||e}))}
var Qi=function(e){return(""+e).replace(Wi,(function(e){return Gi[e]||e}))}
var eu=function(e,t){return e.replace(t?ji:Ui,(function(e){if(e.length>1)return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"
return Gi[e]||"&#"+e.charCodeAt(0)+";"}))}
var tu=function(e,t,n){n=n||Yi
return e.replace(t?ji:Ui,(function(e){return Gi[e]||n[e]||e}))}
var nu=function(e,t){var n=Zi(t)||Yi
var r=function(e,t){return e.replace(t?ji:Ui,(function(e){if(void 0!==Gi[e])return Gi[e]
if(void 0!==n[e])return n[e]
if(e.length>1)return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"
return"&#"+e.charCodeAt(0)+";"}))}
var o=function(e,t){return tu(e,t,n)}
var a=Vi(e.replace(/\+/g,","))
if(a.named&&a.numeric)return r
if(a.named){if(t)return o
return tu}if(a.numeric)return eu
return Ji}
var ru=function(e){return e.replace(qi,(function(e,t){if(t){t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10)
if(t>65535){t-=65536
return String.fromCharCode(55296+(t>>10),56320+(1023&t))}return $i[t]||String.fromCharCode(t)}return Xi[e]||Yi[e]||Ki(e)}))}
var ou={encodeRaw:Ji,encodeAllRaw:Qi,encodeNumeric:eu,encodeNamed:tu,getEncodeFunc:nu,decode:ru}
var au={},iu={}
var uu=dn.makeMap,cu=dn.each,su=dn.extend,lu=dn.explode,fu=dn.inArray
var vu=function(e,t){e=dn.trim(e)
return e?e.split(t||" "):[]}
var du=function(e){var t={}
var n,r
var o,a,i,u
var c=function(e,r,o){var a,i,u
var c=function(e,t){var n={}
var r,o
for(r=0,o=e.length;r<o;r++)n[e[r]]=t||{}
return n}
o=o||[]
r=r||""
"string"===typeof o&&(o=vu(o))
var s=vu(e)
a=s.length
while(a--){i=vu([n,r].join(" "))
u={attributes:c(i),attributesOrder:i,children:c(o,iu)}
t[s[a]]=u}}
var s=function(e,n){var r,o,a,i
var u=vu(e)
r=u.length
var c=vu(n)
while(r--){o=t[u[r]]
for(a=0,i=c.length;a<i;a++){o.attributes[c[a]]={}
o.attributesOrder.push(c[a])}}}
if(au[e])return au[e]
n="id accesskey class dir lang style tabindex title role"
r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"
o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"
if("html4"!==e){n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate"
r+=" article aside details dialog figure main header footer hgroup section nav"
o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if("html5-strict"!==e){n+=" xml:lang"
u="acronym applet basefont big font strike tt"
o=[o,u].join(" ")
cu(vu(u),(function(e){c(e,"",o)}))
i="center dir isindex noframes"
r=[r,i].join(" ")
a=[r,o].join(" ")
cu(vu(i),(function(e){c(e,"",a)}))}a=a||[r,o].join(" ")
c("html","manifest","head body")
c("head","","base command link meta noscript script style title")
c("title hr noscript br")
c("base","href target")
c("link","href rel media hreflang type sizes hreflang")
c("meta","name http-equiv content charset")
c("style","media type scoped")
c("script","src async defer type charset")
c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",a)
c("address dt dd div caption","",a)
c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o)
c("blockquote","cite",a)
c("ol","reversed start type","li")
c("ul","","li")
c("li","value",a)
c("dl","","dt dd")
c("a","href target rel media hreflang type",o)
c("q","cite",o)
c("ins del","cite datetime",a)
c("img","src sizes srcset alt usemap ismap width height")
c("iframe","src name width height",a)
c("embed","src type width height")
c("object","data type typemustmatch name usemap form width height",[a,"param"].join(" "))
c("param","name value")
c("map","name",[a,"area"].join(" "))
c("area","alt coords shape href target rel media hreflang type")
c("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":""))
c("colgroup","span","col")
c("col","span")
c("tbody thead tfoot","","tr")
c("tr","","td th")
c("td","colspan rowspan headers",a)
c("th","colspan rowspan headers scope abbr",a)
c("form","accept-charset action autocomplete enctype method name novalidate target",a)
c("fieldset","disabled form name",[a,"legend"].join(" "))
c("label","form for",o)
c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width")
c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?a:o)
c("select","disabled form multiple name required size","option optgroup")
c("optgroup","disabled label","option")
c("option","disabled label selected value")
c("textarea","cols dirname disabled form maxlength name readonly required rows wrap")
c("menu","type label",[a,"li"].join(" "))
c("noscript","",a)
if("html4"!==e){c("wbr")
c("ruby","",[o,"rt rp"].join(" "))
c("figcaption","",a)
c("mark rt rp summary bdi","",o)
c("canvas","width height",a)
c("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[a,"track source"].join(" "))
c("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[a,"track source"].join(" "))
c("picture","","img source")
c("source","src srcset type media sizes")
c("track","kind src srclang label default")
c("datalist","",[o,"option"].join(" "))
c("article section nav aside main header footer","",a)
c("hgroup","","h1 h2 h3 h4 h5 h6")
c("figure","",[a,"figcaption"].join(" "))
c("time","datetime",o)
c("dialog","open",a)
c("command","type label icon disabled checked radiogroup command")
c("output","for form name",o)
c("progress","value max",o)
c("meter","value min max low high optimum",o)
c("details","open",[a,"summary"].join(" "))
c("keygen","autofocus challenge disabled form keytype name")}if("html5-strict"!==e){s("script","language xml:space")
s("style","xml:space")
s("object","declare classid code codebase codetype archive standby align border hspace vspace")
s("embed","align name hspace vspace")
s("param","valuetype type")
s("a","charset name rev shape coords")
s("br","clear")
s("applet","codebase archive code object alt name width height align hspace vspace")
s("img","name longdesc align border hspace vspace")
s("iframe","longdesc frameborder marginwidth marginheight scrolling align")
s("font basefont","size color face")
s("input","usemap align")
s("select")
s("textarea")
s("h1 h2 h3 h4 h5 h6 div p legend caption","align")
s("ul","type compact")
s("li","type")
s("ol dl menu dir","compact")
s("pre","width xml:space")
s("hr","align noshade size width")
s("isindex","prompt")
s("table","summary width frame rules cellspacing cellpadding align bgcolor")
s("col","width align char charoff valign")
s("colgroup","width align char charoff valign")
s("thead","align char charoff valign")
s("tr","align char charoff valign bgcolor")
s("th","axis align char charoff valign nowrap bgcolor width height")
s("form","accept")
s("td","abbr axis scope align char charoff valign nowrap bgcolor width height")
s("tfoot","align char charoff valign")
s("tbody","align char charoff valign")
s("area","nohref")
s("body","background bgcolor text link vlink alink")}if("html4"!==e){s("input button select textarea","autofocus")
s("input textarea","placeholder")
s("a","download")
s("link script img","crossorigin")
s("img","loading")
s("iframe","sandbox seamless allowfullscreen loading")}cu(vu("a form meter progress dfn"),(function(e){t[e]&&delete t[e].children[e]}))
delete t.caption.children.table
delete t.script
au[e]=t
return t}
var mu=function(e,t){var n
if(e){n={}
"string"===typeof e&&(e={"*":e})
cu(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"===t?uu(e,/[, ]/):lu(e,/[, ]/)}))}return n}
var gu=function(e){var t={}
var n={}
var r=[]
var o={},a={}
var i=function(t,n,r){var o=e[t]
if(o)o=uu(o,/[, ]/,uu(o.toUpperCase(),/[, ]/))
else{o=au[t]
if(!o){o=uu(n," ",uu(n.toUpperCase()," "))
o=su(o,r)
au[t]=o}}return o}
e=e||{}
var u=du(e.schema)
false===e.verify_html&&(e.valid_elements="*[*]")
var c=mu(e.valid_styles)
var s=mu(e.invalid_styles,"map")
var l=mu(e.valid_classes,"map")
var f=i("whitespace_elements","pre script noscript style textarea video audio iframe object code")
var v=i("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr")
var d=i("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track")
var m=i("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls")
var g="td th iframe video audio object script code"
var h=i("non_empty_elements",g+" pre",d)
var p=i("move_caret_before_on_enter_elements",g+" table",d)
var b=i("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure")
var y=i("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",b)
var w=i("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp")
cu((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){a[e]=new RegExp("</"+e+"[^>]*>","gi")}))
var x=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}
var C=function(e){var n,o,a,i,u,c,s,l,f,v,d,m,g,h,p,b,y,w
var C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/
if(e){var O=vu(e,",")
if(t["@"]){b=t["@"].attributes
y=t["@"].attributesOrder}for(n=0,o=O.length;n<o;n++){u=C.exec(O[n])
if(u){h=u[1]
f=u[2]
p=u[3]
l=u[5]
m={}
g=[]
c={attributes:m,attributesOrder:g}
"#"===h&&(c.paddEmpty=true)
"-"===h&&(c.removeEmpty=true)
"!"===u[4]&&(c.removeEmptyAttrs=true)
if(b){Ce(b,(function(e,t){m[t]=e}))
g.push.apply(g,y)}if(l){l=vu(l,"|")
for(a=0,i=l.length;a<i;a++){u=S.exec(l[a])
if(u){s={}
d=u[1]
v=u[2].replace(/[\\:]:/g,":")
h=u[3]
w=u[4]
if("!"===d){c.attributesRequired=c.attributesRequired||[]
c.attributesRequired.push(v)
s.required=true}if("-"===d){delete m[v]
g.splice(fu(g,v),1)
continue}if(h){if("="===h){c.attributesDefault=c.attributesDefault||[]
c.attributesDefault.push({name:v,value:w})
s.defaultValue=w}if(":"===h){c.attributesForced=c.attributesForced||[]
c.attributesForced.push({name:v,value:w})
s.forcedValue=w}"<"===h&&(s.validValues=uu(w,"?"))}if(k.test(v)){c.attributePatterns=c.attributePatterns||[]
s.pattern=x(v)
c.attributePatterns.push(s)}else{m[v]||g.push(v)
m[v]=s}}}}if(!b&&"@"===f){b=m
y=g}if(p){c.outputName=f
t[p]=c}if(k.test(f)){c.pattern=x(f)
r.push(c)}else t[f]=c}}}}
var S=function(e){t={}
r=[]
C(e)
cu(u,(function(e,t){n[t]=e.children}))}
var k=function(e){var r=/^(~)?(.+)$/
if(e){au.text_block_elements=au.block_elements=null
cu(vu(e,","),(function(e){var a=r.exec(e),i="~"===a[1],u=i?"span":"div",c=a[2]
n[c]=n[u]
o[c]=u
if(!i){y[c.toUpperCase()]={}
y[c]={}}if(!t[c]){var s=t[u]
s=su({},s)
delete s.removeEmptyAttrs
delete s.removeEmpty
t[c]=s}cu(n,(function(e,t){if(e[u]){n[t]=e=su({},n[t])
e[c]=e[u]}}))}))}}
var O=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/
au[e.schema]=null
t&&cu(vu(t,","),(function(e){var t=r.exec(e)
var o,a
if(t){a=t[1]
o=a?n[t[2]]:n[t[2]]={"#comment":{}}
o=n[t[2]]
cu(vu(t[3],"|"),(function(e){"-"===a?delete o[e]:o[e]={}}))}}))}
var T=function(e){var n,o=t[e]
if(o)return o
n=r.length
while(n--){o=r[n]
if(o.pattern.test(e))return o}}
if(e.valid_elements)S(e.valid_elements)
else{cu(u,(function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder}
n[r]=e.children}))
"html5"!==e.schema&&cu(vu("strong/b em/i"),(function(e){var n=vu(e,"/")
t[n[1]].outputName=n[0]}))
cu(vu("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(e){t[e]&&(t[e].removeEmpty=true)}))
cu(vu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){t[e].paddEmpty=true}))
cu(vu("span"),(function(e){t[e].removeEmptyAttrs=true}))}k(e.custom_elements)
O(e.valid_children)
C(e.extended_valid_elements)
O("+ol[ul|ol],+ul[ul|ol]")
cu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,n){t[n]&&(t[n].parentsRequired=vu(e))}))
e.invalid_elements&&cu(lu(e.invalid_elements),(function(e){t[e]&&delete t[e]}))
T("span")||C("span[!data-mce-type|*]")
var E=function(){return c}
var _=function(){return s}
var L=function(){return l}
var D=function(){return m}
var A=function(){return y}
var M=function(){return b}
var N=function(){return w}
var R=function(){return d}
var z=function(){return v}
var B=function(){return h}
var P=function(){return p}
var I=function(){return f}
var H=function(){return a}
var F=function(e,t){var r=n[e.toLowerCase()]
return!!(r&&r[t.toLowerCase()])}
var V=function(e,t){var n,r
var o=T(e)
if(o){if(!t)return true
if(o.attributes[t])return true
n=o.attributePatterns
if(n){r=n.length
while(r--)if(n[r].pattern.test(e))return true}}return false}
var j=function(){return o}
return{children:n,elements:t,getValidStyles:E,getValidClasses:L,getBlockElements:A,getInvalidStyles:_,getShortEndedElements:R,getTextBlockElements:M,getTextInlineElements:N,getBoolAttrs:D,getElementRule:T,getSelfClosingElements:z,getNonEmptyElements:B,getMoveCaretBeforeOnEnterElements:P,getWhiteSpaceElements:I,getSpecialElements:H,isValidChild:F,isValid:V,getCustomElements:j,addValidElements:C,setValidElements:S,addCustomElements:k,addValidChildren:O}}
var hu=function(e,t,n,r){var o=function(e){e=parseInt(e,10).toString(16)
return e.length>1?e:"0"+e}
return"#"+o(t)+o(n)+o(r)}
var pu=function(e,t){var n=this
var r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi
var o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi
var a=/\s*([^:]+):\s*([^;]+);?/g
var i=/\s+$/
var u
var c={}
var s
var l
var f=Ia
e=e||{}
if(t){s=t.getValidStyles()
l=t.getInvalidStyles()}var v=("\\\" \\' \\; \\: ; : "+f).split(" ")
for(u=0;u<v.length;u++){c[v[u]]=f+u
c[f+u]=v[u]}return{toHex:function(e){return e.replace(r,hu)},parse:function(t){var s={}
var l,v,d,m
var g=e.url_converter
var h=e.url_converter_scope||n
var p=function(e,t,n){var r=s[e+"-top"+t]
if(!r)return
var o=s[e+"-right"+t]
if(!o)return
var a=s[e+"-bottom"+t]
if(!a)return
var i=s[e+"-left"+t]
if(!i)return
var c=[r,o,a,i]
u=c.length-1
while(u--)if(c[u]!==c[u+1])break
if(u>-1&&n)return
s[e+t]=-1===u?c[0]:c.join(" ")
delete s[e+"-top"+t]
delete s[e+"-right"+t]
delete s[e+"-bottom"+t]
delete s[e+"-left"+t]}
var b=function(e){var t,n=s[e]
if(!n)return
n=n.split(" ")
t=n.length
while(t--)if(n[t]!==n[0])return false
s[e]=n[0]
return true}
var y=function(e,t,n,r){if(!b(t))return
if(!b(n))return
if(!b(r))return
s[e]=s[t]+" "+s[n]+" "+s[r]
delete s[t]
delete s[n]
delete s[r]}
var w=function(e){m=true
return c[e]}
var x=function(e,t){m&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return c[e]})))
t||(e=e.replace(/\\([\'\";:])/g,"$1"))
return e}
var C=function(e){return String.fromCharCode(parseInt(e.slice(1),16))}
var S=function(e){return e.replace(/\\[0-9a-f]+/gi,C)}
var k=function(t,n,r,o,a,i){a=a||i
if(a){a=x(a)
return"'"+a.replace(/\'/g,"\\'")+"'"}n=x(n||r||o)
if(!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"")
if(/(java|vb)script:/i.test(u))return""
if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}g&&(n=g.call(h,n,"style"))
return"url('"+n.replace(/\'/g,"\\'")+"')"}
if(t){t=t.replace(/[\u0000-\u001F]/g,"")
t=t.replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,w)}))
while(l=a.exec(t)){a.lastIndex=l.index+l[0].length
v=l[1].replace(i,"").toLowerCase()
d=l[2].replace(i,"")
if(v&&d){v=S(v)
d=S(d)
if(-1!==v.indexOf(f)||-1!==v.indexOf('"'))continue
if(!e.allow_script_urls&&("behavior"===v||/expression\s*\(|\/\*|\*\//.test(d)))continue
"font-weight"===v&&"700"===d?d="bold":"color"!==v&&"background-color"!==v||(d=d.toLowerCase())
d=d.replace(r,hu)
d=d.replace(o,k)
s[v]=m?x(d,true):d}}p("border","",true)
p("border","-width")
p("border","-color")
p("border","-style")
p("padding","")
p("margin","")
y("border","border-width","border-style","border-color")
"medium none"===s.border&&delete s.border
"none"===s["border-image"]&&delete s["border-image"]}return s},serialize:function(e,t){var n=""
var r=function(t){var r
var o=s[t]
if(o)for(var a=0,i=o.length;a<i;a++){t=o[a]
r=e[t]
r&&(n+=(n.length>0?" ":"")+t+": "+r+";")}}
var o=function(e,t){var n=l["*"]
if(n&&n[e])return false
n=l[t]
return!(n&&n[e])}
if(t&&s){r("*")
r(t)}else Ce(e,(function(e,r){!e||l&&!o(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")}))
return n}}}
var bu="mce-data-"
var yu=/^(?:mouse|contextmenu)|click/
var wu={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1}
var xu=function(e){return e.isDefaultPrevented===Su||e.isDefaultPrevented===Cu}
var Cu=I
var Su=H
var ku=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||false):e.attachEvent&&e.attachEvent("on"+t,n)}
var Ou=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||false):e.detachEvent&&e.detachEvent("on"+t,n)}
var Tu=function(e){return yu.test(e.type)}
var Eu=function(e,t){var n
var r=t||{}
for(n in e)wu[n]||(r[n]=e[n])
r.target||(r.target=r.srcElement||document)
r.composedPath&&(r.composedPath=function(){return e.composedPath()})
if(e&&Tu(e)&&void 0===e.pageX&&void 0!==e.clientX){var o=r.target.ownerDocument||document
var a=o.documentElement
var i=o.body
r.pageX=e.clientX+(a&&a.scrollLeft||i&&i.scrollLeft||0)-(a&&a.clientLeft||i&&i.clientLeft||0)
r.pageY=e.clientY+(a&&a.scrollTop||i&&i.scrollTop||0)-(a&&a.clientTop||i&&i.clientTop||0)}r.preventDefault=function(){r.defaultPrevented=true
r.isDefaultPrevented=Su
e&&(e.preventDefault?e.preventDefault():e.returnValue=false)}
r.stopPropagation=function(){r.cancelBubble=true
r.isPropagationStopped=Su
e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=true)}
r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=Su
r.stopPropagation()}
if(false===xu(r)){r.isDefaultPrevented=true===r.defaultPrevented?Su:Cu
r.isPropagationStopped=true===r.cancelBubble?Su:Cu
r.isImmediatePropagationStopped=Cu}"undefined"===typeof r.metaKey&&(r.metaKey=false)
return r}
var _u=function(e,t,n){var r=e.document,o={type:"ready"}
if(n.domLoaded){t(o)
return}var a=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body}
var i=function(){Ou(e,"DOMContentLoaded",i)
Ou(e,"load",i)
if(!n.domLoaded){n.domLoaded=true
t(o)}e=null}
a()?i():ku(e,"DOMContentLoaded",i)
n.domLoaded||ku(e,"load",i)}
var Lu=function(){function e(){this.domLoaded=false
this.events={}
this.count=1
this.expando=bu+(+new Date).toString(32)
this.hasMouseEnterLeave="onmouseenter"in document.documentElement
this.hasFocusIn="onfocusin"in document.documentElement
this.count=1}e.prototype.bind=function(e,t,n,r){var o=this
var a,i,u,c,s,l,f
var v=window
var d=function(e){o.executeHandlers(Eu(e||v.event),a)}
if(!e||3===e.nodeType||8===e.nodeType)return
if(e[o.expando])a=e[o.expando]
else{a=o.count++
e[o.expando]=a
o.events[a]={}}r=r||e
var m=t.split(" ")
u=m.length
while(u--){c=m[u]
l=d
s=f=false
"DOMContentLoaded"===c&&(c="ready")
if(o.domLoaded&&"ready"===c&&"complete"===e.readyState){n.call(r,Eu({type:c}))
continue}if(!o.hasMouseEnterLeave){s=o.mouseEnterLeave[c]
s&&(l=function(e){var t=e.currentTarget
var n=e.relatedTarget
if(n&&t.contains)n=t.contains(n)
else while(n&&n!==t)n=n.parentNode
if(!n){e=Eu(e||v.event)
e.type="mouseout"===e.type?"mouseleave":"mouseenter"
e.target=t
o.executeHandlers(e,a)}})}if(!o.hasFocusIn&&("focusin"===c||"focusout"===c)){f=true
s="focusin"===c?"focus":"blur"
l=function(e){e=Eu(e||v.event)
e.type="focus"===e.type?"focusin":"focusout"
o.executeHandlers(e,a)}}i=o.events[a][c]
if(i)"ready"===c&&o.domLoaded?n(Eu({type:c})):i.push({func:n,scope:r})
else{o.events[a][c]=i=[{func:n,scope:r}]
i.fakeName=s
i.capture=f
i.nativeHandler=l
"ready"===c?_u(e,l,o):ku(e,s||c,l,f)}}e=i=null
return n}
e.prototype.unbind=function(e,t,n){var r,o,a,i,u
if(!e||3===e.nodeType||8===e.nodeType)return this
var c=e[this.expando]
if(c){u=this.events[c]
if(t){var s=t.split(" ")
o=s.length
while(o--){i=s[o]
r=u[i]
if(r){if(n){a=r.length
while(a--)if(r[a].func===n){var l=r.nativeHandler
var f=r.fakeName,v=r.capture
r=r.slice(0,a).concat(r.slice(a+1))
r.nativeHandler=l
r.fakeName=f
r.capture=v
u[i]=r}}if(!n||0===r.length){delete u[i]
Ou(e,r.fakeName||i,r.nativeHandler,r.capture)}}}}else{Ce(u,(function(t,n){Ou(e,t.fakeName||n,t.nativeHandler,t.capture)}))
u={}}for(i in u)if(Me(u,i))return this
delete this.events[c]
try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}
e.prototype.fire=function(e,t,n){var r
if(!e||3===e.nodeType||8===e.nodeType)return this
var o=Eu(null,n)
o.type=t
o.target=e
do{r=e[this.expando]
r&&this.executeHandlers(o,r)
e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped())
return this}
e.prototype.clean=function(e){var t,n
if(!e||3===e.nodeType||8===e.nodeType)return this
e[this.expando]&&this.unbind(e)
e.getElementsByTagName||(e=e.document)
if(e&&e.getElementsByTagName){this.unbind(e)
n=e.getElementsByTagName("*")
t=n.length
while(t--){e=n[t]
e[this.expando]&&this.unbind(e)}}return this}
e.prototype.destroy=function(){this.events={}}
e.prototype.cancel=function(e){if(e){e.preventDefault()
e.stopImmediatePropagation()}return false}
e.prototype.executeHandlers=function(e,t){var n=this.events[t]
var r=n&&n[e.type]
if(r)for(var o=0,a=r.length;o<a;o++){var i=r[o]
i&&false===i.func.call(i.scope,e)&&e.preventDefault()
if(e.isImmediatePropagationStopped())return}}
e.Event=new e
return e}()
var Du,Au,Mu,Nu,Ru,zu,Bu,Pu,Iu,Hu,Fu,Vu,ju,Uu,Wu,qu,$u,Gu,Xu="sizzle"+-new Date,Ku=window.document,Zu=0,Yu=0,Ju=Mc(),Qu=Mc(),ec=Mc(),tc=function(e,t){e===t&&(Hu=true)
return 0},nc="undefined",rc=1<<31,oc={}.hasOwnProperty,ac=[],ic=ac.pop,uc=ac.push,cc=ac.push,sc=ac.slice,lc=ac.indexOf||function(e){var t=0,n=this.length
for(;t<n;t++)if(this[t]===e)return t
return-1},fc="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",vc="[\\x20\\t\\r\\n\\f]",dc="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",mc="\\["+vc+"*("+dc+")(?:"+vc+"*([*^$|!~]?=)"+vc+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+dc+"))|)"+vc+"*\\]",gc=":("+dc+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+mc+")*)|.*)\\)|)",hc=new RegExp("^"+vc+"+|((?:^|[^\\\\])(?:\\\\.)*)"+vc+"+$","g"),pc=new RegExp("^"+vc+"*,"+vc+"*"),bc=new RegExp("^"+vc+"*([>+~]|"+vc+")"+vc+"*"),yc=new RegExp("="+vc+"*([^\\]'\"]*?)"+vc+"*\\]","g"),wc=new RegExp(gc),xc=new RegExp("^"+dc+"$"),Cc={ID:new RegExp("^#("+dc+")"),CLASS:new RegExp("^\\.("+dc+")"),TAG:new RegExp("^("+dc+"|[*])"),ATTR:new RegExp("^"+mc),PSEUDO:new RegExp("^"+gc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+vc+"*(even|odd|(([+-]|)(\\d*)n|)"+vc+"*(?:([+-]|)"+vc+"*(\\d+)|))"+vc+"*\\)|)","i"),bool:new RegExp("^(?:"+fc+")$","i"),needsContext:new RegExp("^"+vc+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+vc+"*((?:-\\d)?\\d*)"+vc+"*\\)|)(?=[^-]|$)","i")},Sc=/^(?:input|select|textarea|button)$/i,kc=/^h\d$/i,Oc=/^[^{]+\{\s*\[native \w/,Tc=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ec=/[+~]/,_c=/'|\\/g,Lc=new RegExp("\\\\([\\da-f]{1,6}"+vc+"?|("+vc+")|.)","ig"),Dc=function(e,t,n){var r="0x"+t-65536
return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}
try{cc.apply(ac=sc.call(Ku.childNodes),Ku.childNodes)
ac[Ku.childNodes.length].nodeType}catch(e){cc={apply:ac.length?function(e,t){uc.apply(e,sc.call(t))}:function(e,t){var n=e.length,r=0
while(e[n++]=t[r++]);e.length=n-1}}}var Ac=function(e,t,n,r){var o,a,i,u,c,s,l,f,v,d;(t?t.ownerDocument||t:Ku)!==Vu&&Fu(t)
t=t||Vu
n=n||[]
if(!e||"string"!==typeof e)return n
if(1!==(u=t.nodeType)&&9!==u)return[]
if(Uu&&!r){if(o=Tc.exec(e))if(i=o[1]){if(9===u){a=t.getElementById(i)
if(!a||!a.parentNode)return n
if(a.id===i){n.push(a)
return n}}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(i))&&Gu(t,a)&&a.id===i){n.push(a)
return n}}else{if(o[2]){cc.apply(n,t.getElementsByTagName(e))
return n}if((i=o[3])&&Du.getElementsByClassName){cc.apply(n,t.getElementsByClassName(i))
return n}}if(Du.qsa&&(!Wu||!Wu.test(e))){f=l=Xu
v=t
d=9===u&&e
if(1===u&&"object"!==t.nodeName.toLowerCase()){s=Ru(e);(l=t.getAttribute("id"))?f=l.replace(_c,"\\$&"):t.setAttribute("id",f)
f="[id='"+f+"'] "
c=s.length
while(c--)s[c]=f+Fc(s[c])
v=Ec.test(e)&&Ic(t.parentNode)||t
d=s.join(",")}if(d)try{cc.apply(n,v.querySelectorAll(d))
return n}catch(e){}finally{l||t.removeAttribute("id")}}}return Bu(e.replace(hc,"$1"),t,n,r)}
function Mc(){var e=[]
function t(n,r){e.push(n+" ")>Au.cacheLength&&delete t[e.shift()]
return t[n+" "]=r}return t}function Nc(e){e[Xu]=true
return e}function Rc(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||rc)-(~e.sourceIndex||rc)
if(r)return r
if(n)while(n=n.nextSibling)if(n===t)return-1
return e?1:-1}function zc(e){return function(t){var n=t.nodeName.toLowerCase()
return"input"===n&&t.type===e}}function Bc(e){return function(t){var n=t.nodeName.toLowerCase()
return("input"===n||"button"===n)&&t.type===e}}function Pc(e){return Nc((function(t){t=+t
return Nc((function(n,r){var o,a=e([],n.length,t),i=a.length
while(i--)n[o=a[i]]&&(n[o]=!(r[o]=n[o]))}))}))}function Ic(e){return e&&typeof e.getElementsByTagName!==nc&&e}Du=Ac.support={}
Nu=Ac.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement
return!!t&&"HTML"!==t.nodeName}
Fu=Ac.setDocument=function(e){var t,n=e?e.ownerDocument||e:Ku,r=n.defaultView
function o(e){try{return e.top}catch(e){}return null}if(n===Vu||9!==n.nodeType||!n.documentElement)return Vu
Vu=n
ju=n.documentElement
Uu=!Nu(n)
r&&r!==o(r)&&(r.addEventListener?r.addEventListener("unload",(function(){Fu()}),false):r.attachEvent&&r.attachEvent("onunload",(function(){Fu()})))
Du.attributes=true
Du.getElementsByTagName=true
Du.getElementsByClassName=Oc.test(n.getElementsByClassName)
Du.getById=true
Au.find.ID=function(e,t){if(typeof t.getElementById!==nc&&Uu){var n=t.getElementById(e)
return n&&n.parentNode?[n]:[]}}
Au.filter.ID=function(e){var t=e.replace(Lc,Dc)
return function(e){return e.getAttribute("id")===t}}
Au.find.TAG=Du.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==nc)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,a=t.getElementsByTagName(e)
if("*"===e){while(n=a[o++])1===n.nodeType&&r.push(n)
return r}return a}
Au.find.CLASS=Du.getElementsByClassName&&function(e,t){if(Uu)return t.getElementsByClassName(e)}
qu=[]
Wu=[]
Du.disconnectedMatch=true
Wu=Wu.length&&new RegExp(Wu.join("|"))
qu=qu.length&&new RegExp(qu.join("|"))
t=Oc.test(ju.compareDocumentPosition)
Gu=t||Oc.test(ju.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode
return e===r||!!(r&&1===r.nodeType&&(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return true
return false}
tc=t?function(e,t){if(e===t){Hu=true
return 0}var r=!e.compareDocumentPosition-!t.compareDocumentPosition
if(r)return r
r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1
if(1&r||!Du.sortDetached&&t.compareDocumentPosition(e)===r){if(e===n||e.ownerDocument===Ku&&Gu(Ku,e))return-1
if(t===n||t.ownerDocument===Ku&&Gu(Ku,t))return 1
return Iu?lc.call(Iu,e)-lc.call(Iu,t):0}return 4&r?-1:1}:function(e,t){if(e===t){Hu=true
return 0}var r,o=0,a=e.parentNode,i=t.parentNode,u=[e],c=[t]
if(!a||!i)return e===n?-1:t===n?1:a?-1:i?1:Iu?lc.call(Iu,e)-lc.call(Iu,t):0
if(a===i)return Rc(e,t)
r=e
while(r=r.parentNode)u.unshift(r)
r=t
while(r=r.parentNode)c.unshift(r)
while(u[o]===c[o])o++
return o?Rc(u[o],c[o]):u[o]===Ku?-1:c[o]===Ku?1:0}
return n}
Ac.matches=function(e,t){return Ac(e,null,null,t)}
Ac.matchesSelector=function(e,t){(e.ownerDocument||e)!==Vu&&Fu(e)
t=t.replace(yc,"='$1']")
if(Du.matchesSelector&&Uu&&(!qu||!qu.test(t))&&(!Wu||!Wu.test(t)))try{var n=$u.call(e,t)
if(n||Du.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return Ac(t,Vu,null,[e]).length>0}
Ac.contains=function(e,t){(e.ownerDocument||e)!==Vu&&Fu(e)
return Gu(e,t)}
Ac.attr=function(e,t){(e.ownerDocument||e)!==Vu&&Fu(e)
var n=Au.attrHandle[t.toLowerCase()],r=n&&oc.call(Au.attrHandle,t.toLowerCase())?n(e,t,!Uu):void 0
return void 0!==r?r:Du.attributes||!Uu?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null}
Ac.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)}
Ac.uniqueSort=function(e){var t,n=[],r=0,o=0
Hu=!Du.detectDuplicates
Iu=!Du.sortStable&&e.slice(0)
e.sort(tc)
if(Hu){while(t=e[o++])t===e[o]&&(r=n.push(o))
while(r--)e.splice(n[r],1)}Iu=null
return e}
Mu=Ac.getText=function(e){var t,n="",r=0,o=e.nodeType
if(o){if(1===o||9===o||11===o){if("string"===typeof e.textContent)return e.textContent
for(e=e.firstChild;e;e=e.nextSibling)n+=Mu(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=Mu(t)
return n}
Au=Ac.selectors={cacheLength:50,createPseudo:Nc,match:Cc,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(Lc,Dc)
e[3]=(e[3]||e[4]||e[5]||"").replace(Lc,Dc)
"~="===e[2]&&(e[3]=" "+e[3]+" ")
return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase()
if("nth"===e[1].slice(0,3)){e[3]||Ac.error(e[0])
e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3]))
e[5]=+(e[7]+e[8]||"odd"===e[3])}else e[3]&&Ac.error(e[0])
return e},PSEUDO:function(e){var t,n=!e[6]&&e[2]
if(Cc.CHILD.test(e[0]))return null
if(e[3])e[2]=e[4]||e[5]||""
else if(n&&wc.test(n)&&(t=Ru(n,true))&&(t=n.indexOf(")",n.length-t)-n.length)){e[0]=e[0].slice(0,t)
e[2]=n.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(Lc,Dc).toLowerCase()
return"*"===e?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Ju[e+" "]
return t||(t=new RegExp("(^|"+vc+")"+e+"("+vc+"|$)"))&&Ju(e,(function(e){return t.test("string"===typeof e.className&&e.className||typeof e.getAttribute!==nc&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=Ac.attr(r,e)
if(null==o)return"!="===t
if(!t)return true
o+=""
return"="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-")}},CHILD:function(e,t,n,r,o){var a="nth"!==e.slice(0,3),i="last"!==e.slice(-4),u="of-type"===t
return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var s,l,f,v,d,m,g=a!==i?"nextSibling":"previousSibling",h=t.parentNode,p=u&&t.nodeName.toLowerCase(),b=!c&&!u
if(h){if(a){while(g){f=t
while(f=f[g])if(u?f.nodeName.toLowerCase()===p:1===f.nodeType)return false
m=g="only"===e&&!m&&"nextSibling"}return true}m=[i?h.firstChild:h.lastChild]
if(i&&b){l=h[Xu]||(h[Xu]={})
s=l[e]||[]
d=s[0]===Zu&&s[1]
v=s[0]===Zu&&s[2]
f=d&&h.childNodes[d]
while(f=++d&&f&&f[g]||(v=d=0)||m.pop())if(1===f.nodeType&&++v&&f===t){l[e]=[Zu,d,v]
break}}else if(b&&(s=(t[Xu]||(t[Xu]={}))[e])&&s[0]===Zu)v=s[1]
else while(f=++d&&f&&f[g]||(v=d=0)||m.pop())if((u?f.nodeName.toLowerCase()===p:1===f.nodeType)&&++v){b&&((f[Xu]||(f[Xu]={}))[e]=[Zu,v])
if(f===t)break}v-=o
return v===r||v%r===0&&v/r>=0}}},PSEUDO:function(e,t){var n,r=Au.pseudos[e]||Au.setFilters[e.toLowerCase()]||Ac.error("unsupported pseudo: "+e)
if(r[Xu])return r(t)
if(r.length>1){n=[e,e,"",t]
return Au.setFilters.hasOwnProperty(e.toLowerCase())?Nc((function(e,n){var o,a=r(e,t),i=a.length
while(i--){o=lc.call(e,a[i])
e[o]=!(n[o]=a[i])}})):function(e){return r(e,0,n)}}return r}},pseudos:{not:Nc((function(e){var t=[],n=[],r=zu(e.replace(hc,"$1"))
return r[Xu]?Nc((function(e,t,n,o){var a,i=r(e,null,o,[]),u=e.length
while(u--)(a=i[u])&&(e[u]=!(t[u]=a))})):function(e,o,a){t[0]=e
r(t,null,a,n)
t[0]=null
return!n.pop()}})),has:Nc((function(e){return function(t){return Ac(e,t).length>0}})),contains:Nc((function(e){e=e.replace(Lc,Dc)
return function(t){return(t.textContent||t.innerText||Mu(t)).indexOf(e)>-1}})),lang:Nc((function(e){xc.test(e||"")||Ac.error("unsupported lang: "+e)
e=e.replace(Lc,Dc).toLowerCase()
return function(t){var n
do{if(n=Uu?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){n=n.toLowerCase()
return n===e||0===n.indexOf(e+"-")}}while((t=t.parentNode)&&1===t.nodeType)
return false}})),target:function(e){var t=window.location&&window.location.hash
return t&&t.slice(1)===e.id},root:function(e){return e===ju},focus:function(e){return e===Vu.activeElement&&(!Vu.hasFocus||Vu.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return false===e.disabled},disabled:function(e){return true===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){e.parentNode&&e.parentNode.selectedIndex
return true===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return false
return true},parent:function(e){return!Au.pseudos.empty(e)},header:function(e){return kc.test(e.nodeName)},input:function(e){return Sc.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t
return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:Pc((function(){return[0]})),last:Pc((function(e,t){return[t-1]})),eq:Pc((function(e,t,n){return[n<0?n+t:n]})),even:Pc((function(e,t){var n=0
for(;n<t;n+=2)e.push(n)
return e})),odd:Pc((function(e,t){var n=1
for(;n<t;n+=2)e.push(n)
return e})),lt:Pc((function(e,t,n){var r=n<0?n+t:n
for(;--r>=0;)e.push(r)
return e})),gt:Pc((function(e,t,n){var r=n<0?n+t:n
for(;++r<t;)e.push(r)
return e}))}}
Au.pseudos.nth=Au.pseudos.eq
Q(["radio","checkbox","file","password","image"],(function(e){Au.pseudos[e]=zc(e)}))
Q(["submit","reset"],(function(e){Au.pseudos[e]=Bc(e)}))
function Hc(){}Hc.prototype=Au.filters=Au.pseudos
Au.setFilters=new Hc
Ru=Ac.tokenize=function(e,t){var n,r,o,a,i,u,c,s=Qu[e+" "]
if(s)return t?0:s.slice(0)
i=e
u=[]
c=Au.preFilter
while(i){if(!n||(r=pc.exec(i))){r&&(i=i.slice(r[0].length)||i)
u.push(o=[])}n=false
if(r=bc.exec(i)){n=r.shift()
o.push({value:n,type:r[0].replace(hc," ")})
i=i.slice(n.length)}for(a in Au.filter){if(!Au.filter.hasOwnProperty(a))continue
if((r=Cc[a].exec(i))&&(!c[a]||(r=c[a](r)))){n=r.shift()
o.push({value:n,type:a,matches:r})
i=i.slice(n.length)}}if(!n)break}return t?i.length:i?Ac.error(e):Qu(e,u).slice(0)}
function Fc(e){var t=0,n=e.length,r=""
for(;t<n;t++)r+=e[t].value
return r}function Vc(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=Yu++
return t.first?function(t,n,a){while(t=t[r])if(1===t.nodeType||o)return e(t,n,a)}:function(t,n,i){var u,c,s=[Zu,a]
if(i){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,i))return true}else while(t=t[r])if(1===t.nodeType||o){c=t[Xu]||(t[Xu]={})
if((u=c[r])&&u[0]===Zu&&u[1]===a)return s[2]=u[2]
c[r]=s
if(s[2]=e(t,n,i))return true}}}function jc(e){return e.length>1?function(t,n,r){var o=e.length
while(o--)if(!e[o](t,n,r))return false
return true}:e[0]}function Uc(e,t,n){var r=0,o=t.length
for(;r<o;r++)Ac(e,t[r],n)
return n}function Wc(e,t,n,r,o){var a,i=[],u=0,c=e.length,s=null!=t
for(;u<c;u++)if((a=e[u])&&(!n||n(a,r,o))){i.push(a)
s&&t.push(u)}return i}function qc(e,t,n,r,o,a){r&&!r[Xu]&&(r=qc(r))
o&&!o[Xu]&&(o=qc(o,a))
return Nc((function(a,i,u,c){var s,l,f,v=[],d=[],m=i.length,g=a||Uc(t||"*",u.nodeType?[u]:u,[]),h=!e||!a&&t?g:Wc(g,v,e,u,c),p=n?o||(a?e:m||r)?[]:i:h
n&&n(h,p,u,c)
if(r){s=Wc(p,d)
r(s,[],u,c)
l=s.length
while(l--)(f=s[l])&&(p[d[l]]=!(h[d[l]]=f))}if(a){if(o||e){if(o){s=[]
l=p.length
while(l--)(f=p[l])&&s.push(h[l]=f)
o(null,p=[],s,c)}l=p.length
while(l--)(f=p[l])&&(s=o?lc.call(a,f):v[l])>-1&&(a[s]=!(i[s]=f))}}else{p=Wc(p===i?p.splice(m,p.length):p)
o?o(null,i,p,c):cc.apply(i,p)}}))}function $c(e){var t,n,r,o=e.length,a=Au.relative[e[0].type],i=a||Au.relative[" "],u=a?1:0,c=Vc((function(e){return e===t}),i,true),s=Vc((function(e){return lc.call(t,e)>-1}),i,true),l=[function(e,n,r){var o=!a&&(r||n!==Pu)||((t=n).nodeType?c(e,n,r):s(e,n,r))
t=null
return o}]
for(;u<o;u++)if(n=Au.relative[e[u].type])l=[Vc(jc(l),n)]
else{n=Au.filter[e[u].type].apply(null,e[u].matches)
if(n[Xu]){r=++u
for(;r<o;r++)if(Au.relative[e[r].type])break
return qc(u>1&&jc(l),u>1&&Fc(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(hc,"$1"),n,u<r&&$c(e.slice(u,r)),r<o&&$c(e=e.slice(r)),r<o&&Fc(e))}l.push(n)}return jc(l)}function Gc(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,i,u,c){var s,l,f,v=0,d="0",m=o&&[],g=[],h=Pu,p=o||r&&Au.find.TAG("*",c),b=Zu+=null==h?1:Math.random()||.1,y=p.length
c&&(Pu=a!==Vu&&a)
for(;d!==y&&null!=(s=p[d]);d++){if(r&&s){l=0
while(f=e[l++])if(f(s,a,i)){u.push(s)
break}c&&(Zu=b)}if(n){(s=!f&&s)&&v--
o&&m.push(s)}}v+=d
if(n&&d!==v){l=0
while(f=t[l++])f(m,g,a,i)
if(o){if(v>0)while(d--)m[d]||g[d]||(g[d]=ic.call(u))
g=Wc(g)}cc.apply(u,g)
c&&!o&&g.length>0&&v+t.length>1&&Ac.uniqueSort(u)}if(c){Zu=b
Pu=h}return m}
return n?Nc(o):o}zu=Ac.compile=function(e,t){var n,r=[],o=[],a=ec[e+" "]
if(!a){t||(t=Ru(e))
n=t.length
while(n--){a=$c(t[n])
a[Xu]?r.push(a):o.push(a)}a=ec(e,Gc(o,r))
a.selector=e}return a}
Bu=Ac.select=function(e,t,n,r){var o,a,i,u,c,s="function"===typeof e&&e,l=!r&&Ru(e=s.selector||e)
n=n||[]
if(1===l.length){a=l[0]=l[0].slice(0)
if(a.length>2&&"ID"===(i=a[0]).type&&Du.getById&&9===t.nodeType&&Uu&&Au.relative[a[1].type]){t=(Au.find.ID(i.matches[0].replace(Lc,Dc),t)||[])[0]
if(!t)return n
s&&(t=t.parentNode)
e=e.slice(a.shift().value.length)}o=Cc.needsContext.test(e)?0:a.length
while(o--){i=a[o]
if(Au.relative[u=i.type])break
if((c=Au.find[u])&&(r=c(i.matches[0].replace(Lc,Dc),Ec.test(a[0].type)&&Ic(t.parentNode)||t))){a.splice(o,1)
e=r.length&&Fc(a)
if(!e){cc.apply(n,r)
return n}break}}}(s||zu(e,l))(r,t,!Uu,n,Ec.test(e)&&Ic(t.parentNode)||t)
return n}
Du.sortStable=Xu.split("").sort(tc).join("")===Xu
Du.detectDuplicates=!!Hu
Fu()
Du.sortDetached=true
var Xc=document
var Kc=Array.prototype.push
var Zc=Array.prototype.slice
var Yc=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/
var Jc=Lu.Event
var Qc=dn.makeMap("children,contents,next,prev")
var es=function(e){return"undefined"!==typeof e}
var ts=function(e){return"string"===typeof e}
var ns=function(e){return e&&e===e.window}
var rs=function(e,t){t=t||Xc
var n=t.createElement("div")
var r=t.createDocumentFragment()
n.innerHTML=e
var o
while(o=n.firstChild)r.appendChild(o)
return r}
var os=function(e,t,n,r){var o
if(ts(t))t=rs(t,ys(e[0]))
else if(t.length&&!t.nodeType){t=Ss.makeArray(t)
if(r)for(o=t.length-1;o>=0;o--)os(e,t[o],n,r)
else for(o=0;o<t.length;o++)os(e,t[o],n,r)
return e}if(t.nodeType){o=e.length
while(o--)n.call(e[o],t)}return e}
var as=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}
var is=function(e,t,n){var r,o
t=Ss(t)[0]
e.each((function(){var e=this
if(n&&r===e.parentNode)o.appendChild(e)
else{r=e.parentNode
o=t.cloneNode(false)
e.parentNode.insertBefore(o,e)
o.appendChild(e)}}))
return e}
var us=dn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ")
var cs=dn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," ")
var ss={for:"htmlFor",class:"className",readonly:"readOnly"}
var ls={float:"cssFloat"}
var fs={},vs={}
var ds=function(e,t){return new Ss.fn.init(e,t)}
var ms=function(e,t){var n
if(t.indexOf)return t.indexOf(e)
n=t.length
while(n--)if(t[n]===e)return n
return-1}
var gs=/^\s*|\s*$/g
var hs=function(e){return null===e||void 0===e?"":(""+e).replace(gs,"")}
var ps=function(e,t){var n,r,o,a
if(e){n=e.length
if(void 0===n){for(r in e)if(e.hasOwnProperty(r)){a=e[r]
if(false===t.call(a,r,a))break}}else for(o=0;o<n;o++){a=e[o]
if(false===t.call(a,o,a))break}}return e}
var bs=function(e,t){var n=[]
ps(e,(function(e,r){t(r,e)&&n.push(r)}))
return n}
var ys=function(e){if(!e)return Xc
if(9===e.nodeType)return e
return e.ownerDocument}
ds.fn=ds.prototype={constructor:ds,selector:"",context:null,length:0,init:function(e,t){var n=this
var r,o
if(!e)return n
if(e.nodeType){n.context=n[0]=e
n.length=1
return n}if(t&&t.nodeType)n.context=t
else{if(t)return Ss(e).attr(t)
n.context=t=document}if(ts(e)){n.selector=e
r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Yc.exec(e)
if(!r)return Ss(t).find(e)
if(r[1]){o=rs(e,ys(t)).firstChild
while(o){Kc.call(n,o)
o=o.nextSibling}}else{o=ys(t).getElementById(r[2])
if(!o)return n
if(o.id!==r[2])return n.find(e)
n.length=1
n[0]=o}}else this.add(e,false)
return n},toArray:function(){return dn.toArray(this)},add:function(e,t){var n=this
var r,o
if(ts(e))return n.add(Ss(e))
if(false!==t){r=Ss.unique(n.toArray().concat(Ss.makeArray(e)))
n.length=r.length
for(o=0;o<r.length;o++)n[o]=r[o]}else Kc.apply(n,Ss.makeArray(e))
return n},attr:function(e,t){var n=this
var r
if("object"===typeof e)ps(e,(function(e,t){n.attr(e,t)}))
else{if(!es(t)){if(n[0]&&1===n[0].nodeType){r=fs[e]
if(r&&r.get)return r.get(n[0],e)
if(cs[e])return n.prop(e)?e:void 0
t=n[0].getAttribute(e,2)
null===t&&(t=void 0)}return t}this.each((function(){var n
if(1===this.nodeType){n=fs[e]
if(n&&n.set){n.set(this,t)
return}null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this
e=ss[e]||e
if("object"===typeof e)ps(e,(function(e,t){n.prop(e,t)}))
else{if(!es(t)){if(n[0]&&n[0].nodeType&&e in n[0])return n[0][e]
return t}this.each((function(){1===this.nodeType&&(this[e]=t)}))}return n},css:function(e,t){var n=this
var r,o
var a=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))}
var i=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))}
if("object"===typeof e)ps(e,(function(e,t){n.css(e,t)}))
else if(es(t)){e=a(e)
"number"!==typeof t||us[e]||(t=t.toString()+"px")
n.each((function(){var n=this.style
o=vs[e]
if(o&&o.set){o.set(this,t)
return}try{this.style[ls[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(i(e)):n.removeAttribute(e))}))}else{r=n[0]
o=vs[e]
if(o&&o.get)return o.get(r)
if(!r.ownerDocument.defaultView)return r.currentStyle?r.currentStyle[a(e)]:""
try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(e))}catch(e){return}}return n},remove:function(){var e=this
var t,n=this.length
while(n--){t=e[n]
Jc.clean(t)
t.parentNode&&t.parentNode.removeChild(t)}return this},empty:function(){var e=this
var t,n=this.length
while(n--){t=e[n]
while(t.firstChild)t.removeChild(t.firstChild)}return this},html:function(e){var t=this
var n
if(es(e)){n=t.length
try{while(n--)t[n].innerHTML=e}catch(r){Ss(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this
var n
if(es(e)){n=t.length
while(n--)"innerText"in t[n]?t[n].innerText=e:t[0].textContent=e
return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return os(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return os(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),true)},before:function(){var e=this
if(e[0]&&e[0].parentNode)return os(e,arguments,(function(e){this.parentNode.insertBefore(e,this)}))
return e},after:function(){var e=this
if(e[0]&&e[0].parentNode)return os(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),true)
return e},appendTo:function(e){Ss(e).append(this)
return this},prependTo:function(e){Ss(e).prepend(this)
return this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return is(this,e)},wrapAll:function(e){return is(this,e,true)},wrapInner:function(e){this.each((function(){Ss(this).contents().wrapAll(e)}))
return this},unwrap:function(){return this.parent().each((function(){Ss(this).replaceWith(this.childNodes)}))},clone:function(){var e=[]
this.each((function(){e.push(this.cloneNode(true))}))
return Ss(e)},addClass:function(e){return this.toggleClass(e,true)},removeClass:function(e){return this.toggleClass(e,false)},toggleClass:function(e,t){var n=this
if("string"!==typeof e)return n;-1!==e.indexOf(" ")?ps(e.split(" "),(function(){n.toggleClass(this,t)})):n.each((function(n,r){var o=as(r,e)
if(o!==t){var a=r.className
o?r.className=hs((" "+a+" ").replace(" "+e+" "," ")):r.className+=a?" "+e:e}}))
return n},hasClass:function(e){return as(this[0],e)},each:function(e){return ps(this,e)},on:function(e,t){return this.each((function(){Jc.bind(this,e,t)}))},off:function(e,t){return this.each((function(){Jc.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"===typeof e?Jc.fire(this,e.type,e):Jc.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Ss(Zc.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n
var r=[]
for(t=0,n=this.length;t<n;t++)Ss.find(e,this[t],r)
return Ss(r)},filter:function(e){if("function"===typeof e)return Ss(bs(this.toArray(),(function(t,n){return e(n,t)})))
return Ss(Ss.filter(e,this.toArray()))},closest:function(e){var t=[]
e instanceof Ss&&(e=e[0])
this.each((function(n,r){while(r){if("string"===typeof e&&Ss(r).is(e)){t.push(r)
break}if(r===e){t.push(r)
break}r=r.parentNode}}))
return Ss(t)},offset:function(e){var t,n,r
var o,a=0,i=0
if(!e){t=this[0]
if(t){n=t.ownerDocument
r=n.documentElement
if(t.getBoundingClientRect){o=t.getBoundingClientRect()
a=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft
i=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop}}return{left:a,top:i}}return this.css(e)},push:Kc,sort:Array.prototype.sort,splice:Array.prototype.splice}
dn.extend(ds,{extend:dn.extend,makeArray:function(e){if(ns(e)||e.nodeType)return[e]
return dn.toArray(e)},inArray:ms,isArray:dn.isArray,each:ps,trim:hs,grep:bs,find:Ac,expr:Ac.selectors,unique:Ac.uniqueSort,text:Ac.getText,contains:Ac.contains,filter:function(e,t,n){var r=t.length
n&&(e=":not("+e+")")
while(r--)1!==t[r].nodeType&&t.splice(r,1)
t=1===t.length?Ss.find.matchesSelector(t[0],e)?[t[0]]:[]:Ss.find.matches(e,t)
return t}})
var ws=function(e,t,n){var r=[]
var o=e[t]
"string"!==typeof n&&n instanceof Ss&&(n=n[0])
while(o&&9!==o.nodeType){if(void 0!==n){if(o===n)break
if("string"===typeof n&&Ss(o).is(n))break}1===o.nodeType&&r.push(o)
o=o[t]}return r}
var xs=function(e,t,n,r){var o=[]
r instanceof Ss&&(r=r[0])
for(;e;e=e[t]){if(n&&e.nodeType!==n)continue
if(void 0!==r){if(e===r)break
if("string"===typeof r&&Ss(e).is(r))break}o.push(e)}return o}
var Cs=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e
return null}
ps({parent:function(e){var t=e.parentNode
return t&&11!==t.nodeType?t:null},parents:function(e){return ws(e,"parentNode")},next:function(e){return Cs(e,"nextSibling",1)},prev:function(e){return Cs(e,"previousSibling",1)},children:function(e){return xs(e.firstChild,"nextSibling",1)},contents:function(e){return dn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){ds.fn[e]=function(n){var r=this
var o=[]
r.each((function(){var e=t.call(o,this,n,o)
e&&(Ss.isArray(e)?o.push.apply(o,e):o.push(e))}))
if(this.length>1){Qc[e]||(o=Ss.unique(o))
0===e.indexOf("parents")&&(o=o.reverse())}var a=Ss(o)
if(n)return a.filter(n)
return a}}))
ps({parentsUntil:function(e,t){return ws(e,"parentNode",t)},nextUntil:function(e,t){return xs(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return xs(e,"previousSibling",1,t).slice(1)}},(function(e,t){ds.fn[e]=function(n,r){var o=this
var a=[]
o.each((function(){var e=t.call(a,this,n,a)
e&&(Ss.isArray(e)?a.push.apply(a,e):a.push(e))}))
if(this.length>1){a=Ss.unique(a)
0!==e.indexOf("parents")&&"prevUntil"!==e||(a=a.reverse())}var i=Ss(a)
if(r)return i.filter(r)
return i}}))
ds.fn.is=function(e){return!!e&&this.filter(e).length>0}
ds.fn.init.prototype=ds.fn
ds.overrideDefaults=function(e){var t
var n=function(r,o){t=t||e()
0===arguments.length&&(r=t.element)
o||(o=t.context)
return new n.fn.init(r,o)}
Ss.extend(n,this)
return n}
ds.attrHooks=fs
ds.cssHooks=vs
var Ss=ds
var ks=dn.each
var Os=dn.grep
var Ts=Qt.ie
var Es=/^([a-z0-9],?)+$/i
var _s=function(e,t,n){var r=t.keep_values
var o={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0]))
e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}}
var a={style:{set:function(t,n){if(null!==n&&"object"===typeof n){t.css(n)
return}r&&t.attr("data-mce-style",n)
if(null!==n&&"string"===typeof n){t.removeAttr("style")
t.css(e.parse(n))}else t.attr("style",n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style")
n=e.serialize(e.parse(n),t[0].nodeName)
return n}}}
r&&(a.href=a.src=o)
return a}
var Ls=function(e,t){var n=t.attr("style")
var r=e.serialize(e.parse(n),t[0].nodeName)
r||(r=null)
t.attr("data-mce-style",r)}
var Ds=function(e,t){var n,r,o=0
if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling){r=e.nodeType
if(t&&3===r&&(r===n||!e.nodeValue.length))continue
o++
n=r}return o}
var As=function(e,t){void 0===t&&(t={})
var n={}
var r=window
var o={}
var a=0
var i=true
var u=true
var c=ga.forElement(yn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy})
var s=[]
var l=t.schema?t.schema:gu({})
var f=pu({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema)
var v=t.ownEvents?new Lu:Lu.Event
var d=l.getBlockElements()
var m=Ss.overrideDefaults((function(){return{context:e,element:De.getRoot()}}))
var g=function(e){if("string"===typeof e)return!!d[e]
if(e){var t=e.nodeType
if(t)return!!(1===t&&d[e.nodeName])}return false}
var h=function(t){return t&&e&&b(t)?e.getElementById(t):t}
var p=function(e){return m("string"===typeof e?h(e):e)}
var y=function(e,t,n){var r,o
var a=p(e)
if(a.length){r=Ae[t]
o=r&&r.get?r.get(a,t):a.attr(t)}"undefined"===typeof o&&(o=n||"")
return o}
var w=function(e){var t=h(e)
if(!t)return[]
return t.attributes}
var x=function(e,n,r){""===r&&(r=null)
var o=p(e)
var a=o.attr(n)
if(!o.length)return
var i=Ae[n]
i&&i.set?i.set(o,r,n):o.attr(n,r)
a!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}
var C=function(t,n){if(!Ts||1!==t.nodeType||n)return t.cloneNode(n)
var r=e.createElement(t.nodeName)
ks(w(t),(function(e){x(r,e.nodeName,y(t,e.nodeName))}))
return r}
var S=function(){return t.root_element||e.body}
var O=function(e){var t=Ir(e)
return{x:t.x,y:t.y,w:t.width,h:t.height}}
var T=function(t,n){return _o(e.body,h(t),n)}
var E=function(e,n,r){var o=b(n)?p(e).css(n,r):p(e).css(n)
t.update_styles&&Ls(f,o)}
var L=function(e,n){var r=p(e).css(n)
t.update_styles&&Ls(f,r)}
var D=function(e,t,n){var r=p(e)
if(n)return r.css(t)
t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))
"float"===t&&(t=Qt.browser.isIE()?"styleFloat":"cssFloat")
return r[0]&&r[0].style?r[0].style[t]:void 0}
var A=function(e){var t,n
e=h(e)
t=D(e,"width")
n=D(e,"height");-1===t.indexOf("px")&&(t=0);-1===n.indexOf("px")&&(n=0)
return{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}}
var M=function(e){e=h(e)
var t=T(e)
var n=A(e)
return{x:t.x,y:t.y,w:n.w,h:n.h}}
var N=function(e,t){var n
if(!e)return false
if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType
if(Es.test(t)){var r=t.toLowerCase().split(/,/)
var o=e.nodeName.toLowerCase()
for(n=r.length-1;n>=0;n--)if(r[n]===o)return true
return false}if(e.nodeType&&1!==e.nodeType)return false}var a=Array.isArray(e)?e:[e]
return Ac(t,a[0].ownerDocument||a[0],null,a).length>0}
var R=function(e,t,n,r){var o=[]
var a
var i=h(e)
r=void 0===r
n=n||("BODY"!==S().nodeName?S().parentNode:null)
if(dn.is(t,"string")){a=t
t="*"===t?function(e){return 1===e.nodeType}:function(e){return N(e,a)}}while(i){if(i===n||k(i.nodeType)||Qr(i)||eo(i))break
if(!t||"function"===typeof t&&t(i)){if(!r)return[i]
o.push(i)}i=i.parentNode}return r?o:null}
var z=function(e,t,n){var r=R(e,t,n,false)
return r&&r.length>0?r[0]:null}
var B=function(e,t,n){var r=t
if(e){"string"===typeof t&&(r=function(e){return N(e,t)})
for(e=e[n];e;e=e[n])if("function"===typeof r&&r(e))return e}return null}
var P=function(e,t){return B(e,t,"nextSibling")}
var I=function(e,t){return B(e,t,"previousSibling")}
var H=function(n,r){return Ac(n,h(r)||t.root_element||e,[])}
var F=function(e,t,n){var r
var o="string"===typeof e?h(e):e
if(!o)return false
if(dn.isArray(o)&&(o.length||0===o.length)){r=[]
ks(o,(function(e,o){e&&r.push(t.call(n,"string"===typeof e?h(e):e,o))}))
return r}var a=n||this
return t.call(a,o)}
var V=function(e,t){p(e).each((function(e,n){ks(t,(function(e,t){x(n,t,e)}))}))}
var j=function(e,t){var n=p(e)
Ts?n.each((function(e,n){if(false===n.canHaveHTML)return
while(n.firstChild)n.removeChild(n.firstChild)
try{n.innerHTML="<br>"+t
n.removeChild(n.firstChild)}catch(e){Ss("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t})):n.html(t)}
var U=function(t,n,r,o,a){return F(t,(function(t){var i="string"===typeof n?e.createElement(n):n
V(i,r)
o&&("string"!==typeof o&&o.nodeType?i.appendChild(o):"string"===typeof o&&j(i,o))
return a?i:t.appendChild(i)}))}
var W=function(t,n,r){return U(e.createElement(t),t,n,r,true)}
var q=ou.decode
var $=ou.encodeAllRaw
var G=function(e,t,n){var r,o=""
o+="<"+e
for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&"undefined"!==typeof t[r]&&(o+=" "+r+'="'+$(t[r])+'"')
if("undefined"!==typeof n)return o+">"+n+"</"+e+">"
return o+" />"}
var X=function(t){var n
var r=e.createElement("div")
var o=e.createDocumentFragment()
o.appendChild(r)
t&&(r.innerHTML=t)
while(n=r.firstChild)o.appendChild(n)
o.removeChild(r)
return o}
var K=function(e,t){var n=p(e)
t?n.each((function(){var e
while(e=this.firstChild)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():n.remove()
return n.length>1?n.toArray():n[0]}
var Z=function(e){return F(e,(function(e){var t
var n=e.attributes
for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))}))}
var Y=function(e){return f.parse(e)}
var J=function(e,t){return f.serialize(e,t)}
var ee=function(t){var r,o
if(De!==As.DOM&&e===document){if(n[t])return
n[t]=true}o=e.getElementById("mceDefaultStyles")
if(!o){o=e.createElement("style")
o.id="mceDefaultStyles"
o.type="text/css"
r=e.getElementsByTagName("head")[0]
r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))}
var te=function(e){e||(e="")
Q(e.split(","),(function(e){o[e]=true
c.load(e,_)}))}
var ne=function(e,t,n){p(e).toggleClass(t,n).each((function(){""===this.className&&Ss(this).attr("class",null)}))}
var re=function(e,t){p(e).addClass(t)}
var oe=function(e,t){ne(e,t,false)}
var ae=function(e,t){return p(e).hasClass(t)}
var ie=function(e){p(e).show()}
var ue=function(e){p(e).hide()}
var ce=function(e){return"none"===p(e).css("display")}
var se=function(e){return(e||"mce_")+a++}
var le=function(e){var t="string"===typeof e?h(e):e
return Vr(t)?t.outerHTML:Ss("<div></div>").append(Ss(t).clone()).html()}
var fe=function(e,t){p(e).each((function(){try{if("outerHTML"in this){this.outerHTML=t
return}}catch(e){}K(Ss(this).html(t),true)}))}
var ve=function(e,t){var n=h(t)
return F(e,(function(e){var t=n.parentNode
var r=n.nextSibling
r?t.insertBefore(e,r):t.appendChild(e)
return e}))}
var de=function(e,t,n){return F(t,(function(t){dn.is(t,"array")&&(e=e.cloneNode(true))
n&&ks(Os(t.childNodes),(function(t){e.appendChild(t)}))
return t.parentNode.replaceChild(e,t)}))}
var me=function(e,t){var n
if(e.nodeName!==t.toUpperCase()){n=W(t)
ks(w(e),(function(t){x(n,t.nodeName,y(e,t.nodeName))}))
de(n,e,true)}return n||e}
var ge=function(e,t){var n,r=e
while(r){n=t
while(n&&r!==n)n=n.parentNode
if(r===n)break
r=r.parentNode}if(!r&&e.ownerDocument)return e.ownerDocument.documentElement
return r}
var he=function(e){return f.toHex(dn.trim(e))}
var pe=function(e){if(Vr(e)){var t="a"===e.nodeName.toLowerCase()&&!y(e,"href")&&y(e,"id")
if(y(e,"name")||y(e,"data-mce-bookmark")||t)return true}return false}
var be=function(e,t){var n,r,o=0
if(pe(e))return false
e=e.firstChild
if(e){var a=new ha(e,e.parentNode)
var i=l?l.getWhiteSpaceElements():{}
t=t||(l?l.getNonEmptyElements():null)
do{n=e.nodeType
if(Vr(e)){var u=e.getAttribute("data-mce-bogus")
if(u){e=a.next("all"===u)
continue}r=e.nodeName.toLowerCase()
if(t&&t[r]){if("br"===r){o++
e=a.next()
continue}return false}if(pe(e))return false}if(8===n)return false
if(3===n&&!Si(e.nodeValue))return false
if(3===n&&e.parentNode&&i[e.parentNode.nodeName]&&Si(e.nodeValue))return false
e=a.next()}while(e)}return o<=1}
var ye=function(){return e.createRange()}
var we=function(e,t,n){var r=ye()
var o
var a
var i
if(e&&t){r.setStart(e.parentNode,Ds(e))
r.setEnd(t.parentNode,Ds(t))
o=r.extractContents()
r=ye()
r.setStart(t.parentNode,Ds(t)+1)
r.setEnd(e.parentNode,Ds(e)+1)
a=r.extractContents()
i=e.parentNode
i.insertBefore(Fi(De,o),e)
n?i.insertBefore(n,e):i.insertBefore(t,e)
i.insertBefore(Fi(De,a),e)
K(e)
return n||t}}
var xe=function(n,o,a,i){if(dn.isArray(n)){var u=n.length
var c=[]
while(u--)c[u]=xe(n[u],o,a,i)
return c}!t.collect||n!==e&&n!==r||s.push([n,o,a,i])
var l=v.bind(n,o,a,i||De)
return l}
var Se=function(t,n,o){if(dn.isArray(t)){var a=t.length
var i=[]
while(a--)i[a]=Se(t[a],n,o)
return i}if(s.length>0&&(t===e||t===r)){a=s.length
while(a--){var u=s[a]
t!==u[0]||n&&n!==u[1]||o&&o!==u[2]||v.unbind(u[0],u[1],u[2])}}return v.unbind(t,n,o)}
var ke=function(e,t,n){return v.fire(e,t,n)}
var Oe=function(e){if(e&&Vr(e)){var t=e.getAttribute("data-mce-contenteditable")
if(t&&"inherit"!==t)return t
return"inherit"!==e.contentEditable?e.contentEditable:null}return null}
var Te=function(e){var t=S()
var n=null
for(;e&&e!==t;e=e.parentNode){n=Oe(e)
if(null!==n)break}return n}
var Ee=function(){if(s.length>0){var e=s.length
while(e--){var t=s[e]
v.unbind(t[0],t[1],t[2])}}Ce(o,(function(e,t){c.unload(t)
delete o[t]}))
Ac.setDocument&&Ac.setDocument()}
var _e=function(e,t){while(e){if(t===e)return true
e=e.parentNode}return false}
var Le=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}
var De={doc:e,settings:t,win:r,files:o,stdMode:i,boxModel:u,styleSheetLoader:c,boundEvents:s,styles:f,schema:l,events:v,isBlock:g,$:m,$$:p,root:null,clone:C,getRoot:S,getViewPort:O,getRect:M,getSize:A,getParent:z,getParents:R,get:h,getNext:P,getPrev:I,select:H,is:N,add:U,create:W,createHTML:G,createFragment:X,remove:K,setStyle:E,getStyle:D,setStyles:L,removeAllAttribs:Z,setAttrib:x,setAttribs:V,getAttrib:y,getPos:T,parseStyle:Y,serializeStyle:J,addStyle:ee,loadCSS:te,addClass:re,removeClass:oe,hasClass:ae,toggleClass:ne,show:ie,hide:ue,isHidden:ce,uniqueId:se,setHTML:j,getOuterHTML:le,setOuterHTML:fe,decode:q,encode:$,insertAfter:ve,replace:de,rename:me,findCommonAncestor:ge,toHex:he,run:F,getAttribs:w,isEmpty:be,createRng:ye,nodeIndex:Ds,split:we,bind:xe,unbind:Se,fire:ke,getContentEditable:Oe,getContentEditableParent:Te,destroy:Ee,isChildOf:_e,dumpRng:Le}
var Ae=_s(f,t,(function(){return De}))
return De}
As.DOM=As(document)
As.nodeIndex=Ds
var Ms=As.DOM
var Ns=dn.each,Rs=dn.grep
var zs=0
var Bs=1
var Ps=2
var Is=3
var Hs=function(){function e(e){void 0===e&&(e={})
this.states={}
this.queue=[]
this.scriptLoadedCallbacks={}
this.queueLoadedCallbacks=[]
this.loading=0
this.settings=e}e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e}
e.prototype.loadScript=function(e,t,n){var r=Ms
var o
var a=function(){r.remove(c)
o&&(o.onerror=o.onload=o=null)}
var i=function(){a()
t()}
var u=function(){a()
T(n)?n():"undefined"!==typeof console&&console.log&&console.log("Failed to load script: "+e)}
var c=r.uniqueId()
o=document.createElement("script")
o.id=c
o.type="text/javascript"
o.src=dn._addCacheSuffix(e)
this.settings.referrerPolicy&&r.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy)
o.onload=i
o.onerror=u;(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}
e.prototype.isDone=function(e){return this.states[e]===Ps}
e.prototype.markDone=function(e){this.states[e]=Ps}
e.prototype.add=function(e,t,n,r){var o=this.states[e]
this.queue.push(e)
void 0===o&&(this.states[e]=zs)
if(t){this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[])
this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this})}}
e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)}
e.prototype.remove=function(e){delete this.states[e]
delete this.scriptLoadedCallbacks[e]}
e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)}
e.prototype.loadScripts=function(e,t,n,r){var o=this
var a=[]
var i=function(e,t){Ns(o.scriptLoadedCallbacks[t],(function(t){T(t[e])&&t[e].call(t.scope)}))
o.scriptLoadedCallbacks[t]=void 0}
o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this})
var u=function(){var t=Rs(e)
e.length=0
Ns(t,(function(e){if(o.states[e]===Ps){i("success",e)
return}if(o.states[e]===Is){i("failure",e)
return}if(o.states[e]!==Bs){o.states[e]=Bs
o.loading++
o.loadScript(e,(function(){o.states[e]=Ps
o.loading--
i("success",e)
u()}),(function(){o.states[e]=Is
o.loading--
a.push(e)
i("failure",e)
u()}))}}))
if(!o.loading){var n=o.queueLoadedCallbacks.slice(0)
o.queueLoadedCallbacks.length=0
Ns(n,(function(e){0===a.length?T(e.success)&&e.success.call(e.scope):T(e.failure)&&e.failure.call(e.scope,a)}))}}
u()}
e.ScriptLoader=new e
return e}()
var Fs=function(e){var t=e
var n=function(){return t}
var r=function(e){t=e}
return{get:n,set:r}}
var Vs=function(e){return y(e)&&Me(e,"raw")}
var js=function(e){return w(e)&&e.length>1}
var Us={}
var Ws=Fs("en")
var qs=function(){return Ae(Us,Ws.get())}
var $s=function(){return Se(Us,(function(e){return We({},e)}))}
var Gs=function(e){e&&Ws.set(e)}
var Xs=function(){return Ws.get()}
var Ks=function(e,t){var n=Us[e]
n||(Us[e]=n={})
Ce(t,(function(e,t){n[t.toLowerCase()]=e}))}
var Zs=function(e){var t=qs().getOr({})
var n=function(e){if(T(e))return Object.prototype.toString.call(e)
return r(e)?"":""+e}
var r=function(e){return""===e||null===e||void 0===e}
var o=function(e){var r=n(e)
return Ae(t,r.toLowerCase()).map(n).getOr(r)}
var a=function(e){return e.replace(/{context:\w+}$/,"")}
if(r(e))return""
if(Vs(e))return n(e.raw)
if(js(e)){var i=e.slice(1)
var u=o(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return Me(i,t)?n(i[t]):e}))
return a(u)}return a(o(e))}
var Ys=function(){return qs().bind((function(e){return Ae(e,"_dir")})).exists((function(e){return"rtl"===e}))}
var Js=function(e){return Me(Us,e)}
var Qs={getData:$s,setCode:Gs,getCode:Xs,add:Ks,translate:Zs,isRtl:Ys,hasCode:Js}
var el=function(){var e=[]
var t={}
var n={}
var r=[]
var o=function(e,t){var n=ne(r,(function(n){return n.name===e&&n.state===t}))
Q(n,(function(e){return e.callback()}))}
var a=function(e){if(n[e])return n[e].instance
return}
var i=function(e){var t
n[e]&&(t=n[e].dependencies)
return t||[]}
var u=function(e,n){false!==el.languageLoad&&m(e,(function(){var r=Qs.getCode()
var o=","+(n||"")+","
if(!r||n&&-1===o.indexOf(","+r+","))return
Hs.ScriptLoader.add(t[e]+"/langs/"+r+".js")}),"loaded")}
var c=function(t,r,a){var i=r
e.push(i)
n[t]={instance:i,dependencies:a}
o(t,"added")
return i}
var s=function(e){delete t[e]
delete n[e]}
var l=function(e,t){if("object"===typeof t)return t
return"string"===typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}}
var f=function(e,n){var r=t[e]
Q(n,(function(e){Hs.ScriptLoader.add(r+"/"+e)}))}
var v=function(e,t,n,r){var o=i(e)
Q(o,(function(e){var n=l(t,e)
d(n.resource,n,void 0,void 0)}))
n&&(r?n.call(r):n.call(Hs))}
var d=function(e,r,a,i,u){if(t[e])return
var c="string"===typeof r?r:r.prefix+r.resource+r.suffix
0!==c.indexOf("/")&&-1===c.indexOf("://")&&(c=el.baseURL+"/"+c)
t[e]=c.substring(0,c.lastIndexOf("/"))
var s=function(){o(e,"loaded")
v(e,r,a,i)}
n[e]?s():Hs.ScriptLoader.add(c,s,i,u)}
var m=function(e,o,a){void 0===a&&(a="added")
Me(n,e)&&"added"===a||Me(t,e)&&"loaded"===a?o():r.push({name:e,state:a,callback:o})}
return{items:e,urls:t,lookup:n,_listeners:r,get:a,dependencies:i,requireLangPack:u,add:c,remove:s,createUrl:l,addComponents:f,load:d,waitFor:m}}
el.languageLoad=true
el.baseURL=""
el.PluginManager=el()
el.ThemeManager=el()
var tl=function(e,t){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null===n&&(n=setTimeout((function(){e.apply(null,r)
n=null}),t))}
return{cancel:r,throttle:o}}
var nl=function(e,t){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null!==n&&clearTimeout(n)
n=setTimeout((function(){e.apply(null,r)
n=null}),t)}
return{cancel:r,throttle:o}}
var rl=function(e,t){var n=fo(e,t)
return void 0===n||""===n?[]:n.split(" ")}
var ol=function(e,t,n){var r=rl(e,t)
var o=r.concat([n])
so(e,t,o.join(" "))
return true}
var al=function(e,t,n){var r=ne(rl(e,t),(function(e){return e!==n}))
r.length>0?so(e,t,r.join(" ")):go(e,t)
return false}
var il=function(e){return void 0!==e.dom.classList}
var ul=function(e){return rl(e,"class")}
var cl=function(e,t){return ol(e,"class",t)}
var sl=function(e,t){return al(e,"class",t)}
var ll=function(e,t){il(e)?e.dom.classList.add(t):cl(e,t)}
var fl=function(e){var t=il(e)?e.dom.classList:ul(e)
0===t.length&&go(e,"class")}
var vl=function(e,t){if(il(e)){var n=e.dom.classList
n.remove(t)}else sl(e,t)
fl(e)}
var dl=function(e,t){return il(e)&&e.dom.classList.contains(t)}
var ml=function(e,t){var n=[]
Q(tr(e),(function(e){t(e)&&(n=n.concat([e]))
n=n.concat(ml(e,t))}))
return n}
var gl=function(e,t){return Dn(t,e)}
var hl=A("mce-annotation")
var pl=A("data-mce-annotation")
var bl=A("data-mce-annotation-uid")
var yl=function(e,t){var n=e.selection.getRng()
var r=yn.fromDom(n.startContainer)
var o=yn.fromDom(e.getBody())
var a=t.fold((function(){return"."+hl()}),(function(e){return"["+pl()+'="'+e+'"]'}))
var i=nr(r,n.startOffset).getOr(r)
var u=na(i,a,(function(e){return Mn(e,o)}))
var c=function(e,t){return mo(e,t)?W.some(fo(e,t)):W.none()}
return u.bind((function(t){return c(t,""+bl()).bind((function(n){return c(t,""+pl()).map((function(t){var r=xl(e,n)
return{uid:n,name:t,elements:r}}))}))}))}
var wl=function(e){return Fn(e)&&dl(e,hl())}
var xl=function(e,t){var n=yn.fromDom(e.getBody())
return gl(n,"["+bl()+'="'+t+'"]')}
var Cl=function(e,t){var n=yn.fromDom(e.getBody())
var r=gl(n,"["+pl()+'="'+t+'"]')
var o={}
Q(r,(function(e){var t=fo(e,bl())
var n=o.hasOwnProperty(t)?o[t]:[]
o[t]=n.concat([e])}))
return o}
var Sl=function(e,t){var n=Fs({})
var r=function(){return{listeners:[],previous:Fs(W.none())}}
var o=function(e,t){a(e,(function(e){t(e)
return e}))}
var a=function(e,t){var o=n.get()
var a=o.hasOwnProperty(e)?o[e]:r()
var i=t(a)
o[e]=i
n.set(o)}
var i=function(e,t,n){o(e,(function(r){Q(r.listeners,(function(r){return r(true,e,{uid:t,nodes:J(n,(function(e){return e.dom}))})}))}))}
var u=function(e){o(e,(function(t){Q(t.listeners,(function(t){return t(false,e)}))}))}
var c=nl((function(){var t=n.get()
var r=me(we(t))
Q(r,(function(t){a(t,(function(n){var r=n.previous.get()
yl(e,W.some(t)).fold((function(){if(r.isSome()){u(t)
n.previous.set(W.none())}}),(function(e){var t=e.uid,o=e.name,a=e.elements
if(!r.is(t)){i(o,t,a)
n.previous.set(W.some(t))}}))
return{previous:n.previous,listeners:n.listeners}}))}))}),30)
e.on("remove",(function(){c.cancel()}))
e.on("NodeChange",(function(){c.throttle()}))
var s=function(e,t){a(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))}
return{addListener:s}}
var kl=function(e,t){var n=function(e){return W.from(e.attr(pl())).bind(t.lookup)}
e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){Q(e,(function(e){n(e).each((function(t){false===t.persistent&&e.unwrap()}))}))}))}))}
var Ol=function(){var e={}
var t=function(t,n){e[t]={name:t,settings:n}}
var n=function(t){return e.hasOwnProperty(t)?W.from(e[t]).map((function(e){return e.settings})):W.none()}
return{register:t,lookup:n}}
var Tl=0
var El=function(e){var t=new Date
var n=t.getTime()
var r=Math.floor(1e9*Math.random())
Tl++
return e+"_"+r+Tl+String(n)}
var _l=function(e,t){Q(t,(function(t){ll(e,t)}))}
var Ll=function(e,t){var n=t||document
var r=n.createElement("div")
r.innerHTML=e
return tr(yn.fromDom(r))}
var Dl=function(e){return e.dom.innerHTML}
var Al=function(e,t){var n=Wn(e)
var r=n.dom
var o=yn.fromDom(r.createDocumentFragment())
var a=Ll(t,r)
Cr(o,a)
Sr(e)
yr(e,o)}
var Ml=function(e,t){return yn.fromDom(e.dom.cloneNode(t))}
var Nl=function(e){return Ml(e,false)}
var Rl=function(e){return Ml(e,true)}
var zl=function(e,t,n){void 0===n&&(n=I)
var r=new ha(e,t)
var o=function(e){var t
do{t=r[e]()}while(t&&!Yr(t)&&!n(t))
return W.from(t).filter(Yr)}
return{current:function(){return W.from(r.current()).filter(Yr)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}}
var Bl=function(e,t){var n=t||function(t){return e.isBlock(t)||to(t)||oo(t)}
var r=function(e,t,n,o){if(Yr(e)){var a=o(e,t,e.data)
if(-1!==a)return W.some({container:e,offset:a})}return n().bind((function(e){return r(e.container,e.offset,n,o)}))}
var o=function(e,t,o,a){var i=zl(e,a,n)
return r(e,t,(function(){return i.prev().map((function(e){return{container:e,offset:e.length}}))}),o).getOrNull()}
var a=function(e,t,o,a){var i=zl(e,a,n)
return r(e,t,(function(){return i.next().map((function(e){return{container:e,offset:0}}))}),o).getOrNull()}
return{backwards:o,forwards:a}}
var Pl=function(e){var t=[]
var n=function(e){t.push(e)}
for(var r=0;r<e.length;r++)e[r].each(n)
return t}
var Il=function(e,t,n){return e.isSome()&&t.isSome()?W.some(n(e.getOrDie(),t.getOrDie())):W.none()}
var Hl=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?W.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):W.none()}
var Fl=function(e,t){return e?W.some(t):W.none()}
var Vl=Math.round
var jl=function(e){if(!e)return{left:0,top:0,bottom:0,right:0,width:0,height:0}
return{left:Vl(e.left),top:Vl(e.top),bottom:Vl(e.bottom),right:Vl(e.right),width:Vl(e.width),height:Vl(e.height)}}
var Ul=function(e,t){e=jl(e)
if(t)e.right=e.left
else{e.left=e.left+e.width
e.right=e.left}e.width=0
return e}
var Wl=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}
var ql=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}
var $l=function(e,t){var n=Math.min(t.height/2,e.height/2)
if(e.bottom-n<t.top)return true
if(e.top>t.bottom)return false
return ql(t.top-e.bottom,e,t)}
var Gl=function(e,t){if(e.top>t.bottom)return true
if(e.bottom<t.top)return false
return ql(t.bottom-e.top,e,t)}
var Xl=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}
var Kl=function(e){var t=e.startContainer,n=e.startOffset
if(t.hasChildNodes()&&e.endOffset===n+1)return t.childNodes[n]
return null}
var Zl=function(e,t){if(1===e.nodeType&&e.hasChildNodes()){t>=e.childNodes.length&&(t=e.childNodes.length-1)
e=e.childNodes[t]}return e}
var Yl=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]")
var Jl=function(e){return"string"===typeof e&&e.charCodeAt(0)>=768&&Yl.test(e)}
var Ql=function(){var e=[]
for(var t=0;t<arguments.length;t++)e[t]=arguments[t]
return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return true
return false}}
var ef=function(){var e=[]
for(var t=0;t<arguments.length;t++)e[t]=arguments[t]
return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return false
return true}}
var tf=Vr
var nf=gi
var rf=Ur("display","block table")
var of=Ur("float","left right")
var af=ef(tf,nf,R(of))
var uf=R(Ur("white-space","pre pre-line pre-wrap"))
var cf=Yr
var sf=to
var lf=As.nodeIndex
var ff=Zl
var vf=function(e){return"createRange"in e?e.createRange():As.DOM.createRng()}
var df=function(e){return e&&/[\r\n\t ]/.test(e)}
var mf=function(e){return!!e.setStart&&!!e.setEnd}
var gf=function(e){var t=e.startContainer
var n=e.startOffset
var r
if(df(e.toString())&&uf(t.parentNode)&&Yr(t)){r=t.data
if(df(r[n-1])||df(r[n+1]))return true}return false}
var hf=function(e){var t=e.ownerDocument
var n=vf(t)
var r=t.createTextNode(Ha)
var o=e.parentNode
o.insertBefore(r,e)
n.setStart(r,0)
n.setEnd(r,1)
var a=jl(n.getBoundingClientRect())
o.removeChild(r)
return a}
var pf=function(e){var t=e.startContainer
var n=e.endContainer
var r=e.startOffset
var o=e.endOffset
if(t===n&&Yr(n)&&0===r&&1===o){var a=e.cloneRange()
a.setEndAfter(n)
return yf(a)}return null}
var bf=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom}
var yf=function(e){var t
var n=e.getClientRects()
t=n.length>0?jl(n[0]):jl(e.getBoundingClientRect())
if(!mf(e)&&sf(e)&&bf(t))return hf(e)
if(bf(t)&&mf(e))return pf(e)
return t}
var wf=function(e,t){var n=Ul(e,t)
n.width=1
n.right=n.left+1
return n}
var xf=function(e){var t=[]
var n,r
var o=function(e){if(0===e.height)return
if(t.length>0&&Wl(e,t[t.length-1]))return
t.push(e)}
var a=function(e,n){var r=vf(e.ownerDocument)
if(n<e.data.length){if(Jl(e.data[n]))return t
if(Jl(e.data[n-1])){r.setStart(e,n)
r.setEnd(e,n+1)
if(!gf(r)){o(wf(yf(r),false))
return t}}}if(n>0){r.setStart(e,n-1)
r.setEnd(e,n)
gf(r)||o(wf(yf(r),false))}if(n<e.data.length){r.setStart(e,n)
r.setEnd(e,n+1)
gf(r)||o(wf(yf(r),true))}}
if(cf(e.container())){a(e.container(),e.offset())
return t}if(tf(e.container()))if(e.isAtEnd()){r=ff(e.container(),e.offset())
cf(r)&&a(r,r.data.length)
af(r)&&!sf(r)&&o(wf(yf(r),false))}else{r=ff(e.container(),e.offset())
cf(r)&&a(r,0)
if(af(r)&&e.isAtEnd()){o(wf(yf(r),false))
return t}n=ff(e.container(),e.offset()-1)
af(n)&&!sf(n)&&(rf(n)||rf(r)||!af(r))&&o(wf(yf(n),false))
af(r)&&o(wf(yf(r),true))}return t}
var Cf=function(e,t,n){var r=function(){if(cf(e))return 0===t
return 0===t}
var o=function(){if(cf(e))return t>=e.data.length
return t>=e.childNodes.length}
var a=function(){var n=vf(e.ownerDocument)
n.setStart(e,t)
n.setEnd(e,t)
return n}
var i=function(){n||(n=xf(Cf(e,t)))
return n}
var u=function(){return i().length>0}
var c=function(n){return n&&e===n.container()&&t===n.offset()}
var s=function(n){return ff(e,n?t-1:t)}
return{container:A(e),offset:A(t),toRange:a,getClientRects:i,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:c,getNode:s}}
Cf.fromRangeStart=function(e){return Cf(e.startContainer,e.startOffset)}
Cf.fromRangeEnd=function(e){return Cf(e.endContainer,e.endOffset)}
Cf.after=function(e){return Cf(e.parentNode,lf(e)+1)}
Cf.before=function(e){return Cf(e.parentNode,lf(e))}
Cf.isAbove=function(e,t){return Il(he(t.getClientRects()),pe(e.getClientRects()),$l).getOr(false)}
Cf.isBelow=function(e,t){return Il(pe(t.getClientRects()),he(e.getClientRects()),Gl).getOr(false)}
Cf.isAtStart=function(e){return!!e&&e.isAtStart()}
Cf.isAtEnd=function(e){return!!e&&e.isAtEnd()}
Cf.isTextPosition=function(e){return!!e&&Yr(e.container())}
Cf.isElementPosition=function(e){return false===Cf.isTextPosition(e)}
var Sf=function(e,t){Yr(t)&&0===t.data.length&&e.remove(t)}
var kf=function(e,t,n){t.insertNode(n)
Sf(e,n.previousSibling)
Sf(e,n.nextSibling)}
var Of=function(e,t,n){var r=W.from(n.firstChild)
var o=W.from(n.lastChild)
t.insertNode(n)
r.each((function(t){return Sf(e,t.previousSibling)}))
o.each((function(t){return Sf(e,t.nextSibling)}))}
var Tf=function(e,t,n){eo(n)?Of(e,t,n):kf(e,t,n)}
var Ef=Yr
var _f=$r
var Lf=As.nodeIndex
var Df=function(e){var t=e.parentNode
if(_f(t))return Df(t)
return t}
var Af=function(e){if(!e)return[]
return Ve(e.childNodes,(function(e,t){_f(t)&&"BR"!==t.nodeName?e=e.concat(Af(t)):e.push(t)
return e}),[])}
var Mf=function(e,t){while(e=e.previousSibling){if(!Ef(e))break
t+=e.data.length}return t}
var Nf=function(e){return function(t){return e===t}}
var Rf=function(e){var t,n
t=Af(Df(e))
n=je(t,Nf(e),e)
t=t.slice(0,n+1)
var r=Ve(t,(function(e,n,r){Ef(n)&&Ef(t[r-1])&&e++
return e}),0)
t=He(t,jr([e.nodeName]))
n=je(t,Nf(e),e)
return n-r}
var zf=function(e){var t
t=Ef(e)?"text()":e.nodeName.toLowerCase()
return t+"["+Rf(e)+"]"}
var Bf=function(e,t,n){var r=[]
for(t=t.parentNode;t!==e;t=t.parentNode){if(n&&n(t))break
r.push(t)}return r}
var Pf=function(e,t){var n,r,o,a,i,u=[]
n=t.container()
r=t.offset()
if(Ef(n))o=Mf(n,r)
else{a=n.childNodes
if(r>=a.length){o="after"
r=a.length-1}else o="before"
n=a[r]}u.push(zf(n))
i=Bf(e,n)
i=He(i,R($r))
u=u.concat(Ie(i,(function(e){return zf(e)})))
return u.reverse().join("/")+","+o}
var If=function(e,t,n){var r=Af(e)
r=He(r,(function(e,t){return!Ef(e)||!Ef(r[t-1])}))
r=He(r,jr([t]))
return r[n]}
var Hf=function(e,t){var n,r=e,o=0
while(Ef(r)){n=r.data.length
if(t>=o&&t<=o+n){e=r
t-=o
break}if(!Ef(r.nextSibling)){e=r
t=n
break}o+=n
r=r.nextSibling}Ef(e)&&t>e.data.length&&(t=e.data.length)
return Cf(e,t)}
var Ff=function(e,t){var n
if(!t)return null
var r=t.split(",")
var o=r[0].split("/")
n=r.length>1?r[1]:"before"
var a=Ve(o,(function(e,t){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t)
if(!n)return null
"text()"===n[1]&&(n[1]="#text")
return If(e,n[1],parseInt(n[2],10))}),e)
if(!a)return null
if(!Ef(a)){n="after"===n?Lf(a)+1:Lf(a)
return Cf(a.parentNode,n)}return Hf(a,parseInt(n,10))}
var Vf=oo
var jf=function(e,t,n){var r,o
o=e(t.data.slice(0,n)).length
for(r=t.previousSibling;r&&Yr(r);r=r.previousSibling)o+=e(r.data).length
return o}
var Uf=function(e,t,n,r,o){var a=r[o?"startContainer":"endContainer"]
var i=r[o?"startOffset":"endOffset"]
var u=[]
var c,s=0
var l=e.getRoot()
if(Yr(a))u.push(n?jf(t,a,i):i)
else{c=a.childNodes
if(i>=c.length&&c.length){s=1
i=Math.max(0,c.length-1)}u.push(e.nodeIndex(c[i],n)+s)}for(;a&&a!==l;a=a.parentNode)u.push(e.nodeIndex(a,n))
return u}
var Wf=function(e,t,n,r){var o=t.dom,a={}
a.start=Uf(o,e,n,r,true)
t.isCollapsed()||(a.end=Uf(o,e,n,r,false))
return a}
var qf=function(e,t,n){var r=0
dn.each(e.select(t),(function(e){if("all"===e.getAttribute("data-mce-bogus"))return
if(e===n)return false
r++}))
return r}
var $f=function(e,t){var n,r,o
var a=t?"start":"end"
n=e[a+"Container"]
r=e[a+"Offset"]
if(Vr(n)&&"TR"===n.nodeName){o=n.childNodes
n=o[Math.min(t?r:r-1,o.length-1)]
if(n){r=t?0:n.childNodes.length
e["set"+(t?"Start":"End")](n,r)}}}
var Gf=function(e){$f(e,true)
$f(e,false)
return e}
var Xf=function(e,t){var n
if(Vr(e)){e=Zl(e,t)
if(Vf(e))return e}if(Ka(e)){Yr(e)&&Ga(e)&&(e=e.parentNode)
n=e.previousSibling
if(Vf(n))return n
n=e.nextSibling
if(Vf(n))return n}}
var Kf=function(e){return Xf(e.startContainer,e.startOffset)||Xf(e.endContainer,e.endOffset)}
var Zf=function(e,t,n){var r=n.getNode()
var o=r?r.nodeName:null
var a=n.getRng()
if(Vf(r)||"IMG"===o)return{name:o,index:qf(n.dom,o,r)}
var i=Kf(a)
if(i){o=i.tagName
return{name:o,index:qf(n.dom,o,i)}}return Wf(e,n,t,a)}
var Yf=function(e){var t=e.getRng()
return{start:Pf(e.dom.getRoot(),Cf.fromRangeStart(t)),end:Pf(e.dom.getRoot(),Cf.fromRangeEnd(t))}}
var Jf=function(e){return{rng:e.getRng()}}
var Qf=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"}
return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)}
var ev=function(e,t){var n=e.dom
var r=e.getRng()
var o=n.uniqueId()
var a=e.isCollapsed()
var i=e.getNode()
var u=i.nodeName
if("IMG"===u)return{name:u,index:qf(n,u,i)}
var c=Gf(r.cloneRange())
if(!a){c.collapse(false)
var s=Qf(n,o+"_end",t)
Tf(n,c,s)}r=Gf(r)
r.collapse(true)
var l=Qf(n,o+"_start",t)
Tf(n,r,l)
e.moveToBookmark({id:o,keep:true})
return{id:o}}
var tv=function(e,t,n){return 2===t?Zf(Wa,n,e):3===t?Yf(e):t?Jf(e):ev(e,false)}
var nv=N(Zf,M,true)
var rv=As.DOM
var ov="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"
var av=function(e,t,n){var r=e.getParam(t,n)
if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash")
return o.hasOwnProperty(e.id)?o[e.id]:n}return r}
var iv=function(e){return e.getParam("iframe_attrs",{})}
var uv=function(e){return e.getParam("doctype","<!DOCTYPE html>")}
var cv=function(e){return e.getParam("document_base_url","")}
var sv=function(e){return av(e,"body_id","tinymce")}
var lv=function(e){return av(e,"body_class","")}
var fv=function(e){return e.getParam("content_security_policy","")}
var vv=function(e){return e.getParam("br_in_pre",true)}
var dv=function(e){if(e.getParam("force_p_newlines",false))return"p"
var t=e.getParam("forced_root_block","p")
return false===t?"":true===t?"p":t}
var mv=function(e){return e.getParam("forced_root_block_attrs",{})}
var gv=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}
var hv=function(e){return e.getParam("no_newline_selector","")}
var pv=function(e){return e.getParam("keep_styles",true)}
var bv=function(e){return e.getParam("end_container_on_empty_block",false)}
var yv=function(e){return dn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}
var wv=function(e){return dn.explode(e.getParam("font_size_classes",""))}
var xv=function(e){return e.getParam("images_dataimg_filter",H,"function")}
var Cv=function(e){return e.getParam("automatic_uploads",true,"boolean")}
var Sv=function(e){return e.getParam("images_reuse_filename",false,"boolean")}
var kv=function(e){return e.getParam("images_replace_blob_uris",true,"boolean")}
var Ov=function(e){return e.getParam("icons","","string")}
var Tv=function(e){return e.getParam("icons_url","","string")}
var Ev=function(e){return e.getParam("images_upload_url","","string")}
var _v=function(e){return e.getParam("images_upload_base_path","","string")}
var Lv=function(e){return e.getParam("images_upload_credentials",false,"boolean")}
var Dv=function(e){return e.getParam("images_upload_handler",null,"function")}
var Av=function(e){return e.getParam("content_css_cors",false,"boolean")}
var Mv=function(e){return e.getParam("referrer_policy","","string")}
var Nv=function(e){return e.getParam("language","en","string")}
var Rv=function(e){return e.getParam("language_url","","string")}
var zv=function(e){return e.getParam("indent_use_margin",false)}
var Bv=function(e){return e.getParam("indentation","40px","string")}
var Pv=function(e){var t=e.getParam("content_css")
return b(t)?J(t.split(","),ft):w(t)?t:false===t||e.inline?[]:["default"]}
var Iv=function(e){var t=e.getParam("font_css",[])
return w(t)?t:J(t.split(","),ft)}
var Hv=function(e){return e.getParam("directionality",Qs.isRtl()?"rtl":void 0)}
var Fv=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}
var Vv=function(e){var t=e.getParam("object_resizing")
return false!==t&&!Qt.iOS&&(b(t)?t:"table,img,figure.image,div,video,iframe")}
var jv=function(e){return e.getParam("resize_img_proportional",true,"boolean")}
var Uv=function(e){return e.getParam("placeholder",rv.getAttrib(e.getElement(),"placeholder"),"string")}
var Wv=function(e){return e.getParam("event_root")}
var qv=function(e){return e.getParam("service_message")}
var $v=function(e){return e.getParam("theme")}
var Gv=function(e){return e.getParam("validate")}
var Xv=function(e){return false!==e.getParam("inline_boundaries")}
var Kv=function(e){return e.getParam("formats")}
var Zv=function(e){var t=e.getParam("preview_styles",ov)
return b(t)?t:""}
var Yv=function(e){return e.getParam("format_empty_lines",false,"boolean")}
var Jv=function(e){return e.getParam("custom_ui_selector","","string")}
var Qv=function(e){return e.getParam("theme_url")}
var ed=function(e){return e.getParam("inline")}
var td=function(e){return e.getParam("hidden_input")}
var nd=function(e){return e.getParam("submit_patch")}
var rd=function(e){return"xml"===e.getParam("encoding")}
var od=function(e){return e.getParam("add_form_submit_trigger")}
var ad=function(e){return e.getParam("add_unload_trigger")}
var id=function(e){return""!==dv(e)}
var ud=function(e){return e.getParam("custom_undo_redo_levels",0,"number")}
var cd=function(e){return e.getParam("disable_nodechange")}
var sd=function(e){return e.getParam("readonly")}
var ld=function(e){return e.getParam("content_css_cors")}
var fd=function(e){return e.getParam("plugins","","string")}
var vd=function(e){return e.getParam("external_plugins")}
var dd=function(e){return e.getParam("block_unsupported_drop",true,"boolean")}
var md=function(e){return e.getParam("visual",true,"boolean")}
var gd=function(e){return e.getParam("visual_table_class","mce-item-table","string")}
var hd=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")}
var pd=Vr
var bd=Yr
var yd=function(e){var t=e.parentNode
t&&t.removeChild(e)}
var wd=function(e){var t=Wa(e)
return{count:e.length-t.length,text:t}}
var xd=function(e){var t
while(-1!==(t=e.data.lastIndexOf(ja)))e.deleteData(t,1)}
var Cd=function(e,t){_d(e)
return t}
var Sd=function(e,t){var n=wd(e.data.substr(0,t.offset()))
var r=wd(e.data.substr(t.offset()))
var o=n.text+r.text
if(o.length>0){xd(e)
return Cf(e,t.offset()-n.count)}return t}
var kd=function(e,t){var n=t.container()
var r=K(be(n.childNodes),e).map((function(e){return e<t.offset()?Cf(n,t.offset()-1):t})).getOr(t)
_d(e)
return r}
var Od=function(e,t){return bd(e)&&t.container()===e?Sd(e,t):Cd(e,t)}
var Td=function(e,t){return t.container()===e.parentNode?kd(e,t):Cd(e,t)}
var Ed=function(e,t){return Cf.isTextPosition(t)?Od(e,t):Td(e,t)}
var _d=function(e){pd(e)&&Ka(e)&&(Za(e)?e.removeAttribute("data-mce-caret"):yd(e))
if(bd(e)){xd(e)
0===e.data.length&&yd(e)}}
var Ld=Wt().browser
var Dd=oo
var Ad=io
var Md=ao
var Nd="*[contentEditable=false],video,audio,embed,object"
var Rd=function(e,t,n){var r=Ul(t.getBoundingClientRect(),n)
var o,a,i,u,c
if("BODY"===e.tagName){o=e.ownerDocument.documentElement
a=e.scrollLeft||o.scrollLeft
i=e.scrollTop||o.scrollTop}else{c=e.getBoundingClientRect()
a=e.scrollLeft-c.left
i=e.scrollTop-c.top}r.left+=a
r.right+=a
r.top+=i
r.bottom+=i
r.width=1
u=t.offsetWidth-t.clientWidth
if(u>0){n&&(u*=-1)
r.left+=u
r.right+=u}return r}
var zd=function(e){var t=gl(yn.fromDom(e),Nd)
for(var n=0;n<t.length;n++){var r=t[n].dom
var o=r.previousSibling
if(ri(o)){var a=o.data
1===a.length?o.parentNode.removeChild(o):o.deleteData(a.length-1,1)}o=r.nextSibling
if(ni(o)){a=o.data
1===a.length?o.parentNode.removeChild(o):o.deleteData(0,1)}}}
var Bd=function(e,t,n,r){var o=Fs(W.none())
var a,i
var u=dv(e)
var c=u.length>0?u:"p"
var s=function(e,r){var a,u
l()
if(Md(r))return null
if(!n(r)){i=Ya(r,e)
u=r.ownerDocument.createRange()
if(Id(i.nextSibling)){u.setStart(i,0)
u.setEnd(i,0)}else{u.setStart(i,1)
u.setEnd(i,1)}return u}i=ti(c,r,e)
a=Rd(t,r,e)
Ss(i).css("top",a.top)
var s=Ss('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(a).appendTo(t)[0]
o.set(W.some({caret:s,element:r,before:e}))
o.get().each((function(t){e&&Ss(t.caret).addClass("mce-visual-caret-before")}))
f()
u=r.ownerDocument.createRange()
u.setStart(i,0)
u.setEnd(i,0)
return u}
var l=function(){zd(t)
if(i){_d(i)
i=null}o.get().each((function(e){Ss(e.caret).remove()
o.set(W.none())}))
if(a){va.clearInterval(a)
a=null}}
var f=function(){a=va.setInterval((function(){r()?Ss("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):Ss("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)}
var v=function(){o.get().each((function(e){var n=Rd(t,e.element,e.before)
Ss(e.caret).css(We({},n))}))}
var d=function(){return va.clearInterval(a)}
var m=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}
return{show:s,hide:l,getCss:m,reposition:v,destroy:d}}
var Pd=function(){return Ld.isIE()||Ld.isEdge()||Ld.isFirefox()}
var Id=function(e){return Dd(e)||Ad(e)}
var Hd=function(e){return Id(e)||Xr(e)&&Pd()}
var Fd=oo
var Vd=io
var jd=Ur("display","block table table-cell table-caption list-item")
var Ud=Ka
var Wd=Ga
var qd=Vr
var $d=gi
var Gd=function(e){return e>0}
var Xd=function(e){return e<0}
var Kd=function(e,t){var n
while(n=e(t))if(!Wd(n))return n
return null}
var Zd=function(e,t,n,r,o){var a=new ha(e,r)
var i=Fd(e)||Wd(e)
if(Xd(t)){if(i){e=Kd(a.prev.bind(a),true)
if(n(e))return e}while(e=Kd(a.prev.bind(a),o))if(n(e))return e}if(Gd(t)){if(i){e=Kd(a.next.bind(a),true)
if(n(e))return e}while(e=Kd(a.next.bind(a),o))if(n(e))return e}return null}
var Yd=function(e,t){while(e&&e!==t){if(jd(e))return e
e=e.parentNode}return null}
var Jd=function(e,t,n){return Yd(e.container(),n)===Yd(t.container(),n)}
var Qd=function(e,t){if(!t)return null
var n=t.container()
var r=t.offset()
if(!qd(n))return null
return n.childNodes[r+e]}
var em=function(e,t){var n=t.ownerDocument.createRange()
if(e){n.setStartBefore(t)
n.setEndBefore(t)}else{n.setStartAfter(t)
n.setEndAfter(t)}return n}
var tm=function(e,t,n){return Yd(t,e)===Yd(n,e)}
var nm=function(e,t,n){var r,o
o=e?"previousSibling":"nextSibling"
while(n&&n!==t){r=n[o]
Ud(r)&&(r=r[o])
if(Fd(r)||Vd(r)){if(tm(t,r,n))return r
break}if($d(r))break
n=n.parentNode}return null}
var rm=N(em,true)
var om=N(em,false)
var am=function(e,t,n){var r,o,a
var i=N(nm,true,t)
var u=N(nm,false,t)
o=n.startContainer
var c=n.startOffset
if(Ga(o)){qd(o)||(o=o.parentNode)
a=o.getAttribute("data-mce-caret")
if("before"===a){r=o.nextSibling
if(Hd(r))return rm(r)}if("after"===a){r=o.previousSibling
if(Hd(r))return om(r)}}if(!n.collapsed)return n
if(Yr(o)){if(Ud(o)){if(1===e){r=u(o)
if(r)return rm(r)
r=i(o)
if(r)return om(r)}if(-1===e){r=i(o)
if(r)return om(r)
r=u(o)
if(r)return rm(r)}return n}if(ri(o)&&c>=o.data.length-1){if(1===e){r=u(o)
if(r)return rm(r)}return n}if(ni(o)&&c<=1){if(-1===e){r=i(o)
if(r)return om(r)}return n}if(c===o.data.length){r=u(o)
if(r)return rm(r)
return n}if(0===c){r=i(o)
if(r)return om(r)
return n}}return n}
var im=function(e,t){return W.from(Qd(e?0:-1,t)).filter(Fd)}
var um=function(e,t,n){var r=am(e,t,n)
if(-1===e)return Cf.fromRangeStart(r)
return Cf.fromRangeEnd(r)}
var cm=function(e){return W.from(e.getNode()).map(yn.fromDom)}
var sm=function(e){return W.from(e.getNode(true)).map(yn.fromDom)}
var lm=function(e,t){while(t=e(t))if(t.isVisible())return t
return t}
var fm=function(e,t){var n=Jd(e,t)
if(!n&&to(e.getNode()))return true
return n}
var vm;(function(e){e[e["Backwards"]=-1]="Backwards"
e[e["Forwards"]=1]="Forwards"})(vm||(vm={}))
var dm=oo
var mm=Yr
var gm=Vr
var hm=to
var pm=gi
var bm=wi
var ym=xi
var wm=function(e,t){var n=[]
while(e&&e!==t){n.push(e)
e=e.parentNode}return n}
var xm=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length)return e.childNodes[t]
return null}
var Cm=function(e,t){if(Gd(e)){if(pm(t.previousSibling)&&!mm(t.previousSibling))return Cf.before(t)
if(mm(t))return Cf(t,0)}if(Xd(e)){if(pm(t.nextSibling)&&!mm(t.nextSibling))return Cf.after(t)
if(mm(t))return Cf(t,t.data.length)}if(Xd(e)){if(hm(t))return Cf.before(t)
return Cf.after(t)}return Cf.before(t)}
var Sm=function(e,t){var n=t.nextSibling
return n&&pm(n)?mm(n)?Cf(n,0):Cf.before(n):km(vm.Forwards,Cf.after(t),e)}
var km=function(e,t,n){var r,o,a
var i
if(!gm(n)||!t)return null
if(t.isEqual(Cf.after(n))&&n.lastChild){i=Cf.after(n.lastChild)
if(Xd(e)&&pm(n.lastChild)&&gm(n.lastChild))return hm(n.lastChild)?Cf.before(n.lastChild):i}else i=t
var u=i.container()
var c=i.offset()
if(mm(u)){if(Xd(e)&&c>0)return Cf(u,--c)
if(Gd(e)&&c<u.length)return Cf(u,++c)
r=u}else{if(Xd(e)&&c>0){o=xm(u,c-1)
if(pm(o)){if(!bm(o)){a=Zd(o,e,ym,o)
if(a){if(mm(a))return Cf(a,a.data.length)
return Cf.after(a)}}if(mm(o))return Cf(o,o.data.length)
return Cf.before(o)}}if(Gd(e)&&c<u.childNodes.length){o=xm(u,c)
if(pm(o)){if(hm(o))return Sm(n,o)
if(!bm(o)){a=Zd(o,e,ym,o)
if(a){if(mm(a))return Cf(a,0)
return Cf.before(a)}}if(mm(o))return Cf(o,0)
return Cf.after(o)}}r=o||i.getNode()}if(Gd(e)&&i.isAtEnd()||Xd(e)&&i.isAtStart()){r=Zd(r,e,H,n,true)
if(ym(r,n))return Cm(e,r)}o=Zd(r,e,ym,n)
var s=Ue(ne(wm(u,n),dm))
if(s&&(!o||!s.contains(o))){i=Gd(e)?Cf.after(s):Cf.before(s)
return i}if(o)return Cm(e,o)
return null}
var Om=function(e){return{next:function(t){return km(vm.Forwards,t,e)},prev:function(t){return km(vm.Backwards,t,e)}}}
var Tm=function(e,t,n){var r=e?Cf.before(n):Cf.after(n)
return Nm(e,t,r)}
var Em=function(e){return to(e)?Cf.before(e):Cf.after(e)}
var _m=function(e){return Cf.isTextPosition(e)?0===e.offset():gi(e.getNode())}
var Lm=function(e){if(Cf.isTextPosition(e)){var t=e.container()
return e.offset()===t.data.length}return gi(e.getNode(true))}
var Dm=function(e,t){return!Cf.isTextPosition(e)&&!Cf.isTextPosition(t)&&e.getNode()===t.getNode(true)}
var Am=function(e){return!Cf.isTextPosition(e)&&to(e.getNode())}
var Mm=function(e,t,n){return e?!Dm(t,n)&&!Am(t)&&Lm(t)&&_m(n):!Dm(n,t)&&_m(t)&&Lm(n)}
var Nm=function(e,t,n){var r=Om(t)
return W.from(e?r.next(n):r.prev(n))}
var Rm=function(e,t,n){return Nm(e,t,n).bind((function(r){return Jd(n,r,t)&&Mm(e,n,r)?Nm(e,t,r):W.some(r)}))}
var zm=function(e,t,n,r){return Rm(e,t,n).bind((function(n){return r(n)?zm(e,t,n,r):W.some(n)}))}
var Bm=function(e,t){var n=e?t.firstChild:t.lastChild
return Yr(n)?W.some(Cf(n,e?0:n.data.length)):n?gi(n)?W.some(e?Cf.before(n):Em(n)):Tm(e,t,n):W.none()}
var Pm=N(Nm,true)
var Im=N(Nm,false)
var Hm=N(Bm,true)
var Fm=N(Bm,false)
var Vm="_mce_caret"
var jm=function(e){return Vr(e)&&e.id===Vm}
var Um=function(e,t){while(t&&t!==e){if(t.id===Vm)return t
t=t.parentNode}return null}
var Wm=function(e){return b(e.start)}
var qm=function(e){return e.hasOwnProperty("rng")}
var $m=function(e){return e.hasOwnProperty("id")}
var Gm=function(e){return e.hasOwnProperty("name")}
var Xm=function(e){return dn.isArray(e.start)}
var Km=function(e,t){Vr(t)&&e.isBlock(t)&&!t.innerHTML&&!Qt.ie&&(t.innerHTML='<br data-mce-bogus="1" />')
return t}
var Zm=function(e,t){var n
var r=e.createRng()
n=Ff(e.getRoot(),t.start)
r.setStart(n.container(),n.offset())
n=Ff(e.getRoot(),t.end)
r.setEnd(n.container(),n.offset())
return r}
var Ym=function(e,t){var n=e.ownerDocument.createTextNode(ja)
e.appendChild(n)
t.setStart(n,0)
t.setEnd(n,0)}
var Jm=function(e){return false===e.hasChildNodes()}
var Qm=function(e,t){return Fm(e).fold(I,(function(e){t.setStart(e.container(),e.offset())
t.setEnd(e.container(),e.offset())
return true}))}
var eg=function(e,t,n){if(Jm(t)&&Um(e,t)){Ym(t,n)
return true}return false}
var tg=function(e,t,n,r){var o=n[t?"start":"end"]
var a,i,u,c
var s=e.getRoot()
if(o){u=o[0]
for(i=s,a=o.length-1;a>=1;a--){c=i.childNodes
if(eg(s,i,r))return true
if(o[a]>c.length-1){if(eg(s,i,r))return true
return Qm(i,r)}i=c[o[a]]}3===i.nodeType&&(u=Math.min(o[0],i.nodeValue.length))
1===i.nodeType&&(u=Math.min(o[0],i.childNodes.length))
t?r.setStart(i,u):r.setEnd(i,u)}return true}
var ng=function(e){return Yr(e)&&e.data.length>0}
var rg=function(e,t,n){var r,o,a,i,u=e.get(n.id+"_"+t)
var c=n.keep
var s,l
if(u){r=u.parentNode
if("start"===t){if(c)if(u.hasChildNodes()){r=u.firstChild
o=1}else if(ng(u.nextSibling)){r=u.nextSibling
o=0}else if(ng(u.previousSibling)){r=u.previousSibling
o=u.previousSibling.data.length}else{r=u.parentNode
o=e.nodeIndex(u)+1}else o=e.nodeIndex(u)
s=r
l=o}else{if(c)if(u.hasChildNodes()){r=u.firstChild
o=1}else if(ng(u.previousSibling)){r=u.previousSibling
o=u.previousSibling.data.length}else{r=u.parentNode
o=e.nodeIndex(u)}else o=e.nodeIndex(u)
s=r
l=o}if(!c){i=u.previousSibling
a=u.nextSibling
dn.each(dn.grep(u.childNodes),(function(e){Yr(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}))
while(u=e.get(n.id+"_"+t))e.remove(u,true)
if(i&&a&&i.nodeType===a.nodeType&&Yr(i)&&!Qt.opera){o=i.nodeValue.length
i.appendData(a.nodeValue)
e.remove(a)
s=i
l=o}}return W.some(Cf(s,l))}return W.none()}
var og=function(e,t){var n=e.createRng()
return tg(e,true,t,n)&&tg(e,false,t,n)?W.some(n):W.none()}
var ag=function(e,t){var n=rg(e,"start",t)
var r=rg(e,"end",t)
return Il(n,r.or(n),(function(t,n){var r=e.createRng()
r.setStart(Km(e,t.container()),t.offset())
r.setEnd(Km(e,n.container()),n.offset())
return r}))}
var ig=function(e,t){return W.from(e.select(t.name)[t.index]).map((function(t){var n=e.createRng()
n.selectNode(t)
return n}))}
var ug=function(e,t){var n=e.dom
if(t){if(Xm(t))return og(n,t)
if(Wm(t))return W.some(Zm(n,t))
if($m(t))return ag(n,t)
if(Gm(t))return ig(n,t)
if(qm(t))return W.some(t.rng)}return W.none()}
var cg=function(e,t,n){return tv(e,t,n)}
var sg=function(e,t){ug(e,t).each((function(t){e.setRng(t)}))}
var lg=function(e){return Vr(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}
var fg=function(e){return function(t){return e===t}}
var vg=fg(Ha)
var dg=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)}
var mg=function(e){return!dg(e)&&!vg(e)}
var gg=function(e){return!!e.nodeType}
var hg=function(e){return e&&/^(IMG)$/.test(e.nodeName)}
var pg=function(e,t,n){var r=n.startOffset
var o,a,i,u=n.startContainer
if(n.startContainer===n.endContainer&&hg(n.startContainer.childNodes[n.startOffset]))return
if(1===u.nodeType){i=u.childNodes
if(r<i.length){u=i[r]
o=new ha(u,e.getParent(u,e.isBlock))}else{u=i[i.length-1]
o=new ha(u,e.getParent(u,e.isBlock))
o.next(true)}for(a=o.current();a;a=o.next())if(3===a.nodeType&&!xg(a)){n.setStart(a,0)
t.setRng(n)
return}}}
var bg=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling"
for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!xg(e))return e}}
var yg=function(e,t){gg(t)&&(t=t.nodeName)
return!!e.schema.getTextBlockElements()[t.toLowerCase()]}
var wg=function(e,t,n){return e.schema.isValidChild(t,n)}
var xg=function(e,t){void 0===t&&(t=false)
if(O(e)&&Yr(e)){var n=t?e.data.replace(/ /g," "):e.data
return Si(n)}return false}
var Cg=function(e){return O(e)&&Yr(e)&&0===e.length}
var Sg=function(e,t){"string"!==typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,n){return t[n]||e})))
return e}
var kg=function(e,t){e=e||""
t=t||""
e=""+(e.nodeName||e)
t=""+(t.nodeName||t)
return e.toLowerCase()===t.toLowerCase()}
var Og=function(e,t,n){"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t))
"fontWeight"===n&&700===t&&(t="bold")
"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,","))
return""+t}
var Tg=function(e,t,n){return Og(e,e.getStyle(t,n),n)}
var Eg=function(e,t){var n
e.getParent(t,(function(t){n=e.getStyle(t,"text-decoration")
return n&&"none"!==n}))
return n}
var _g=function(e,t,n){return e.getParents(t,n,e.getRoot())}
var Lg=function(e,t){var n=function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)}
return Y(["styles","attributes"],(function(n){return Ae(e,n).exists((function(e){var n=w(e)?e:De(e)
return Y(n,t)}))}))}
return Y(e.formatter.get(t),n)}
var Dg=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"]
var o=function(e){return _e(e,(function(e,t){return Y(r,(function(e){return e===t}))}))}
return Y(e.formatter.get(t),(function(t){var r=o(t)
return Y(e.formatter.get(n),(function(e){var t=o(e)
return Re(r,t)}))}))}
var Ag=function(e){return Ne(e,"block")}
var Mg=function(e){return Ne(e,"selector")}
var Ng=function(e){return Ne(e,"inline")}
var Rg=function(e,t){return Y(t.childNodes,e.isBlock)}
var zg=lg
var Bg=_g
var Pg=xg
var Ig=yg
var Hg=function(e){return to(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}
var Fg=function(e,t){var n=t
while(n){if(Vr(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t
n=n.parentNode}return t}
var Vg=function(e,t,n,r){var o=t.data
for(var a=n;e?a>=0:a<o.length;e?a--:a++)if(r(o.charAt(a)))return e?a+1:a
return-1}
var jg=function(e,t,n){return Vg(e,t,n,(function(e){return vg(e)||dg(e)}))}
var Ug=function(e,t,n){return Vg(e,t,n,mg)}
var Wg=function(e,t,n,r,o,a){var i
var u=e.getParent(n,e.isBlock)||t
var c=function(t,n,r){var a=Bl(e)
var c=o?a.backwards:a.forwards
return W.from(c(t,n,(function(e,t){if(zg(e.parentNode))return-1
i=e
return r(o,e,t)}),u))}
var s=c(n,r,jg)
return s.bind((function(e){return a?c(e.container,e.offset+(o?-1:0),Ug):W.some(e)})).orThunk((function(){return i?W.some({container:i,offset:o?0:i.length}):W.none()}))}
var qg=function(e,t,n,r,o){Yr(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o])
var a=Bg(e,r)
for(var i=0;i<a.length;i++)for(var u=0;u<t.length;u++){var c=t[u]
if("collapsed"in c&&c.collapsed!==n.collapsed)continue
if(e.is(a[i],c.selector))return a[i]}return r}
var $g=function(e,t,n,r){var o
var a=e.dom
var i=a.getRoot()
t[0].wrapper||(o=a.getParent(n,t[0].block,i))
if(!o){var u=a.getParent(n,"LI,TD,TH")
o=a.getParent(Yr(n)?n.parentNode:n,(function(t){return t!==i&&Ig(e,t)}),u)}o&&t[0].wrapper&&(o=Bg(a,o,"ul,ol").reverse()[0]||o)
if(!o){o=n
while(o[r]&&!a.isBlock(o[r])){o=o[r]
if(kg(o,"br"))break}}return o||n}
var Gg=function(e,t,n,r){var o=n.parentNode
return!O(n[r])&&(!(o!==t&&!k(o)&&!e.isBlock(o))||Gg(e,t,o,r))}
var Xg=function(e,t,n,r,o){var a=n
var i
var u=o?"previousSibling":"nextSibling"
var c=e.getRoot()
if(Yr(n)&&!Pg(n)&&(o?r>0:r<n.data.length))return n
while(true){if(!t[0].block_expand&&e.isBlock(a))return a
for(i=a[u];i;i=i[u]){var s=Yr(i)&&!Gg(e,c,i,u)
if(!zg(i)&&!Hg(i)&&!Pg(i,s))return a}if(a===c||a.parentNode===c){n=a
break}a=a.parentNode}return n}
var Kg=function(e){return zg(e.parentNode)||zg(e)}
var Zg=function(e,t,n,r){void 0===r&&(r=false)
var o=t.startContainer,a=t.startOffset,i=t.endContainer,u=t.endOffset
var c=e.dom
if(Vr(o)&&o.hasChildNodes()){o=Zl(o,a)
Yr(o)&&(a=0)}if(Vr(i)&&i.hasChildNodes()){i=Zl(i,t.collapsed?u:u-1)
Yr(i)&&(u=i.nodeValue.length)}o=Fg(c,o)
i=Fg(c,i)
if(Kg(o)){o=zg(o)?o:o.parentNode
o=t.collapsed?o.previousSibling||o:o.nextSibling||o
Yr(o)&&(a=t.collapsed?o.length:0)}if(Kg(i)){i=zg(i)?i:i.parentNode
i=t.collapsed?i.nextSibling||i:i.previousSibling||i
Yr(i)&&(u=t.collapsed?0:i.length)}if(t.collapsed){var s=Wg(c,e.getBody(),o,a,true,r)
s.each((function(e){var t=e.container,n=e.offset
o=t
a=n}))
var l=Wg(c,e.getBody(),i,u,false,r)
l.each((function(e){var t=e.container,n=e.offset
i=t
u=n}))}if(n[0].inline||n[0].block_expand){n[0].inline&&Yr(o)&&0!==a||(o=Xg(c,n,o,a,true))
n[0].inline&&Yr(i)&&u!==i.nodeValue.length||(i=Xg(c,n,i,u,false))}if(n[0].selector&&false!==n[0].expand&&!n[0].inline){o=qg(c,n,t,o,"previousSibling")
i=qg(c,n,t,i,"nextSibling")}if(n[0].block||n[0].selector){o=$g(e,n,o,"previousSibling")
i=$g(e,n,i,"nextSibling")
if(n[0].block){c.isBlock(o)||(o=Xg(c,n,o,a,true))
c.isBlock(i)||(i=Xg(c,n,i,u,false))}}if(Vr(o)){a=c.nodeIndex(o)
o=o.parentNode}if(Vr(i)){u=c.nodeIndex(i)+1
i=i.parentNode}return{startContainer:o,startOffset:a,endContainer:i,endOffset:u}}
var Yg=function(e,t){var n=e.childNodes
t>=n.length?t=n.length-1:t<0&&(t=0)
return n[t]||e}
var Jg=function(e,t){return Yg(e,t-1)}
var Qg=function(e,t,n){var r=t.startContainer
var o=t.startOffset
var a=t.endContainer
var i=t.endOffset
var u=function(e){var t
t=e[0]
3===t.nodeType&&t===r&&o>=t.nodeValue.length&&e.splice(0,1)
t=e[e.length-1]
0===i&&e.length>0&&t===a&&3===t.nodeType&&e.splice(e.length-1,1)
return e}
var c=function(e,t,n){var r=[]
for(;e&&e!==n;e=e[t])r.push(e)
return r}
var s=function(e,t){do{if(e.parentNode===t)return e
e=e.parentNode}while(e)}
var l=function(e,t,r){var o=r?"nextSibling":"previousSibling"
for(var a=e,i=a.parentNode;a&&a!==t;a=i){i=a.parentNode
var s=c(a===e?a:a[o],o)
if(s.length){r||s.reverse()
n(u(s))}}}
1===r.nodeType&&r.hasChildNodes()&&(r=Yg(r,o))
1===a.nodeType&&a.hasChildNodes()&&(a=Jg(a,i))
if(r===a)return n(u([r]))
var f=e.findCommonAncestor(r,a)
for(var v=r;v;v=v.parentNode){if(v===a)return l(r,f,true)
if(v===f)break}for(v=a;v;v=v.parentNode){if(v===r)return l(a,f)
if(v===f)break}var d=s(r,f)||r
var m=s(a,f)||a
l(r,d,true)
var g=c(d===r?d:d.nextSibling,"nextSibling",m===a?m.nextSibling:m)
g.length&&n(u(g))
l(a,m)}
var eh=function(e){var t=[]
if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n))
return t}
var th=function(e){return se(e,(function(e){var t=Kl(e)
return t?[yn.fromDom(t)]:[]}))}
var nh=function(e){return eh(e).length>1}
var rh=function(e){return ne(th(e),za)}
var oh=function(e){return gl(e,"td[data-mce-selected],th[data-mce-selected]")}
var ah=function(e,t){var n=oh(t)
return n.length>0?n:rh(e)}
var ih=function(e){return ah(eh(e.selection.getSel()),yn.fromDom(e.getBody()))}
var uh=function(e){var t=e.startContainer,n=e.startOffset
return Yr(t)?0===n?W.some(yn.fromDom(t)):W.none():W.from(t.childNodes[n]).map(yn.fromDom)}
var ch=function(e){var t=e.endContainer,n=e.endOffset
return Yr(t)?n===t.data.length?W.some(yn.fromDom(t)):W.none():W.from(t.childNodes[n-1]).map(yn.fromDom)}
var sh=function(e){return rr(e).fold(A([e]),(function(t){return[e].concat(sh(t))}))}
var lh=function(e){return or(e).fold(A([e]),(function(t){return"br"===Bn(t)?Yn(t).map((function(t){return[e].concat(lh(t))})).getOr([]):[e].concat(lh(t))}))}
var fh=function(e,t){return Il(uh(t),ch(t),(function(t,n){var r=ie(sh(e),N(Mn,t))
var o=ie(lh(e),N(Mn,n))
return r.isSome()&&o.isSome()})).getOr(false)}
var vh=function(e,t,n,r){var o=n,a=new ha(n,o)
var i=_e(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!Z(["td","th","table"],t.toLowerCase())}))
do{if(Yr(n)&&0!==dn.trim(n.nodeValue).length){r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length)
return}if(i[n.nodeName]){r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n)
return}}while(n=r?a.next():a.prev())
"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))}
var dh=function(e){var t=e.selection.getSel()
return t&&t.rangeCount>0}
var mh=function(e,t){var n=ih(e)
n.length>0?Q(n,(function(n){var r=n.dom
var o=e.dom.createRng()
o.setStartBefore(r)
o.setEndAfter(r)
t(o,true)})):t(e.selection.getRng(),false)}
var gh=function(e,t,n){var r=ev(e,t)
n(r)
e.moveToBookmark(r)}
var hh=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node")
return r(n).getOr("")}
var r=function(t){return e(t)?W.from(t.dom.nodeValue):W.none()}
var o=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node")
n.dom.nodeValue=r}
return{get:n,getOption:r,set:o}}
var ph=hh(Vn,"text")
var bh=function(e){return ph.get(e)}
var yh=function(e){return Vn(e)&&bh(e)===ja}
var wh=function(e,t,n,r){return Xn(t).fold((function(){return"skipping"}),(function(o){return"br"===r||yh(t)?"valid":wl(t)?"existing":jm(t.dom)?"caret":wg(e,n,r)&&wg(e,Bn(o),n)?"valid":"invalid-child"}))}
var xh=function(e,t){var n=Zg(e,t,[{inline:true}])
t.setStart(n.startContainer,n.startOffset)
t.setEnd(n.endContainer,n.endOffset)
e.selection.setRng(t)}
var Ch=function(e,t,n,r){var o=t.uid,a=void 0===o?El("mce-annotation"):o,i=qe(t,["uid"])
var u=yn.fromTag("span",e)
ll(u,hl())
so(u,""+bl(),a)
so(u,""+pl(),n)
var c=r(a,i),s=c.attributes,l=void 0===s?{}:s,f=c.classes,v=void 0===f?[]:f
lo(u,l)
_l(u,v)
return u}
var Sh=function(e,t,n,r,o){var a=[]
var i=Ch(e.getDoc(),o,n,r)
var u=Fs(W.none())
var c=function(){u.set(W.none())}
var s=function(){return u.get().getOrThunk((function(){var e=Nl(i)
a.push(e)
u.set(W.some(e))
return e}))}
var l=function(e){Q(e,f)}
var f=function(t){var n=wh(e,t,"span",Bn(t))
switch(n){case"invalid-child":c()
var r=tr(t)
l(r)
c()
break
case"valid":var o=s()
wr(t,o)}}
var v=function(e){var t=J(e,yn.fromDom)
l(t)}
Qg(e.dom,t,(function(e){c()
v(e)}))
return a}
var kh=function(e,t,n,r){e.undoManager.transact((function(){var o=e.selection
var a=o.getRng()
var i=ih(e).length>0
a.collapsed&&!i&&xh(e,a)
if(o.getRng().collapsed&&!i){var u=Ch(e.getDoc(),r,t,n.decorate)
Al(u,Ha)
o.getRng().insertNode(u.dom)
o.select(u.dom)}else gh(o,false,(function(){mh(e,(function(o){Sh(e,o,t,n.decorate,r)}))}))}))}
var Oh=function(e){var t=Ol()
kl(e,t)
var n=Sl(e)
return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each((function(t){kh(e,n,t,r)}))},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){yl(e,W.some(t)).each((function(e){var t=e.elements
Q(t,Or)}))},getAll:function(t){var n=Cl(e,t)
return Se(n,(function(e){return J(e,(function(e){return e.dom}))}))}}}
var Th=function(e){return{getBookmark:N(cg,e),moveToBookmark:N(sg,e)}}
Th.isBookmarkNode=lg
var Eh=function(e,t){while(t&&t!==e){if(ro(t)||oo(t))return t
t=t.parentNode}return null}
var _h=function(e,t,n){if(n.collapsed)return false
if(Qt.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset]
if(Vr(r))return Y(r.getClientRects(),(function(n){return Xl(n,e,t)}))}return Y(n.getClientRects(),(function(n){return Xl(n,e,t)}))}
var Lh=function(e,t){return e.fire("PreProcess",t)}
var Dh=function(e,t){return e.fire("PostProcess",t)}
var Ah=function(e){return e.fire("remove")}
var Mh=function(e){return e.fire("detach")}
var Nh=function(e,t){return e.fire("SwitchMode",{mode:t})}
var Rh=function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})}
var zh=function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})}
var Bh=function(e){return e.fire("PreInit")}
var Ph=function(e){return e.fire("PostRender")}
var Ih=function(e){return e.fire("Init")}
var Hh=function(e,t){return e.fire("PlaceholderToggle",{state:t})}
var Fh=function(e,t,n){return e.fire(t,n)}
var Vh={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Vh.metaKeyPressed(e)},metaKeyPressed:function(e){return Qt.mac?e.metaKey:e.ctrlKey&&!e.altKey}}
var jh=oo
var Uh=function(e,t){var n="data-mce-selected"
var r=t.dom,o=dn.each
var a,i,u,c,s
var l,f,v,d,m,g,h,p
var b,y
var w=t.getDoc(),x=document
var C=Math.abs,S=Math.round,k=t.getBody()
var T,E
var _={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]}
var L=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))}
var D=function(e){return io(e)||r.hasClass(e,"mce-preview-object")}
var A=function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0]
return L(e.target)&&!_h(n.clientX,n.clientY,t)}return L(e.target)&&!_h(e.clientX,e.clientY,t)}
var M=function(e){var n=e.target
A(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)}
var N=function(e){return r.is(e,"figure.image")?[e.querySelector("img")]:r.hasClass(e,"mce-preview-object")&&O(e.firstElementChild)?[e,e.firstElementChild]:[e]}
var R=function(e){var n=Vv(t)
if(!n)return false
if("false"===e.getAttribute("data-mce-resize"))return false
if(e===t.getBody())return false
return r.hasClass(e,"mce-preview-object")?_n(yn.fromDom(e.firstElementChild),n):_n(yn.fromDom(e),n)}
var z=function(e){return D(e)?r.create("img",{src:Qt.transparentSrc}):e.cloneNode(true)}
var B=function(e,n,o){if(O(o)){var a=N(e)
Q(a,(function(e){e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)?r.setStyle(e,n,o):r.setAttrib(e,n,""+o)}))}}
var P=function(e,t,n){B(e,"width",t)
B(e,"height",n)}
var I=function(e){var n,o,s
var w,x
n=e.screenX-l
o=e.screenY-f
b=n*c[2]+m
y=o*c[3]+g
b=b<5?5:b
y=y<5?5:y
s=(L(a)||D(a))&&false!==jv(t)?!Vh.modifierPressed(e):Vh.modifierPressed(e)
if(s)if(C(n)>C(o)){y=S(b*h)
b=S(y/h)}else{b=S(y/h)
y=S(b*h)}P(i,b,y)
w=c.startPos.x+n
x=c.startPos.y+o
w=w>0?w:0
x=x>0?x:0
r.setStyles(u,{left:w,top:x,display:"block"})
u.innerHTML=b+" &times; "+y
c[2]<0&&i.clientWidth<=b&&r.setStyle(i,"left",v+(m-b))
c[3]<0&&i.clientHeight<=y&&r.setStyle(i,"top",d+(g-y))
n=k.scrollWidth-T
o=k.scrollHeight-E
n+o!==0&&r.setStyles(u,{left:w-n,top:x-o})
if(!p){Rh(t,a,m,g,"corner-"+c.name)
p=true}}
var H=function(){var e=p
p=false
if(e){B(a,"width",b)
B(a,"height",y)}r.unbind(w,"mousemove",I)
r.unbind(w,"mouseup",H)
if(x!==w){r.unbind(x,"mousemove",I)
r.unbind(x,"mouseup",H)}r.remove(i)
r.remove(u)
r.remove(s)
F(a)
if(e){zh(t,a,b,y,"corner-"+c.name)
r.setAttrib(a,"style",r.getAttrib(a,"style"))}t.nodeChanged()}
var F=function(e){W()
var v=r.getPos(e,k)
var d=v.x
var p=v.y
var C=e.getBoundingClientRect()
var S=C.width||C.right-C.left
var O=C.height||C.bottom-C.top
if(a!==e){V()
a=e
b=y=0}var L=t.fire("ObjectSelected",{target:e})
var D=r.getAttrib(a,n,"1")
R(e)&&!L.isDefaultPrevented()?o(_,(function(e,t){var o
var v=function(o){var v=N(a)[0]
l=o.screenX
f=o.screenY
m=v.clientWidth
g=v.clientHeight
h=g/m
c=e
c.name=t
c.startPos={x:S*e[0]+d,y:O*e[1]+p}
T=k.scrollWidth
E=k.scrollHeight
s=r.add(k,"div",{class:"mce-resize-backdrop"})
r.setStyles(s,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"})
i=z(a)
r.addClass(i,"mce-clonedresizable")
r.setAttrib(i,"data-mce-bogus","all")
i.contentEditable="false"
r.setStyles(i,{left:d,top:p,margin:0})
P(i,S,O)
i.removeAttribute(n)
k.appendChild(i)
r.bind(w,"mousemove",I)
r.bind(w,"mouseup",H)
if(x!==w){r.bind(x,"mousemove",I)
r.bind(x,"mouseup",H)}u=r.add(k,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+g)}
o=r.get("mceResizeHandle"+t)
o&&r.remove(o)
o=r.add(k,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:true,style:"cursor:"+t+"-resize; margin:0; padding:0"})
11===Qt.ie&&(o.contentEditable=false)
r.bind(o,"mousedown",(function(e){e.stopImmediatePropagation()
e.preventDefault()
v(e)}))
e.elm=o
r.setStyles(o,{left:S*e[0]+d-o.offsetWidth/2,top:O*e[1]+p-o.offsetHeight/2})})):V()
r.getAttrib(a,n)||a.setAttribute(n,D)}
var V=function(){W()
a&&a.removeAttribute(n)
Ce(_,(function(e,t){var n=r.get("mceResizeHandle"+t)
if(n){r.unbind(n)
r.remove(n)}}))}
var j=function(a){var i,u
var c=function(e,t){if(e)do{if(e===t)return true}while(e=e.parentNode)}
if(p||t.removed)return
o(r.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute(n)}))
u="mousedown"===a.type?a.target:e.getNode()
u=r.$(u).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0]
if(c(u,k)){q()
i=e.getStart(true)
if(c(i,u)&&c(e.getEnd(true),u)){F(u)
return}}V()}
var U=function(e){return jh(Eh(t.getBody(),e))}
var W=function(){Ce(_,(function(e){if(e.elm){r.unbind(e.elm)
delete e.elm}}))}
var q=function(){try{t.getDoc().execCommand("enableObjectResizing",false,"false")}catch(e){}}
t.on("init",(function(){q()
if(Qt.browser.isIE()||Qt.browser.isEdge()){t.on("mousedown click",(function(e){var n=e.target,r=n.nodeName
if(!p&&/^(TABLE|IMG|HR)$/.test(r)&&!U(n)){2!==e.button&&t.selection.select(n,"TABLE"===r)
"mousedown"===e.type&&t.nodeChanged()}}))
var e=function(e){var n=function(e){va.setEditorTimeout(t,(function(){return t.selection.select(e)}))}
if(U(e.target)||io(e.target)){e.preventDefault()
n(e.target)
return}if(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)){e.preventDefault()
"IMG"===e.target.tagName&&n(e.target)}}
r.bind(k,"mscontrolselect",e)
t.on("remove",(function(){return r.unbind(k,"mscontrolselect",e)}))}var n=va.throttle((function(e){t.composing||j(e)}))
t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",n)
t.on("keyup compositionend",(function(e){a&&"TABLE"===a.nodeName&&n(e)}))
t.on("hide blur",V)
t.on("contextmenu longpress",M,true)}))
t.on("remove",W)
var $=function(){a=i=s=null}
return{isResizable:R,showResizeRect:F,hideResizeRect:V,updateResizeRect:j,destroy:$}}
var Wh=function(e){return ro(e)||oo(e)}
var qh=function(e,t,n){while(e&&e!==t){if(n(e))return e
e=e.parentNode}return null}
var $h=function(e,t,n){var r
var o=n.elementFromPoint(e,t)
var a=n.body.createTextRange()
o&&"HTML"!==o.tagName||(o=n.body)
a.moveToElementText(o)
r=dn.toArray(a.getClientRects())
r=r.sort((function(e,n){e=Math.abs(Math.max(e.top-t,e.bottom-t))
n=Math.abs(Math.max(n.top-t,n.bottom-t))
return e-n}))
if(r.length>0){t=(r[0].bottom+r[0].top)/2
try{a.moveToPoint(e,t)
a.collapse(true)
return a}catch(e){}}return null}
var Gh=function(e,t){var n=e&&e.parentElement?e.parentElement():null
return oo(qh(n,t,Wh))?null:e}
var Xh=function(e,t,n){var r,o
var a=n
if(a.caretPositionFromPoint){o=a.caretPositionFromPoint(e,t)
if(o){r=n.createRange()
r.setStart(o.offsetNode,o.offset)
r.collapse(true)}}else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t)
else if(a.body.createTextRange){r=a.body.createTextRange()
try{r.moveToPoint(e,t)
r.collapse(true)}catch(o){r=$h(e,t,n)}return Gh(r,n.body)}return r}
var Kh=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}
var Zh=function(e,t,n){while(e&&e!==t){if(n(e))return e
e=e.parentNode}return null}
var Yh=function(e,t,n){return null!==Zh(e,t,n)}
var Jh=function(e,t,n){return Yh(e,t,(function(e){return e.nodeName===n}))}
var Qh=function(e){return e&&"TABLE"===e.nodeName}
var ep=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}
var tp=function(e,t){return Ka(e)&&false===Yh(e,t,jm)}
var np=function(e,t,n){var r=new ha(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot())
while(t=r[n?"prev":"next"]())if(to(t))return true}
var rp=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t}
var op=function(e,t){while(t&&t!==e){if(oo(t))return true
t=t.parentNode}return false}
var ap=function(e,t,n,r,o){var a
var i=e.getRoot()
var u
var c=e.schema.getNonEmptyElements()
var s=e.getParent(o.parentNode,e.isBlock)||i
if(r&&to(o)&&t&&e.isEmpty(s))return W.some(Cf(o.parentNode,e.nodeIndex(o)))
var l=new ha(o,s)
while(u=l[r?"prev":"next"]()){if("false"===e.getContentEditableParent(u)||tp(u,i))return W.none()
if(Yr(u)&&u.nodeValue.length>0){if(false===Jh(u,i,"A"))return W.some(Cf(u,r?u.nodeValue.length:0))
return W.none()}if(e.isBlock(u)||c[u.nodeName.toLowerCase()])return W.none()
a=u}if(n&&a)return W.some(Cf(a,0))
return W.none()}
var ip=function(e,t,n,r){var o,a
var i=e.getRoot()
var u
var c,s=false
o=r[(n?"start":"end")+"Container"]
a=r[(n?"start":"end")+"Offset"]
var l=Vr(o)&&a===o.childNodes.length
var f=e.schema.getNonEmptyElements()
c=n
if(Ka(o))return W.none()
Vr(o)&&a>o.childNodes.length-1&&(c=false)
if(Qr(o)){o=i
a=0}if(o===i){if(c){u=o.childNodes[a>0?a-1:0]
if(u){if(Ka(u))return W.none()
if(f[u.nodeName]||Qh(u))return W.none()}}if(o.hasChildNodes()){a=Math.min(!c&&a>0?a-1:a,o.childNodes.length-1)
o=o.childNodes[a]
a=Yr(o)&&l?o.data.length:0
if(!t&&o===i.lastChild&&Qh(o))return W.none()
if(op(i,o)||Ka(o))return W.none()
if(o.hasChildNodes()&&false===Qh(o)){u=o
var v=new ha(o,i)
do{if(oo(u)||Ka(u)){s=false
break}if(Yr(u)&&u.nodeValue.length>0){a=c?0:u.nodeValue.length
o=u
s=true
break}if(f[u.nodeName.toLowerCase()]&&!ep(u)){a=e.nodeIndex(u)
o=u.parentNode
c||a++
s=true
break}}while(u=c?v.next():v.prev())}}}if(t){Yr(o)&&0===a&&ap(e,l,t,true,o).each((function(e){o=e.container()
a=e.offset()
s=true}))
if(Vr(o)){u=o.childNodes[a]
u||(u=o.childNodes[a-1])
!u||!to(u)||rp(u,"A")||np(e,u,false)||np(e,u,true)||ap(e,l,t,true,u).each((function(e){o=e.container()
a=e.offset()
s=true}))}}c&&!t&&Yr(o)&&a===o.nodeValue.length&&ap(e,l,t,false,o).each((function(e){o=e.container()
a=e.offset()
s=true}))
return s?W.some(Cf(o,a)):W.none()}
var up=function(e,t){var n=t.collapsed,r=t.cloneRange()
var o=Cf.fromRangeStart(t)
ip(e,n,true,r).each((function(e){n&&Cf.isAbove(o,e)||r.setStart(e.container(),e.offset())}))
n||ip(e,n,false,r).each((function(e){r.setEnd(e.container(),e.offset())}))
n&&r.collapse(true)
return Kh(t,r)?W.none():W.some(r)}
var cp=function(e,t){return e.splitText(t)}
var sp=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset
if(t===r&&Yr(t)){if(n>0&&n<t.nodeValue.length){r=cp(t,n)
t=r.previousSibling
if(o>n){o-=n
t=r=cp(r,o).previousSibling
o=r.nodeValue.length
n=0}else o=0}}else{if(Yr(t)&&n>0&&n<t.nodeValue.length){t=cp(t,n)
n=0}if(Yr(r)&&o>0&&o<r.nodeValue.length){r=cp(r,o).previousSibling
o=r.nodeValue.length}}return{startContainer:t,startOffset:n,endContainer:r,endOffset:o}}
var lp=function(e){var t=function(t,n){return Qg(e,t,n)}
var n=sp
var r=function(t){return up(e,t).fold(I,(function(e){t.setStart(e.startContainer,e.startOffset)
t.setEnd(e.endContainer,e.endOffset)
return true}))}
return{walk:t,split:n,normalize:r}}
lp.compareRanges=Kh
lp.getCaretRangeFromPoint=Xh
lp.getSelectedNode=Kl
lp.getNode=Zl
var fp=function(e,t){var n=function(t,n){if(!E(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n)
var r=t.dom
uo(r)&&(r.style[e]=n+"px")}
var r=function(n){var r=t(n)
if(r<=0||null===r){var o=yo(n,e)
return parseFloat(o)||0}return r}
var o=r
var a=function(e,t){return oe(t,(function(t,n){var r=yo(e,n)
var o=void 0===r?0:parseInt(r,10)
return isNaN(o)?t:t+o}),0)}
var i=function(e,t,n){var r=a(e,n)
var o=t>r?t-r:0
return o}
return{set:n,get:r,getOuter:o,aggregate:a,max:i}}
var vp=fp("height",(function(e){var t=e.dom
return Tr(e)?t.getBoundingClientRect().height:t.offsetHeight}))
var dp=function(e){return vp.get(e)}
var mp=function(e,t){var n=e.view(t)
return n.fold(A([]),(function(t){var n=e.owner(t)
var r=mp(e,n)
return[t].concat(r)}))}
var gp=function(e,t){var n=t.owner(e)
return mp(t,n)}
var hp=function(e){var t
var n=e.dom===document?W.none():W.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)
return n.map(yn.fromDom)}
var pp=function(e){return qn(e)}
var bp=Object.freeze({__proto__:null,view:hp,owner:pp})
var yp=function(e){var t=yn.fromDom(document)
var n=Nr(t)
var r=gp(e,bp)
var o=Mr(e)
var a=re(r,(function(e,t){var n=Mr(t)
return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0})
return _r(a.left+o.left+n.left,a.top+o.top+n.top)}
var wp=function(e){return"textarea"===Bn(e)}
var xp=function(e,t){var n=e.fire("ScrollIntoView",t)
return n.isDefaultPrevented()}
var Cp=function(e,t){e.fire("AfterScrollIntoView",t)}
var Sp=function(e,t){var n=tr(e)
if(0===n.length||wp(e))return{element:e,offset:t}
if(t<n.length&&!wp(n[t]))return{element:n[t],offset:0}
var r=n[n.length-1]
return wp(r)?{element:e,offset:t}:"img"===Bn(r)?{element:r,offset:1}:Vn(r)?{element:r,offset:bh(r).length}:{element:r,offset:tr(r).length}}
var kp=function(e,t){var n=Ar(e)
var r=dp(e)
return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}}
var Op=function(e,t){var n=Sp(e,t)
var r=yn.fromHtml('<span data-mce-bogus="all">'+ja+"</span>")
hr(n.element,r)
return kp(r,(function(){return kr(r)}))}
var Tp=function(e){return kp(yn.fromDom(e),_)}
var Ep=function(e,t,n,r){Ap(e,(function(o,a){return Lp(e,t,n,r)}),n)}
var _p=function(e,t,n,r,o){var a={elm:r.element.dom,alignToTop:o}
if(xp(e,a))return
var i=Nr(t).top
n(t,i,r,o)
Cp(e,a)}
var Lp=function(e,t,n,r){var o=yn.fromDom(e.getBody())
var a=yn.fromDom(e.getDoc())
So(o)
var i=Op(yn.fromDom(n.startContainer),n.startOffset)
_p(e,a,t,i,r)
i.cleanup()}
var Dp=function(e,t,n,r){var o=yn.fromDom(e.getDoc())
_p(e,o,n,Tp(t),r)}
var Ap=function(e,t,n){var r=n.startContainer
var o=n.startOffset
var a=n.endContainer
var i=n.endOffset
t(yn.fromDom(r),yn.fromDom(a))
var u=e.dom.createRng()
u.setStart(r,o)
u.setEnd(a,i)
e.selection.setRng(n)}
var Mp=function(e,t,n,r){var o=e.pos
if(n)Rr(o.left,o.top,r)
else{var a=o.top-t+e.height
Rr(o.left,a,r)}}
var Np=function(e,t,n,r,o){var a=n+t
var i=r.pos.top
var u=r.bottom
var c=u-i>=n
if(i<t)Mp(r,n,false!==o,e)
else if(i>a){var s=c?false!==o:true===o
Mp(r,n,s,e)}else u>a&&!c&&Mp(r,n,true===o,e)}
var Rp=function(e,t,n,r){var o=e.dom.defaultView.innerHeight
Np(e,t,o,n,r)}
var zp=function(e,t,n,r){var o=e.dom.defaultView.innerHeight
Np(e,t,o,n,r)
var a=yp(n.element)
var i=Ir(window)
a.top<i.y?zr(n.element,false!==r):a.top>i.bottom&&zr(n.element,true===r)}
var Bp=function(e,t,n){return Ep(e,Rp,t,n)}
var Pp=function(e,t,n){return Dp(e,t,Rp,n)}
var Ip=function(e,t,n){return Ep(e,zp,t,n)}
var Hp=function(e,t,n){return Dp(e,t,zp,n)}
var Fp=function(e,t,n){var r=e.inline?Pp:Hp
r(e,t,n)}
var Vp=function(e,t,n){var r=e.inline?Bp:Ip
r(e,t,n)}
var jp=function(){return yn.fromDom(document)}
var Up=function(e){return e.dom.focus()}
var Wp=function(e){var t=lr(e).dom
return e.dom===t.activeElement}
var qp=function(e){void 0===e&&(e=jp())
return W.from(e.dom.activeElement).map(yn.fromDom)}
var $p=function(e){return qp(lr(e)).filter((function(t){return e.dom.contains(t.dom)}))}
var Gp=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}}
var Xp={create:Gp}
var Kp=Go.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var Zp=function(e,t,n,r){return e.fold(t,n,r)}
var Yp=function(e){return e.fold(M,M,M)}
var Jp=Kp.before
var Qp=Kp.on
var eb=Kp.after
var tb={before:Jp,on:Qp,after:eb,cata:Zp,getStart:Yp}
var nb=Go.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var rb=function(e){return nb.exact(e.start,e.soffset,e.finish,e.foffset)}
var ob=function(e){return e.match({domRange:function(e){return yn.fromDom(e.startContainer)},relative:function(e,t){return tb.getStart(e)},exact:function(e,t,n,r){return e}})}
var ab=nb.domRange
var ib=nb.relative
var ub=nb.exact
var cb=function(e){var t=ob(e)
return Gn(t)}
var sb=Xp.create
var lb={domRange:ab,relative:ib,exact:ub,exactFromRange:rb,getWin:cb,range:sb}
var fb=Wt().browser
var vb=function(e,t){var n=Vn(t)?bh(t).length:tr(t).length+1
if(e>n)return n
if(e<0)return 0
return e}
var db=function(e){return lb.range(e.start,vb(e.soffset,e.start),e.finish,vb(e.foffset,e.finish))}
var mb=function(e,t){return!Fr(t.dom)&&(zn(e,t)||Mn(e,t))}
var gb=function(e){return function(t){return mb(e,t.start)&&mb(e,t.finish)}}
var hb=function(e){return true===e.inline||fb.isIE()}
var pb=function(e){return lb.range(yn.fromDom(e.startContainer),e.startOffset,yn.fromDom(e.endContainer),e.endOffset)}
var bb=function(e){var t=e.getSelection()
var n=t&&0!==t.rangeCount?W.from(t.getRangeAt(0)):W.none()
return n.map(pb)}
var yb=function(e){var t=Gn(e)
return bb(t.dom).filter(gb(e))}
var wb=function(e,t){return W.from(t).filter(gb(e)).map(db)}
var xb=function(e){var t=document.createRange()
try{t.setStart(e.start.dom,e.soffset)
t.setEnd(e.finish.dom,e.foffset)
return W.some(t)}catch(e){return W.none()}}
var Cb=function(e){var t=hb(e)?yb(yn.fromDom(e.getBody())):W.none()
e.bookmark=t.isSome()?t:e.bookmark}
var Sb=function(e,t){var n=yn.fromDom(e.getBody())
var r=hb(e)?W.from(t):W.none()
var o=r.map(pb).filter(gb(n))
e.bookmark=o.isSome()?o:e.bookmark}
var kb=function(e){var t=e.bookmark?e.bookmark:W.none()
return t.bind((function(t){return wb(yn.fromDom(e.getBody()),t)})).bind(xb)}
var Ob=function(e){kb(e).each((function(t){return e.selection.setRng(t)}))}
var Tb=function(e){var t=e.className.toString()
return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}
var Eb={isEditorUIElement:Tb}
var _b=function(e){return"nodechange"===e.type&&e.selectionChange}
var Lb=function(e,t){var n=function(){t.throttle()}
As.DOM.bind(document,"mouseup",n)
e.on("remove",(function(){As.DOM.unbind(document,"mouseup",n)}))}
var Db=function(e){e.on("focusout",(function(){Cb(e)}))}
var Ab=function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))}
var Mb=function(e,t){var n=Wt().browser
n.isIE()?Db(e):Ab(e,t)
e.on("keyup NodeChange",(function(t){_b(t)||Cb(e)}))}
var Nb=function(e){var t=tl((function(){Cb(e)}),0)
e.on("init",(function(){e.inline&&Lb(e,t)
Mb(e,t)}))
e.on("remove",(function(){t.cancel()}))}
var Rb
var zb=As.DOM
var Bb=function(e){return Eb.isEditorUIElement(e)}
var Pb=function(e){var t=e.classList
return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))}
var Ib=function(e,t){var n=Jv(e)
var r=zb.getParent(t,(function(t){return Bb(t)||!!n&&e.dom.is(t,n)}))
return null!==r}
var Hb=function(e){try{var t=lr(yn.fromDom(e.getElement()))
return qp(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(e){return document.body}}
var Fb=function(e,t){var n=t.editor
Nb(n)
n.on("focusin",(function(){var t=e.focusedEditor
if(t!==n){t&&t.fire("blur",{focusedEditor:n})
e.setActive(n)
e.focusedEditor=n
n.fire("focus",{blurredEditor:t})
n.focus(true)}}))
n.on("focusout",(function(){va.setEditorTimeout(n,(function(){var t=e.focusedEditor
if(!Ib(n,Hb(n))&&t===n){n.fire("blur",{focusedEditor:null})
e.focusedEditor=null}}))}))
if(!Rb){Rb=function(t){var n=e.activeEditor
n&&mr(t).each((function(t){if(t.ownerDocument===document&&t!==document.body&&!Ib(n,t)&&e.focusedEditor===n){n.fire("blur",{focusedEditor:null})
e.focusedEditor=null}}))}
zb.bind(document,"focusin",Rb)}}
var Vb=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null)
if(!e.activeEditor){zb.unbind(document,"focusin",Rb)
Rb=null}}
var jb=function(e){e.on("AddEditor",N(Fb,e))
e.on("RemoveEditor",N(Vb,e))}
var Ub=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))}
var Wb=function(e){return e.collapsed?W.from(Zl(e.startContainer,e.startOffset)).map(yn.fromDom):W.none()}
var qb=function(e,t){return Wb(t).bind((function(t){return Ra(t)?W.some(t):false===zn(e,t)?W.some(e):W.none()}))}
var $b=function(e,t){qb(yn.fromDom(e.getBody()),t).bind((function(e){return Hm(e.dom)})).fold((function(){e.selection.normalize()
return}),(function(t){return e.selection.setRng(t.toRange())}))}
var Gb=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()}
var Xb=function(e){return Wp(e)||$p(e).isSome()}
var Kb=function(e){return e.iframeElement&&Wp(yn.fromDom(e.iframeElement))}
var Zb=function(e){var t=e.getBody()
return t&&Xb(yn.fromDom(t))}
var Yb=function(e){var t=lr(yn.fromDom(e.getElement()))
return qp(t).filter((function(t){return!Pb(t.dom)&&Ib(e,t.dom)})).isSome()}
var Jb=function(e){return e.inline?Zb(e):Kb(e)}
var Qb=function(e){return Jb(e)||Yb(e)}
var ey=function(e){var t=e.selection
var n=e.getBody()
var r=t.getRng()
e.quirks.refreshContentEditable()
void 0!==e.bookmark&&false===Jb(e)&&kb(e).each((function(t){e.selection.setRng(t)
r=t}))
var o=Ub(e,t.getNode())
if(e.$.contains(n,o)){Gb(o)
$b(e,r)
ty(e)
return}if(!e.inline){Qt.opera||Gb(n)
e.getWin().focus()}if(Qt.gecko||e.inline){Gb(n)
$b(e,r)}ty(e)}
var ty=function(e){return e.editorManager.setActive(e)}
var ny=function(e,t){if(e.removed)return
t?ty(e):ey(e)}
var ry=function(e,t,n,r,o){var a=n?t.startContainer:t.endContainer
var i=n?t.startOffset:t.endOffset
return W.from(a).map(yn.fromDom).map((function(e){return r&&t.collapsed?e:nr(e,o(e,i)).getOr(e)})).bind((function(e){return Fn(e)?W.some(e):Xn(e).filter(Fn)})).map((function(e){return e.dom})).getOr(e)}
var oy=function(e,t,n){return ry(e,t,true,n,(function(e,t){return Math.min(ar(e),t)}))}
var ay=function(e,t,n){return ry(e,t,false,n,(function(e,t){return t>0?t-1:t}))}
var iy=function(e,t){var n=e
while(e&&Yr(e)&&0===e.length)e=t?e.nextSibling:e.previousSibling
return e||n}
var uy=function(e,t){var n,r,o
if(!t)return e
r=t.startContainer
o=t.endContainer
var a=t.startOffset
var i=t.endOffset
n=t.commonAncestorContainer
if(!t.collapsed){r===o&&i-a<2&&r.hasChildNodes()&&(n=r.childNodes[a])
if(3===r.nodeType&&3===o.nodeType){r=r.length===a?iy(r.nextSibling,true):r.parentNode
o=0===i?iy(o.previousSibling,false):o.parentNode
if(r&&r===o)return r}}if(n&&3===n.nodeType)return n.parentNode
return n}
var cy=function(e,t,n,r){var o
var a=[]
var i=e.getRoot()
n=e.getParent(n||oy(i,t,t.collapsed),e.isBlock)
r=e.getParent(r||ay(i,t,t.collapsed),e.isBlock)
n&&n!==i&&a.push(n)
if(n&&r&&n!==r){o=n
var u=new ha(n,i)
while((o=u.next())&&o!==r)e.isBlock(o)&&a.push(o)}r&&n!==r&&r!==i&&a.push(r)
return a}
var sy=function(e,t,n){return W.from(t).map((function(t){var r=e.nodeIndex(t)
var o=e.createRng()
o.setStart(t.parentNode,r)
o.setEnd(t.parentNode,r+1)
if(n){vh(e,o,t,true)
vh(e,o,t,false)}return o}))}
var ly=function(e,t){return J(t,(function(t){var n=e.fire("GetSelectionRange",{range:t})
return n.range!==t?n.range:t}))}
var fy={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11}
var vy=function(e,t,n){var r=n?"lastChild":"firstChild"
var o=n?"prev":"next"
if(e[r])return e[r]
if(e!==t){var a=e[o]
if(a)return a
for(var i=e.parent;i&&i!==t;i=i.parent){a=i[o]
if(a)return a}}}
var dy=function(e){if(!Si(e.value))return false
var t=e.parent
if(t&&("span"!==t.name||t.attr("style"))&&/^[ ]+$/.test(e.value))return false
return true}
var my=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id")
return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t}
var gy=function(){function e(e,t){this.name=e
this.type=t
if(1===t){this.attributes=[]
this.attributes.map={}}}e.create=function(t,n){var r=new e(t,fy[t]||1)
n&&Ce(n,(function(e,t){r.attr(t,e)}))
return r}
e.prototype.replace=function(e){var t=this
e.parent&&e.remove()
t.insert(e,t)
t.remove()
return t}
e.prototype.attr=function(e,t){var n=this
var r
if("string"!==typeof e){void 0!==e&&null!==e&&Ce(e,(function(e,t){n.attr(t,e)}))
return n}if(r=n.attributes){if(void 0!==t){if(null===t){if(e in r.map){delete r.map[e]
var o=r.length
while(o--)if(r[o].name===e){r.splice(o,1)
return n}}return n}if(e in r.map){o=r.length
while(o--)if(r[o].name===e){r[o].value=t
break}}else r.push({name:e,value:t})
r.map[e]=t
return n}return r.map[e]}}
e.prototype.clone=function(){var t=this
var n=new e(t.name,t.type)
var r
if(r=t.attributes){var o=[]
o.map={}
for(var a=0,i=r.length;a<i;a++){var u=r[a]
if("id"!==u.name){o[o.length]={name:u.name,value:u.value}
o.map[u.name]=u.value}}n.attributes=o}n.value=t.value
n.shortEnded=t.shortEnded
return n}
e.prototype.wrap=function(e){var t=this
t.parent.insert(e,t)
e.append(t)
return t}
e.prototype.unwrap=function(){var e=this
for(var t=e.firstChild;t;){var n=t.next
e.insert(t,e,true)
t=n}e.remove()}
e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev
if(t){if(t.firstChild===e){t.firstChild=n
n&&(n.prev=null)}else r.next=n
if(t.lastChild===e){t.lastChild=r
r&&(r.next=null)}else n.prev=r
e.parent=e.next=e.prev=null}return e}
e.prototype.append=function(e){var t=this
e.parent&&e.remove()
var n=t.lastChild
if(n){n.next=e
e.prev=n
t.lastChild=e}else t.lastChild=t.firstChild=e
e.parent=t
return e}
e.prototype.insert=function(e,t,n){e.parent&&e.remove()
var r=t.parent||this
if(n){t===r.firstChild?r.firstChild=e:t.prev.next=e
e.prev=t.prev
e.next=t
t.prev=e}else{t===r.lastChild?r.lastChild=e:t.next.prev=e
e.next=t.next
e.prev=t
t.next=e}e.parent=r
return e}
e.prototype.getAll=function(e){var t=this
var n=[]
for(var r=t.firstChild;r;r=vy(r,t))r.name===e&&n.push(r)
return n}
e.prototype.empty=function(){var e=this
if(e.firstChild){var t=[]
for(var n=e.firstChild;n;n=vy(n,e))t.push(n)
var r=t.length
while(r--){n=t[r]
n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}e.firstChild=e.lastChild=null
return e}
e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={})
var r=this
var o=r.firstChild
if(my(r))return false
if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue
if(e[o.name])return false
if(my(o))return false}if(8===o.type)return false
if(3===o.type&&!dy(o))return false
if(3===o.type&&o.parent&&t[o.parent.name]&&Si(o.value))return false
if(n&&n(o))return false}while(o=vy(o,r))
return true}
e.prototype.walk=function(e){return vy(this,null,e)}
return e}()
var hy=function(e){var t=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi
var n=[]
var r={}
var o=El("img")
var a
var i=0
var u=0
while(a=t.exec(e)){var c=a[0]
var s=o+"_"+u++
r[s]=c
i<a.index&&n.push(e.substr(i,a.index-i))
n.push(s)
i=a.index+c.length}var l=new RegExp(o+"_[0-9]+","g")
if(0===i)return{prefix:o,uris:r,html:e,re:l}
i<e.length&&n.push(e.substr(i))
return{prefix:o,uris:r,html:n.join(""),re:l}}
var py=function(e,t){return e.replace(t.re,(function(e){return Ae(t.uris,e).getOr(e)}))}
var by=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e)
return t?W.some({type:t[1],data:decodeURIComponent(t[2])}):W.none()}
var yy=["img","video"]
var wy=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")}
var xy=function(e,t){var n=k(e)?Z(yy,t):e
return!n}
var Cy=function(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?xy(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))}
var Sy=function(e,t,n){var r,o,a=1
var i=e.getShortEndedElements()
var u=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g
u.lastIndex=r=n
while(o=u.exec(t)){r=u.lastIndex
if("/"===o[1])a--
else if(!o[1]){if(o[2]in i)continue
a++}if(0===a)break}return r}
var ky=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))}
var Oy=function(e,t,n){void 0===n&&(n=0)
var r=e.toLowerCase()
if(-1!==r.indexOf("[if ",n)&&ky(r,n)){var o=r.indexOf("[endif]",n)
return r.indexOf(">",o)}if(t){var a=r.indexOf(">",n)
return-1!==a?a:r.length}var i=/--!?>/g
i.lastIndex=n
var u=i.exec(e)
return u?u.index+u[0].length:r.length}
var Ty=function(e,t){var n=e.exec(t)
if(n){var r=n[1]
var o=n[2]
return"string"===typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null}
var Ey=function(e,t){void 0===t&&(t=gu())
e=e||{}
false!==e.fix_self_closing&&(e.fix_self_closing=true)
var n=e.comment?e.comment:_
var r=e.cdata?e.cdata:_
var o=e.text?e.text:_
var a=e.start?e.start:_
var i=e.end?e.end:_
var u=e.pi?e.pi:_
var c=e.doctype?e.doctype:_
var s=function(s,l){void 0===l&&(l="html")
var f=s.html
var v,d,m,g=0
var h=[]
var p,b,y,w
var x,C
var S,k,O,T,E,_
var L,D,A
var M,N,R=0
var z=ou.decode
var B=dn.makeMap("src,href,data,background,action,formaction,poster,xlink:href")
var P=/((java|vb)script|mhtml):/i
var I="html"===l?0:1
var H=function(e){var t,n
t=h.length
while(t--)if(h[t].name===e)break
if(t>=0){for(n=h.length-1;n>=t;n--){e=h[n]
e.valid&&i(e.name)}h.length=t}}
var F=function(e,t){return o(py(e,s),t)}
var V=function(t){if(""===t)return
">"===t.charAt(0)&&(t=" "+t)
e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t)
n(py(t,s))}
var j=function(e){return py(e,s)}
var U=function(e,t){var n=e||""
var r=!st(n,"--")
var o=Oy(f,r,t)
e=f.substr(t,o-t)
V(r?n+e:e)
return o+1}
var W=function(t,n,r,o,a){var i,u
var c=/[\s\u0000-\u001F]+/g
n=n.toLowerCase()
r=j(n in K?n:z(r||o||a||""))
if(Z&&!x&&false===wy(n)){i=E[n]
if(!i&&_){u=_.length
while(u--){i=_[u]
if(i.pattern.test(n))break}-1===u&&(i=null)}if(!i)return
if(i.validValues&&!(r in i.validValues))return}if(B[n]&&!e.allow_script_urls){var s=r.replace(c,"")
try{s=decodeURIComponent(s)}catch(e){s=unescape(s)}if(P.test(s))return
if(Cy(e,s,t))return}if(x&&(n in B||0===n.indexOf("on")))return
p.map[n]=r
p.push({name:n,value:r})}
var q=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g")
var $=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g
var G=t.getShortEndedElements()
var X=e.self_closing_elements||t.getSelfClosingElements()
var K=t.getBoolAttrs()
var Z=e.validate
var Y=e.remove_internals
var J=e.fix_self_closing
var Q=t.getSpecialElements()
var ee=f+">"
while(v=q.exec(ee)){var te=v[0]
g<v.index&&F(z(f.substr(g,v.index-g)))
if(d=v[7]){d=d.toLowerCase()
":"===d.charAt(0)&&(d=d.substr(1))
H(d)}else if(d=v[8]){if(v.index+te.length>f.length){F(z(f.substr(v.index)))
g=v.index+te.length
continue}d=d.toLowerCase()
":"===d.charAt(0)&&(d=d.substr(1))
C=d in G
J&&X[d]&&h.length>0&&h[h.length-1].name===d&&H(d)
var ne=Ty($,v[9])
if(null!==ne){if("all"===ne){g=Sy(t,f,q.lastIndex)
q.lastIndex=g
continue}k=false}if(!Z||(S=t.getElementRule(d))){k=true
if(Z){E=S.attributes
_=S.attributePatterns}if(T=v[9]){x=-1!==T.indexOf("data-mce-type")
x&&Y&&(k=false)
p=[]
p.map={}
T.replace($,(function(e,t,n,r,o){W(d,t,n,r,o)
return""}))}else{p=[]
p.map={}}if(Z&&!x){L=S.attributesRequired
D=S.attributesDefault
A=S.attributesForced
M=S.removeEmptyAttrs
M&&!p.length&&(k=false)
if(A){b=A.length
while(b--){O=A[b]
w=O.name
N=O.value
"{$uid}"===N&&(N="mce_"+R++)
p.map[w]=N
p.push({name:w,value:N})}}if(D){b=D.length
while(b--){O=D[b]
w=O.name
if(!(w in p.map)){N=O.value
"{$uid}"===N&&(N="mce_"+R++)
p.map[w]=N
p.push({name:w,value:N})}}}if(L){b=L.length
while(b--)if(L[b]in p.map)break;-1===b&&(k=false)}if(O=p.map["data-mce-bogus"]){if("all"===O){g=Sy(t,f,q.lastIndex)
q.lastIndex=g
continue}k=false}}k&&a(d,p,C)}else k=false
if(m=Q[d]){m.lastIndex=g=v.index+te.length
if(v=m.exec(f)){k&&(y=f.substr(g,v.index-g))
g=v.index+v[0].length}else{y=f.substr(g)
g=f.length}if(k){y.length>0&&F(y,true)
i(d)}q.lastIndex=g
continue}C||(T&&T.indexOf("/")===T.length-1?k&&i(d):h.push({name:d,valid:k}))}else if(d=v[1])V(d)
else if(d=v[2]){var re=1===I||e.preserve_cdata||h.length>0&&t.isValidChild(h[h.length-1].name,"#cdata")
if(!re){g=U("",v.index+2)
q.lastIndex=g
continue}r(d)}else if(d=v[3])c(d)
else{if((d=v[4])||"<!"===te){g=U(d,v.index+te.length)
q.lastIndex=g
continue}if(d=v[5]){if(1!==I){g=U("?",v.index+2)
q.lastIndex=g
continue}u(d,v[6])}}g=v.index+te.length}g<f.length&&F(z(f.substr(g)))
for(b=h.length-1;b>=0;b--){d=h[b]
d.valid&&i(d.name)}}
var l=function(e,t){void 0===t&&(t="html")
s(hy(e),t)}
return{parse:l}}
Ey.findEndTag=Sy
var _y=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi")
return t.replace(n,"")}
var Ly=function(e,t){var n=t
var r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g
var o,a,i,u
var c=e.schema
n=_y(e.getTempAttrs(),n)
var s=c.getShortEndedElements()
while(u=r.exec(n)){a=r.lastIndex
i=u[0].length
o=s[u[1]]?a:Ey.findEndTag(c,n,a)
n=n.substring(0,a-i)+n.substring(o)
r.lastIndex=a-i}return Wa(n)}
var Dy=Ly
var Ay=function(e,t){var n=dv(e)
var r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$")
return t.replace(r,"")}
var My=function(e,t,n,r){var o
t.format=n
t.get=true
t.getInner=true
t.no_events||e.fire("BeforeGetContent",t)
o="raw"===t.format?dn.trim(Dy(e.serializer,r.innerHTML)):"text"===t.format?e.dom.isEmpty(r)?"":Wa(r.innerText||r.textContent):"tree"===t.format?e.serializer.serialize(r,t):Ay(e,e.serializer.serialize(r,t))
Z(["text","tree"],t.format)||Ba(yn.fromDom(r))?t.content=o:t.content=dn.trim(o)
t.no_events||e.fire("GetContent",t)
return t.content}
var Ny=function(e,t,n){return W.from(e.getBody()).fold(A("tree"===t.format?new gy("body",11):""),(function(r){return My(e,t,n,r)}))}
var Ry=dn.each
var zy=function(e){var t=function(t,n){if(t.nodeName!==n.nodeName)return false
var r=function(t){var n={}
Ry(e.getAttribs(t),(function(r){var o=r.nodeName.toLowerCase()
0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}))
return n}
var o=function(e,t){var n,r
for(r in e)if(e.hasOwnProperty(r)){n=t[r]
if("undefined"===typeof n)return false
if(e[r]!==n)return false
delete t[r]}for(r in t)if(t.hasOwnProperty(r))return false
return true}
if(!o(r(t),r(n)))return false
if(!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style"))))return false
return!lg(t)&&!lg(n)}
return{compare:t}}
var By=dn.makeMap
var Py=function(e){var t=[]
e=e||{}
var n=e.indent
var r=By(e.indent_before||"")
var o=By(e.indent_after||"")
var a=ou.getEncodeFunc(e.entity_encoding||"raw",e.entities)
var i="html"===e.element_format
return{start:function(e,u,c){var s,l,f,v
if(n&&r[e]&&t.length>0){v=t[t.length-1]
v.length>0&&"\n"!==v&&t.push("\n")}t.push("<",e)
if(u)for(s=0,l=u.length;s<l;s++){f=u[s]
t.push(" ",f.name,'="',a(f.value,true),'"')}t[t.length]=!c||i?">":" />"
if(c&&n&&o[e]&&t.length>0){v=t[t.length-1]
v.length>0&&"\n"!==v&&t.push("\n")}},end:function(e){var r
t.push("</",e,">")
if(n&&o[e]&&t.length>0){r=t[t.length-1]
r.length>0&&"\n"!==r&&t.push("\n")}},text:function(e,n){e.length>0&&(t[t.length]=n?e:a(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",a(r),"?>"):t.push("<?",e,"?>")
n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}}
var Iy=function(e,t){void 0===t&&(t=gu())
var n=Py(e)
e=e||{}
e.validate=!("validate"in e)||e.validate
var r=function(r){var o=e.validate
var a={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{i(e)}while(e=e.next)}}
n.reset()
var i=function(e){var r=a[e.type]
var u,c,s,l,f,v,d,m,g
if(r)r(e)
else{u=e.name
c=e.shortEnded
s=e.attributes
if(o&&s&&s.length>1){v=[]
v.map={}
g=t.getElementRule(e.name)
if(g){for(d=0,m=g.attributesOrder.length;d<m;d++){l=g.attributesOrder[d]
if(l in s.map){f=s.map[l]
v.map[l]=f
v.push({name:l,value:f})}}for(d=0,m=s.length;d<m;d++){l=s[d].name
if(!(l in v.map)){f=s.map[l]
v.map[l]=f
v.push({name:l,value:f})}}s=v}}n.start(e.name,s,c)
if(!c){if(e=e.firstChild)do{i(e)}while(e=e.next)
n.end(u)}}}
1!==r.type||e.inner?a[11](r):i(r)
return n.getContent()}
return{serialize:r}}
var Hy=new Set
Fy=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],Q(Fy,(function(e){Hy.add(e)}))
var Fy
var Vy=["font","text-decoration","text-emphasis"]
var jy=function(e,t){return we(e.parseStyle(e.getAttrib(t,"style")))}
var Uy=function(e){return Hy.has(e)}
var Wy=function(e,t){return le(jy(e,t),(function(e){return!Uy(e)}))}
var qy=function(e){return ne(e,(function(e){return Y(Vy,(function(t){return st(e,t)}))}))}
var $y=function(e,t,n){var r=jy(e,t)
var o=jy(e,n)
var a=function(r){var o=e.getStyle(t,r)
var a=e.getStyle(n,r)
return mt(o)&&mt(a)&&o!==a}
return Y(r,(function(e){var t=function(t){return Y(t,(function(t){return t===e}))}
if(!t(o)&&t(Vy)){var n=qy(o)
return Y(n,a)}return a(e)}))}
var Gy=function(e,t,n){return W.from(n.container()).filter(Yr).exists((function(r){var o=e?0:-1
return t(r.data.charAt(n.offset()+o))}))}
var Xy=N(Gy,true,dg)
var Ky=N(Gy,false,dg)
var Zy=function(e){var t=e.container()
return Yr(t)&&(0===t.data.length||Ua(t.data)&&Th.isBookmarkNode(t.parentNode))}
var Yy=function(e,t){return function(n){return W.from(Qd(e?0:-1,n)).filter(t).isSome()}}
var Jy=function(e){return no(e)&&"block"===yo(yn.fromDom(e),"display")}
var Qy=function(e){return oo(e)&&!Gr(e)}
var ew=Yy(true,Jy)
var tw=Yy(false,Jy)
var nw=Yy(true,io)
var rw=Yy(false,io)
var ow=Yy(true,Xr)
var aw=Yy(false,Xr)
var iw=Yy(true,Qy)
var uw=Yy(false,Qy)
var cw=function(e){var t=[]
var n=e.dom
while(n){t.push(yn.fromDom(n))
n=n.lastChild}return t}
var sw=function(e){var t=gl(e,"br")
var n=ne(cw(e).slice(-1),Da)
t.length===n.length&&Q(n,kr)}
var lw=function(e){Sr(e)
yr(e,yn.fromHtml('<br data-mce-bogus="1">'))}
var fw=function(e){or(e).each((function(t){Yn(t).each((function(n){Ea(e)&&Da(t)&&Ea(n)&&kr(t)}))}))}
var vw=function(e){return e.slice(0,-1)}
var dw=function(e,t,n){return zn(t,e)?vw(Kn(e,(function(e){return n(e)||Mn(e,t)}))):[]}
var mw=function(e,t){return dw(e,t,I)}
var gw=function(e,t){return[e].concat(mw(e,t))}
var hw=function(e,t,n){return zm(e,t,n,Zy)}
var pw=function(e,t){return ie(gw(yn.fromDom(t.container()),e),Ea)}
var bw=function(e,t,n){return hw(e,t.dom,n).forall((function(e){return pw(t,n).fold((function(){return false===Jd(e,n,t.dom)}),(function(r){return false===Jd(e,n,t.dom)&&zn(r,yn.fromDom(e.container()))}))}))}
var yw=function(e,t,n){return pw(t,n).fold((function(){return hw(e,t.dom,n).forall((function(e){return false===Jd(e,n,t.dom)}))}),(function(t){return hw(e,t.dom,n).isNone()}))}
var ww=N(yw,false)
var xw=N(yw,true)
var Cw=N(bw,false)
var Sw=N(bw,true)
var kw=function(e){return cm(e).exists(Da)}
var Ow=function(e,t,n){var r=ne(gw(yn.fromDom(n.container()),t),Ea)
var o=he(r).getOr(t)
return Nm(e,o.dom,n).filter(kw)}
var Tw=function(e,t){return cm(t).exists(Da)||Ow(true,e,t).isSome()}
var Ew=function(e,t){return sm(t).exists(Da)||Ow(false,e,t).isSome()}
var _w=N(Ow,false)
var Lw=N(Ow,true)
var Dw=function(e){return Cf.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()}
var Aw=function(e,t){var n=ne(gw(yn.fromDom(t.container()),e),Ea)
return he(n).getOr(e)}
var Mw=function(e,t){return Dw(t)?Ky(t):Ky(t)||Im(Aw(e,t).dom,t).exists(Ky)}
var Nw=function(e,t){return Dw(t)?Xy(t):Xy(t)||Pm(Aw(e,t).dom,t).exists(Xy)}
var Rw=function(e){return Z(["pre","pre-wrap"],e)}
var zw=function(e){return cm(e).bind((function(e){return Yo(e,Fn)})).exists((function(e){return Rw(yo(e,"white-space"))}))}
var Bw=function(e,t){return Im(e.dom,t).isNone()}
var Pw=function(e,t){return Pm(e.dom,t).isNone()}
var Iw=function(e,t){return Bw(e,t)||Pw(e,t)||ww(e,t)||xw(e,t)||Ew(e,t)||Tw(e,t)}
var Hw=function(e,t){return!zw(t)&&(Iw(e,t)||Mw(e,t)||Nw(e,t))}
var Fw=function(e,t){return!zw(t)&&(ww(e,t)||Cw(e,t)||Ew(e,t)||Mw(e,t))}
var Vw=function(e){var t=e.container()
var n=e.offset()
return Yr(t)&&n<t.data.length?Cf(t,n+1):e}
var jw=function(e,t){return!zw(t)&&(xw(e,t)||Sw(e,t)||Tw(e,t)||Nw(e,t))}
var Uw=function(e,t){return Fw(e,t)||jw(e,Vw(t))}
var Ww=function(e,t){return vg(e.charAt(t))}
var qw=function(e){var t=e.container()
return Yr(t)&&ct(t.data,Ha)}
var $w=function(e){var t=e.split("")
return J(t,(function(e,n){return vg(e)&&n>0&&n<t.length-1&&mg(t[n-1])&&mg(t[n+1])?" ":e})).join("")}
var Gw=function(e,t){var n=t.data
var r=Cf(t,0)
if(Ww(n,0)&&!Uw(e,r)){t.data=" "+n.slice(1)
return true}return false}
var Xw=function(e){var t=e.data
var n=$w(t)
if(n!==t){e.data=n
return true}return false}
var Kw=function(e,t){var n=t.data
var r=Cf(t,n.length-1)
if(Ww(n,n.length-1)&&!Uw(e,r)){t.data=n.slice(0,-1)+" "
return true}return false}
var Zw=function(e,t){return W.some(t).filter(qw).bind((function(t){var n=t.container()
var r=Gw(e,n)||Xw(n)||Kw(e,n)
return r?W.some(t):W.none()}))}
var Yw=function(e){var t=yn.fromDom(e.getBody())
e.selection.isCollapsed()&&Zw(t,Cf.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))}
var Jw=function(e,t,n){var r=oe(e,(function(r,o){return dg(o)||vg(o)?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:false,str:r.str+Ha}:{previousCharIsSpace:true,str:r.str+" "}:{previousCharIsSpace:false,str:r.str+o}}),{previousCharIsSpace:false,str:""})
return r.str}
var Qw=function(e,t,n){if(0===n)return
var r=yn.fromDom(e)
var o=Zo(r,Ea).getOr(r)
var a=e.data.slice(t,t+n)
var i=t+n>=e.data.length&&jw(o,Cf(e,e.data.length))
var u=0===t&&Fw(o,Cf(e,0))
e.replaceData(t,n,Jw(a,u,i))}
var ex=function(e,t){var n=e.data.slice(t)
var r=n.length-vt(n).length
return Qw(e,t,r)}
var tx=function(e,t){var n=e.data.slice(0,t)
var r=n.length-dt(n).length
return Qw(e,t-r,r)}
var nx=function(e,t,n,r){void 0===r&&(r=true)
var o=dt(e.data).length
var a=r?e:t
var i=r?t:e
r?a.appendData(i.data):a.insertData(0,i.data)
kr(yn.fromDom(i))
n&&ex(a,o)
return a}
var rx=function(e,t){var n=e.container()
var r=e.offset()
return false===Cf.isTextPosition(e)&&n===t.parentNode&&r>Cf.before(t).offset()}
var ox=function(e,t){return rx(t,e)?Cf(t.container(),t.offset()-1):t}
var ax=function(e){return Yr(e)?Cf(e,0):Cf.before(e)}
var ix=function(e){return Yr(e)?Cf(e,e.data.length):Cf.after(e)}
var ux=function(e){return gi(e.previousSibling)?W.some(ix(e.previousSibling)):e.previousSibling?Fm(e.previousSibling):W.none()}
var cx=function(e){return gi(e.nextSibling)?W.some(ax(e.nextSibling)):e.nextSibling?Hm(e.nextSibling):W.none()}
var sx=function(e,t){var n=Cf.before(t.previousSibling?t.previousSibling:t.parentNode)
return Im(e,n).fold((function(){return Pm(e,Cf.after(t))}),W.some)}
var lx=function(e,t){return Pm(e,Cf.after(t)).fold((function(){return Im(e,Cf.before(t))}),W.some)}
var fx=function(e,t){return ux(t).orThunk((function(){return cx(t)})).orThunk((function(){return sx(e,t)}))}
var vx=function(e,t){return cx(t).orThunk((function(){return ux(t)})).orThunk((function(){return lx(e,t)}))}
var dx=function(e,t,n){return e?vx(t,n):fx(t,n)}
var mx=function(e,t,n){return dx(e,t,n).map(N(ox,n))}
var gx=function(e,t,n){n.fold((function(){e.focus()}),(function(n){e.selection.setRng(n.toRange(),t)}))}
var hx=function(e){return function(t){return t.dom===e}}
var px=function(e,t){return t&&Me(e.schema.getBlockElements(),Bn(t))}
var bx=function(e){if(Mi(e)){var t=yn.fromHtml('<br data-mce-bogus="1">')
Sr(e)
yr(e,t)
return W.some(Cf.before(t.dom))}return W.none()}
var yx=function(e,t,n){var r=Yn(e).filter(Vn)
var o=Jn(e).filter(Vn)
kr(e)
return Hl(r,o,t,(function(e,t,r){var o=e.dom,a=t.dom
var i=o.data.length
nx(o,a,n)
return r.container()===a?Cf(o,i):r})).orThunk((function(){if(n){r.each((function(e){return tx(e.dom,e.dom.length)}))
o.each((function(e){return ex(e.dom,0)}))}return t}))}
var wx=function(e,t){return Me(e.schema.getTextInlineElements(),Bn(t))}
var xx=function(e,t,n,r){void 0===r&&(r=true)
var o=mx(t,e.getBody(),n.dom)
var a=Zo(n,N(px,e),hx(e.getBody()))
var i=yx(n,o,wx(e,n))
if(e.dom.isEmpty(e.getBody())){e.setContent("")
e.selection.setCursorLocation()}else a.bind(bx).fold((function(){r&&gx(e,t,i)}),(function(n){r&&gx(e,t,W.some(n))}))}
var Cx=function(e,t){return{start:e,end:t}}
var Sx=function(e,t,n){return{rng:e,table:t,cells:n}}
var kx=Go.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}])
var Ox=function(e){return function(t){return Mn(e,t)}}
var Tx=function(e,t){return na(yn.fromDom(e),"td,th",t)}
var Ex=function(e,t){return ea(e,"table",t)}
var _x=function(e){return!Mn(e.start,e.end)}
var Lx=function(e,t){return Ex(e.start,t).bind((function(n){return Ex(e.end,t).bind((function(e){return Fl(Mn(n,e),n)}))}))}
var Dx=function(e,t){return!_x(e)&&Lx(e,t).exists((function(e){var t=e.dom.rows
return 1===t.length&&1===t[0].cells.length}))}
var Ax=function(e){return gl(e,"td,th")}
var Mx=function(e,t){var n=Tx(e.startContainer,t)
var r=Tx(e.endContainer,t)
return Il(n,r,Cx)}
var Nx=function(e,t){return Ex(e.start,t).bind((function(t){return pe(Ax(t)).map((function(t){return Cx(e.start,t)}))}))}
var Rx=function(e,t){var n=Tx(t.startContainer,e)
var r=Tx(t.endContainer,e)
return t.collapsed?W.none():Il(n,r,Cx).fold((function(){return n.fold((function(){return r.bind((function(t){return Ex(t,e).bind((function(e){return he(Ax(e)).map((function(e){return Cx(e,t)}))}))}))}),(function(t){return Ex(t,e).bind((function(e){return pe(Ax(e)).map((function(e){return Cx(t,e)}))}))}))}),(function(t){return zx(e,t)?W.none():Nx(t,e)}))}
var zx=function(e,t){return Lx(t,e).isSome()}
var Bx=function(e,t){return Lx(e,t).map((function(t){return Sx(e,t,Ax(t))}))}
var Px=function(e,t,n){return e.filter((function(e){return _x(e)&&zx(n,e)})).orThunk((function(){return Rx(n,t)})).bind((function(e){return Bx(e,n)}))}
var Ix=function(e,t){return ue(e,(function(e){return Mn(e,t)}))}
var Hx=function(e){return Il(Ix(e.cells,e.rng.start),Ix(e.cells,e.rng.end),(function(t,n){return e.cells.slice(t,n+1)}))}
var Fx=function(e,t,n){return e.filter((function(e){return Dx(e,n)&&fh(e.start,t)})).map((function(e){return e.start}))}
var Vx=function(e){return Hx(e).map((function(t){var n=e.cells
return t.length===n.length?kx.removeTable(e.table):kx.emptyCells(t)}))}
var jx=function(e,t){var n=Ox(e)
var r=Mx(t,n)
return Fx(r,t,n).map((function(e){return kx.deleteCellSelection(t,e)})).orThunk((function(){return Px(r,t,n).bind(Vx)}))}
var Ux=function(e){var t=Hn(e)?Yn(e):or(e)
return t.bind(Ux).orThunk((function(){return W.some(e)}))}
var Wx=function(e,t){Q(t,lw)
e.selection.setCursorLocation(t[0].dom,0)
return true}
var qx=function(e,t,n){t.deleteContents()
var r=Ux(n).getOr(n)
var o=yn.fromDom(e.dom.getParent(r.dom,e.dom.isBlock))
if(Mi(o)){lw(o)
e.selection.setCursorLocation(o.dom,0)}if(!Mn(n,o)){var a=Xn(o).is(n)?[]:Zn(o)
Q(a.concat(tr(n)),(function(e){Mn(e,o)||zn(e,o)||kr(e)}))}return true}
var $x=function(e,t){xx(e,false,t)
return true}
var Gx=function(e,t,n){return jx(t,n).map((function(t){return t.fold(N($x,e),N(Wx,e),N(qx,e))}))}
var Xx=function(e,t){return eC(e,t)}
var Kx=function(e,t,n,r){return Jx(t,r).fold((function(){return Gx(e,t,n)}),(function(t){return Xx(e,t)})).getOr(false)}
var Zx=function(e,t){var n=yn.fromDom(e.getBody())
var r=e.selection.getRng()
var o=ih(e)
return 0!==o.length?Wx(e,o):Kx(e,n,r,t)}
var Yx=function(e,t){return ie(gw(t,e),za)}
var Jx=function(e,t){return ie(gw(t,e),(function(e){return"caption"===Bn(e)}))}
var Qx=function(e,t,n,r,o){return Rm(n,e.getBody(),o).bind((function(e){return Yx(t,yn.fromDom(e.getNode())).map((function(e){return false===Mn(e,r)}))}))}
var eC=function(e,t){lw(t)
e.selection.setCursorLocation(t.dom,0)
return W.some(true)}
var tC=function(e,t,n,r){return Hm(e.dom).bind((function(o){return Fm(e.dom).map((function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)}))})).getOr(true)}
var nC=function(e,t){return eC(e,t)}
var rC=function(e,t,n){return Jx(e,yn.fromDom(n.getNode())).map((function(e){return false===Mn(e,t)}))}
var oC=function(e,t,n,r,o){return Rm(n,e.getBody(),o).bind((function(a){return tC(r,n,o,a)?nC(e,r):rC(t,r,a)})).or(W.some(true))}
var aC=function(e,t,n,r){var o=Cf.fromRangeStart(e.selection.getRng())
return Yx(n,r).bind((function(r){return Mi(r)?eC(e,r):Qx(e,n,t,r,o)})).getOr(false)}
var iC=function(e,t,n,r){var o=Cf.fromRangeStart(e.selection.getRng())
return Mi(r)?eC(e,r):oC(e,n,t,r,o)}
var uC=function(e,t){return e?ow(t):aw(t)}
var cC=function(e,t){var n=Cf.fromRangeStart(e.selection.getRng())
return uC(t,n)||Nm(t,e.getBody(),n).exists((function(e){return uC(t,e)}))}
var sC=function(e,t,n){var r=yn.fromDom(e.getBody())
return Jx(r,n).fold((function(){return aC(e,t,r,n)||cC(e,t)}),(function(n){return iC(e,t,r,n).getOr(false)}))}
var lC=function(e,t){var n=yn.fromDom(e.selection.getStart(true))
var r=ih(e)
return e.selection.isCollapsed()&&0===r.length?sC(e,t,n):Zx(e,n)}
var fC=function(e,t,n,r){var o=document.createRange()
o.setStart(e,t)
o.setEnd(n,r)
return o}
var vC=function(e){var t=Cf.fromRangeStart(e)
var n=Cf.fromRangeEnd(e)
var r=e.commonAncestorContainer
return Nm(false,r,n).map((function(o){return!Jd(t,n,r)&&Jd(t,o,r)?fC(t.container(),t.offset(),o.container(),o.offset()):e})).getOr(e)}
var dC=function(e){return e.collapsed?e:vC(e)}
var mC=function(e){return e.firstChild&&e.firstChild===e.lastChild}
var gC=function(e){return"br"===e.name||e.value===Ha}
var hC=function(e,t){var n=e.getBlockElements()
return n[t.name]&&mC(t)&&gC(t.firstChild)}
var pC=function(e,t){var n=e.getNonEmptyElements()
return t&&(t.isEmpty(n)||hC(e,t))}
var bC=function(e,t){var n=t.firstChild
var r=t.lastChild
n&&"meta"===n.name&&(n=n.next)
r&&"mce_marker"===r.attr("id")&&(r=r.prev)
pC(e,r)&&(r=r.prev)
if(!n||n!==r)return false
return"ul"===n.name||"ol"===n.name}
var yC=function(e){var t=e.firstChild
var n=e.lastChild
t&&"META"===t.nodeName&&t.parentNode.removeChild(t)
n&&"mce_marker"===n.id&&n.parentNode.removeChild(n)
return e}
var wC=function(e,t,n){var r=t.serialize(n)
var o=e.createFragment(r)
return yC(o)}
var xC=function(e){return dn.grep(e.childNodes,(function(e){return"LI"===e.nodeName}))}
var CC=function(e){return e.data===Ha||to(e)}
var SC=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&CC(e.firstChild)}
var kC=function(e){return!e.firstChild||SC(e)}
var OC=function(e){return e.length>0&&kC(e[e.length-1])?e.slice(0,-1):e}
var TC=function(e,t){var n=e.getParent(t,e.isBlock)
return n&&"LI"===n.nodeName?n:null}
var EC=function(e,t){return!!TC(e,t)}
var _C=function(e,t){var n=t.cloneRange()
var r=t.cloneRange()
n.setStartBefore(e)
r.setEndAfter(e)
return[n.cloneContents(),r.cloneContents()]}
var LC=function(e,t){var n=Cf.before(e)
var r=Om(t)
var o=r.next(n)
return o?o.toRange():null}
var DC=function(e,t){var n=Cf.after(e)
var r=Om(t)
var o=r.prev(n)
return o?o.toRange():null}
var AC=function(e,t,n,r){var o=_C(e,r)
var a=e.parentNode
a.insertBefore(o[0],e)
dn.each(t,(function(t){a.insertBefore(t,e)}))
a.insertBefore(o[1],e)
a.removeChild(e)
return DC(t[t.length-1],n)}
var MC=function(e,t,n){var r=e.parentNode
dn.each(t,(function(t){r.insertBefore(t,e)}))
return LC(e,n)}
var NC=function(e,t,n,r){r.insertAfter(t.reverse(),e)
return DC(t[0],n)}
var RC=function(e,t,n,r){var o=wC(t,e,r)
var a=TC(t,n.startContainer)
var i=OC(xC(o.firstChild))
var u=1,c=2
var s=t.getRoot()
var l=function(e){var r=Cf.fromRangeStart(n)
var o=Om(t.getRoot())
var i=e===u?o.prev(r):o.next(r)
return!i||TC(t,i.getNode())!==a}
if(l(u))return MC(a,i,s)
if(l(c))return NC(a,i,s,t)
return AC(a,i,s,n)}
var zC=function(e,t,n){var r=yn.fromDom(e.getRoot())
n=Fw(r,Cf.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," ")
n=jw(r,Cf.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")
return n}
var BC=ao
var PC=function(e,t,n){if(null!==n){var r=e.getParent(t.endContainer,BC)
return n===r&&fh(yn.fromDom(n),t)}return false}
var IC=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n)
else{var r=n.firstChild
var o=n.lastChild
!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}
var HC=function(e,t){W.from(e.getParent(t,"td,th")).map(yn.fromDom).each(fw)}
var FC=function(e,t){var n=e.schema.getTextInlineElements()
var r=e.dom
if(t){var o=e.getBody()
var a=zy(r)
dn.each(r.select("*[data-mce-fragment]"),(function(e){var t=O(n[e.nodeName.toLowerCase()])
if(t&&Wy(r,e))for(var i=e.parentNode;O(i)&&i!==o;i=i.parentNode){var u=$y(r,e,i)
if(u)break
if(a.compare(i,e)){r.remove(e,true)
break}}}))}}
var VC=function(e){var t=e
while(t=t.walk())1===t.type&&t.attr("data-mce-fragment","1")}
var jC=function(e){dn.each(e.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")}))}
var UC=function(e){return!!e.getAttribute("data-mce-fragment")}
var WC=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]}
var qC=function(e,t){var n
var r=e.dom,o=e.selection
var a
var i=function(t){var n=e.getBody()
for(;t&&t!==n;t=t.parentNode)if("false"===r.getContentEditable(t))return t
return null}
if(!t)return
o.scrollIntoView(t)
var u=i(t)
if(u){r.remove(t)
o.select(u)
return}var c=r.createRng()
var s=t.previousSibling
if(s&&3===s.nodeType){c.setStart(s,s.nodeValue.length)
if(!Qt.ie){a=t.nextSibling
if(a&&3===a.nodeType){s.appendData(a.data)
a.parentNode.removeChild(a)}}}else{c.setStartBefore(t)
c.setEndBefore(t)}var l=function(t){var n=Cf.fromRangeStart(t)
var r=Om(e.getBody())
n=r.next(n)
if(n)return n.toRange()}
var f=r.getParent(t,r.isBlock)
r.remove(t)
if(f&&r.isEmpty(f)){e.$(f).empty()
c.setStart(f,0)
c.setEnd(f,0)
if(BC(f)||UC(f)||!(n=l(c)))r.add(f,r.create("br",{"data-mce-bogus":"1"}))
else{c=n
r.remove(f)}}o.setRng(c)}
var $C=function(e){var t=e.dom
var n=dC(e.selection.getRng())
e.selection.setRng(n)
var r=t.getParent(n.startContainer,BC)
PC(t,n,r)?qx(e,n,yn.fromDom(r)):e.getDoc().execCommand("Delete",false,null)}
var GC=function(e,t,n){var r,o,a
var i,u,c
var s=e.selection,l=e.dom;/^ | $/.test(t)&&(t=zC(l,s.getRng(),t))
var f=e.parser
var v=n.merge
var d=Iy({validate:Gv(e)},e.schema)
var m='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>'
a={content:t,format:"html",selection:true,paste:n.paste}
a=e.fire("BeforeSetContent",a)
if(a.isDefaultPrevented()){e.fire("SetContent",{content:a.content,format:"html",selection:true,paste:n.paste})
return}t=a.content;-1===t.indexOf("{$caret}")&&(t+="{$caret}")
t=t.replace(/\{\$caret\}/,m)
u=s.getRng()
var g=u.startContainer||(u.parentElement?u.parentElement():null)
var h=e.getBody()
if(g===h&&s.isCollapsed()&&l.isBlock(h.firstChild)&&WC(e,h.firstChild)&&l.isEmpty(h.firstChild)){u=l.createRng()
u.setStart(h.firstChild,0)
u.setEnd(h.firstChild,0)
s.setRng(u)}s.isCollapsed()||$C(e)
r=s.getNode()
var p={context:r.nodeName.toLowerCase(),data:n.data,insert:true}
var b=f.parse(t,p)
if(true===n.paste&&bC(e.schema,b)&&EC(l,r)){u=RC(d,l,s.getRng(),b)
s.setRng(u)
e.fire("SetContent",a)
return}VC(b)
c=b.lastChild
if("mce_marker"===c.attr("id")){i=c
for(c=c.prev;c;c=c.walk(true))if(3===c.type||!l.isBlock(c.name)){e.schema.isValidChild(c.parent.name,"span")&&c.parent.insert(i,c,"br"===c.name)
break}}e._selectionOverrides.showBlockCaretContainer(r)
if(p.invalid){e.selection.setContent(m)
r=s.getNode()
o=e.getBody()
9===r.nodeType?r=c=o:c=r
while(c!==o){r=c
c=c.parentNode}t=r===o?o.innerHTML:l.getOuterHTML(r)
t=d.serialize(f.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return d.serialize(b)}))))
r===o?l.setHTML(o,t):l.setOuterHTML(r,t)}else{t=d.serialize(b)
IC(e,t,r)}FC(e,v)
qC(e,l.get("mce_marker"))
jC(e.getBody())
HC(l,s.getStart())
e.fire("SetContent",a)
e.addVisual()}
var XC=function(e,t){t(e)
e.firstChild&&XC(e.firstChild,t)
e.next&&XC(e.next,t)}
var KC=function(e,t,n){var r={}
var o={}
var a=[]
n.firstChild&&XC(n.firstChild,(function(n){Q(e,(function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}))
Q(t,(function(e){"string"===typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})}))}))
for(var i in r)r.hasOwnProperty(i)&&a.push(r[i])
for(var u in o)o.hasOwnProperty(u)&&a.push(o[u])
return a}
var ZC=function(e,t,n){var r=KC(e,t,n)
Q(r,(function(e){Q(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))}
var YC="html"
var JC=function(e){return e instanceof gy}
var QC=function(e){Jb(e)&&Hm(e.getBody()).each((function(t){var n=t.getNode()
var r=Xr(n)?Hm(n).getOr(t):t
e.selection.setRng(r.toRange())}))}
var eS=function(e,t){e.dom.setHTML(e.getBody(),t)
QC(e)}
var tS=function(e,t,n,r){var o,a
if(0===n.length||/^\s+$/.test(n)){a='<br data-mce-bogus="1">'
"TABLE"===t.nodeName?n="<tr><td>"+a+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+a+"</li>")
o=dv(e)
if(o&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())){n=a
n=e.dom.createHTML(o,mv(e),n)}else n||(n='<br data-mce-bogus="1">')
eS(e,n)
e.fire("SetContent",r)}else{"raw"!==r.format&&(n=Iy({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:true,insert:true})))
r.content=Ba(yn.fromDom(t))?n:dn.trim(n)
eS(e,r.content)
r.no_events||e.fire("SetContent",r)}return r.content}
var nS=function(e,t,n,r){ZC(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n)
var o=Iy({validate:e.validate},e.schema).serialize(n)
r.content=Ba(yn.fromDom(t))?o:dn.trim(o)
eS(e,r.content)
r.no_events||e.fire("SetContent",r)
return n}
var rS=function(e,t,n){n.format=n.format?n.format:YC
n.set=true
n.content=JC(t)?"":t
n.no_events||e.fire("BeforeSetContent",n)
JC(t)||(t=n.content)
return W.from(e.getBody()).fold(A(t),(function(r){return JC(t)?nS(e,r,t,n):tS(e,r,t,n)}))}
var oS=function(e,t){return Jo(e,t).isSome()}
var aS=function(e){return T(e)?e:I}
var iS=function(e,t,n){var r=e.dom
var o=aS(n)
while(r.parentNode){r=r.parentNode
var a=yn.fromDom(r)
var i=t(a)
if(i.isSome())return i
if(o(a))break}return W.none()}
var uS=function(e,t,n){var r=t(e)
var o=aS(n)
return r.orThunk((function(){return o(e)?W.none():iS(e,t,o)}))}
var cS=kg
var sS=function(e,t,n){var r=e.formatter.get(n)
if(r)for(var o=0;o<r.length;o++)if(false===r[o].inherit&&e.dom.is(t,r[o].selector))return true
return false}
var lS=function(e,t,n,r){var o=e.dom.getRoot()
if(t===o)return false
t=e.dom.getParent(t,(function(t){if(sS(e,t,n))return true
return t.parentNode===o||!!dS(e,t,n,r,true)}))
return dS(e,t,n,r)}
var fS=function(e,t,n){if(cS(t,n.inline))return true
if(cS(t,n.block))return true
if(n.selector)return 1===t.nodeType&&e.is(t,n.selector)}
var vS=function(e,t,n,r,o,a){var i,u
var c=n[r]
var s
if(n.onmatch)return n.onmatch(t,n,r)
if(c)if("undefined"===typeof c.length){for(i in c)if(c.hasOwnProperty(i)){u="attributes"===r?e.getAttrib(t,i):Tg(e,t,i)
if(o&&!u&&!n.exact)return
if((!o||n.exact)&&!cS(u,Og(e,Sg(c[i],a),i)))return}}else for(s=0;s<c.length;s++)if("attributes"===r?e.getAttrib(t,c[s]):Tg(e,t,c[s]))return n
return n}
var dS=function(e,t,n,r,o){var a=e.formatter.get(n)
var i,u,c,s
var l=e.dom
if(a&&t)for(u=0;u<a.length;u++){i=a[u]
if(fS(e.dom,t,i)&&vS(l,t,i,"attributes",o,r)&&vS(l,t,i,"styles",o,r)){if(s=i.classes)for(c=0;c<s.length;c++)if(!e.dom.hasClass(t,Sg(s[c],r)))return
return i}}}
var mS=function(e,t,n,r){if(r)return lS(e,r,t,n)
r=e.selection.getNode()
if(lS(e,r,t,n))return true
var o=e.selection.getStart()
if(o!==r&&lS(e,o,t,n))return true
return false}
var gS=function(e,t,n){var r=[]
var o={}
var a=e.selection.getStart()
e.dom.getParent(a,(function(a){for(var i=0;i<t.length;i++){var u=t[i]
if(!o[u]&&dS(e,a,u,n)){o[u]=true
r.push(u)}}}),e.dom.getRoot())
return r}
var hS=function(e,t){var n=function(t){return Mn(t,yn.fromDom(e.getBody()))}
var r=function(t,n){return dS(e,t.dom,n)?W.some(n):W.none()}
return W.from(e.selection.getStart(true)).bind((function(e){return uS(yn.fromDom(e),(function(e){return ye(t,(function(t){return r(e,t)}))}),n)})).getOrNull()}
var pS=function(e,t){var n=e.formatter.get(t)
var r,o,a,i,u
var c=e.dom
if(n){r=e.selection.getStart()
o=_g(c,r)
for(i=n.length-1;i>=0;i--){u=n[i].selector
if(!u||n[i].defaultBlock)return true
for(a=o.length-1;a>=0;a--)if(c.is(o[a],u))return true}}return false}
var bS=function(e,t,n){return oe(n,(function(n,r){var o=Lg(e,r)
return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n}),[])}
var yS=ja,wS="_mce_caret"
var xS=function(e,t){return e.importNode(t,true)}
var CS=function(e){var t=[]
while(e){if(3===e.nodeType&&e.nodeValue!==yS||e.childNodes.length>1)return[]
1===e.nodeType&&t.push(e)
e=e.firstChild}return t}
var SS=function(e){return CS(e).length>0}
var kS=function(e){if(e){var t=new ha(e,e)
for(e=t.current();e;e=t.next())if(Yr(e))return e}return null}
var OS=function(e){var t=yn.fromTag("span")
lo(t,{id:wS,"data-mce-bogus":"1","data-mce-type":"format-caret"})
e&&yr(t,yn.fromText(yS))
return t}
var TS=function(e){var t=kS(e)
t&&t.nodeValue.charAt(0)===yS&&t.deleteData(0,1)
return t}
var ES=function(e,t,n){void 0===n&&(n=true)
var r=e.dom,o=e.selection
if(SS(t))xx(e,false,yn.fromDom(t),n)
else{var a=o.getRng()
var i=r.getParent(t,r.isBlock)
var u=a.startContainer
var c=a.startOffset
var s=a.endContainer
var l=a.endOffset
var f=TS(t)
r.remove(t,true)
u===f&&c>0&&a.setStart(f,c-1)
s===f&&l>0&&a.setEnd(f,l-1)
i&&r.isEmpty(i)&&lw(yn.fromDom(i))
o.setRng(a)}}
var _S=function(e,t,n){void 0===n&&(n=true)
var r=e.dom,o=e.selection
if(t)ES(e,t,n)
else{t=Um(e.getBody(),o.getStart())
if(!t)while(t=r.get(wS))ES(e,t,false)}}
var LS=function(e,t,n){var r=e.dom,o=r.getParent(n,N(yg,e))
if(o&&r.isEmpty(o))n.parentNode.replaceChild(t,n)
else{sw(yn.fromDom(n))
r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n)}}
var DS=function(e,t){e.appendChild(t)
return t}
var AS=function(e,t){var n=re(e,(function(e,t){return DS(e,t.cloneNode(false))}),t)
return DS(n,n.ownerDocument.createTextNode(yS))}
var MS=function(e,t,n,r,o,a){var i=e.formatter
var u=e.dom
var c=ne(we(i.get()),(function(e){return e!==r&&!ct(e,"removeformat")}))
var s=bS(e,n,c)
var l=ne(s,(function(t){return!Dg(e,t,r)}))
if(l.length>0){var f=n.cloneNode(false)
u.add(t,f)
i.remove(r,o,f,a)
u.remove(f)
return W.some(f)}return W.none()}
var NS=function(e,t,n){var r,o
var a=e.selection
var i=a.getRng()
var u=i.startOffset
var c=i.startContainer
var s=c.nodeValue
r=Um(e.getBody(),a.getStart())
r&&(o=kS(r))
var l=/[^\s\u00a0\u00ad\u200b\ufeff]/
if(s&&u>0&&u<s.length&&l.test(s.charAt(u))&&l.test(s.charAt(u-1))){var f=a.getBookmark()
i.collapse(true)
var v=Zg(e,i,e.formatter.get(t))
v=sp(v)
e.formatter.apply(t,n,v)
a.moveToBookmark(f)}else{if(r&&o.nodeValue===yS)e.formatter.apply(t,n,r)
else{r=xS(e.getDoc(),OS(true).dom)
o=r.firstChild
i.insertNode(r)
u=1
e.formatter.apply(t,n,r)}a.setCursorLocation(o,u)}}
var RS=function(e,t,n,r){var o=e.dom
var a=e.selection
var i,u,c
var s=[]
var l=a.getRng()
var f=l.startContainer
var v=l.startOffset
u=f
if(3===f.nodeType){v!==f.nodeValue.length&&(i=true)
u=u.parentNode}while(u){if(dS(e,u,t,n,r)){c=u
break}u.nextSibling&&(i=true)
s.push(u)
u=u.parentNode}if(!c)return
if(i){var d=a.getBookmark()
l.collapse(true)
var m=Zg(e,l,e.formatter.get(t),true)
m=sp(m)
e.formatter.remove(t,n,m,r)
a.moveToBookmark(d)}else{var g=Um(e.getBody(),c)
var h=OS(false).dom
LS(e,h,null!==g?g:c)
var p=MS(e,h,c,t,n,r)
var b=AS(s.concat(p.toArray()),h)
ES(e,g,false)
a.setCursorLocation(b,1)
o.isEmpty(c)&&o.remove(c)}}
var zS=function(e,t){var n=e.selection,r=e.getBody()
_S(e,null,false)
8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==yS||_S(e,Um(r,n.getStart()))
37!==t&&39!==t||_S(e,Um(r,n.getStart()))}
var BS=function(e){e.on("mouseup keydown",(function(t){zS(e,t.keyCode)}))}
var PS=function(e,t){var n=OS(false)
var r=AS(t,n.dom)
hr(yn.fromDom(e),n)
kr(yn.fromDom(e))
return Cf(r,0)}
var IS=function(e,t){var n=e.schema.getTextInlineElements()
return n.hasOwnProperty(Bn(t))&&!jm(t.dom)&&!$r(t.dom)}
var HS=function(e){return jm(e.dom)&&SS(e.dom)}
var FS={}
var VS=He
var jS=Pe
var US=function(e,t){var n=FS[e]
n||(FS[e]=[])
FS[e].push(t)}
var WS=function(e,t){jS(FS[e],(function(e){e(t)}))}
US("pre",(function(e){var t=e.selection.getRng()
var n
var r=function(e){return a(e.previousSibling)&&-1!==Fe(n,e.previousSibling)}
var o=function(e,t){Ss(t).remove()
Ss(e).append("<br><br>").append(t.childNodes)}
var a=jr(["pre"])
if(!t.collapsed){n=e.selection.getSelectedBlocks()
jS(VS(VS(n,a),r),(function(e){o(e.previousSibling,e)}))}}))
var qS=dn.each
var $S=function(e){return Vr(e)&&!lg(e)&&!jm(e)&&!$r(e)}
var GS=function(e,t){var n
for(n=e;n;n=n[t]){if(Yr(n)&&0!==n.nodeValue.length)return e
if(Vr(n)&&!lg(n))return n}return e}
var XS=function(e,t,n){var r,o
var a=zy(e)
if(t&&n){t=GS(t,"previousSibling")
n=GS(n,"nextSibling")
if(a.compare(t,n)){for(r=t.nextSibling;r&&r!==n;){o=r
r=r.nextSibling
t.appendChild(o)}e.remove(n)
dn.each(dn.grep(n.childNodes),(function(e){t.appendChild(e)}))
return t}}return n}
var KS=function(e,t,n,r){if(r&&false!==t.merge_siblings){var o=XS(e,bg(r),r)
XS(e,o,bg(o,true))}}
var ZS=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*"
qS(e.select(r,n),(function(n){$S(n)&&qS(t.styles,(function(t,r){e.setStyle(n,r,"")}))}))}}
var YS=function(e,t,n){qS(e.childNodes,(function(e){if($S(e)){t(e)&&n(e)
e.hasChildNodes()&&YS(e,t,n)}}))}
var JS=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,true)}
var QS=function(e,t){return function(n){return!!(n&&Tg(e,n,t))}}
var ek=function(e,t,n){return function(r){e.setStyle(r,t,n)
""===r.getAttribute("style")&&r.removeAttribute("style")
JS(e,r)}}
var tk=Go.generate([{keep:[]},{rename:["name"]},{removed:[]}])
var nk=/^(src|href|style)$/
var rk=dn.each
var ok=kg
var ak=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)}
var ik=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)}
var uk=function(e,t,n){var r,o
r=t[n?"startContainer":"endContainer"]
o=t[n?"startOffset":"endOffset"]
if(Vr(r)){var a=r.childNodes.length-1
!n&&o&&o--
r=r.childNodes[o>a?a:o]}Yr(r)&&n&&o>=r.nodeValue.length&&(r=new ha(r,e.getBody()).next()||r)
Yr(r)&&!n&&0===o&&(r=new ha(r,e.getBody()).prev()||r)
return r}
var ck=function(e,t){var n=t?"firstChild":"lastChild"
if(ak(e)&&e[n]){var r=e[n]
return"TR"===e.nodeName&&r[n]||r}return e}
var sk=function(e,t,n,r){var o=e.create(n,r)
t.parentNode.insertBefore(o,t)
o.appendChild(t)
return o}
var lk=function(e,t,n,r,o){var a=yn.fromDom(t)
var i=yn.fromDom(e.create(r,o))
var u=n?er(a):Qn(a)
Cr(i,u)
if(n){hr(a,i)
br(i,a)}else{pr(a,i)
yr(i,a)}return i.dom}
var fk=function(e,t,n){if(ok(t,n.inline))return true
if(ok(t,n.block))return true
if(n.selector)return Vr(t)&&e.is(t,n.selector)}
var vk=function(e,t){return t.links&&"A"===e.nodeName}
var dk=function(e,t,n,r){t=bg(t,n,r)
return!t||"BR"===t.nodeName||e.isBlock(t)}
var mk=function(e,t,n){var r=t.parentNode
var o
var a=e.dom,i=dv(e)
if(n.block)if(i)r===a.getRoot()&&(n.list_block&&ok(t,n.list_block)||Q(be(t.childNodes),(function(t){if(wg(e,i,t.nodeName.toLowerCase()))if(o)o.appendChild(t)
else{o=sk(a,t,i)
a.setAttribs(o,e.settings.forced_root_block_attrs)}else o=0})))
else if(a.isBlock(t)&&!a.isBlock(r)){dk(a,t,false)||dk(a,t.firstChild,true,true)||t.insertBefore(a.create("br"),t.firstChild)
dk(a,t,true)||dk(a,t.lastChild,false,true)||t.appendChild(a.create("br"))}if(n.selector&&n.inline&&!ok(n.inline,t))return
a.remove(t,true)}
var gk=function(e,t,n,r,o){var a
var i=e.dom
if(!fk(i,r,t)&&!vk(r,t))return tk.keep()
var u=r
if(t.inline&&"all"===t.remove&&w(t.preserve_attributes)){var c=ne(i.getAttribs(u),(function(e){return Z(t.preserve_attributes,e.name.toLowerCase())}))
i.removeAllAttribs(u)
Q(c,(function(e){return i.setAttrib(u,e.name,e.value)}))
if(c.length>0)return tk.rename("span")}if("all"!==t.remove){rk(t.styles,(function(e,r){e=Og(i,Sg(e,n),r+"")
if(E(r)){r=e
o=null}(t.remove_similar||!o||ok(Tg(i,o,r),e))&&i.setStyle(u,r,"")
a=true}))
if(a&&""===i.getAttrib(u,"style")){u.removeAttribute("style")
u.removeAttribute("data-mce-style")}rk(t.attributes,(function(e,r){var a
e=Sg(e,n)
if(E(r)){r=e
o=null}if(t.remove_similar||!o||ok(i.getAttrib(o,r),e)){if("class"===r){e=i.getAttrib(u,r)
if(e){a=""
Q(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(a+=(a?" ":"")+e)}))
if(a){i.setAttrib(u,r,a)
return}}}nk.test(r)&&u.removeAttribute("data-mce-"+r)
if("style"===r&&jr(["li"])(u)&&"none"===i.getStyle(u,"list-style-type")){u.removeAttribute(r)
i.setStyle(u,"list-style-type","none")
return}"class"===r&&u.removeAttribute("className")
u.removeAttribute(r)}}))
rk(t.classes,(function(e){e=Sg(e,n)
o&&!i.hasClass(o,e)||i.removeClass(u,e)}))
var s=i.getAttribs(u)
for(var l=0;l<s.length;l++){var f=s[l].nodeName
if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return tk.keep()}}if("none"!==t.remove){mk(e,u,t)
return tk.removed()}return tk.keep()}
var hk=function(e,t,n,r,o){return gk(e,t,n,r,o).fold(I,(function(t){e.dom.rename(r,t)
return true}),H)}
var pk=function(e,t,n,r,o){var a
Q(_g(e.dom,t.parentNode).reverse(),(function(t){if(!a&&"_start"!==t.id&&"_end"!==t.id){var i=dS(e,t,n,r,o)
i&&false!==i.split&&(a=t)}}))
return a}
var bk=function(e,t,n,r){return gk(e,t,n,r,r).fold(A(r),(function(t){var n=e.dom.createFragment()
n.appendChild(r)
return e.dom.rename(r,t)}),A(null))}
var yk=function(e,t,n,r,o,a,i,u){var c,s,l
var f=e.dom
if(n){var v=n.parentNode
for(var d=r.parentNode;d&&d!==v;d=d.parentNode){c=f.clone(d,false)
for(var m=0;m<t.length;m++){c=bk(e,t[m],u,c)
if(null===c)break}if(c){s&&c.appendChild(s)
l||(l=c)
s=c}}!a||i.mixed&&f.isBlock(n)||(r=f.split(n,r))
if(s){o.parentNode.insertBefore(s,o)
l.appendChild(o)
i.inline&&KS(f,i,u,s)}}return r}
var wk=function(e,t,n,r,o){var a=e.formatter.get(t)
var i=a[0]
var u=true
var c=e.dom
var s=e.selection
var l=function(r){var u=pk(e,r,t,n,o)
return yk(e,a,u,r,r,true,i,n)}
var f=function(e){return lg(e)&&Vr(e)&&("_start"===e.id||"_end"===e.id)}
var v=function(t){var r,o
var s=t.parentNode
Yr(t)&&Rg(c,s)&&hk(e,i,n,s,s)
if(Vr(t)&&c.getContentEditable(t)){r=u
u="true"===c.getContentEditable(t)
o=true}var l=be(t.childNodes)
if(u&&!o)for(var f=0;f<a.length;f++)if(hk(e,a[f],n,t,t))break
if(i.deep&&l.length){for(f=0;f<l.length;f++)v(l[f])
o&&(u=r)}}
var d=function(e){var t=c.get(e?"_start":"_end")
var n=t[e?"firstChild":"lastChild"]
f(n)&&(n=n[e?"firstChild":"lastChild"])
Yr(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling)
c.remove(t,true)
return n}
var m=function(t){var n,r
var o=Zg(e,t,a,t.collapsed)
if(i.split){o=sp(o)
n=uk(e,o,true)
r=uk(e,o)
if(n!==r){n=ck(n,true)
r=ck(r,false)
if(ik(c,n,r)){var u=W.from(n.firstChild).getOr(n)
l(lk(c,u,true,"span",{id:"_start","data-mce-type":"bookmark"}))
d(true)
return}if(ik(c,r,n)){u=W.from(r.lastChild).getOr(r)
l(lk(c,u,false,"span",{id:"_end","data-mce-type":"bookmark"}))
d(false)
return}n=sk(c,n,"span",{id:"_start","data-mce-type":"bookmark"})
r=sk(c,r,"span",{id:"_end","data-mce-type":"bookmark"})
var s=c.createRng()
s.setStartAfter(n)
s.setEndBefore(r)
Qg(c,s,(function(e){Q(e,(function(e){lg(e)||lg(e.parentNode)||l(e)}))}))
l(n)
l(r)
n=d(true)
r=d()}else n=r=l(n)
o.startContainer=n.parentNode?n.parentNode:n
o.startOffset=c.nodeIndex(n)
o.endContainer=r.parentNode?r.parentNode:r
o.endOffset=c.nodeIndex(r)+1}Qg(c,o,(function(t){Q(t,(function(t){v(t)
var n=["underline","line-through","overline"]
Q(n,(function(n){Vr(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&Eg(c,t.parentNode)===n&&hk(e,{deep:false,exact:true,inline:"span",styles:{textDecoration:n}},null,t)}))}))}))}
if(r){if(gg(r)){var g=c.createRng()
g.setStartBefore(r)
g.setEndAfter(r)
m(g)}else m(r)
return}if("false"===c.getContentEditable(s.getNode())){r=s.getNode()
for(var h=0;h<a.length;h++)if(a[h].ceFalseOverride&&hk(e,a[h],n,r,r))break
return}if(s.isCollapsed()&&i.inline&&!ih(e).length)RS(e,t,n,o)
else{gh(s,true,(function(){mh(e,m)}))
i.inline&&mS(e,t,n,s.getStart())&&pg(c,s,s.getRng())
e.nodeChanged()}}
var xk=dn.each
var Ck=function(e,t,n,r){var o=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=Eg(e,t.parentNode)
e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}}
if(t.styles&&(t.styles.color||t.styles.textDecoration)){dn.walk(r,o,"childNodes")
o(r)}}
var Sk=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&YS(r,QS(e,"fontSize"),ek(e,"backgroundColor",Sg(t.styles.backgroundColor,n)))}
var kk=function(e,t,n,r){if("sub"===t.inline||"sup"===t.inline){YS(r,QS(e,"fontSize"),ek(e,"fontSize",""))
e.remove(e.select("sup"===t.inline?"sub":"sup",r),true)}}
var Ok=function(e,t,n,r){xk(t,(function(t){xk(e.dom.select(t.inline,r),(function(r){if(!$S(r))return
hk(e,t,n,r,t.exact?r:null)}))
ZS(e.dom,t,r)}))}
var Tk=function(e,t,n,r,o){if(dS(e,o.parentNode,n,r)&&hk(e,t,r,o))return
t.merge_with_parents&&e.dom.getParent(o.parentNode,(function(a){if(dS(e,a,n,r)){hk(e,t,r,o)
return true}}))}
var Ek=dn.each
var _k=function(e,t){return Ne(e,t)}
var Lk=function(e){return e&&1===e.nodeType&&!lg(e)&&!jm(e)&&!$r(e)}
var Dk=function(e,t,n,r){if(Yv(e)&&Ng(t)){var o=We(We({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}})
var a=oS(yn.fromDom(n),(function(e){return jm(e.dom)}))
return Ne(o,r)&&Mi(yn.fromDom(n.parentNode),false)&&!a}return false}
var Ak=function(e,t,n,r){var o=e.formatter.get(t)
var a=o[0]
var i=!r&&e.selection.isCollapsed()
var u=e.dom
var c=e.selection
var s=function(e,t){t=t||a
if(e){t.onformat&&t.onformat(e,t,n,r)
Ek(t.styles,(function(t,r){u.setStyle(e,r,Sg(t,n))}))
if(t.styles){var o=u.getAttrib(e,"style")
o&&u.setAttrib(e,"data-mce-style",o)}Ek(t.attributes,(function(t,r){u.setAttrib(e,r,Sg(t,n))}))
Ek(t.classes,(function(t){t=Sg(t,n)
u.hasClass(e,t)||u.addClass(e,t)}))}}
var l=function(e,t){var n=false
if(!Mg(a))return false
Ek(e,(function(e){if("collapsed"in e&&e.collapsed!==i)return
if(u.is(t,e.selector)&&!jm(t)){s(t,e)
n=true
return false}}))
return n}
var f=function(r,i,u,c){var f=[]
var v=true
var d=a.inline||a.block
var m=r.create(d)
s(m)
Qg(r,i,(function(i){var u
var g=function(i){var h=false
var p=v
var b=i.nodeName.toLowerCase()
var y=i.parentNode.nodeName.toLowerCase()
if(Vr(i)&&r.getContentEditable(i)){p=v
v="true"===r.getContentEditable(i)
h=true}if(to(i)&&!Dk(e,a,i,y)){u=null
Ag(a)&&r.remove(i)
return}if(a.wrapper&&dS(e,i,t,n)){u=null
return}if(v&&!h&&Ag(a)&&!a.wrapper&&yg(e,b)&&wg(e,y,d)){var w=r.rename(i,d)
s(w)
f.push(w)
u=null
return}if(Mg(a)){var x=l(o,i)
Yr(i)&&Rg(r,i.parentNode)&&l(o,i.parentNode)
if(!_k(a,"inline")||x){u=null
return}}if(!v||h||!wg(e,d,b)||!wg(e,y,d)||!c&&3===i.nodeType&&1===i.nodeValue.length&&65279===i.nodeValue.charCodeAt(0)||jm(i)||_k(a,"inline")&&r.isBlock(i)){u=null
Ek(dn.grep(i.childNodes),g)
h&&(v=p)
u=null}else{if(!u){u=r.clone(m,false)
i.parentNode.insertBefore(u,i)
f.push(u)}u.appendChild(i)}}
Ek(i,g)}))
true===a.links&&Ek(f,(function(e){var t=function(e){"A"===e.nodeName&&s(e,a)
Ek(dn.grep(e.childNodes),t)}
t(e)}))
Ek(f,(function(i){var u=function(e){var t=0
Ek(e.childNodes,(function(e){Cg(e)||lg(e)||t++}))
return t}
var c=function(e){var t=false
Ek(e.childNodes,(function(e){if(Lk(e)){t=e
return false}}))
return t}
var l=function(e){var t
var n=c(e)
if(n&&!lg(n)&&fS(r,n,a)){t=r.clone(n,false)
s(t)
r.replace(t,e,true)
r.remove(n,true)}return t||e}
var v=u(i)
if((f.length>1||!r.isBlock(i))&&0===v){r.remove(i,true)
return}if(Ng(a)||a.wrapper){a.exact||1!==v||(i=l(i))
Ok(e,o,n,i)
Tk(e,a,t,n,i)
Sk(r,a,n,i)
Ck(r,a,n,i)
kk(r,a,n,i)
KS(r,a,n,i)}}))}
if("false"===u.getContentEditable(c.getNode())){r=c.getNode()
for(var v=0,d=o.length;v<d;v++){var m=o[v]
if(m.ceFalseOverride&&Mg(m)&&u.is(r,m.selector)){s(r,m)
return}}return}if(a){if(r)if(gg(r)){if(!l(o,r)){var g=u.createRng()
g.setStartBefore(r)
g.setEndAfter(r)
f(u,Zg(e,g,o),null,true)}}else f(u,r,null,true)
else if(i&&Ng(a)&&!ih(e).length)NS(e,t,n)
else{var h=c.getNode()
var p=o[0]
e.settings.forced_root_block||!p.defaultBlock||u.getParent(h,u.isBlock)||Ak(e,p.defaultBlock)
c.setRng(dC(c.getRng()))
gh(c,true,(function(t){mh(e,(function(t,n){var r=n?t:Zg(e,t,o)
f(u,r)}))}))
pg(u,c,c.getRng())
e.nodeChanged()}WS(t,e)}}
var Mk=function(e,t){var n=Fs({})
e.set({})
t.on("NodeChange",(function(r){Nk(t,r.element,n,e.get())}))}
var Nk=function(e,t,n,r){var o=we(n.get())
var a={}
var i={}
var u=ne(_g(e.dom,t),(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}))
Ce(r,(function(t,n){dn.each(u,(function(r){if(e.formatter.matchNode(r,n,{},t.similar)){if(-1===o.indexOf(n)){Q(t.callbacks,(function(e){e(true,{node:r,format:n,parents:u})}))
a[n]=t.callbacks}i[n]=t.callbacks
return false}if(sS(e,r,n))return false}))}))
var c=Rk(n.get(),i,t,u)
n.set(We(We({},a),c))}
var Rk=function(e,t,n,r){return Ee(e,(function(e,o){if(Me(t,o))return true
Q(e,(function(e){e(false,{node:n,format:o,parents:r})}))
return false})).t}
var zk=function(e,t,n,r){var o=e.get()
Q(t.split(","),(function(e){o[e]||(o[e]={similar:r,callbacks:[]})
o[e].callbacks.push(n)}))
e.set(o)}
var Bk=function(e,t,n){var r=e.get()
Q(t.split(","),(function(e){r[e].callbacks=ne(r[e].callbacks,(function(e){return e!==n}))
0===r[e].callbacks.length&&delete r[e]}))
e.set(r)}
var Pk=function(e,t,n,r,o){null===t.get()&&Mk(t,e)
zk(t,n,r,o)
return{unbind:function(){return Bk(t,n,r)}}}
var Ik=function(e,t,n,r){var o=e.formatter.get(t)
!mS(e,t,n,r)||"toggle"in o[0]&&!o[0].toggle?Ak(e,t,n,r):wk(e,t,n,r)}
var Hk=function(e,t){var n=t||document
var r=n.createDocumentFragment()
Q(e,(function(e){r.appendChild(e.dom)}))
return yn.fromDom(r)}
var Fk=function(e,t,n){return{element:e,width:t,rows:n}}
var Vk=function(e,t){return{element:e,cells:t}}
var jk=function(e,t){return{x:e,y:t}}
var Uk=function(e,t){var n=parseInt(fo(e,t),10)
return isNaN(n)?1:n}
var Wk=function(e,t,n,r,o){var a=Uk(o,"rowspan")
var i=Uk(o,"colspan")
var u=e.rows
for(var c=n;c<n+a;c++){u[c]||(u[c]=Vk(Rl(r),[]))
for(var s=t;s<t+i;s++){var l=u[c].cells
l[s]=c===n&&s===t?o:Nl(o)}}}
var qk=function(e,t,n){var r=e.rows
var o=r[n]?r[n].cells:[]
return!!o[t]}
var $k=function(e,t,n){while(qk(e,t,n))t++
return t}
var Gk=function(e){return oe(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)}
var Xk=function(e,t){var n=e.rows
for(var r=0;r<n.length;r++){var o=n[r].cells
for(var a=0;a<o.length;a++)if(Mn(o[a],t))return W.some(jk(a,r))}return W.none()}
var Kk=function(e,t,n,r,o){var a=[]
var i=e.rows
for(var u=n;u<=o;u++){var c=i[u].cells
var s=t<r?c.slice(t,r+1):c.slice(r,t+1)
a.push(Vk(i[u].element,s))}return a}
var Zk=function(e,t,n){var r=t.x,o=t.y
var a=n.x,i=n.y
var u=o<i?Kk(e,r,o,a,i):Kk(e,r,i,a,o)
return Fk(e.element,Gk(u),u)}
var Yk=function(e,t){var n=Nl(e.element)
var r=yn.fromTag("tbody")
Cr(r,t)
yr(n,r)
return n}
var Jk=function(e){return J(e.rows,(function(e){var t=J(e.cells,(function(e){var t=Rl(e)
go(t,"colspan")
go(t,"rowspan")
return t}))
var n=Nl(e.element)
Cr(n,t)
return n}))}
var Qk=function(e){var t=Fk(Nl(e),0,[])
Q(gl(e,"tr"),(function(e,n){Q(gl(e,"td,th"),(function(r,o){Wk(t,$k(t,o,n),n,e,r)}))}))
return Fk(t.element,Gk(t.rows),t.rows)}
var eO=function(e){return Yk(e,Jk(e))}
var tO=function(e,t,n){return Xk(e,t).bind((function(t){return Xk(e,n).map((function(n){return Zk(e,t,n)}))}))}
var nO=function(e){return ie(e,(function(e){return"ul"===Bn(e)||"ol"===Bn(e)}))}
var rO=function(e,t){return ie(e,(function(e){return"li"===Bn(e)&&fh(e,t)})).fold(A([]),(function(t){return nO(e).map((function(e){var t=yn.fromTag(Bn(e))
var n=_e(Co(e),(function(e,t){return st(t,"list-style")}))
bo(t,n)
return[yn.fromTag("li"),t]})).getOr([])}))}
var oO=function(e,t){var n=oe(t,(function(e,t){yr(t,e)
return t}),e)
return t.length>0?Hk([n]):n}
var aO=function(e){return Na(e)?Xn(e).filter(Ma).fold(A([]),(function(t){return[e,t]})):Ma(e)?[e]:[]}
var iO=function(e,t){var n=yn.fromDom(t.commonAncestorContainer)
var r=gw(n,e)
var o=ne(r,(function(e){return La(e)||Ta(e)}))
var a=rO(r,t)
var i=o.concat(a.length?a:aO(n))
return J(i,Nl)}
var uO=function(){return Hk([])}
var cO=function(e,t){return oO(yn.fromDom(t.cloneContents()),iO(e,t))}
var sO=function(e,t){return ea(t,"table",N(Mn,e))}
var lO=function(e,t){return sO(e,t[0]).bind((function(e){var n=t[0]
var r=t[t.length-1]
var o=Qk(e)
return tO(o,n,r).map((function(e){return Hk([eO(e)])}))})).getOrThunk(uO)}
var fO=function(e,t){return t.length>0&&t[0].collapsed?uO():cO(e,t[0])}
var vO=function(e,t){var n=ah(t,e)
return n.length>0?lO(e,n):fO(e,t)}
var dO=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")}
var mO=function(e,t){return t>=0&&t<e.length&&dg(e.charAt(t))}
var gO=function(e,t){var n=Wa(e.innerText)
return t?dO(n):n}
var hO=function(e){return e.map((function(e){return e.nodeName})).getOr("div").toLowerCase()}
var pO=function(e){return W.from(e.selection.getRng()).map((function(t){var n=W.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock))
var r=e.getBody()
var o=hO(n)
var a=Qt.browser.isIE()&&"pre"!==o
var i=e.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents())
var u=gO(i,a)
var c=Wa(i.textContent)
e.dom.remove(i)
if(mO(c,0)||mO(c,c.length-1)){var s=n.getOr(r)
var l=gO(s,a)
var f=l.indexOf(u)
if(-1===f)return u
var v=mO(l,f-1)
var d=mO(l,f+u.length)
return(v?" ":"")+u+(d?" ":"")}return u})).getOr("")}
var bO=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body")
var o=e.selection.getSel()
var a=ly(e,eh(o))
var i=t.contextual?vO(yn.fromDom(e.getBody()),a).dom:n.cloneContents()
i&&r.appendChild(i)
return e.selection.serializer.serialize(r,t)}
var yO=function(e,t,n){void 0===n&&(n={})
n.get=true
n.format=t
n.selection=true
n=e.fire("BeforeGetContent",n)
if(n.isDefaultPrevented()){e.fire("GetContent",n)
return n.content}if("text"===n.format)return pO(e)
n.getInner=true
var r=bO(e,n)
if("tree"===n.format)return r
n.content=e.selection.isCollapsed()?"":r
e.fire("GetContent",n)
return n.content}
var wO=0,xO=1,CO=2
var SO=function(e,t){var n=e.length+t.length+2
var r=new Array(n)
var o=new Array(n)
var a=function(e,t,n){return{start:e,end:t,diag:n}}
var i=function(n,r,o,a,u){var s=c(n,r,o,a)
if(null===s||s.start===r&&s.diag===r-a||s.end===n&&s.diag===n-o){var l=n
var f=o
while(l<r||f<a)if(l<r&&f<a&&e[l]===t[f]){u.push([wO,e[l]]);++l;++f}else if(r-n>a-o){u.push([CO,e[l]]);++l}else{u.push([xO,t[f]]);++f}}else{i(n,s.start,o,s.start-s.diag,u)
for(var v=s.start;v<s.end;++v)u.push([wO,e[v]])
i(s.end,r,s.end-s.diag,a,u)}}
var u=function(n,r,o,i){var u=n
while(u-r<i&&u<o&&e[u]===t[u-r])++u
return a(n,u,r)}
var c=function(n,a,i,c){var s=a-n
var l=c-i
if(0===s||0===l)return null
var f=s-l
var v=l+s
var d=(v%2===0?v:v+1)/2
r[1+d]=n
o[1+d]=a+1
var m,g,h,p,b
for(m=0;m<=d;++m){for(g=-m;g<=m;g+=2){h=g+d
g===-m||g!==m&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1
p=r[h]
b=p-n+i-g
while(p<a&&b<c&&e[p]===t[b]){r[h]=++p;++b}if(f%2!==0&&f-m<=g&&g<=f+m&&o[h-f]<=r[h])return u(o[h-f],g+n-i,a,c)}for(g=f-m;g<=f+m;g+=2){h=g+d-f
g===f-m||g!==f+m&&o[h+1]<=o[h-1]?o[h]=o[h+1]-1:o[h]=o[h-1]
p=o[h]-1
b=p-n+i-g
while(p>=n&&b>=i&&e[p]===t[b]){o[h]=p--
b--}if(f%2===0&&-m<=g&&g<=m&&o[h]<=r[h+f])return u(o[h],g+n-i,a,c)}}}
var s=[]
i(0,e.length,0,t.length,s)
return s}
var kO=function(e){if(Vr(e))return e.outerHTML
if(Yr(e))return ou.encodeRaw(e.data,false)
if(Jr(e))return"\x3c!--"+e.data+"--\x3e"
return""}
var OO=function(e){var t
var n=document.createElement("div")
var r=document.createDocumentFragment()
e&&(n.innerHTML=e)
while(t=n.firstChild)r.appendChild(t)
return r}
var TO=function(e,t,n){var r=OO(t)
if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n]
o.parentNode.insertBefore(r,o)}else e.appendChild(r)}
var EO=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t]
n.parentNode.removeChild(n)}}
var _O=function(e,t){var n=0
Q(e,(function(e){if(e[0]===wO)n++
else if(e[0]===xO){TO(t,e[1],n)
n++}else e[0]===CO&&EO(t,n)}))}
var LO=function(e){return ne(J(be(e.childNodes),kO),(function(e){return e.length>0}))}
var DO=function(e,t){var n=J(be(t.childNodes),kO)
_O(SO(n,e),t)
return t}
var AO=Fs(W.none())
var MO=function(){return AO.get().getOrThunk((function(){var e=document.implementation.createHTMLDocument("undo")
AO.set(W.some(e))
return e}))}
var NO=function(e){return-1!==e.indexOf("</iframe>")}
var RO=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}
var zO=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}
var BO=function(e){var t=LO(e.getBody())
var n=se(t,(function(t){var n=Ly(e.serializer,t)
return n.length>0?[n]:[]}))
var r=n.join("")
return NO(r)?RO(n):zO(r)}
var PO=function(e,t,n){"fragmented"===t.type?DO(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"})
e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)}
var IO=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content}
var HO=function(e){var t=yn.fromTag("body",MO())
Al(t,IO(e))
Q(gl(t,"*[data-mce-bogus]"),Or)
return Dl(t)}
var FO=function(e,t){return IO(e)===IO(t)}
var VO=function(e,t){return HO(e)===HO(t)}
var jO=function(e,t){return!(!e||!t)&&(!!FO(e,t)||VO(e,t))}
var UO=function(e){return 0===e.get()}
var WO=function(e,t,n){UO(n)&&(e.typing=t)}
var qO=function(e,t){if(e.typing){WO(e,false,t)
e.add()}}
var $O=function(e){if(e.typing){e.typing=false
e.add()}}
var GO=function(e,t,n){UO(t)&&n.set(W.some(nv(e.selection)))}
var XO=function(e,t,n,r,o,a,i){var u=BO(e)
a=a||{}
a=dn.extend(a,u)
if(false===UO(r)||e.removed)return null
var c=t.data[n.get()]
if(e.fire("BeforeAddUndo",{level:a,lastLevel:c,originalEvent:i}).isDefaultPrevented())return null
if(c&&jO(c,a))return null
t.data[n.get()]&&o.get().each((function(e){t.data[n.get()].beforeBookmark=e}))
var s=ud(e)
if(s&&t.data.length>s){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1]
t.data.length--
n.set(t.data.length)}a.bookmark=nv(e.selection)
n.get()<t.data.length-1&&(t.data.length=n.get()+1)
t.data.push(a)
n.set(t.data.length-1)
var f={level:a,lastLevel:c,originalEvent:i}
if(n.get()>0){e.setDirty(true)
e.fire("AddUndo",f)
e.fire("change",f)}else e.fire("AddUndo",f)
return a}
var KO=function(e,t,n){t.data=[]
n.set(0)
t.typing=false
e.fire("ClearUndos")}
var ZO=function(e,t,n,r,o){if(t.transact(r)){var a=t.data[n.get()].bookmark
var i=t.data[n.get()-1]
PO(e,i,true)
t.transact(o)&&(t.data[n.get()-1].beforeBookmark=a)}}
var YO=function(e,t,n){var r
if(t.get()<n.length-1){t.set(t.get()+1)
r=n[t.get()]
PO(e,r,false)
e.setDirty(true)
e.fire("Redo",{level:r})}return r}
var JO=function(e,t,n,r){var o
if(t.typing){t.add()
t.typing=false
WO(t,false,n)}if(r.get()>0){r.set(r.get()-1)
o=t.data[r.get()]
PO(e,o,true)
e.setDirty(true)
e.fire("Undo",{level:o})}return o}
var QO=function(e){e.clear()
e.add()}
var eT=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!jO(BO(e),t.data[0])}
var tT=function(e,t){return t.get()<e.data.length-1&&!e.typing}
var nT=function(e,t,n){qO(e,t)
e.beforeChange()
e.ignore(n)
return e.add()}
var rT=function(e,t){try{e.set(e.get()+1)
t()}finally{e.set(e.get()-1)}}
var oT=function(e,t){var n=e.dom
var r=O(t)?t:e.getBody()
S(e.hasVisual)&&(e.hasVisual=md(e))
Q(n.select("table,a",r),(function(t){switch(t.nodeName){case"TABLE":var r=gd(e)
var o=n.getAttrib(t,"border")
o&&"0"!==o||!e.hasVisual?n.removeClass(t,r):n.addClass(t,r)
break
case"A":if(!n.getAttrib(t,"href")){var a=n.getAttrib(t,"name")||t.id
var i=hd(e)
a&&e.hasVisual?n.addClass(t,i):n.removeClass(t,i)}}}))
e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})}
var aT=function(e){return{undoManager:{beforeChange:function(t,n){return GO(e,t,n)},addUndoLevel:function(t,n,r,o,a,i){return XO(e,t,n,r,o,a,i)},undo:function(t,n,r){return JO(e,t,n,r)},redo:function(t,n){return YO(e,t,n)},clear:function(t,n){return KO(e,t,n)},reset:function(e){return QO(e)},hasUndo:function(t,n){return eT(e,t,n)},hasRedo:function(e,t){return tT(e,t)},transact:function(e,t,n){return nT(e,t,n)},ignore:function(e,t){return rT(e,t)},extra:function(t,n,r,o){return ZO(e,t,n,r,o)}},formatter:{match:function(t,n,r){return mS(e,t,n,r)},matchAll:function(t,n){return gS(e,t,n)},matchNode:function(t,n,r,o){return dS(e,t,n,r,o)},canApply:function(t){return pS(e,t)},closest:function(t){return hS(e,t)},apply:function(t,n,r){return Ak(e,t,n,r)},remove:function(t,n,r,o){return wk(e,t,n,r,o)},toggle:function(t,n,r){return Ik(e,t,n,r)},formatChanged:function(t,n,r,o){return Pk(e,t,n,r,o)}},editor:{getContent:function(t,n){return Ny(e,t,n)},setContent:function(t,n){return rS(e,t,n)},insertContent:function(t,n){return GC(e,t,n)},addVisual:function(t){return oT(e,t)}},selection:{getContent:function(t,n){return yO(e,t,n)}},raw:{getModel:function(){return W.none()}}}}
var iT=function(e){var t=function(e){return y(e)?e:{}}
var n=z("Unimplemented feature for rtc")
var r=e.undoManager,o=e.formatter,a=e.editor,i=e.selection,u=e.raw
var c=_
return{undoManager:{beforeChange:c,addUndoLevel:n,undo:function(){return r.undo()},redo:function(){return r.redo()},clear:function(){return r.clear()},reset:function(){return r.reset()},hasUndo:function(){return r.hasUndo()},hasRedo:function(){return r.hasRedo()},transact:function(e,t,n){return r.transact(n)},ignore:function(e,t){return r.ignore(t)},extra:function(e,t,n,o){return r.extra(n,o)}},formatter:{match:function(e,n,r){return o.match(e,t(n))},matchAll:n,matchNode:n,canApply:function(e){return o.canApply(e)},closest:function(e){return o.closest(e)},apply:function(e,n,r){return o.apply(e,t(n))},remove:function(e,n,r,a){return o.remove(e,t(n))},toggle:function(e,n,r){return o.toggle(e,t(n))},formatChanged:function(e,t,n,r){return o.formatChanged(t,n,r)}},editor:{getContent:function(e,t){return a.getContent(e)},setContent:function(e,t){return a.setContent(e,t)},insertContent:function(e,t){return a.insertContent(e)},addVisual:c},selection:{getContent:function(e,t){return i.getContent(t)}},raw:{getModel:function(){return W.some(u.getRawModel())}}}}
var uT=function(){var e=A(null)
var t=A("")
return{undoManager:{beforeChange:_,addUndoLevel:e,undo:e,redo:e,clear:_,reset:_,hasUndo:I,hasRedo:I,transact:e,ignore:_,extra:_},formatter:{match:I,matchAll:A([]),matchNode:I,canApply:I,closest:t,apply:_,remove:_,toggle:_,formatChanged:A({unbind:_})},editor:{getContent:t,setContent:t,insertContent:_,addVisual:_},selection:{getContent:t},raw:{getModel:A(W.none())}}}
var cT=function(e){return Me(e.plugins,"rtc")}
var sT=function(e){return Ae(e.plugins,"rtc").bind((function(e){return W.from(e.setup)}))}
var lT=function(e){var t=e
return sT(e).fold((function(){t.rtcInstance=aT(e)
return W.none()}),(function(e){return W.some(e().then((function(e){t.rtcInstance=iT(e)
return e.rtc.isRemote}),(function(e){t.rtcInstance=uT()
return oa.reject(e)})))}))}
var fT=function(e){return e.rtcInstance?e.rtcInstance:aT(e)}
var vT=function(e){var t=e.rtcInstance
if(t)return t
throw new Error("Failed to get RTC instance not yet initialized.")}
var dT=function(e,t,n){vT(e).undoManager.beforeChange(t,n)}
var mT=function(e,t,n,r,o,a,i){return vT(e).undoManager.addUndoLevel(t,n,r,o,a,i)}
var gT=function(e,t,n,r){return vT(e).undoManager.undo(t,n,r)}
var hT=function(e,t,n){return vT(e).undoManager.redo(t,n)}
var pT=function(e,t,n){vT(e).undoManager.clear(t,n)}
var bT=function(e,t){vT(e).undoManager.reset(t)}
var yT=function(e,t,n){return vT(e).undoManager.hasUndo(t,n)}
var wT=function(e,t,n){return vT(e).undoManager.hasRedo(t,n)}
var xT=function(e,t,n,r){return vT(e).undoManager.transact(t,n,r)}
var CT=function(e,t,n){vT(e).undoManager.ignore(t,n)}
var ST=function(e,t,n,r,o){vT(e).undoManager.extra(t,n,r,o)}
var kT=function(e,t,n,r){return vT(e).formatter.match(t,n,r)}
var OT=function(e,t,n){return vT(e).formatter.matchAll(t,n)}
var TT=function(e,t,n,r,o){return vT(e).formatter.matchNode(t,n,r,o)}
var ET=function(e,t){return vT(e).formatter.canApply(t)}
var _T=function(e,t){return vT(e).formatter.closest(t)}
var LT=function(e,t,n,r){vT(e).formatter.apply(t,n,r)}
var DT=function(e,t,n,r,o){vT(e).formatter.remove(t,n,r,o)}
var AT=function(e,t,n,r){vT(e).formatter.toggle(t,n,r)}
var MT=function(e,t,n,r,o){void 0===o&&(o=false)
return vT(e).formatter.formatChanged(t,n,r,o)}
var NT=function(e,t,n){return fT(e).editor.getContent(t,n)}
var RT=function(e,t,n){return fT(e).editor.setContent(t,n)}
var zT=function(e,t,n){return fT(e).editor.insertContent(t,n)}
var BT=function(e,t,n){return vT(e).selection.getContent(t,n)}
var PT=function(e,t){return vT(e).editor.addVisual(t)}
var IT=function(e,t){void 0===t&&(t={})
var n=t.format?t.format:"html"
return BT(e,n,t)}
var HT=function(e){if(0===e.dom.length){kr(e)
return W.none()}return W.some(e)}
var FT=function(e,t){return e.filter((function(e){return Th.isBookmarkNode(e.dom)})).bind(t?Jn:Yn)}
var VT=function(e,t,n,r){var o=e.dom
var a=t.dom
var i=r?o.length:a.length
if(r){nx(o,a,false,!r)
n.setStart(a,i)}else{nx(a,o,false,!r)
n.setEnd(a,i)}}
var jT=function(e,t){Xn(e).each((function(n){var r=e.dom
t&&Fw(n,Cf(r,0))?ex(r,0):!t&&jw(n,Cf(r,r.length))&&tx(r,r.length)}))}
var UT=function(e,t,n,r){e.bind((function(e){var o=r?tx:ex
o(e.dom,r?e.dom.length:0)
return t.filter(Vn).map((function(t){return VT(e,t,n,r)}))})).orThunk((function(){var e=FT(t,r).or(t).filter(Vn)
return e.map((function(e){return jT(e,r)}))}))}
var WT=function(e,t){var n=W.from(t.firstChild).map(yn.fromDom)
var r=W.from(t.lastChild).map(yn.fromDom)
e.deleteContents()
e.insertNode(t)
var o=n.bind(Yn).filter(Vn).bind(HT)
var a=r.bind(Jn).filter(Vn).bind(HT)
UT(o,n,e,true)
UT(a,r,e,false)
e.collapse(false)}
var qT=function(e,t){return We(We({format:"html"},e),{set:true,selection:true,content:t})}
var $T=function(e,t){if("raw"!==t.format){var n=e.selection.getRng()
var r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)
var o=r?{context:r.nodeName.toLowerCase()}:{}
var a=e.parser.parse(t.content,We(We({isRootContent:true,forced_root_block:false},o),t))
return Iy({validate:e.validate},e.schema).serialize(a)}return t.content}
var GT=function(e,t,n){void 0===n&&(n={})
var r=qT(n,t)
if(!r.no_events){r=e.fire("BeforeSetContent",r)
if(r.isDefaultPrevented()){e.fire("SetContent",r)
return}}n.content=$T(e,r)
var o=e.selection.getRng()
WT(o,o.createContextualFragment(n.content))
e.selection.setRng(o)
Vp(e,o)
r.no_events||e.fire("SetContent",r)}
var XT=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=ne(e[t],(function(e){return e!==n}))
0===r.length?delete e[t]:e[t]=r}}
function KT(e,t){var n
var r
return{selectorChangedWithUnbind:function(o,a){if(!n){n={}
r={}
t.on("NodeChange",(function(t){var o=t.element,a=e.getParents(o,null,e.getRoot()),i={}
dn.each(n,(function(t,n){dn.each(a,(function(o){if(e.is(o,n)){if(!r[n]){dn.each(t,(function(e){e(true,{node:o,selector:n,parents:a})}))
r[n]=t}i[n]=t
return false}}))}))
dn.each(r,(function(e,t){if(!i[t]){delete r[t]
dn.each(e,(function(e){e(false,{node:o,selector:t,parents:a})}))}}))}))}n[o]||(n[o]=[])
n[o].push(a)
return{unbind:function(){XT(n,o,a)
XT(r,o,a)}}}}}var ZT=function(e){return!!e.select}
var YT=function(e){return!!(e&&e.ownerDocument)&&zn(yn.fromDom(e.ownerDocument),yn.fromDom(e))}
var JT=function(e){return!!e&&(!!ZT(e)||YT(e.startContainer)&&YT(e.endContainer))}
var QT=function(e,t,n,r){var o
var a
var i=KT(e,r).selectorChangedWithUnbind
var u=function(t,n){var o=e.createRng()
if(O(t)&&O(n)){o.setStart(t,n)
o.setEnd(t,n)
y(o)
h(false)}else{vh(e,o,r.getBody(),true)
y(o)}}
var c=function(e){return IT(r,e)}
var s=function(e,t){return GT(r,e,t)}
var l=function(e){return oy(r.getBody(),b(),e)}
var f=function(e){return ay(r.getBody(),b(),e)}
var v=function(e,t){return N.getBookmark(e,t)}
var d=function(e){return N.moveToBookmark(e)}
var m=function(t,n){sy(e,t,n).each(y)
return t}
var g=function(){var e=b(),t=p()
if(!e||e.item)return false
if(e.compareEndPoints)return 0===e.compareEndPoints("StartToEnd",e)
return!t||e.collapsed}
var h=function(e){var t=b()
t.collapse(!!e)
y(t)}
var p=function(){return t.getSelection?t.getSelection():t.document.selection}
var b=function(){var n,i,u
var c=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}
var s=t.document
if(void 0!==r.bookmark&&false===Jb(r)){var l=kb(r)
if(l.isSome())return l.map((function(e){return ly(r,[e])[0]})).getOr(s.createRange())}try{if((n=p())&&!Fr(n.anchorNode)){i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():s.createRange()
i=ly(r,[i])[0]}}catch(e){}i||(i=s.createRange?s.createRange():s.body.createTextRange())
if(i.setStart&&9===i.startContainer.nodeType&&i.collapsed){u=e.getRoot()
i.setStart(u,0)
i.setEnd(u,0)}if(o&&a)if(0===c(i.START_TO_START,i,o)&&0===c(i.END_TO_END,i,o))i=a
else{o=null
a=null}return i}
var y=function(e,t){var n
if(!JT(e))return
var i=ZT(e)?e:null
if(i){a=null
try{i.select()}catch(e){}return}var u=p()
var c=r.fire("SetSelectionRange",{range:e,forward:t})
e=c.range
if(u){a=e
try{u.removeAllRanges()
u.addRange(e)}catch(e){}if(false===t&&u.extend){u.collapse(e.endContainer,e.endOffset)
u.extend(e.startContainer,e.startOffset)}o=u.rangeCount>0?u.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&u.setBaseAndExtent&&!Qt.ie&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){n=e.startContainer.childNodes[e.startOffset]
if(n&&"IMG"===n.tagName){u.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset)
u.anchorNode===e.startContainer&&u.focusNode===e.endContainer||u.setBaseAndExtent(n,0,n,1)}}r.fire("AfterSetSelectionRange",{range:e,forward:t})}
var w=function(t){s(e.getOuterHTML(t))
return t}
var x=function(){return uy(r.getBody(),b())}
var C=function(t,n){return cy(e,b(),t,n)}
var S=function(){var t=p()
var n=null===t||void 0===t?void 0:t.anchorNode
var r=null===t||void 0===t?void 0:t.focusNode
if(!t||!n||!r||Fr(n)||Fr(r))return true
var o=e.createRng()
o.setStart(n,t.anchorOffset)
o.collapse(true)
var a=e.createRng()
a.setStart(r,t.focusOffset)
a.collapse(true)
return o.compareBoundaryPoints(o.START_TO_START,a)<=0}
var k=function(){var t=b()
var n=p()
if(!nh(n)&&dh(r)){var o=up(e,t)
o.each((function(e){y(e,S())}))
return o.getOr(t)}return t}
var T=function(e,t){i(e,t)
return M}
var E=function(){var t
var n=e.getRoot()
while(n&&"BODY"!==n.nodeName){if(n.scrollHeight>n.clientHeight){t=n
break}n=n.parentNode}return t}
var _=function(e,t){return Fp(r,e,t)}
var L=function(e,t){return y(Xh(e,t,r.getDoc()))}
var D=function(){var e=b()
return e.collapsed?Cf.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()}
var A=function(){t=o=a=null
R.destroy()}
var M={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:h,setCursorLocation:u,getContent:c,setContent:s,getBookmark:v,moveToBookmark:d,select:m,isCollapsed:g,isForward:S,setNode:w,getNode:x,getSel:p,setRng:y,getRng:b,getStart:l,getEnd:f,getSelectedBlocks:C,normalize:k,selectorChanged:T,selectorChangedWithUnbind:i,getScrollContainer:E,scrollIntoView:_,placeCaretAt:L,getBoundingClientRect:D,destroy:A}
var N=Th(M)
var R=Uh(M,r)
M.bookmarkManager=N
M.controlSelection=R
return M}
var eE=function(e,t){Q(t,(function(t){e.attr(t,null)}))}
var tE=function(e,t,n){e.addNodeFilter("font",(function(e){Q(e,(function(e){var r=t.parse(e.attr("style"))
var o=e.attr("color")
var a=e.attr("face")
var i=e.attr("size")
o&&(r.color=o)
a&&(r["font-family"]=a)
i&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1])
e.name="span"
e.attr("style",t.serialize(r))
eE(e,["color","face","size"])}))}))}
var nE=function(e,t){e.addNodeFilter("strike",(function(e){Q(e,(function(e){var n=t.parse(e.attr("style"))
n["text-decoration"]="line-through"
e.name="span"
e.attr("style",t.serialize(n))}))}))}
var rE=function(e,t){var n=pu()
t.convert_fonts_to_spans&&tE(e,n,dn.explode(t.font_size_legacy_values))
nE(e,n)}
var oE=function(e,t){t.inline_styles&&rE(e,t)}
var aE=function(e){return new oa((function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")}
try{var o=new XMLHttpRequest
o.open("GET",e,true)
o.responseType="blob"
o.onload=function(){200===o.status?t(o.response):r()}
o.onerror=r
o.send()}catch(e){r()}}))}
var iE=function(e){var t
var n=decodeURIComponent(e).split(",")
var r=/data:([^;]+)/.exec(n[0])
r&&(t=r[1])
return{type:t,data:n[1]}}
var uE=function(e,t){var n
try{n=atob(t)}catch(e){return W.none()}var r=new Uint8Array(n.length)
for(var o=0;o<r.length;o++)r[o]=n.charCodeAt(o)
return W.some(new Blob([r],{type:e}))}
var cE=function(e){return new oa((function(t){var n=iE(e),r=n.type,o=n.data
uE(r,o).fold((function(){return t(new Blob([]))}),t)}))}
var sE=function(e){if(0===e.indexOf("blob:"))return aE(e)
if(0===e.indexOf("data:"))return cE(e)
return null}
var lE=function(e){return new oa((function(t){var n=new FileReader
n.onloadend=function(){t(n.result)}
n.readAsDataURL(e)}))}
var fE=0
var vE=function(e){return(e||"blobid")+fE++}
var dE=function(e,t,n,r){var o,a
if(0===t.src.indexOf("blob:")){a=e.getByUri(t.src)
a?n({image:t,blobInfo:a}):sE(t.src).then((function(r){lE(r).then((function(i){o=iE(i).data
a=e.create(vE(),r,o)
e.add(a)
n({image:t,blobInfo:a})}))}),(function(e){r(e)}))
return}var i=iE(t.src),u=i.data,c=i.type
o=u
a=e.getByData(o,c)
a?n({image:t,blobInfo:a}):sE(t.src).then((function(r){a=e.create(vE(),r,o)
e.add(a)
n({image:t,blobInfo:a})}),(function(e){r(e)}))}
var mE=function(e){return e?be(e.getElementsByTagName("img")):[]}
var gE=function(e,t){var n={}
var r=function(r,o){o||(o=H)
var a=ne(mE(r),(function(t){var n=t.src
if(!Qt.fileApi)return false
if(t.hasAttribute("data-mce-bogus"))return false
if(t.hasAttribute("data-mce-placeholder"))return false
if(!n||n===Qt.transparentSrc)return false
if(0===n.indexOf("blob:"))return!e.isUploaded(n)&&o(t)
if(0===n.indexOf("data:"))return o(t)
return false}))
var i=J(a,(function(e){if(void 0!==n[e.src])return new oa((function(t){n[e.src].then((function(n){if("string"===typeof n)return n
t({image:e,blobInfo:n.blobInfo})}))}))
var r=new oa((function(n,r){dE(t,e,n,r)})).then((function(e){delete n[e.image.src]
return e})).catch((function(t){delete n[e.src]
return t}))
n[e.src]=r
return r}))
return oa.all(i)}
return{findAll:r}}
var hE=function(e,t,n,r){var o=e.padd_empty_with_br||t.insert
o&&n[r.name]?r.empty().append(new gy("br",1)).shortEnded=true:r.empty().append(new gy("#text",3)).value=Ha}
var pE=function(e){return bE(e,"#text")&&e.firstChild.value===Ha}
var bE=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t}
var yE=function(e,t){var n=e.getElementRule(t.name)
return n&&n.paddEmpty}
var wE=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return yE(e,t)}))}
var xE=function(e,t){return e&&(t[e.name]||"br"===e.name)}
var CE=function(e){return e.attr("data-mce-bogus")}
var SE=function(e){return e.attr("src")===Qt.transparentSrc||e.attr("data-mce-placeholder")}
var kE=function(e,t){if(t.images_dataimg_filter){var n=new Image
n.src=e.attr("src")
Ce(e.attributes.map,(function(e,t){n.setAttribute(t,e)}))
return t.images_dataimg_filter(n)}return true}
var OE=function(e,t){var n=t.blob_cache
var r=function(e){var r=e.attr("src")
if(SE(e)||CE(e))return
by(r).filter((function(){return kE(e,t)})).bind((function(e){var t=e.type,r=e.data
return W.from(n.getByData(r,t)).orThunk((function(){return uE(t,r).map((function(e){var t=n.create(vE(),e,r)
n.add(t)
return t}))}))})).each((function(t){e.attr("src",t.blobUri())}))}
n&&e.addAttributeFilter("src",(function(e){return Q(e,r)}))}
var TE=function(e,t){var n=e.schema
t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,r,o){var a
var i=e.length
var u
var c=dn.extend({},n.getBlockElements())
var s=n.getNonEmptyElements()
var l,f,v,d
var m=n.getWhiteSpaceElements()
var g,h
c.body=1
for(a=0;a<i;a++){u=e[a]
l=u.parent
if(c[u.parent.name]&&u===l.lastChild){v=u.prev
while(v){d=v.name
if("span"!==d||"bookmark"!==v.attr("data-mce-type")){"br"===d&&(u=null)
break}v=v.prev}if(u){u.remove()
if(wE(n,s,m,l)){g=n.getElementRule(l.name)
g&&(g.removeEmpty?l.remove():g.paddEmpty&&hE(t,o,c,l))}}}else{f=u
while(l&&l.firstChild===f&&l.lastChild===f){f=l
if(c[l.name])break
l=l.parent}if(f===l&&true!==t.padd_empty_with_br){h=new gy("#text",3)
h.value=Ha
u.replace(h)}}}}))
e.addAttributeFilter("href",(function(e){var n=e.length
var r=function(e){var t=e.split(" ").filter((function(e){return e.length>0}))
return t.concat(["noopener"]).sort().join(" ")}
var o=function(e){var t=e?dn.trim(e):""
return/\b(noopener)\b/g.test(t)?t:r(t)}
if(!t.allow_unsafe_link_target)while(n--){var a=e[n]
"a"===a.name&&"_blank"===a.attr("target")&&a.attr("rel",o(a.attr("rel")))}}))
t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){var t,n,r,o,a=e.length
while(a--){o=e[a]
if("a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent
t=o.lastChild
do{n=t.prev
r.insert(t,o)
t=n}while(t)}}}))
t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){var t,n,r=e.length
while(r--){t=e[r]
n=t.parent
if("ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t)
else{var o=new gy("li",1)
o.attr("style","list-style-type: none")
t.wrap(o)}}}))
t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){var t,r,o,a,i,u=e.length
var c=n.getValidClasses()
var s,l
while(u--){t=e[u]
r=t.attr("class").split(" ")
i=""
for(o=0;o<r.length;o++){a=r[o]
l=false
s=c["*"]
s&&s[a]&&(l=true)
s=c[t.name]
!l&&s&&s[a]&&(l=true)
if(l){i&&(i+=" ")
i+=a}}i.length||(i=null)
t.attr("class",i)}}))
OE(e,t)}
var EE=dn.makeMap,_E=dn.each,LE=dn.explode,DE=dn.extend
var AE=function(e,t){void 0===t&&(t=gu())
var n={}
var r=[]
var o={}
var a={}
e=e||{}
e.validate=!("validate"in e)||e.validate
e.root_name=e.root_name||"body"
var i=function(e){var n,r,o,a,i,c,s,l,f
var v,d
var m=EE("tr,td,th,tbody,thead,tfoot,table")
var g=t.getNonEmptyElements()
var h=t.getWhiteSpaceElements()
var p=t.getTextBlockElements()
var b=t.getSpecialElements()
for(n=0;n<e.length;n++){r=e[n]
if(!r.parent||r.fixed)continue
if(p[r.name]&&"li"===r.parent.name){v=r.next
while(v){if(!p[v.name])break
v.name="li"
v.fixed=true
r.parent.insert(v,r.parent)
v=v.next}r.unwrap(r)
continue}a=[r]
for(o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!m[o.name];o=o.parent)a.push(o)
if(o&&a.length>1){a.reverse()
i=c=u(a[0].clone())
for(f=0;f<a.length-1;f++){if(t.isValidChild(c.name,a[f].name)){s=u(a[f].clone())
c.append(s)}else s=c
for(l=a[f].firstChild;l&&l!==a[f+1];){d=l.next
s.append(l)
l=d}c=s}if(wE(t,g,h,i))o.insert(r,a[0],true)
else{o.insert(i,a[0],true)
o.insert(r,i)}o=a[0];(wE(t,g,h,o)||bE(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){v=r.prev
if(v&&("ul"===v.name||"ol"===v.name)){v.append(r)
continue}v=r.next
if(v&&("ul"===v.name||"ol"===v.name)){v.insert(r,v.firstChild,true)
continue}r.wrap(u(new gy("ul",1)))
continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(u(new gy("div",1))):b[r.name]?r.empty().remove():r.unwrap()}}}
var u=function(e){var t,i,u
i=e.name
if(i in n){u=o[i]
u?u.push(e):o[i]=[e]}t=r.length
while(t--){i=r[t].name
if(i in e.attributes.map){u=a[i]
u?u.push(e):a[i]=[e]}}return e}
var c=function(e,t){_E(LE(e),(function(e){var r=n[e]
r||(n[e]=r=[])
r.push(t)}))}
var s=function(){var e=[]
for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]})
return e}
var l=function(e,t){_E(LE(e),(function(e){var n
for(n=0;n<r.length;n++)if(r[n].name===e){r[n].callbacks.push(t)
return}r.push({name:e,callbacks:[t]})}))}
var f=function(){return[].concat(r)}
var v=function(u,c){var s,l,f,v,d,m,g
var h=[]
var p
var b
var y=function(e){return false===e?"":true===e?"p":e}
c=c||{}
o={}
a={}
var w=DE(EE("script,style,head,html,body,title,meta,param"),t.getBlockElements())
var x=t.getNonEmptyElements()
var C=t.children
var S=e.validate
var k="forced_root_block"in c?c.forced_root_block:e.forced_root_block
var O=y(k)
var T=t.getWhiteSpaceElements()
var E=/^[ \t\r\n]+/
var _=/[ \t\r\n]+$/
var L=/[ \t\r\n]+/g
var D=/^[ \t\r\n]+$/
p=T.hasOwnProperty(c.context)||T.hasOwnProperty(e.root_name)
var A=function(){var n,r,o=B.firstChild
var a=function(e){if(e){o=e.firstChild
o&&3===o.type&&(o.value=o.value.replace(E,""))
o=e.lastChild
o&&3===o.type&&(o.value=o.value.replace(_,""))}}
if(!t.isValidChild(B.name,O.toLowerCase()))return
while(o){n=o.next
if(3===o.type||1===o.type&&"p"!==o.name&&!w[o.name]&&!o.attr("data-mce-type"))if(r)r.append(o)
else{r=M(O,1)
r.attr(e.forced_root_block_attrs)
B.insert(r,o)
r.append(o)}else{a(r)
r=null}o=n}a(r)}
var M=function(e,t){var r=new gy(e,t)
var a
if(e in n){a=o[e]
a?a.push(r):o[e]=[r]}return r}
var N=function(e){var n,r,o,a
var i=t.getBlockElements()
for(n=e.prev;n&&3===n.type;){o=n.value.replace(_,"")
if(o.length>0){n.value=o
return}r=n.next
if(r){if(3===r.type&&r.value.length){n=n.prev
continue}if(!i[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev
continue}}a=n.prev
n.remove()
n=a}}
var R=function(e){var t
var n={}
for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t])
return n}
var z=Ey({validate:S,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:R(t.getSelfClosingElements()),cdata:function(e){b.append(M("#cdata",4)).value=e},text:function(e,t){var n
if(!p){e=e.replace(L," ")
xE(b.lastChild,w)&&(e=e.replace(E,""))}if(0!==e.length){n=M("#text",3)
n.raw=!!t
b.append(n).value=e}},comment:function(e){b.append(M("#comment",8)).value=e},pi:function(e,t){b.append(M(e,7)).value=t
N(b)},doctype:function(e){var t=b.append(M("#doctype",10))
t.value=e
N(b)},start:function(e,n,o){var i,u,c,s
var l=S?t.getElementRule(e):{}
if(l){i=M(l.outputName||e,1)
i.attributes=n
i.shortEnded=o
b.append(i)
s=C[b.name]
s&&C[i.name]&&!s[i.name]&&h.push(i)
u=r.length
while(u--){c=r[u].name
if(c in n.map){m=a[c]
m?m.push(i):a[c]=[i]}}w[e]&&N(i)
o||(b=i)
!p&&T[e]&&(p=true)}},end:function(n){var r,o,a,i
var u=S?t.getElementRule(n):{}
if(u){if(w[n]&&!p){r=b.firstChild
if(r&&3===r.type){o=r.value.replace(E,"")
if(o.length>0){r.value=o
r=r.next}else{a=r.next
r.remove()
r=a
while(r&&3===r.type){o=r.value
a=r.next
if(0===o.length||D.test(o)){r.remove()
r=a}r=a}}}r=b.lastChild
if(r&&3===r.type){o=r.value.replace(_,"")
if(o.length>0){r.value=o
r=r.prev}else{a=r.prev
r.remove()
r=a
while(r&&3===r.type){o=r.value
a=r.prev
if(0===o.length||D.test(o)){r.remove()
r=a}r=a}}}}p&&T[n]&&(p=false)
if(u.removeEmpty&&wE(t,x,T,b)){i=b.parent
w[b.name]?b.empty().remove():b.unwrap()
b=i
return}u.paddEmpty&&(pE(b)||wE(t,x,T,b))&&hE(e,c,w,b)
b=b.parent}}},t)
var B=b=new gy(c.context||e.root_name,11)
z.parse(u,c.format)
S&&h.length&&(c.context?c.invalid=true:i(h))
O&&("body"===B.name||c.isRootContent)&&A()
if(!c.invalid){for(g in o){if(!o.hasOwnProperty(g))continue
m=n[g]
s=o[g]
v=s.length
while(v--)s[v].parent||s.splice(v,1)
for(l=0,f=m.length;l<f;l++)m[l](s,g,c)}for(l=0,f=r.length;l<f;l++){m=r[l]
if(m.name in a){s=a[m.name]
v=s.length
while(v--)s[v].parent||s.splice(v,1)
for(v=0,d=m.callbacks.length;v<d;v++)m.callbacks[v](s,m.name,c)}}}return B}
var d={schema:t,addAttributeFilter:l,getAttributeFilters:f,addNodeFilter:c,getNodeFilters:s,filterNode:u,parse:v}
TE(d,e)
oE(d,e)
return d}
var ME=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",(function(e,t){var n,r=e.length
while(r--){n=e[r]
n.attr("tabindex",n.attr("data-mce-tabindex"))
n.attr(t,null)}}))
e.addAttributeFilter("src,href,style",(function(e,r){var o,a,i=e.length
var u="data-mce-"+r
var c=t.url_converter
var s=t.url_converter_scope
while(i--){o=e[i]
a=o.attr(u)
if(void 0!==a){o.attr(r,a.length>0?a:null)
o.attr(u,null)}else{a=o.attr(r)
"style"===r?a=n.serializeStyle(n.parseStyle(a),o.name):c&&(a=c.call(s,a,r,o.name))
o.attr(r,a.length>0?a:null)}}}))
e.addAttributeFilter("class",(function(e){var t,n,r=e.length
while(r--){t=e[r]
n=t.attr("class")
if(n){n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"")
t.attr("class",n.length>0?n:null)}}}))
e.addAttributeFilter("data-mce-type",(function(e,t,n){var r,o=e.length
while(o--){r=e[o]
if("bookmark"===r.attr("data-mce-type")&&!n.cleanup){var a=W.from(r.firstChild).exists((function(e){return!Ua(e.value)}))
a?r.unwrap():r.remove()}}}))
e.addNodeFilter("noscript",(function(e){var t,n=e.length
while(n--){t=e[n].firstChild
t&&(t.value=ou.decode(t.value))}}))
e.addNodeFilter("script,style",(function(e,n){var r,o,a,i=e.length
var u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}
while(i--){r=e[i]
o=r.firstChild?r.firstChild.value:""
if("script"===n){a=r.attr("type")
a&&r.attr("type","mce-no/type"===a?null:a.replace(/^mce\-/,""))
"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")}else"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+u(o)+"\n--\x3e")}}))
e.addNodeFilter("#comment",(function(e){var r,o=e.length
while(o--){r=e[o]
if(t.preserve_cdata&&0===r.value.indexOf("[CDATA[")){r.name="#cdata"
r.type=4
r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))}else if(0===r.value.indexOf("mce:protected ")){r.name="#text"
r.type=3
r.raw=true
r.value=unescape(r.value).substr(14)}}}))
e.addNodeFilter("xml:namespace,input",(function(e,t){var n,r=e.length
while(r--){n=e[r]
7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}}))
e.addAttributeFilter("data-mce-type",(function(t){Q(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))}))
e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){var n=e.length
while(n--)e[n].attr(t,null)}))}
var NE=function(e){var t=function(e){return e&&"br"===e.name}
var n=e.lastChild
if(t(n)){var r=n.prev
if(t(r)){n.remove()
r.remove()}}}
var RE=function(e,t,n){var r,o
var a=e.dom
t=t.cloneNode(true)
var i=document.implementation
if(i.createHTMLDocument){r=i.createHTMLDocument("")
dn.each("BODY"===t.nodeName?t.childNodes:[t],(function(e){r.body.appendChild(r.importNode(e,true))}))
t="BODY"!==t.nodeName?r.body.firstChild:r.body
o=a.doc
a.doc=r}Lh(e,We(We({},n),{node:t}))
o&&(a.doc=o)
return t}
var zE=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events}
var BE=function(e,t,n){return zE(e,n)?RE(e,t,n):t}
var PE=function(e,t,n){if(-1===dn.inArray(t,n)){e.addAttributeFilter(n,(function(e,t){var n=e.length
while(n--)e[n].attr(t,null)}))
t.push(n)}}
var IE=function(e,t,n){if(!t.no_events&&e){var r=Dh(e,We(We({},t),{content:n}))
return r.content}return n}
var HE=function(e,t,n){var r=Wa(n.getInner?t.innerHTML:e.getOuterHTML(t))
return n.selection||Ba(yn.fromDom(t))?r:dn.trim(r)}
var FE=function(e,t,n){var r=n.selection?We({forced_root_block:false},n):n
var o=e.parse(t,r)
NE(o)
return o}
var VE=function(e,t,n){var r=Iy(e,t)
return r.serialize(n)}
var jE=function(e,t,n,r,o){var a=VE(t,n,r)
return IE(e,o,a)}
var UE=function(e,t){var n=["data-mce-selected"]
var r=t&&t.dom?t.dom:As.DOM
var o=t&&t.schema?t.schema:gu(e)
e.entity_encoding=e.entity_encoding||"named"
e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs
var a=AE(e,o)
ME(a,e,r)
var i=function(n,i){void 0===i&&(i={})
var u=We({format:"html"},i)
var c=BE(t,n,u)
var s=HE(r,c,u)
var l=FE(a,s,u)
return"tree"===u.format?l:jE(t,e,o,l,u)}
return{schema:o,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:i,addRules:function(e){o.addValidElements(e)},setRules:function(e){o.setValidElements(e)},addTempAttr:N(PE,a,n),getTempAttrs:A(n),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}}
var WE=function(e,t){var n=UE(e,t)
return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}}
var qE="html"
var $E=function(e,t){void 0===t&&(t={})
var n=t.format?t.format:qE
return NT(e,t,n)}
var GE=function(e,t,n){void 0===n&&(n={})
return RT(e,t,n)}
var XE=As.DOM
var KE=function(e){XE.setStyle(e.id,"display",e.orgDisplay)}
var ZE=function(e){return W.from(e).each((function(e){return e.destroy()}))}
var YE=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null
e.bodyElement=e.contentDocument=e.contentWindow=null
e.iframeElement=e.targetElm=null
e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)}
var JE=function(e){var t=e.formElement
if(t){if(t._mceOldSubmit){t.submit=t._mceOldSubmit
t._mceOldSubmit=null}XE.unbind(t,"submit reset",e.formEventDelegate)}}
var QE=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload
var r=e.getBody()
var o=e.getElement()
r&&e.save({is_removing:true})
e.removed=true
e.unbindAllNativeEvents()
e.hasHiddenInput&&o&&XE.remove(o.nextSibling)
Ah(e)
e.editorManager.remove(e)
!e.inline&&r&&KE(e)
Mh(e)
XE.remove(e.getContainer())
ZE(t)
ZE(n)
e.destroy()}}
var e_=function(e,t){var n=e.selection,r=e.dom
if(e.destroyed)return
if(!t&&!e.removed){e.remove()
return}if(!t){e.editorManager.off("beforeunload",e._beforeUnload)
e.theme&&e.theme.destroy&&e.theme.destroy()
ZE(n)
ZE(r)}JE(e)
YE(e)
e.destroyed=true}
var t_=Object.prototype.hasOwnProperty
var n_=function(e,t){var n=y(e)&&y(t)
return n?o_(e,t):t}
var r_=function(e){return function(){var t=[]
for(var n=0;n<arguments.length;n++)t[n]=arguments[n]
if(0===t.length)throw new Error("Can't merge zero objects")
var r={}
for(var o=0;o<t.length;o++){var a=t[o]
for(var i in a)t_.call(a,i)&&(r[i]=e(r[i],a[i]))}return r}}
var o_=r_(n_)
var a_=function(e,t){return{sections:A(e),settings:A(t)}}
var i_=Wt().deviceType
var u_=i_.isTouch()
var c_=i_.isPhone()
var s_=i_.isTablet()
var l_=["lists","autolink","autosave"]
var f_={table_grid:false,object_resizing:false,resize:false}
var v_=function(e){var t=w(e)?e.join(" "):e
var n=J(b(t)?t.split(" "):[],ft)
return ne(n,(function(e){return e.length>0}))}
var d_=function(e){return ne(e,N(Z,l_))}
var m_=function(e,t){var n=Ee(t,(function(t,n){return Z(e,n)}))
return a_(n.t,n.f)}
var g_=function(e,t,n){void 0===n&&(n={})
var r=e.sections()
var o=r.hasOwnProperty(t)?r[t]:{}
return dn.extend({},n,o)}
var h_=function(e,t){return e.sections().hasOwnProperty(t)}
var p_=function(e,t,n){var r=e.sections()
return h_(e,t)&&r[t].theme===n}
var b_=function(e,t){return h_(e,t)?e.sections()[t]:{}}
var y_=function(e,t){return Ae(e,"toolbar_mode").orThunk((function(){return Ae(e,"toolbar_drawer").map((function(e){return false===e?"wrap":e}))})).getOr(t)}
var w_=function(e,t,n,r,o){var a={id:t,theme:"silver",toolbar_mode:y_(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,inline_styles:true,convert_fonts_to_spans:true,indent:true,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o}
return We(We({},a),r?f_:{})}
var x_=function(e,t){var n={resize:false,toolbar_mode:y_(e,"scrolling"),toolbar_sticky:false}
var r={menubar:false}
return We(We(We({},f_),n),t?r:{})}
var C_=function(e,t){var n=t.external_plugins?t.external_plugins:{}
return e&&e.external_plugins?dn.extend({},e.external_plugins,n):n}
var S_=function(e,t){return[].concat(v_(e)).concat(v_(t))}
var k_=function(e,t,n,r){return e&&p_(t,"mobile","mobile")?d_(r):e&&h_(t,"mobile")?r:n}
var O_=function(e,t,n,r){var o=v_(n.forced_plugins)
var a=v_(r.plugins)
var i=b_(t,"mobile")
var u=i.plugins?v_(i.plugins):a
var c=k_(e,t,a,u)
var s=S_(o,c)
if(Qt.browser.isIE()&&Z(s,"rtc"))throw new Error("RTC plugin is not supported on IE 11.")
return dn.extend(r,{plugins:s.join(" ")})}
var T_=function(e,t){return e&&h_(t,"mobile")}
var E_=function(e,t,n,r,o){var a=e?{mobile:x_(o.mobile||{},t)}:{}
var i=m_(["mobile"],o_(a,o))
var u=dn.extend(n,r,i.settings(),T_(e,i)?g_(i,"mobile"):{},{validate:true,external_plugins:C_(r,i.settings())})
return O_(e,i,r,u)}
var __=function(e,t,n,r,o){var a=w_(o,t,n,u_,e)
return E_(c_||s_,c_,a,r,o)}
var L_=function(e,t,n){return W.from(t.settings[n]).filter(e)}
var D_=function(e){var t={}
"string"===typeof e?Q(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(function(e){var n=e.split("=")
n.length>1?t[dn.trim(n[0])]=dn.trim(n[1]):t[dn.trim(n[0])]=dn.trim(n[0])})):t=e
return t}
var A_=function(e){return function(t){return w(t)&&le(t,e)}}
var M_=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n
return"hash"===r?D_(o):"string"===r?L_(b,e,t).getOr(n):"number"===r?L_(E,e,t).getOr(n):"boolean"===r?L_(C,e,t).getOr(n):"object"===r?L_(y,e,t).getOr(n):"array"===r?L_(w,e,t).getOr(n):"string[]"===r?L_(A_(b),e,t).getOr(n):"function"===r?L_(T,e,t).getOr(n):o}
var N_=function(){var e={}
var t=function(t,n){e[t]=n}
var n=function(t){if(e[t])return e[t]
return{icons:{}}}
var r=function(t){return Me(e,t)}
return{add:t,get:n,has:r}}
var R_=N_()
var z_=function(e,t){var n=t.dom
return n[e]}
var B_=function(e,t){return parseInt(yo(t,e),10)}
var P_=N(z_,"clientWidth")
var I_=N(z_,"clientHeight")
var H_=N(B_,"margin-top")
var F_=N(B_,"margin-left")
var V_=function(e){return e.dom.getBoundingClientRect()}
var j_=function(e,t,n){var r=P_(e)
var o=I_(e)
return t>=0&&n>=0&&t<=r&&n<=o}
var U_=function(e,t,n,r){var o=V_(t)
var a=e?o.left+t.dom.clientLeft+F_(t):0
var i=e?o.top+t.dom.clientTop+H_(t):0
var u=n-a
var c=r-i
return{x:u,y:c}}
var W_=function(e,t,n){var r=yn.fromDom(e.getBody())
var o=e.inline?r:$n(r)
var a=U_(e.inline,o,t,n)
return j_(o,a.x,a.y)}
var q_=function(e){return W.from(e).map(yn.fromDom)}
var $_=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer()
return q_(t).map(Tr).getOr(false)}
var G_=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")}
return{open:e,close:e,reposition:e,getArgs:e}}
var X_=function(e){var t=[]
var n=function(){var t=e.theme
return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():G_()}
var r=function(){return W.from(t[0])}
var o=function(e,t){return e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout}
var a=function(){t.length>0&&n().reposition(t)}
var i=function(e){t.push(e)}
var u=function(e){ue(t,(function(t){return t===e})).each((function(e){t.splice(e,1)}))}
var c=function(c,s){void 0===s&&(s=true)
if(e.removed||!$_(e))return
s&&e.fire("BeforeOpenNotification",{notification:c})
return ie(t,(function(e){return o(n().getArgs(e),c)})).getOrThunk((function(){e.editorManager.setActive(e)
var t=n().open(c,(function(){u(t)
a()
r().fold((function(){return e.focus()}),(function(e){return Up(yn.fromDom(e.getEl()))}))}))
i(t)
a()
e.fire("OpenNotification",{notification:We({},t)})
return t}))}
var s=function(){r().each((function(e){n().close(e)
u(e)
a()}))}
var l=function(){return t}
var f=function(e){e.on("SkinLoaded",(function(){var t=qv(e)
t&&c({text:t,type:"warning",timeout:0},false)}))
e.on("ResizeEditor ResizeWindow NodeChange",(function(){va.requestAnimationFrame(a)}))
e.on("remove",(function(){Q(t.slice(),(function(e){n().close(e)}))}))}
f(e)
return{open:c,close:s,getNotifications:l}}
var K_=el.PluginManager
var Z_=el.ThemeManager
function Y_(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")}
return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var J_=function(e){var t=[]
var n=function(){var t=e.theme
return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():Y_()}
var r=function(e,t){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t?t.apply(e,n):void 0}}
var o=function(t){e.fire("OpenWindow",{dialog:t})}
var a=function(t){e.fire("CloseWindow",{dialog:t})}
var i=function(e){t.push(e)
o(e)}
var u=function(n){a(n)
t=ne(t,(function(e){return e!==n}))
0===t.length&&e.focus()}
var c=function(){return W.from(t[t.length-1])}
var s=function(t){e.editorManager.setActive(e)
Cb(e)
var n=t()
i(n)
return n}
var l=function(e,t){return s((function(){return n().open(e,t,u)}))}
var f=function(e){return s((function(){return n().openUrl(e,u)}))}
var v=function(e,t,o){var a=n()
a.alert(e,r(o||a,t))}
var d=function(e,t,o){var a=n()
a.confirm(e,r(o||a,t))}
var m=function(){c().each((function(e){n().close(e)
u(e)}))}
e.on("remove",(function(){Q(t,(function(e){n().close(e)}))}))
return{open:l,openUrl:f,alert:v,confirm:d,close:m}}
var Q_=function(e,t){e.notificationManager.open({type:"error",text:t})}
var eL=function(e,t){e._skinLoaded?Q_(e,t):e.on("SkinLoaded",(function(){Q_(e,t)}))}
var tL=function(e,t){eL(e,Qs.translate(["Failed to upload image: {0}",t]))}
var nL=function(e,t,n){Fh(e,t,{message:n})
console.error(n)}
var rL=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t}
var oL=function(e,t,n){nL(e,"PluginLoadError",rL("plugin",t,n))}
var aL=function(e,t,n){nL(e,"IconsLoadError",rL("icons",t,n))}
var iL=function(e,t,n){nL(e,"LanguageLoadError",rL("language",t,n))}
var uL=function(e,t,n){var r=Qs.translate(["Failed to initialize plugin: {0}",t])
Fh(e,"PluginLoadError",{message:r})
cL(r,n)
eL(e,r)}
var cL=function(e){var t=[]
for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n]
var r=window.console
r&&(r.error?r.error.apply(r,$e([e],t)):r.log.apply(r,$e([e],t)))}
var sL=function(e){return/^[a-z0-9\-]+$/i.test(e)}
var lL=function(e){return vL(e,Pv(e))}
var fL=function(e){return vL(e,Iv(e))}
var vL=function(e,t){var n=e.editorManager.baseURL+"/skins/content"
var r=e.editorManager.suffix
var o="content"+r+".css"
var a=true===e.inline
return J(t,(function(t){return sL(t)&&!a?n+"/"+t+"/"+o:e.documentBaseURI.toAbsolute(t)}))}
var dL=function(e){e.contentCSS=e.contentCSS.concat(lL(e),fL(e))}
var mL=function(){var e=1,t=2
var n={}
var r=function(e,t){return{status:e,resultUri:t}}
var o=function(e){return e in n}
var a=function(e){var t=n[e]
return t?t.resultUri:null}
var i=function(t){return!!o(t)&&n[t].status===e}
var u=function(e){return!!o(e)&&n[e].status===t}
var c=function(t){n[t]=r(e,null)}
var s=function(e,o){n[e]=r(t,o)}
var l=function(e){delete n[e]}
var f=function(){n={}}
return{hasBlobUri:o,getResultUri:a,isPending:i,isUploaded:u,markPending:c,markUploaded:s,removeFailed:l,destroy:f}}
var gL=0
var hL=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)}
var t=(new Date).getTime()
return"s"+t.toString(36)+e()+e()+e()}
var pL=function(e){return e+gL+++hL()}
var bL=function(){var e=[]
var t=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}
return t[e.toLowerCase()]||"dat"}
var n=function(e,t,n,o,a){if(b(e)){var i=e
return r({id:i,name:o,filename:a,blob:t,base64:n})}if(y(e))return r(e)
throw new Error("Unknown input type")}
var r=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")
var n=e.id||pL("blobid")
var r=e.name||n
var o=e.blob
return{id:A(n),name:A(r),filename:A(e.filename||r+"."+t(o.type)),blob:A(o),base64:A(e.base64),blobUri:A(e.blobUri||URL.createObjectURL(o)),uri:A(e.uri)}}
var o=function(t){i(t.id())||e.push(t)}
var a=function(t){return ie(e,t).getOrUndefined()}
var i=function(e){return a((function(t){return t.id()===e}))}
var u=function(e){return a((function(t){return t.blobUri()===e}))}
var c=function(e,t){return a((function(n){return n.base64()===e&&n.blob().type===t}))}
var s=function(t){e=ne(e,(function(e){if(e.blobUri()===t){URL.revokeObjectURL(e.blobUri())
return false}return true}))}
var l=function(){Q(e,(function(e){URL.revokeObjectURL(e.blobUri())}))
e=[]}
return{create:n,add:o,get:i,getByUri:u,getByData:c,findFirst:a,removeByUri:s,destroy:l}}
var yL=function(e,t){var n={}
var r=function(e,t){if(e)return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")
return t}
var o=function(e,n,o,a){var i=new XMLHttpRequest
i.open("POST",t.url)
i.withCredentials=t.credentials
i.upload.onprogress=function(e){a(e.loaded/e.total*100)}
i.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+i.status)}
i.onload=function(){if(i.status<200||i.status>=300){o("HTTP Error: "+i.status)
return}var e=JSON.parse(i.responseText)
if(!e||"string"!==typeof e.location){o("Invalid JSON: "+i.responseText)
return}n(r(t.basePath,e.location))}
var u=new FormData
u.append("file",e.blob(),e.filename())
i.send(u)}
var a=function(){return new oa((function(e){e([])}))}
var i=function(e,t){return{url:t,blobInfo:e,status:true}}
var u=function(e,t,n){return{url:"",blobInfo:e,status:false,error:{message:t,options:n}}}
var c=function(e,t){dn.each(n[e],(function(e){e(t)}))
delete n[e]}
var s=function(t,n,r){e.markPending(t.blobUri())
return new oa((function(o){var a,s
try{var l=function(){if(a){a.close()
s=_}}
var f=function(n){l()
e.markUploaded(t.blobUri(),n)
c(t.blobUri(),i(t,n))
o(i(t,n))}
var v=function(n,r){var a=r||{}
l()
e.removeFailed(t.blobUri())
c(t.blobUri(),u(t,n,a))
o(u(t,n,a))}
s=function(e){if(e<0||e>100)return
W.from(a).orThunk((function(){return W.from(r).map(B)})).each((function(t){a=t
t.progressBar.value(e)}))}
n(t,f,v,s)}catch(e){o(u(t,e.message,{}))}}))}
var l=function(e){return e===o}
var f=function(e){var t=e.blobUri()
return new oa((function(e){n[t]=n[t]||[]
n[t].push(e)}))}
var v=function(n,r){n=dn.grep(n,(function(t){return!e.isUploaded(t.blobUri())}))
return oa.all(dn.map(n,(function(n){return e.isPending(n.blobUri())?f(n):s(n,t.handler,r)})))}
var d=function(e,n){return!t.url&&l(t.handler)?a():v(e,n)}
false===T(t.handler)&&(t.handler=o)
return{upload:d}}
var wL=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:true})}}
var xL=function(e,t){return yL(t,{url:Ev(e),basePath:_v(e),credentials:Lv(e),handler:Dv(e)})}
var CL=function(e){var t=mL()
var n=xL(e,t)
return{upload:function(t,r){void 0===r&&(r=true)
return n.upload(t,r?wL(e):void 0)}}}
var SL=function(e){var t=Fs(null)
e.on("change AddUndo",(function(e){t.set(We({},e.level))}))
var n=function(){var n=e.undoManager.data
pe(n).filter((function(e){return!jO(t.get(),e)})).each((function(t){e.setDirty(true)
e.fire("change",{level:t,lastLevel:ge(n,n.length-2).getOrNull()})}))}
return{fireIfChanged:n}}
var kL=function(e){var t=bL()
var n,r
var o=mL()
var a=[]
var i=SL(e)
var u=function(t){return function(n){if(e.selection)return t(n)
return[]}}
var c=function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()}
var s=function(e,t,n){var r=0
do{r=e.indexOf(t,r)
if(-1!==r){e=e.substring(0,r)+n+e.substr(r+t.length)
r+=n.length-t.length+1}}while(-1!==r)
return e}
var l=function(e,t,n){var r='src="'+n+'"'+(n===Qt.transparentSrc?' data-mce-placeholder="1"':"")
e=s(e,'src="'+t+'"',r)
e=s(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')
return e}
var f=function(t,n){Q(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=J(e.fragments,(function(e){return l(e,t,n)})):e.content=l(e.content,t,n)}))}
var v=function(t,n){var r=e.convertURL(n,"src")
f(t.src,n)
e.$(t).attr({src:Sv(e)?c(n):n,"data-mce-src":r})}
var d=function(r){n||(n=xL(e,o))
return p().then(u((function(o){var a=J(o,(function(e){return e.blobInfo}))
return n.upload(a,wL(e)).then(u((function(n){var a=[]
var u=J(n,(function(n,r){var i=o[r].blobInfo
var u=o[r].image
if(n.status&&kv(e)){t.removeByUri(u.src)
v(u,n.url)}else if(n.error){if(n.error.options.remove){f(u.getAttribute("src"),Qt.transparentSrc)
a.push(u)}tL(e,n.error.message)}return{element:u,status:n.status,uploadUri:n.url,blobInfo:i}}))
u.length>0&&i.fireIfChanged()
a.length>0&&(cT(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact((function(){Q(a,(function(n){e.dom.remove(n)
t.removeByUri(n.src)}))})))
r&&r(u)
return u})))})))}
var m=function(t){if(Cv(e))return d(t)}
var g=function(t){if(false===le(a,(function(e){return e(t)})))return false
if(0===t.getAttribute("src").indexOf("data:")){var n=xv(e)
return n(t)}return true}
var h=function(e){a.push(e)}
var p=function(){r||(r=gE(o,t))
return r.findAll(e.getBody(),g).then(u((function(t){t=ne(t,(function(t){if("string"===typeof t){eL(e,t)
return false}return true}))
Q(t,(function(e){f(e.image.src,e.blobInfo.blobUri())
e.image.src=e.blobInfo.blobUri()
e.image.removeAttribute("data-mce-src")}))
return t})))}
var b=function(){t.destroy()
o.destroy()
r=n=null}
var y=function(n){return n.replace(/src="(blob:[^"]+)"/g,(function(n,r){var a=o.getResultUri(r)
if(a)return'src="'+a+'"'
var i=t.getByUri(r)
i||(i=oe(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(r)}),null))
if(i){var u=i.blob()
return'src="data:'+u.type+";base64,"+i.base64()+'"'}return n}))}
e.on("SetContent",(function(){Cv(e)?m():p()}))
e.on("RawSaveContent",(function(e){e.content=y(e.content)}))
e.on("GetContent",(function(e){if(e.source_view||"raw"===e.format||"tree"===e.format)return
e.content=y(e.content)}))
e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){Q(e,(function(e){var n=e.attr("src")
if(t.getByUri(n))return
var r=o.getResultUri(n)
r&&e.attr("src",r)}))}))}))
return{blobCache:t,addFilter:h,uploadImages:d,uploadImagesAuto:m,scanForImages:p,destroy:b}}
var OL=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:false,classes:"align-left",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:false,preview:false,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:false,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:false,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:false,classes:"align-center",ceFalseOverride:true,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:false,classes:"align-right",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:false,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:false,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:false,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true,clear_child_styles:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true,clear_child_styles:true},fontname:{inline:"span",toggle:false,styles:{fontFamily:"%value"},clear_child_styles:true},fontsize:{inline:"span",toggle:false,styles:{fontSize:"%value"},clear_child_styles:true},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:true,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(e,t,n){return Vr(e)&&e.hasAttribute("href")},onformat:function(t,n,r){dn.each(r,(function(n,r){e.setAttrib(t,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]}
dn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}}))
return t}
var TL=function(e){var t={}
var n=function(e){return e?t[e]:t}
var r=function(e){return Me(t,e)}
var o=function(e,n){if(e)if("string"!==typeof e)dn.each(e,(function(e,t){o(t,e)}))
else{w(n)||(n=[n])
dn.each(n,(function(e){"undefined"===typeof e.deep&&(e.deep=!e.selector)
"undefined"===typeof e.split&&(e.split=!e.selector||e.inline)
"undefined"===typeof e.remove&&e.selector&&!e.inline&&(e.remove="none")
if(e.selector&&e.inline){e.mixed=true
e.block_expand=true}"string"===typeof e.classes&&(e.classes=e.classes.split(/\s+/))}))
t[e]=n}}
var a=function(e){e&&t[e]&&delete t[e]
return t}
o(OL(e.dom))
o(Kv(e))
return{get:n,has:r,register:o,unregister:a}}
var EL=dn.each
var _L=As.DOM
var LL=function(e,t){var n,r,o
var a=t&&t.schema||gu({})
var i=function(e,t){t.classes.length&&_L.addClass(e,t.classes.join(" "))
_L.setAttribs(e,t.attrs)}
var u=function(e){r="string"===typeof e?{name:e,classes:[],attrs:{}}:e
var t=_L.create(r.name)
i(t,r)
return t}
var c=function(e,t){var n="string"!==typeof e?e.nodeName.toLowerCase():e
var r=a.getElementRule(n)
var o=r&&r.parentsRequired
return!(!o||!o.length)&&(t&&-1!==dn.inArray(o,t)?t:o[0])}
var s=function(e,t,n){var r,o
var a=t.length>0&&t[0]
var i=a&&a.name
var l=c(e,i)
if(l)if(i===l){o=t[0]
t=t.slice(1)}else o=l
else if(a){o=t[0]
t=t.slice(1)}else if(!n)return e
if(o){r=u(o)
r.appendChild(e)}if(n){if(!r){r=_L.create("div")
r.appendChild(e)}dn.each(n,(function(t){var n=u(t)
r.insertBefore(n,e)}))}return s(r,t,o&&o.siblings)}
if(e&&e.length){r=e[0]
n=u(r)
o=_L.create("div")
o.appendChild(s(n,e.slice(1),r.siblings))
return o}return""}
var DL=function(e){var t
var n={classes:[],attrs:{}}
e=n.selector=dn.trim(e)
"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,r,o,a){switch(t){case"#":n.attrs.id=r
break
case".":n.classes.push(r)
break
case":":-1!==dn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var i=a.match(/([\w\-]+)(?:\=\"([^\"]+))?/)
i&&(n.attrs[i[1]]=i[2])}return""})))
n.name=t||"div"
return n}
var AL=function(e){if(!e||"string"!==typeof e)return[]
e=e.split(/\s*,\s*/)[0]
e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1")
return dn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=dn.map(e.split(/(?:~\+|~|\+)/),DL)
var n=t.pop()
t.length&&(n.siblings=t)
return n})).reverse()}
var ML=function(e,t){var n,r
var o,a=""
var i=Zv(e)
if(""===i)return""
var u=function(e){return e.replace(/%(\w+)/g,"")}
if("string"===typeof t){t=e.formatter.get(t)
if(!t)return
t=t[0]}if("preview"in t){var c=Ae(t,"preview")
if(c.is(false))return""
i=c.getOr(i)}n=t.block||t.inline||"span"
var s=AL(t.selector)
if(s.length){s[0].name||(s[0].name=n)
n=t.selector
r=LL(s,e)}else r=LL([n],e)
var l=_L.select(n,r)[0]||r.firstChild
EL(t.styles,(function(e,t){var n=u(e)
n&&_L.setStyle(l,t,n)}))
EL(t.attributes,(function(e,t){var n=u(e)
n&&_L.setAttrib(l,t,n)}))
EL(t.classes,(function(e){var t=u(e)
_L.hasClass(l,t)||_L.addClass(l,t)}))
e.fire("PreviewFormats")
_L.setStyles(r,{position:"absolute",left:-65535})
e.getBody().appendChild(r)
o=_L.getStyle(e.getBody(),"fontSize",true)
o=/px$/.test(o)?parseInt(o,10):0
EL(i.split(" "),(function(t){var n=_L.getStyle(l,t,true)
if("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)){n=_L.getStyle(e.getBody(),t,true)
if("#ffffff"===_L.toHex(n).toLowerCase())return}if("color"===t&&"#000000"===_L.toHex(n).toLowerCase())return
if("font-size"===t&&/em|%$/.test(n)){if(0===o)return
var r=parseFloat(n)/(/%$/.test(n)?100:1)
n=r*o+"px"}"border"===t&&n&&(a+="padding:0 2px;")
a+=t+":"+n+";"}))
e.fire("AfterPreviewFormats")
_L.remove(r)
return a}
var NL=function(e){e.addShortcut("meta+b","","Bold")
e.addShortcut("meta+i","","Italic")
e.addShortcut("meta+u","","Underline")
for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",false,"h"+t])
e.addShortcut("access+7","",["FormatBlock",false,"p"])
e.addShortcut("access+8","",["FormatBlock",false,"div"])
e.addShortcut("access+9","",["FormatBlock",false,"address"])}
var RL=function(e){var t=TL(e)
var n=Fs(null)
NL(e)
BS(e)
return{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){LT(e,t,n,r)},remove:function(t,n,r,o){DT(e,t,n,r,o)},toggle:function(t,n,r){AT(e,t,n,r)},match:function(t,n,r){return kT(e,t,n,r)},closest:function(t){return _T(e,t)},matchAll:function(t,n){return OT(e,t,n)},matchNode:function(t,n,r,o){return TT(e,t,n,r,o)},canApply:function(t){return ET(e,t)},formatChanged:function(t,r,o){return MT(e,n,t,r,o)},getCssText:N(ML,e)}}
var zL=function(e,t,n){var r=Fs(false)
var o=function(e){WO(t,false,n)
t.add({},e)}
e.on("init",(function(){t.add()}))
e.on("BeforeExecCommand",(function(e){var r=e.command.toLowerCase()
if("undo"!==r&&"redo"!==r&&"mcerepaint"!==r){qO(t,n)
t.beforeChange()}}))
e.on("ExecCommand",(function(e){var t=e.command.toLowerCase()
"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&o(e)}))
e.on("ObjectResizeStart cut",(function(){t.beforeChange()}))
e.on("SaveContent ObjectResized blur",o)
e.on("dragend",o)
e.on("keyup",(function(n){var a=n.keyCode
if(n.isDefaultPrevented())return
if(a>=33&&a<=36||a>=37&&a<=40||45===a||n.ctrlKey){o()
e.nodeChanged()}46!==a&&8!==a||e.nodeChanged()
if(r.get()&&t.typing&&false===jO(BO(e),t.data[0])){if(false===e.isDirty()){e.setDirty(true)
e.fire("change",{level:t.data[0],lastLevel:null})}e.fire("TypingUndo")
r.set(false)
e.nodeChanged()}}))
e.on("keydown",(function(e){var a=e.keyCode
if(e.isDefaultPrevented())return
if(a>=33&&a<=36||a>=37&&a<=40||45===a){t.typing&&o(e)
return}var i=e.ctrlKey&&!e.altKey||e.metaKey
if((a<16||a>20)&&224!==a&&91!==a&&!t.typing&&!i){t.beforeChange()
WO(t,true,n)
t.add({},e)
r.set(true)}}))
e.on("mousedown",(function(e){t.typing&&o(e)}))
var a=function(e){return"insertReplacementText"===e.inputType}
var i=function(e){return"insertText"===e.inputType&&null===e.data}
var u=function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType}
e.on("input",(function(e){e.inputType&&(a(e)||i(e)||u(e))&&o(e)}))
e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))}
var BL=function(e){e.addShortcut("meta+z","","Undo")
e.addShortcut("meta+y,meta+shift+z","","Redo")}
var PL=function(e){var t=Fs(W.none())
var n=Fs(0)
var r=Fs(0)
var o={data:[],typing:false,beforeChange:function(){dT(e,n,t)},add:function(a,i){return mT(e,o,r,n,t,a,i)},undo:function(){return gT(e,o,n,r)},redo:function(){return hT(e,r,o.data)},clear:function(){pT(e,o,r)},reset:function(){bT(e,o)},hasUndo:function(){return yT(e,o,r)},hasRedo:function(){return wT(e,o,r)},transact:function(t){return xT(e,o,n,t)},ignore:function(t){CT(e,n,t)},extra:function(t,n){ST(e,o,r,t,n)}}
cT(e)||zL(e,o,n)
BL(e)
return o}
var IL=[9,27,Vh.HOME,Vh.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Vh.DOWN,Vh.UP,Vh.LEFT,Vh.RIGHT].concat(Qt.browser.isFirefox()?[224]:[])
var HL="data-mce-placeholder"
var FL=function(e){return"keydown"===e.type||"keyup"===e.type}
var VL=function(e){var t=e.keyCode
return t===Vh.BACKSPACE||t===Vh.DELETE}
var jL=function(e){if(FL(e)){var t=e.keyCode
return!VL(e)&&(Vh.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Z(IL,t))}return false}
var UL=function(e){return FL(e)&&!(VL(e)||"keyup"===e.type&&229===e.keyCode)}
var WL=function(e,t,n){if(Mi(yn.fromDom(t),false)){var r=""===n
var o=t.firstElementChild
return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return false}
var qL=function(e){var t=e.dom
var n=dv(e)
var r=Uv(e)
var o=function(a,i){if(jL(a))return
var u=e.getBody()
var c=!UL(a)&&WL(t,u,n)
var s=""!==t.getAttrib(u,HL)
if(s!==c||i){t.setAttrib(u,HL,c?r:null)
t.setAttrib(u,"aria-placeholder",c?r:null)
Hh(e,c)
e.on(c?"keydown":"keyup",o)
e.off(c?"keyup":"keydown",o)}}
r&&e.on("init",(function(t){o(t,true)
e.on("change SetContent ExecCommand",o)
e.on("paste",(function(t){return va.setEditorTimeout(e,(function(){return o(t)}))}))}))}
var $L=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/
var GL=function(e){return $L.test(e)}
var XL=function(e,t){return _n(yn.fromDom(t),Fv(e))}
var KL=function(e){return"rtl"===As.DOM.getStyle(e,"direction",true)||GL(e.textContent)}
var ZL=function(e,t,n){return ne(As.DOM.getParents(n.container(),"*",t),e)}
var YL=function(e,t,n){var r=ZL(e,t,n)
return W.from(r[r.length-1])}
var JL=function(e,t,n){var r=Yd(t,e)
var o=Yd(n,e)
return r&&r===o}
var QL=function(e){return Ja(e)||Qa(e)}
var eD=function(e,t){if(!t)return t
var n=t.container(),r=t.offset()
return e?Xa(n)?Yr(n.nextSibling)?Cf(n.nextSibling,0):Cf.after(n):Ja(t)?Cf(n,r+1):t:Xa(n)?Yr(n.previousSibling)?Cf(n.previousSibling,n.previousSibling.data.length):Cf.before(n):Qa(t)?Cf(n,r-1):t}
var tD=N(eD,true)
var nD=N(eD,false)
var rD=function(e){return function(t){return Mn(e,yn.fromDom(t.dom.parentNode))}}
var oD=function(e,t){return zn(e,t)?Yo(t,(function(e){return Aa(e)||Na(e)}),rD(e)):W.none()}
var aD=function(e){var t=e.getBody()
var n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t
e.selection.setCursorLocation(n,0)}
var iD=function(e){if(e.dom.isEmpty(e.getBody())){e.setContent("")
aD(e)}}
var uD=function(e,t,n){return Il(Hm(n),Fm(n),(function(r,o){var a=eD(true,r)
var i=eD(false,o)
var u=eD(false,t)
return e?Pm(n,u).exists((function(e){return e.isEqual(i)&&t.isEqual(a)})):Im(n,u).exists((function(e){return e.isEqual(a)&&t.isEqual(i)}))})).getOr(true)}
var cD=function(e,t){return{block:e,position:t}}
var sD=function(e,t){return{from:e,to:t}}
var lD=function(e,t){var n=yn.fromDom(e)
var r=yn.fromDom(t.container())
return oD(n,r).map((function(e){return cD(e,t)}))}
var fD=function(e){return false===Mn(e.from.block,e.to.block)}
var vD=function(e){return Xn(e.from.block).bind((function(t){return Xn(e.to.block).filter((function(e){return Mn(t,e)}))})).isSome()}
var dD=function(e){return false===oo(e.from.block.dom)&&false===oo(e.to.block.dom)}
var mD=function(e,t,n){return to(n.position.getNode())&&false===Mi(n.block)?Bm(false,n.block.dom).bind((function(r){return r.isEqual(n.position)?Nm(t,e,r).bind((function(t){return lD(e,t)})):W.some(n)})).getOr(n):n}
var gD=function(e,t,n){var r=lD(e,Cf.fromRangeStart(n))
var o=r.bind((function(n){return Nm(t,e,n.position).bind((function(n){return lD(e,n).map((function(n){return mD(e,t,n)}))}))}))
return Il(r,o,sD).filter((function(e){return fD(e)&&vD(e)&&dD(e)}))}
var hD=function(e,t,n){return n.collapsed?gD(e,t,n):W.none()}
var pD=function(e){var t=tr(e)
return ue(t,Ea).fold((function(){return t}),(function(e){return t.slice(0,e)}))}
var bD=function(e){var t=pD(e)
Q(t,kr)
return t}
var yD=function(e,t){var n=gw(t,e)
return ie(n.reverse(),(function(e){return Mi(e)})).each(kr)}
var wD=function(e){return 0===ne(Qn(e),(function(e){return!Mi(e)})).length}
var xD=function(e,t,n,r){if(Mi(n)){lw(n)
return Hm(n.dom)}wD(r)&&Mi(t)&&hr(r,yn.fromTag("br"))
var o=Im(n.dom,Cf.before(r.dom))
Q(bD(t),(function(e){hr(r,e)}))
yD(e,t)
return o}
var CD=function(e,t,n){if(Mi(n)){kr(n)
Mi(t)&&lw(t)
return Hm(t.dom)}var r=Fm(n.dom)
Q(bD(t),(function(e){yr(n,e)}))
yD(e,t)
return r}
var SD=function(e,t){var n=gw(t,e)
return W.from(n[n.length-1])}
var kD=function(e,t){return zn(t,e)?SD(t,e):W.none()}
var OD=function(e,t){Bm(e,t.dom).map((function(e){return e.getNode()})).map(yn.fromDom).filter(Da).each(kr)}
var TD=function(e,t,n){OD(true,t)
OD(false,n)
return kD(t,n).fold(N(CD,e,t,n),N(xD,e,t,n))}
var ED=function(e,t,n,r){return t?TD(e,r,n):TD(e,n,r)}
var _D=function(e,t){var n=yn.fromDom(e.getBody())
var r=hD(n.dom,t,e.selection.getRng()).bind((function(e){return ED(n,t,e.from.block,e.to.block)}))
r.each((function(t){e.selection.setRng(t.toRange())}))
return r.isSome()}
var LD=function(e,t){var n=t.getRng()
return Il(oD(e,yn.fromDom(n.startContainer)),oD(e,yn.fromDom(n.endContainer)),(function(r,o){if(false===Mn(r,o)){n.deleteContents()
ED(e,true,r,o).each((function(e){t.setRng(e.toRange())}))
return true}return false})).getOr(false)}
var DD=function(e,t){var n=yn.fromDom(t)
var r=N(Mn,e)
return Zo(n,za,r).isSome()}
var AD=function(e,t){return DD(e,t.startContainer)||DD(e,t.endContainer)}
var MD=function(e,t){var n=Im(e.dom,Cf.fromRangeStart(t)).isNone()
var r=Pm(e.dom,Cf.fromRangeEnd(t)).isNone()
return!AD(e,t)&&n&&r}
var ND=function(e){e.setContent("")
e.selection.setCursorLocation()
return true}
var RD=function(e){var t=yn.fromDom(e.getBody())
var n=e.selection.getRng()
return MD(t,n)?ND(e):LD(t,e.selection)}
var zD=function(e,t){return!e.selection.isCollapsed()&&RD(e)}
var BD=ro
var PD=oo
var ID=function(e,t,n,r,o){return W.from(t._selectionOverrides.showCaret(e,n,r,o))}
var HD=function(e){var t=e.ownerDocument.createRange()
t.selectNode(e)
return t}
var FD=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t})
if(n.isDefaultPrevented())return W.none()
return W.some(HD(t))}
var VD=function(e,t,n){var r=am(1,e.getBody(),t)
var o=Cf.fromRangeStart(r)
var a=o.getNode()
if(Id(a))return ID(1,e,a,!o.isAtEnd(),false)
var i=o.getNode(true)
if(Id(i))return ID(1,e,i,false,false)
var u=e.dom.getParent(o.getNode(),(function(e){return PD(e)||BD(e)}))
if(Id(u))return ID(1,e,u,false,n)
return W.none()}
var jD=function(e,t,n){return t.collapsed?VD(e,t,n).getOr(t):t}
var UD=function(e){return iw(e)||nw(e)}
var WD=function(e){return uw(e)||rw(e)}
var qD=function(e,t){Yr(t)&&0===t.data.length&&e.remove(t)}
var $D=function(e,t,n,r,o,a){ID(r,e,a.getNode(!o),o,true).each((function(n){if(t.collapsed){var r=t.cloneRange()
o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset)
r.deleteContents()}else t.deleteContents()
e.selection.setRng(n)}))
qD(e.dom,n)
return true}
var GD=function(e,t){var n=e.selection.getRng()
if(!Yr(n.commonAncestorContainer))return false
var r=t?vm.Forwards:vm.Backwards
var o=Om(e.getBody())
var a=N(lm,t?o.next:o.prev)
var i=t?UD:WD
var u=um(r,e.getBody(),n)
var c=eD(t,a(u))
if(!c||!fm(u,c))return false
if(i(c))return $D(e,n,u.getNode(),r,t,c)
var s=a(c)
if(s&&i(s)&&fm(c,s))return $D(e,n,u.getNode(),r,t,s)
return false}
var XD=function(e,t){return GD(e,t)}
var KD=function(e){return za(yn.fromDom(e))||Na(yn.fromDom(e))}
var ZD=Go.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}])
var YD=function(e,t){var n=t.getNode(false===e)
var r=e?"after":"before"
return Vr(n)&&n.getAttribute("data-mce-caret")===r}
var JD=function(e,t,n,r){var o=function(t){return La(yn.fromDom(t))&&!Jd(n,r,e)}
return im(!t,n).fold((function(){return im(t,r).fold(I,o)}),o)}
var QD=function(e,t,n,r){var o=r.getNode(false===t)
return oD(yn.fromDom(e),yn.fromDom(n.getNode())).map((function(e){return Mi(e)?ZD.remove(e.dom):ZD.moveToElement(o)})).orThunk((function(){return W.some(ZD.moveToElement(o))}))}
var eA=function(e,t,n){return Nm(t,e,n).bind((function(r){return KD(r.getNode())||JD(e,t,n,r)?W.none():t&&oo(r.getNode())||false===t&&oo(r.getNode(true))?QD(e,t,n,r):t&&uw(n)||false===t&&iw(n)?W.some(ZD.moveToPosition(r)):W.none()}))}
var tA=function(e,t){return e&&oo(t.nextSibling)?W.some(ZD.moveToElement(t.nextSibling)):false===e&&oo(t.previousSibling)?W.some(ZD.moveToElement(t.previousSibling)):W.none()}
var nA=function(e,t,n){return n.fold((function(e){return W.some(ZD.remove(e))}),(function(e){return W.some(ZD.moveToElement(e))}),(function(n){return Jd(t,n,e)?W.none():W.some(ZD.moveToPosition(n))}))}
var rA=function(e,t,n){return YD(t,n)?tA(t,n.getNode(false===t)).fold((function(){return eA(e,t,n)}),W.some):eA(e,t,n).bind((function(t){return nA(e,n,t)}))}
var oA=function(e,t,n){var r=am(t?1:-1,e,n)
var o=Cf.fromRangeStart(r)
var a=yn.fromDom(e)
return false===t&&uw(o)?W.some(ZD.remove(o.getNode(true))):t&&iw(o)?W.some(ZD.remove(o.getNode())):false===t&&iw(o)&&Ew(a,o)?_w(a,o).map((function(e){return ZD.remove(e.getNode())})):t&&uw(o)&&Tw(a,o)?Lw(a,o).map((function(e){return ZD.remove(e.getNode())})):rA(e,t,o)}
var aA=function(e,t){return function(n){e._selectionOverrides.hideFakeCaret()
xx(e,t,yn.fromDom(n))
return true}}
var iA=function(e,t){return function(n){var r=t?Cf.before(n):Cf.after(n)
e.selection.setRng(r.toRange())
return true}}
var uA=function(e){return function(t){e.selection.setRng(t.toRange())
return true}}
var cA=function(e,t){return W.from(Eh(e.getBody(),t))}
var sA=function(e,t){var n=e.selection.getNode()
return cA(e,n).filter(oo).fold((function(){return oA(e.getBody(),t,e.selection.getRng()).exists((function(n){return n.fold(aA(e,t),iA(e,t),uA(e))}))}),H)}
var lA=function(e){Q(gl(e,".mce-offscreen-selection"),kr)}
var fA=function(e,t){var n=e.selection.getNode()
if(oo(n)){var r=cA(e,n.parentNode).filter(oo)
return r.fold((function(){lA(yn.fromDom(e.getBody()))
xx(e,t,yn.fromDom(e.selection.getNode()))
iD(e)
return true}),H)}return false}
var vA=function(e){var t=e.dom,n=e.selection
var r=Eh(e.getBody(),n.getNode())
if(ro(r)&&t.isBlock(r)&&t.isEmpty(r)){var o=t.create("br",{"data-mce-bogus":"1"})
t.setHTML(r,"")
r.appendChild(o)
n.setRng(Cf.before(o).toRange())}return true}
var dA=function(e,t){return e.selection.isCollapsed()?sA(e,t):fA(e,t)}
var mA=function(e,t){var n=Cf.fromRangeStart(e.selection.getRng())
return Nm(t,e.getBody(),n).filter((function(e){return t?ew(e):tw(e)})).bind((function(e){return W.from(Qd(t?0:-1,e))})).exists((function(t){e.selection.select(t)
return true}))}
var gA=function(e,t){return!!e.selection.isCollapsed()&&mA(e,t)}
var hA=Yr
var pA=function(e){return hA(e)&&e.data[0]===ja}
var bA=function(e){return hA(e)&&e.data[e.data.length-1]===ja}
var yA=function(e){return e.ownerDocument.createTextNode(ja)}
var wA=function(e){if(hA(e.previousSibling)){if(bA(e.previousSibling))return e.previousSibling
e.previousSibling.appendData(ja)
return e.previousSibling}if(hA(e)){if(pA(e))return e
e.insertData(0,ja)
return e}var t=yA(e)
e.parentNode.insertBefore(t,e)
return t}
var xA=function(e){if(hA(e.nextSibling)){if(pA(e.nextSibling))return e.nextSibling
e.nextSibling.insertData(0,ja)
return e.nextSibling}if(hA(e)){if(bA(e))return e
e.appendData(ja)
return e}var t=yA(e)
e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)
return t}
var CA=function(e,t){return e?wA(t):xA(t)}
var SA=N(CA,true)
var kA=N(CA,false)
var OA=function(e,t){return Yr(e.container())?CA(t,e.container()):CA(t,e.getNode())}
var TA=function(e,t){var n=t.get()
return n&&e.container()===n&&Xa(n)}
var EA=function(e,t){return t.fold((function(t){_d(e.get())
var n=SA(t)
e.set(n)
return W.some(Cf(n,n.length-1))}),(function(t){return Hm(t).map((function(t){if(TA(t,e))return Cf(e.get(),1)
_d(e.get())
var n=OA(t,true)
e.set(n)
return Cf(n,1)}))}),(function(t){return Fm(t).map((function(t){if(TA(t,e))return Cf(e.get(),e.get().length-1)
_d(e.get())
var n=OA(t,false)
e.set(n)
return Cf(n,n.length-1)}))}),(function(t){_d(e.get())
var n=kA(t)
e.set(n)
return W.some(Cf(n,1))}))}
var _A=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t)
if(r.isSome())return r}return W.none()}
var LA=Go.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}])
var DA=function(e,t){var n=Yd(t,e)
return n||e}
var AA=function(e,t,n){var r=tD(n)
var o=DA(t,r.container())
return YL(e,o,r).fold((function(){return Pm(o,r).bind(N(YL,e,o)).map((function(e){return LA.before(e)}))}),W.none)}
var MA=function(e,t){return null===Um(e,t)}
var NA=function(e,t,n){return YL(e,t,n).filter(N(MA,t))}
var RA=function(e,t,n){var r=nD(n)
return NA(e,t,r).bind((function(e){var t=Im(e,r)
return t.isNone()?W.some(LA.start(e)):W.none()}))}
var zA=function(e,t,n){var r=tD(n)
return NA(e,t,r).bind((function(e){var t=Pm(e,r)
return t.isNone()?W.some(LA.end(e)):W.none()}))}
var BA=function(e,t,n){var r=nD(n)
var o=DA(t,r.container())
return YL(e,o,r).fold((function(){return Im(o,r).bind(N(YL,e,o)).map((function(e){return LA.after(e)}))}),W.none)}
var PA=function(e){return false===KL(HA(e))}
var IA=function(e,t,n){var r=_A([AA,RA,zA,BA],[e,t,n])
return r.filter(PA)}
var HA=function(e){return e.fold(M,M,M,M)}
var FA=function(e){return e.fold(A("before"),A("start"),A("end"),A("after"))}
var VA=function(e){return e.fold(LA.before,LA.before,LA.after,LA.after)}
var jA=function(e){return e.fold(LA.start,LA.start,LA.end,LA.end)}
var UA=function(e,t){return FA(e)===FA(t)&&HA(e)===HA(t)}
var WA=function(e,t,n,r,o,a){return Il(YL(t,n,r),YL(t,n,o),(function(t,r){return t!==r&&JL(n,t,r)?LA.after(e?t:r):a})).getOr(a)}
var qA=function(e,t){return e.fold(H,(function(e){return!UA(e,t)}))}
var $A=function(e,t,n,r,o){var a=eD(e,o)
var i=Nm(e,n,a).map(N(eD,e))
var u=i.fold((function(){return r.map(VA)}),(function(o){return IA(t,n,o).map(N(WA,e,t,n,a,o)).filter(N(qA,r))}))
return u.filter(PA)}
var GA=function(e,t){return e?t.fold(L(W.some,LA.start),W.none,L(W.some,LA.after),W.none):t.fold(W.none,L(W.some,LA.before),W.none,L(W.some,LA.end))}
var XA=function(e,t,n,r){var o=eD(e,r)
var a=IA(t,n,o)
return IA(t,n,o).bind(N(GA,e)).orThunk((function(){return $A(e,t,n,a,r)}))}
N(XA,false)
N(XA,true)
var KA=function(e){return T(e.selection.getSel().modify)}
var ZA=function(e,t,n){var r=e?1:-1
t.setRng(Cf(n.container(),n.offset()+r).toRange())
t.getSel().modify("move",e?"forward":"backward","word")
return true}
var YA=function(e,t){var n=t.selection.getRng()
var r=e?Cf.fromRangeEnd(n):Cf.fromRangeStart(n)
return!!KA(t)&&(e&&Ja(r)?ZA(true,t.selection,r):!(e||!Qa(r))&&ZA(false,t.selection,r))}
var JA;(function(e){e[e["Br"]=0]="Br"
e[e["Block"]=1]="Block"
e[e["Wrap"]=2]="Wrap"
e[e["Eol"]=3]="Eol"})(JA||(JA={}))
var QA=function(e,t){return e===vm.Backwards?fe(t):t}
var eM=function(e,t,n){return e===vm.Forwards?t.next(n):t.prev(n)}
var tM=function(e,t,n,r){return to(r.getNode(t===vm.Forwards))?JA.Br:false===Jd(n,r)?JA.Block:JA.Wrap}
var nM=function(e,t,n,r){var o=Om(n)
var a,i=r
var u=[]
while(i){a=eM(t,o,i)
if(!a)break
if(to(a.getNode(false)))return t===vm.Forwards?{positions:QA(t,u).concat([a]),breakType:JA.Br,breakAt:W.some(a)}:{positions:QA(t,u),breakType:JA.Br,breakAt:W.some(a)}
if(!a.isVisible()){i=a
continue}if(e(i,a)){var c=tM(n,t,i,a)
return{positions:QA(t,u),breakType:c,breakAt:W.some(a)}}u.push(a)
i=a}return{positions:QA(t,u),breakType:JA.Eol,breakAt:W.none()}}
var rM=function(e,t,n,r){return t(n,r).breakAt.map((function(r){var o=t(n,r).positions
return e===vm.Backwards?o.concat(r):[r].concat(o)})).getOr([])}
var oM=function(e,t){return oe(e,(function(e,n){return e.fold((function(){return W.some(n)}),(function(r){return Il(he(r.getClientRects()),he(n.getClientRects()),(function(e,o){var a=Math.abs(t-e.left)
var i=Math.abs(t-o.left)
return i<=a?n:r})).or(e)}))}),W.none())}
var aM=function(e,t){return he(t.getClientRects()).bind((function(t){return oM(e,t.left)}))}
var iM=N(nM,Cf.isAbove,-1)
var uM=N(nM,Cf.isBelow,1)
var cM=function(e,t){return iM(e,t).breakAt.isNone()}
var sM=function(e,t){return uM(e,t).breakAt.isNone()}
var lM=N(rM,-1,iM)
var fM=N(rM,1,uM)
var vM=function(e){return Hm(e).map((function(t){return[t].concat(uM(e,t).positions)})).getOr([])}
var dM=function(e){return Fm(e).map((function(t){return iM(e,t).positions.concat(t)})).getOr([])}
var mM=function(e){var t=function(t){return J(t,(function(t){t=jl(t)
t.node=e
return t}))}
if(Vr(e))return t(e.getClientRects())
if(Yr(e)){var n=e.ownerDocument.createRange()
n.setStart(e,0)
n.setEnd(e,e.data.length)
return t(n.getClientRects())}}
var gM=function(e){return se(e,mM)}
var hM;(function(e){e[e["Up"]=-1]="Up"
e[e["Down"]=1]="Down"})(hM||(hM={}))
var pM=function(e,t,n,r){while(r=Zd(r,e,xi,t))if(n(r))return}
var bM=function(e,t,n,r,o,a){var i=0
var u=[]
var c=function(r){var a,c,l
l=gM([r]);-1===e&&(l=l.reverse())
for(a=0;a<l.length;a++){c=l[a]
if(n(c,s))continue
u.length>0&&t(c,Ue(u))&&i++
c.line=i
if(o(c))return true
u.push(c)}}
var s=Ue(a.getClientRects())
if(!s)return u
var l=a.getNode()
c(l)
pM(e,r,c,l)
return u}
var yM=function(e,t){return t.line>e}
var wM=function(e,t){return t.line===e}
var xM=N(bM,hM.Up,$l,Gl)
var CM=N(bM,hM.Down,Gl,$l)
var SM=function(e,t,n,r){var o=Om(t)
var a,i,u,c
var s=[]
var l,f=0
var v=function(t){if(1===e)return Ue(t.getClientRects())
return Ue(t.getClientRects())}
if(1===e){a=o.next
i=Gl
u=$l
c=Cf.after(r)}else{a=o.prev
i=$l
u=Gl
c=Cf.before(r)}var d=v(c)
do{if(!c.isVisible())continue
l=v(c)
if(u(l,d))continue
s.length>0&&i(l,Ue(s))&&f++
l=jl(l)
l.position=c
l.line=f
if(n(l))return s
s.push(l)}while(c=a(c))
return s}
var kM=function(e){return function(t){return yM(e,t)}}
var OM=function(e){return function(t){return wM(e,t)}}
var TM=oo
var EM=Zd
var _M=function(e,t){return Math.abs(e.left-t)}
var LM=function(e,t){return Math.abs(e.right-t)}
var DM=function(e,t){return e>=t.left&&e<=t.right}
var AM=function(e,t){return e>=t.top&&e<=t.bottom}
var MM=function(e,t){return Ve(e,(function(e,n){var r=Math.min(_M(e,t),LM(e,t))
var o=Math.min(_M(n,t),LM(n,t))
if(DM(t,n))return n
if(DM(t,e))return e
if(o===r&&TM(n.node))return n
if(o<r)return n
return e}))}
var NM=function(e,t,n,r,o){var a=EM(r,e,xi,t,!o)
do{if(!a||n(a))return}while(a=EM(a,e,xi,t))}
var RM=function(e,t,n){void 0===n&&(n=true)
var r=[]
var o=function(e,n){var o=ne(gM([n]),(function(n){return!e(n,t)}))
r=r.concat(o)
return 0===o.length}
r.push(t)
NM(hM.Up,e,N(o,$l),t.node,n)
NM(hM.Down,e,N(o,Gl),t.node,n)
return r}
var zM=function(e){return ne(be(e.getElementsByTagName("*")),Hd)}
var BM=function(e,t){return{node:e.node,before:_M(e,t)<LM(e,t)}}
var PM=function(e,t,n){var r=gM(zM(e))
var o=ne(r,N(AM,n))
var a=MM(o,t)
if(a){var i=!Xr(a.node)&&!io(a.node)
a=MM(RM(e,a,i),t)
if(a&&Hd(a.node))return BM(a,t)}return null}
var IM=function(e,t){e.selection.setRng(t)
Vp(e,e.selection.getRng())}
var HM=function(e,t,n){return W.some(jD(e,t,n))}
var FM=function(e,t,n,r,o,a){var i=t===vm.Forwards
var u=Om(e.getBody())
var c=N(lm,i?u.next:u.prev)
var s=i?r:o
if(!n.collapsed){var l=Kl(n)
if(a(l))return ID(t,e,l,t===vm.Backwards,false)}var f=um(t,e.getBody(),n)
if(s(f))return FD(e,f.getNode(!i))
var v=eD(i,c(f))
var d=ii(n)
if(!v)return d?W.some(n):W.none()
if(s(v))return ID(t,e,v.getNode(!i),i,false)
var m=c(v)
if(m&&s(m)&&fm(v,m))return ID(t,e,m.getNode(!i),i,false)
if(d)return HM(e,v.toRange(),false)
return W.none()}
var VM=function(e,t,n,r,o,a){var i=um(t,e.getBody(),n)
var u=Ue(i.getClientRects())
var c=t===hM.Down
if(!u)return W.none()
var s=c?CM:xM
var l=s(e.getBody(),kM(1),i)
var f=ne(l,OM(1))
var v=u.left
var d=MM(f,v)
if(d&&a(d.node)){var m=Math.abs(v-d.left)
var g=Math.abs(v-d.right)
return ID(t,e,d.node,m<g,false)}var h
h=r(i)?i.getNode():o(i)?i.getNode(true):Kl(n)
if(h){var p=SM(t,e.getBody(),kM(1),h)
var b=MM(ne(p,OM(1)),v)
if(b)return HM(e,b.position.toRange(),false)
b=Ue(ne(p,OM(0)))
if(b)return HM(e,b.position.toRange(),false)}if(0===f.length)return jM(e,c).filter(c?o:r).map((function(t){return jD(e,t.toRange(),false)}))
return W.none()}
var jM=function(e,t){var n=e.selection.getRng()
var r=e.getBody()
if(t){var o=Cf.fromRangeEnd(n)
var a=uM(r,o)
return pe(a.positions)}o=Cf.fromRangeStart(n)
a=iM(r,o)
return he(a.positions)}
var UM=function(e,t,n){return jM(e,t).filter(n).exists((function(t){e.selection.setRng(t.toRange())
return true}))}
var WM=function(e,t){var n=e.dom.createRng()
n.setStart(t.container(),t.offset())
n.setEnd(t.container(),t.offset())
e.selection.setRng(n)}
var qM=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")}
var $M=function(e,t,n){return EA(t,n).map((function(t){WM(e,t)
return n}))}
var GM=function(e,t,n){var r=e.getBody()
var o=Cf.fromRangeStart(e.selection.getRng())
var a=N(XL,e)
var i=XA(n,a,r,o)
return i.bind((function(n){return $M(e,t,n)}))}
var XM=function(e,t,n){var r=J(gl(yn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom}))
var o=ne(r,e)
var a=ne(n,e)
Q(ve(o,a),N(qM,false))
Q(ve(a,o),N(qM,true))}
var KM=function(e,t){if(e.selection.isCollapsed()&&true!==e.composing&&t.get()){var n=Cf.fromRangeStart(e.selection.getRng())
if(Cf.isTextPosition(n)&&false===QL(n)){WM(e,Ed(t.get(),n))
t.set(null)}}}
var ZM=function(e,t,n,r){if(t.selection.isCollapsed()){var o=ne(r,e)
Q(o,(function(r){var o=Cf.fromRangeStart(t.selection.getRng())
IA(e,t.getBody(),o).bind((function(e){return $M(t,n,e)}))}))}}
var YM=function(e,t,n){return!!Xv(e)&&GM(e,t,n).isSome()}
var JM=function(e,t,n){return!!Xv(t)&&YA(e,t)}
var QM=function(e){var t=Fs(null)
var n=N(XL,e)
e.on("NodeChange",(function(r){if(Xv(e)&&!(Qt.browser.isIE()&&r.initial)){XM(n,e.dom,r.parents)
KM(e,t)
ZM(n,e,t,r.parents)}}))
return t}
var eN=N(JM,true)
var tN=N(JM,false)
var nN=function(e,t,n){if(Xv(e)){var r=jM(e,t).getOrThunk((function(){var n=e.selection.getRng()
return t?Cf.fromRangeEnd(n):Cf.fromRangeStart(n)}))
return IA(N(XL,e),e.getBody(),r).exists((function(t){var r=VA(t)
return EA(n,r).exists((function(t){WM(e,t)
return true}))}))}return false}
var rN=function(e,t){var n=document.createRange()
n.setStart(e.container(),e.offset())
n.setEnd(t.container(),t.offset())
return n}
var oN=function(e){return Il(Hm(e),Fm(e),(function(t,n){var r=eD(true,t)
var o=eD(false,n)
return Pm(e,r).forall((function(e){return e.isEqual(o)}))})).getOr(true)}
var aN=function(e,t){return function(n){return EA(t,n).exists((function(t){WM(e,t)
return true}))}}
var iN=function(e,t,n,r){var o=e.getBody()
var a=N(XL,e)
e.undoManager.ignore((function(){e.selection.setRng(rN(n,r))
e.execCommand("Delete")
IA(a,o,Cf.fromRangeStart(e.selection.getRng())).map(jA).map(aN(e,t))}))
e.nodeChanged()}
var uN=function(e,t){var n=Yd(t,e)
return n||e}
var cN=function(e,t,n,r){var o=uN(e.getBody(),r.container())
var a=N(XL,e)
var i=IA(a,o,r)
return i.bind((function(e){return n?e.fold(A(W.some(jA(e))),W.none,A(W.some(VA(e))),W.none):e.fold(W.none,A(W.some(VA(e))),W.none,A(W.some(jA(e))))})).map(aN(e,t)).getOrThunk((function(){var u=Rm(n,o,r)
var c=u.bind((function(e){return IA(a,o,e)}))
return Il(i,c,(function(){return YL(a,o,r).exists((function(t){if(oN(t)){xx(e,n,yn.fromDom(t))
return true}return false}))})).orThunk((function(){return c.bind((function(o){return u.map((function(o){n?iN(e,t,r,o):iN(e,t,o,r)
return true}))}))})).getOr(false)}))}
var sN=function(e,t,n){if(e.selection.isCollapsed()&&Xv(e)){var r=Cf.fromRangeStart(e.selection.getRng())
return cN(e,t,n,r)}return false}
var lN=function(e,t){var n=gw(t,e)
return ue(n,Ea).fold(A(n),(function(e){return n.slice(0,e)}))}
var fN=function(e){return 1===tr(e).length}
var vN=function(e,t,n,r){var o=N(IS,t)
var a=J(ne(r,o),(function(e){return e.dom}))
if(0===a.length)xx(t,e,n)
else{var i=PS(n.dom,a)
t.selection.setRng(i.toRange())}}
var dN=function(e,t){var n=yn.fromDom(e.getBody())
var r=yn.fromDom(e.selection.getStart())
var o=ne(lN(n,r),fN)
return pe(o).exists((function(n){var r=Cf.fromRangeStart(e.selection.getRng())
if(uD(t,r,n.dom)&&!HS(n)){vN(t,e,n,o)
return true}return false}))}
var mN=function(e,t){return!!e.selection.isCollapsed()&&dN(e,t)}
var gN=function(e,t,n){e._selectionOverrides.hideFakeCaret()
xx(e,t,yn.fromDom(n))
return true}
var hN=function(e,t){var n=t?nw:rw
var r=t?vm.Forwards:vm.Backwards
var o=um(r,e.getBody(),e.selection.getRng())
return n(o)?gN(e,t,o.getNode(!t)):W.from(eD(t,o)).filter((function(e){return n(e)&&fm(o,e)})).exists((function(n){return gN(e,t,n.getNode(!t))}))}
var pN=function(e,t){var n=e.selection.getNode()
return!!io(n)&&gN(e,t,n)}
var bN=function(e,t){return e.selection.isCollapsed()?hN(e,t):pN(e,t)}
var yN=function(e){return Yo(e,(function(e){return ro(e.dom)||oo(e.dom)})).exists((function(e){return ro(e.dom)}))}
var wN=function(e){var t=parseInt(e,10)
return isNaN(t)?0:t}
var xN=function(e,t){var n=e||_a(t)?"margin":"padding"
var r="rtl"===yo(t,"direction")?"-right":"-left"
return n+r}
var CN=function(e,t,n,r,o,a){var i=xN(n,yn.fromDom(a))
if("outdent"===t){var u=Math.max(0,wN(a.style[i])-r)
e.setStyle(a,i,u?u+o:"")}else{u=wN(a.style[i])+r+o
e.setStyle(a,i,u)}}
var SN=function(e,t){return le(t,(function(t){var n=xN(zv(e),t)
var r=xo(t,n).map(wN).getOr(0)
var o=e.dom.getContentEditable(t.dom)
return"false"!==o&&r>0}))}
var kN=function(e){var t=EN(e)
return!e.mode.isReadOnly()&&(t.length>1||SN(e,t))}
var ON=function(e){return Ma(e)||Na(e)}
var TN=function(e){return Xn(e).map(ON).getOr(false)}
var EN=function(e){return ne(J(e.selection.getSelectedBlocks(),yn.fromDom),(function(e){return!ON(e)&&!TN(e)&&yN(e)}))}
var _N=function(e,t){var n=e.dom,r=e.selection,o=e.formatter
var a=Bv(e)
var i=/[a-z%]+$/i.exec(a)[0]
var u=parseInt(a,10)
var c=zv(e)
var s=dv(e)
e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==s||n.getParent(r.getNode(),n.isBlock)||o.apply("div")
Q(EN(e),(function(e){CN(n,t,c,u,i,e.dom)}))}
var LN=function(e,t){if(e.selection.isCollapsed()&&kN(e)){var n=e.dom
var r=e.selection.getRng()
var o=Cf.fromRangeStart(r)
var a=n.getParent(r.startContainer,n.isBlock)
if(null!==a&&ww(yn.fromDom(a),o)){_N(e,"outdent")
return true}}return false}
var DN=function(e,t){e.getDoc().execCommand(t,false,null)}
var AN=function(e,t){if(LN(e))return
if(dA(e,false))return
if(XD(e,false))return
if(sN(e,t,false))return
if(_D(e,false))return
if(lC(e))return
if(gA(e,false))return
if(bN(e,false))return
if(zD(e))return
if(mN(e,false))return
DN(e,"Delete")
iD(e)}
var MN=function(e,t){if(dA(e,true))return
if(XD(e,true))return
if(sN(e,t,true))return
if(_D(e,true))return
if(lC(e))return
if(gA(e,true))return
if(bN(e,true))return
if(zD(e))return
if(mN(e,true))return
DN(e,"ForwardDelete")}
var NN=function(e,t){e.addCommand("delete",(function(){AN(e,t)}))
e.addCommand("forwardDelete",(function(){MN(e,t)}))}
var RN=5
var zN=400
var BN=function(e){if(void 0===e.touches||1!==e.touches.length)return W.none()
return W.some(e.touches[0])}
var PN=function(e,t){var n=Math.abs(e.clientX-t.x)
var r=Math.abs(e.clientY-t.y)
return n>RN||r>RN}
var IN=function(e){var t=Fs(W.none())
var n=Fs(false)
var r=nl((function(t){e.fire("longpress",We(We({},t),{type:"longpress"}))
n.set(true)}),zN)
e.on("touchstart",(function(e){BN(e).each((function(o){r.cancel()
var a={x:o.clientX,y:o.clientY,target:e.target}
r.throttle(e)
n.set(false)
t.set(W.some(a))}))}),true)
e.on("touchmove",(function(o){r.cancel()
BN(o).each((function(r){t.get().each((function(o){if(PN(r,o)){t.set(W.none())
n.set(false)
e.fire("longpresscancel")}}))}))}),true)
e.on("touchend touchcancel",(function(o){r.cancel()
if("touchcancel"===o.type)return
t.get().filter((function(e){return e.target.isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():e.fire("tap",We(We({},o),{type:"tap"}))}))}),true)}
var HN=function(e,t){return e.hasOwnProperty(t.nodeName)}
var FN=function(e,t){return!!Yr(t)||!!Vr(t)&&(!HN(e,t)&&!lg(t))}
var VN=function(e,t,n){return Y(mw(yn.fromDom(n),yn.fromDom(t)),(function(t){return HN(e,t.dom)}))}
var jN=function(e,t){if(Yr(t)){if(0===t.nodeValue.length)return true
if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||HN(e,t.nextSibling)))return true}return false}
var UN=function(e){var t=e.dom,n=e.selection
var r=e.schema,o=r.getBlockElements()
var a=n.getStart()
var i=e.getBody()
var u,c,s
var l=dv(e)
if(!a||!Vr(a)||!l)return
var f=i.nodeName.toLowerCase()
if(!r.isValidChild(f,l.toLowerCase())||VN(o,i,a))return
var v=n.getRng()
var d=v.startContainer
var m=v.startOffset
var g=v.endContainer
var h=v.endOffset
var p=Jb(e)
a=i.firstChild
while(a)if(FN(o,a)){if(jN(o,a)){c=a
a=a.nextSibling
t.remove(c)
continue}if(!u){u=t.create(l,mv(e))
a.parentNode.insertBefore(u,a)
s=true}c=a
a=a.nextSibling
u.appendChild(c)}else{u=null
a=a.nextSibling}if(s&&p){v.setStart(d,m)
v.setEnd(g,h)
n.setRng(v)
e.nodeChanged()}}
var WN=function(e){dv(e)&&e.on("NodeChange",N(UN,e))}
var qN=function(e){return ta(yn.fromDom(e.getBody()),"*[data-mce-caret]").fold(A(null),(function(e){return e.dom}))}
var $N=function(e){e.selection.setRng(e.selection.getRng())}
var GN=function(e,t){if(t.hasAttribute("data-mce-caret")){ai(t)
$N(e)
e.selection.scrollIntoView(t)}}
var XN=function(e,t){var n=qN(e)
if(!n)return
if("compositionstart"===t.type){t.preventDefault()
t.stopPropagation()
GN(e,n)
return}if(Za(n)){GN(e,n)
e.undoManager.add()}}
var KN=function(e){e.on("keyup compositionstart",N(XN,e))}
var ZN=oo
var YN=function(e,t,n){return FM(t,e,n,iw,uw,ZN)}
var JN=function(e,t,n){var r=function(e){return iw(e)||ow(e)}
var o=function(e){return uw(e)||aw(e)}
return VM(t,e,n,r,o,ZN)}
var QN=function(e){var t=e.dom.create(dv(e));(!Qt.ie||Qt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">')
return t}
var eR=function(e,t,n){var r=Om(e.getBody())
var o=N(lm,1===t?r.next:r.prev)
if(n.collapsed&&id(e)){var a=e.dom.getParent(n.startContainer,"PRE")
if(!a)return
var i=o(Cf.fromRangeStart(n))
if(!i){var u=QN(e)
1===t?e.$(a).after(u):e.$(a).before(u)
e.selection.select(u,true)
e.selection.collapse()}}}
var tR=function(e,t){var n=t?vm.Forwards:vm.Backwards
var r=e.selection.getRng()
return YN(n,e,r).orThunk((function(){eR(e,n,r)
return W.none()}))}
var nR=function(e,t){var n=t?1:-1
var r=e.selection.getRng()
return JN(n,e,r).orThunk((function(){eR(e,n,r)
return W.none()}))}
var rR=function(e,t){return tR(e,t).exists((function(t){IM(e,t)
return true}))}
var oR=function(e,t){return nR(e,t).exists((function(t){IM(e,t)
return true}))}
var aR=function(e,t){var n=t?uw:iw
return UM(e,t,n)}
var iR=function(e){return Z(["figcaption"],Bn(e))}
var uR=function(e){var t=document.createRange()
t.setStartBefore(e.dom)
t.setEndBefore(e.dom)
return t}
var cR=function(e,t,n){n?yr(e,t):br(e,t)}
var sR=function(e,t){var n=yn.fromTag("br")
cR(e,n,t)
return uR(n)}
var lR=function(e,t,n,r){var o=yn.fromTag(n)
var a=yn.fromTag("br")
lo(o,r)
yr(o,a)
cR(e,o,t)
return uR(a)}
var fR=function(e,t,n,r){return""===t?sR(e,r):lR(e,r,t,n)}
var vR=function(e,t){var n=N(Mn,t)
return Yo(yn.fromDom(e.container()),Ea,n).filter(iR)}
var dR=function(e,t,n){return t?sM(e.dom,n):cM(e.dom,n)}
var mR=function(e,t){var n=yn.fromDom(e.getBody())
var r=Cf.fromRangeStart(e.selection.getRng())
var o=dv(e)
var a=mv(e)
return vR(r,n).exists((function(){if(dR(n,t,r)){var i=fR(n,o,a,t)
e.selection.setRng(i)
return true}return false}))}
var gR=function(e,t){return!!e.selection.isCollapsed()&&mR(e,t)}
var hR=function(e){return J(e,(function(e){return We({shiftKey:false,altKey:false,ctrlKey:false,metaKey:false,keyCode:0,action:_},e)}))}
var pR=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey}
var bR=function(e,t){return se(hR(e),(function(e){return pR(e,t)?[e]:[]}))}
var yR=function(e){var t=[]
for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n]
return function(){return e.apply(null,t)}}
var wR=function(e,t){return ie(bR(e,t),(function(e){return e.action()}))}
var xR=function(e,t){var n=t?vm.Forwards:vm.Backwards
var r=e.selection.getRng()
return FM(e,n,r,nw,rw,io).exists((function(t){IM(e,t)
return true}))}
var CR=function(e,t){var n=t?1:-1
var r=e.selection.getRng()
return VM(e,n,r,nw,rw,io).exists((function(t){IM(e,t)
return true}))}
var SR=function(e,t){var n=t?rw:nw
return UM(e,t,n)}
var kR=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}}
var OR=function(e,t){return se(t,(function(t){var n=kR(jl(t.getBoundingClientRect()),-1)
return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))}
var TR=function(e,t,n){return oe(e,(function(e,r){return e.fold((function(){return W.some(r)}),(function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n))
var a=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n))
return W.some(a<o?r:e)}))}),W.none())}
var ER=function(e,t,n,r,o){var a=gl(yn.fromDom(n),"td,th,caption").map((function(e){return e.dom}))
var i=ne(OR(e,a),(function(e){return t(e,o)}))
return TR(i,r,o).map((function(e){return e.cell}))}
var _R=function(e){return e.bottom}
var LR=function(e){return e.top}
var DR=function(e,t){return e.y<t}
var AR=function(e,t){return e.y>t}
var MR=N(ER,_R,DR)
var NR=N(ER,LR,AR)
var RR=function(e,t){return he(t.getClientRects()).bind((function(t){return MR(e,t.left,t.top)})).bind((function(e){return aM(dM(e),t)}))}
var zR=function(e,t){return pe(t.getClientRects()).bind((function(t){return NR(e,t.left,t.top)})).bind((function(e){return aM(vM(e),t)}))}
var BR=function(e,t,n){return n.breakAt.exists((function(n){return e(t,n).breakAt.isSome()}))}
var PR=function(e){return e.breakType===JA.Wrap&&0===e.positions.length}
var IR=function(e){return e.breakType===JA.Br&&1===e.positions.length}
var HR=function(e,t,n){var r=e(t,n)
return PR(r)||!to(n.getNode())&&IR(r)?!BR(e,t,r):r.breakAt.isNone()}
var FR=N(HR,iM)
var VR=N(HR,uM)
var jR=function(e,t,n){var r=Cf.fromRangeStart(t)
return Bm(!e,n).exists((function(e){return e.isEqual(r)}))}
var UR=function(e,t,n,r){var o=e.selection.getRng()
var a=t?1:-1
if(Pd()&&jR(t,o,n)){ID(a,e,n,!t,false).each((function(t){IM(e,t)}))
return true}return false}
var WR=function(e,t,n){return RR(t,n).orThunk((function(){return he(n.getClientRects()).bind((function(n){return oM(lM(e,Cf.before(t)),n.left)}))})).getOr(Cf.before(t))}
var qR=function(e,t,n){return zR(t,n).orThunk((function(){return he(n.getClientRects()).bind((function(n){return oM(fM(e,Cf.after(t)),n.left)}))})).getOr(Cf.after(t))}
var $R=function(e,t){var n=t.getNode(e)
return Vr(n)&&"TABLE"===n.nodeName?W.some(n):W.none()}
var GR=function(e,t,n,r){var o=dv(t)
o?t.undoManager.transact((function(){var r=yn.fromTag(o)
lo(r,mv(t))
yr(r,yn.fromTag("br"))
e?pr(yn.fromDom(n),r):hr(yn.fromDom(n),r)
var a=t.dom.createRng()
a.setStart(r.dom,0)
a.setEnd(r.dom,0)
IM(t,a)})):IM(t,r.toRange())}
var XR=function(e,t,n){var r=$R(!!t,n)
var o=false===t
r.fold((function(){return IM(e,n.toRange())}),(function(r){return Bm(o,e.getBody()).filter((function(e){return e.isEqual(n)})).fold((function(){return IM(e,n.toRange())}),(function(o){return GR(t,e,r,n)}))}))}
var KR=function(e,t,n,r){var o=e.selection.getRng()
var a=Cf.fromRangeStart(o)
var i=e.getBody()
if(!t&&FR(r,a)){var u=WR(i,n,a)
XR(e,t,u)
return true}if(t&&VR(r,a)){u=qR(i,n,a)
XR(e,t,u)
return true}return false}
var ZR=function(e,t,n){return W.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(r){return W.from(e.dom.getParent(r,"table")).map((function(o){return n(e,t,o,r)}))})).getOr(false)}
var YR=function(e,t){return ZR(e,t,UR)}
var JR=function(e,t){return ZR(e,t,KR)}
var QR=function(e,t,n){var r=Wt().os
wR([{keyCode:Vh.RIGHT,action:yR(rR,e,true)},{keyCode:Vh.LEFT,action:yR(rR,e,false)},{keyCode:Vh.UP,action:yR(oR,e,false)},{keyCode:Vh.DOWN,action:yR(oR,e,true)},{keyCode:Vh.RIGHT,action:yR(YR,e,true)},{keyCode:Vh.LEFT,action:yR(YR,e,false)},{keyCode:Vh.UP,action:yR(JR,e,false)},{keyCode:Vh.DOWN,action:yR(JR,e,true)},{keyCode:Vh.RIGHT,action:yR(xR,e,true)},{keyCode:Vh.LEFT,action:yR(xR,e,false)},{keyCode:Vh.UP,action:yR(CR,e,false)},{keyCode:Vh.DOWN,action:yR(CR,e,true)},{keyCode:Vh.RIGHT,action:yR(YM,e,t,true)},{keyCode:Vh.LEFT,action:yR(YM,e,t,false)},{keyCode:Vh.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:yR(eN,e,t)},{keyCode:Vh.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:yR(tN,e,t)},{keyCode:Vh.UP,action:yR(gR,e,false)},{keyCode:Vh.DOWN,action:yR(gR,e,true)}],n).each((function(e){n.preventDefault()}))}
var ez=function(e,t){e.on("keydown",(function(n){false===n.isDefaultPrevented()&&QR(e,t,n)}))}
var tz=function(e,t,n){wR([{keyCode:Vh.BACKSPACE,action:yR(LN,e,false)},{keyCode:Vh.BACKSPACE,action:yR(dA,e,false)},{keyCode:Vh.DELETE,action:yR(dA,e,true)},{keyCode:Vh.BACKSPACE,action:yR(XD,e,false)},{keyCode:Vh.DELETE,action:yR(XD,e,true)},{keyCode:Vh.BACKSPACE,action:yR(sN,e,t,false)},{keyCode:Vh.DELETE,action:yR(sN,e,t,true)},{keyCode:Vh.BACKSPACE,action:yR(lC,e,false)},{keyCode:Vh.DELETE,action:yR(lC,e,true)},{keyCode:Vh.BACKSPACE,action:yR(gA,e,false)},{keyCode:Vh.DELETE,action:yR(gA,e,true)},{keyCode:Vh.BACKSPACE,action:yR(bN,e,false)},{keyCode:Vh.DELETE,action:yR(bN,e,true)},{keyCode:Vh.BACKSPACE,action:yR(zD,e,false)},{keyCode:Vh.DELETE,action:yR(zD,e,true)},{keyCode:Vh.BACKSPACE,action:yR(_D,e,false)},{keyCode:Vh.DELETE,action:yR(_D,e,true)},{keyCode:Vh.BACKSPACE,action:yR(mN,e,false)},{keyCode:Vh.DELETE,action:yR(mN,e,true)}],n).each((function(e){n.preventDefault()}))}
var nz=function(e,t){wR([{keyCode:Vh.BACKSPACE,action:yR(vA,e)},{keyCode:Vh.DELETE,action:yR(vA,e)}],t)}
var rz=function(e,t){e.on("keydown",(function(n){false===n.isDefaultPrevented()&&tz(e,t,n)}))
e.on("keyup",(function(t){false===t.isDefaultPrevented()&&nz(e,t)}))}
var oz=function(e){while(e){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e
e=e.nextSibling}}
var az=function(e,t){var n,r=t
var o=e.dom
var a=e.schema.getMoveCaretBeforeOnEnterElements()
if(!t)return
if(/^(LI|DT|DD)$/.test(t.nodeName)){var i=oz(t.firstChild)
i&&/^(UL|OL|DL)$/.test(i.nodeName)&&t.insertBefore(o.doc.createTextNode(Ha),t.firstChild)}var u=o.createRng()
t.normalize()
if(t.hasChildNodes()){var c=new ha(t,t)
while(n=c.current()){if(Yr(n)){u.setStart(n,0)
u.setEnd(n,0)
break}if(a[n.nodeName.toLowerCase()]){u.setStartBefore(n)
u.setEndBefore(n)
break}r=n
n=c.next()}if(!n){u.setStart(r,0)
u.setEnd(r,0)}}else if(to(t))if(t.nextSibling&&o.isBlock(t.nextSibling)){u.setStartBefore(t)
u.setEndBefore(t)}else{u.setStartAfter(t)
u.setEndAfter(t)}else{u.setStart(t,0)
u.setEnd(t,0)}e.selection.setRng(u)
Vp(e,u)}
var iz=function(e,t){var n=e.getRoot()
var r,o
r=t
while(r!==n&&"false"!==e.getContentEditable(r)){"true"===e.getContentEditable(r)&&(o=r)
r=r.parentNode}return r!==n?o:n}
var uz=function(e){return W.from(e.dom.getParent(e.selection.getStart(true),e.dom.isBlock))}
var cz=function(e){return uz(e).fold(A(""),(function(e){return e.nodeName.toUpperCase()}))}
var sz=function(e){return uz(e).filter((function(e){return Na(yn.fromDom(e))})).isSome()}
var lz=function(e,t){return e.firstChild&&e.firstChild.nodeName===t}
var fz=function(e){var t
return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e}
var vz=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t}
var dz=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)}
var mz=function(e){return dz(e)&&dz(e.parentNode)}
var gz=function(e){var t=e.parentNode
if(/^(LI|DT|DD)$/.test(t.nodeName))return t
return e}
var hz=function(e,t,n){var r=e[n?"firstChild":"lastChild"]
while(r){if(Vr(r))break
r=r[n?"nextSibling":"previousSibling"]}return r===t}
var pz=function(e,t,n,r,o){var a=e.dom
var i=e.selection.getRng()
if(n===e.getBody())return
mz(n)&&(o="LI")
var u=o?t(o):a.create("BR")
if(hz(n,r,true)&&hz(n,r,false))if(vz(n,"LI")){var c=gz(n)
a.insertAfter(u,c)
fz(n)?a.remove(c):a.remove(n)}else a.replace(u,n)
else if(hz(n,r,true)){if(vz(n,"LI")){a.insertAfter(u,gz(n))
u.appendChild(a.doc.createTextNode(" "))
u.appendChild(n)}else n.parentNode.insertBefore(u,n)
a.remove(r)}else if(hz(n,r,false)){a.insertAfter(u,gz(n))
a.remove(r)}else{n=gz(n)
var s=i.cloneRange()
s.setStartAfter(r)
s.setEndAfter(n)
var l=s.extractContents()
if("LI"===o&&lz(l,"LI")){u=l.firstChild
a.insertAfter(l,n)}else{a.insertAfter(l,n)
a.insertAfter(u,n)}a.remove(r)}az(e,u)}
var bz=function(e){Q(ml(yn.fromDom(e),Vn),(function(e){var t=e.dom
t.nodeValue=Wa(t.nodeValue)}))}
var yz=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)}
var wz=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}
var xz=function(e){e.innerHTML='<br data-mce-bogus="1">'}
var Cz=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t}
var Sz=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)}
var kz=function(e,t,n){var r=n
var o=[]
var a
if(!r)return
while(r=r.firstChild){if(e.isBlock(r))return
Vr(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}a=o.length
while(a--){r=o[a];(!r.hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue||yz(e,r))&&e.remove(r)}}
var Oz=function(e,t,n){return false===Yr(t)?n:e?1===n&&t.data.charAt(n-1)===ja?0:n:n===t.data.length-1&&t.data.charAt(n)===ja?t.data.length:n}
var Tz=function(e){var t=e.cloneRange()
t.setStart(e.startContainer,Oz(true,e.startContainer,e.startOffset))
t.setEnd(e.endContainer,Oz(false,e.endContainer,e.endOffset))
return t}
var Ez=function(e){do{Yr(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,""))
e=e.firstChild}while(e)}
var _z=function(e,t){var n=e.getRoot()
var r,o
r=t
while(r!==n&&"false"!==e.getContentEditable(r)){"true"===e.getContentEditable(r)&&(o=r)
r=r.parentNode}return r!==n?o:n}
var Lz=function(e,t,n){var r=e.dom
W.from(n.style).map(r.parseStyle).each((function(e){var n=Co(yn.fromDom(t))
var o=We(We({},n),e)
r.setStyles(t,o)}))
var o=W.from(n.class).map((function(e){return e.split(/\s+/)}))
var a=W.from(t.className).map((function(e){return ne(e.split(/\s+/),(function(e){return""!==e}))}))
Il(o,a,(function(e,n){var o=ne(n,(function(t){return!Z(e,t)}))
var a=$e(e,o)
r.setAttrib(t,"class",a.join(" "))}))
var i=["style","class"]
var u=_e(n,(function(e,t){return!Z(i,t)}))
r.setAttribs(t,u)}
var Dz=function(e,t){var n=dv(e)
if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=mv(e)
Lz(e,t,r)}}
var Az=function(e,t,n,r,o){var a,i,u,c,s,l
var f=t||"P"
var v=e.dom,d=_z(v,r)
i=v.getParent(r,v.isBlock)
if(!i||!Sz(v,i)){i=i||d
l=i===e.getBody()||wz(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase()
if(!i.hasChildNodes()){a=v.create(f)
Dz(e,a)
i.appendChild(a)
n.setStart(a,0)
n.setEnd(a,0)
return a}c=r
while(c.parentNode!==i)c=c.parentNode
while(c&&!v.isBlock(c)){u=c
c=c.previousSibling}if(u&&e.schema.isValidChild(l,f.toLowerCase())){a=v.create(f)
Dz(e,a)
u.parentNode.insertBefore(a,u)
c=u
while(c&&!v.isBlock(c)){s=c.nextSibling
a.appendChild(c)
c=s}n.setStart(r,o)
n.setEnd(r,o)}}return r}
var Mz=function(e,t){t.normalize()
var n=t.lastChild
n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",true))||e.add(t,"br")}
var Nz=function(e,t){var n,r,o,a
var i,u,c,s,l,f
var v=e.dom
var d=e.schema,m=d.getNonEmptyElements()
var g=e.selection.getRng()
var h=function(t){var n,o,i,u=r
var c=d.getTextInlineElements()
n=t||"TABLE"===s||"HR"===s?v.create(t||l):a.cloneNode(false)
i=n
if(false===pv(e)){v.setAttrib(n,"style",null)
v.setAttrib(n,"class",null)}else do{if(c[u.nodeName]){if(jm(u)||lg(u))continue
o=u.cloneNode(false)
v.setAttrib(o,"id","")
if(n.hasChildNodes()){o.appendChild(n.firstChild)
n.appendChild(o)}else{i=o
n.appendChild(o)}}}while((u=u.parentNode)&&u!==x)
Dz(e,n)
xz(i)
return n}
var p=function(e){var t,n
var i=Oz(e,r,o)
if(Yr(r)&&(e?i>0:i<r.nodeValue.length))return false
if(r.parentNode===a&&f&&!e)return true
if(e&&Vr(r)&&r===a.firstChild)return true
if(Cz(r,"TABLE")||Cz(r,"HR"))return f&&!e||!f&&e
var u=new ha(r,a)
Yr(r)&&(e&&0===i?u.prev():e||i!==r.nodeValue.length||u.next())
while(t=u.current()){if(Vr(t)){if(!t.getAttribute("data-mce-bogus")){n=t.nodeName.toLowerCase()
if(m[n]&&"br"!==n)return false}}else if(Yr(t)&&!Si(t.nodeValue))return false
e?u.prev():u.next()}return true}
var b=function(){i=/^(H[1-6]|PRE|FIGURE)$/.test(s)&&"HGROUP"!==C?h(l):h()
bv(e)&&Sz(v,c)&&v.isEmpty(a)?i=v.split(c,a):v.insertAfter(i,a)
az(e,i)}
up(v,g).each((function(e){g.setStart(e.startContainer,e.startOffset)
g.setEnd(e.endContainer,e.endOffset)}))
r=g.startContainer
o=g.startOffset
l=dv(e)
var y=!!(t&&t.shiftKey)
var w=!!(t&&t.ctrlKey)
if(Vr(r)&&r.hasChildNodes()){f=o>r.childNodes.length-1
r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r
o=f&&Yr(r)?r.nodeValue.length:0}var x=_z(v,r)
if(!x)return;(l&&!y||!l&&y)&&(r=Az(e,l,g,r,o))
a=v.getParent(r,v.isBlock)
c=a?v.getParent(a.parentNode,v.isBlock):null
s=a?a.nodeName.toUpperCase():""
var C=c?c.nodeName.toUpperCase():""
if("LI"===C&&!w){a=c
c=c.parentNode
s=C}if(/^(LI|DT|DD)$/.test(s)&&v.isEmpty(a)){pz(e,h,c,a,l)
return}if(l&&a===e.getBody())return
l=l||"P"
if(Ga(a)){i=ai(a)
v.isEmpty(a)&&xz(a)
Dz(e,i)
az(e,i)}else if(p())b()
else if(p(true)){i=a.parentNode.insertBefore(h(),a)
az(e,Cz(a,"HR")?i:a)}else{n=Tz(g).cloneRange()
n.setEndAfter(a)
u=n.extractContents()
bz(u)
Ez(u)
i=u.firstChild
v.insertAfter(u,a)
kz(v,m,i)
Mz(v,a)
v.isEmpty(a)&&xz(a)
i.normalize()
if(v.isEmpty(i)){v.remove(i)
b()}else{Dz(e,i)
az(e,i)}}v.setAttrib(i,"id","")
e.fire("NewBlock",{newBlock:i})}
var Rz=function(e,t,n){var r=new ha(t,n)
var o
var a=e.getNonEmptyElements()
while(o=r.next())if(a[o.nodeName.toLowerCase()]||o.length>0)return true}
var zz=function(e,t,n){var r=e.dom.createRng()
if(n){r.setStartBefore(t)
r.setEndBefore(t)}else{r.setStartAfter(t)
r.setEndAfter(t)}e.selection.setRng(r)
Vp(e,r)}
var Bz=function(e,t){var n=e.selection
var r=e.dom
var o=n.getRng()
var a
var i
up(r,o).each((function(e){o.setStart(e.startContainer,e.startOffset)
o.setEnd(e.endContainer,e.endOffset)}))
var u=o.startOffset
var c=o.startContainer
if(1===c.nodeType&&c.hasChildNodes()){var s=u>c.childNodes.length-1
c=c.childNodes[Math.min(u,c.childNodes.length-1)]||c
u=s&&3===c.nodeType?c.nodeValue.length:0}var l=r.getParent(c,r.isBlock)
var f=l?r.getParent(l.parentNode,r.isBlock):null
var v=f?f.nodeName.toUpperCase():""
var d=!!(t&&t.ctrlKey)
"LI"!==v||d||(l=f)
if(c&&3===c.nodeType&&u>=c.nodeValue.length&&!Rz(e.schema,c,l)){a=r.create("br")
o.insertNode(a)
o.setStartAfter(a)
o.setEndAfter(a)
i=true}a=r.create("br")
Tf(r,o,a)
zz(e,a,i)
e.undoManager.add()}
var Pz=function(e,t){var n=yn.fromTag("br")
hr(yn.fromDom(t),n)
e.undoManager.add()}
var Iz=function(e,t){Fz(e.getBody(),t)||pr(yn.fromDom(t),yn.fromTag("br"))
var n=yn.fromTag("br")
pr(yn.fromDom(t),n)
zz(e,n.dom,false)
e.undoManager.add()}
var Hz=function(e){return to(e.getNode())}
var Fz=function(e,t){return!!Hz(Cf.after(t))||Pm(e,Cf.after(t)).map((function(e){return to(e.getNode())})).getOr(false)}
var Vz=function(e){return e&&"A"===e.nodeName&&"href"in e}
var jz=function(e){return e.fold(I,Vz,Vz,I)}
var Uz=function(e){var t=N(XL,e)
var n=Cf.fromRangeStart(e.selection.getRng())
return IA(t,e.getBody(),n).filter(jz)}
var Wz=function(e,t){t.fold(_,N(Pz,e),N(Iz,e),_)}
var qz=function(e,t){var n=Uz(e)
n.isSome()?n.each(N(Wz,e)):Bz(e,t)}
var $z=function(e,t){return uz(e).filter((function(e){return t.length>0&&_n(yn.fromDom(e),t)})).isSome()}
var Gz=function(e){return $z(e,gv(e))}
var Xz=function(e){return $z(e,hv(e))}
var Kz=Go.generate([{br:[]},{block:[]},{none:[]}])
var Zz=function(e,t){return Xz(e)}
var Yz=function(e){return function(t,n){var r=""===dv(t)
return r===e}}
var Jz=function(e){return function(t,n){return sz(t)===e}}
var Qz=function(e,t){return function(n,r){var o=cz(n)===e.toUpperCase()
return o===t}}
var eB=function(e){return Qz("pre",e)}
var tB=function(){return Qz("summary",true)}
var nB=function(e){return function(t,n){return vv(t)===e}}
var rB=function(e,t){return Gz(e)}
var oB=function(e,t){return t}
var aB=function(e){var t=dv(e)
var n=iz(e.dom,e.selection.getStart())
return n&&e.schema.isValidChild(n.nodeName,t||"P")}
var iB=function(e,t){return function(n,r){var o=oe(e,(function(e,t){return e&&t(n,r)}),true)
return o?W.some(t):W.none()}}
var uB=function(e,t){return _A([iB([Zz],Kz.none()),iB([tB()],Kz.br()),iB([eB(true),nB(false),oB],Kz.br()),iB([eB(true),nB(false)],Kz.block()),iB([eB(true),nB(true),oB],Kz.block()),iB([eB(true),nB(true)],Kz.br()),iB([Jz(true),oB],Kz.br()),iB([Jz(true)],Kz.block()),iB([Yz(true),oB,aB],Kz.block()),iB([Yz(true)],Kz.br()),iB([rB],Kz.br()),iB([Yz(false),oB],Kz.br()),iB([aB],Kz.block())],[e,!!(t&&t.shiftKey)]).getOr(Kz.none())}
var cB=function(e,t){uB(e,t).fold((function(){qz(e,t)}),(function(){Nz(e,t)}),_)}
var sB=function(e,t){if(t.isDefaultPrevented())return
t.preventDefault()
$O(e.undoManager)
e.undoManager.transact((function(){false===e.selection.isCollapsed()&&e.execCommand("Delete")
cB(e,t)}))}
var lB=function(e){e.on("keydown",(function(t){t.keyCode===Vh.ENTER&&sB(e,t)}))}
var fB=function(e,t,n){wR([{keyCode:Vh.END,action:yR(aR,e,true)},{keyCode:Vh.HOME,action:yR(aR,e,false)},{keyCode:Vh.END,action:yR(SR,e,true)},{keyCode:Vh.HOME,action:yR(SR,e,false)},{keyCode:Vh.END,action:yR(nN,e,true,t)},{keyCode:Vh.HOME,action:yR(nN,e,false,t)}],n).each((function(e){n.preventDefault()}))}
var vB=function(e,t){e.on("keydown",(function(n){false===n.isDefaultPrevented()&&fB(e,t,n)}))}
var dB=Wt().browser
var mB=function(e){var t=tl((function(){e.composing||Yw(e)}),0)
if(dB.isIE()){e.on("keypress",(function(e){t.throttle()}))
e.on("remove",(function(e){t.cancel()}))}}
var gB=function(e){mB(e)
e.on("input",(function(t){false===t.isComposing&&Yw(e)}))}
var hB=Wt()
var pB=function(e,t,n){wR([{keyCode:Vh.PAGE_UP,action:yR(nN,e,false,t)},{keyCode:Vh.PAGE_DOWN,action:yR(nN,e,true,t)}],n)}
var bB=function(e){return e.stopImmediatePropagation()}
var yB=function(e){return e.keyCode===Vh.PAGE_UP||e.keyCode===Vh.PAGE_DOWN}
var wB=function(e,t,n){n&&!e.get()?t.on("NodeChange",bB,true):!n&&e.get()&&t.off("NodeChange",bB)
e.set(n)}
var xB=function(e,t){if(hB.os.isOSX())return
var n=Fs(false)
e.on("keydown",(function(t){yB(t)&&wB(n,e,true)}))
e.on("keyup",(function(r){false===r.isDefaultPrevented()&&pB(e,t,r)
if(yB(r)&&n.get()){wB(n,e,false)
e.nodeChanged()}}))}
var CB=function(e,t){var n=t.container()
var r=t.offset()
if(Yr(n)){n.insertData(r,e)
return W.some(Cf(n,r+e.length))}return cm(t).map((function(n){var r=yn.fromText(e)
t.isAtEnd()?pr(n,r):hr(n,r)
return Cf(r.dom,e.length)}))}
var SB=N(CB,Ha)
var kB=N(CB," ")
var OB=function(e){return function(t){return t.fold((function(t){return Im(e.dom,Cf.before(t))}),(function(e){return Hm(e)}),(function(e){return Fm(e)}),(function(t){return Pm(e.dom,Cf.after(t))}))}}
var TB=function(e,t){return function(n){return Hw(e,n)?SB(t):kB(t)}}
var EB=function(e){return function(t){e.selection.setRng(t.toRange())
e.nodeChanged()
return true}}
var _B=function(e){var t=Cf.fromRangeStart(e.selection.getRng())
var n=yn.fromDom(e.getBody())
if(e.selection.isCollapsed()){var r=N(XL,e)
var o=Cf.fromRangeStart(e.selection.getRng())
return IA(r,e.getBody(),o).bind(OB(n)).bind(TB(n,t)).exists(EB(e))}return false}
var LB=function(e,t){wR([{keyCode:Vh.SPACEBAR,action:yR(_B,e)}],t).each((function(e){t.preventDefault()}))}
var DB=function(e){e.on("keydown",(function(t){false===t.isDefaultPrevented()&&LB(e,t)}))}
var AB=function(e){var t=QM(e)
KN(e)
ez(e,t)
rz(e,t)
lB(e)
DB(e)
gB(e)
vB(e,t)
xB(e,t)
return t}
var MB=function(e){return cT(e)?Fs(null):AB(e)}
var NB=function(){function e(e){this.lastPath=[]
this.editor=e
var t
var n=this
"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(n){var r=e.selection.getRng()
var o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset}
"nodechange"!==n.type&&Kh(o,t)||e.fire("SelectionChange")
t=o}))
e.on("contextmenu",(function(){e.fire("SelectionChange")}))
e.on("SelectionChange",(function(){var t=e.selection.getStart(true)
if(!t||!Qt.range&&e.selection.isCollapsed())return
dh(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:true})}))
e.on("mouseup",(function(t){!t.isDefaultPrevented()&&dh(e)&&("IMG"===e.selection.getNode().nodeName?va.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}e.prototype.nodeChanged=function(e){var t=this.editor.selection
var n,r,o
if(this.editor.initialized&&t&&!cd(this.editor)&&!this.editor.mode.isReadOnly()){o=this.editor.getBody()
n=t.getStart(true)||o
n.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,o)||(n=o)
r=[]
this.editor.dom.getParent(n,(function(e){if(e===o)return true
r.push(e)}))
e=e||{}
e.element=n
e.parents=r
this.editor.fire("NodeChange",e)}}
e.prototype.isSameElementPath=function(e){var t
var n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e)
if(n.length===this.lastPath.length){for(t=n.length;t>=0;t--)if(n[t]!==this.lastPath[t])break
if(-1===t){this.lastPath=n
return true}}this.lastPath=n
return false}
return e}()
var RB=function(e){e.on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}))}
var zB=function(e){e.parser.addNodeFilter("details",(function(e){Q(e,(function(e){e.attr("data-mce-open",e.attr("open"))
e.attr("open","open")}))}))
e.serializer.addNodeFilter("details",(function(e){Q(e,(function(e){var t=e.attr("data-mce-open")
e.attr("open",b(t)?t:null)
e.attr("data-mce-open",null)}))}))}
var BB=function(e){RB(e)
zB(e)}
var PB=function(e){return Vr(e)&&Aa(yn.fromDom(e))}
var IB=function(e){var t=e.selection.getRng()
var n=Cf.fromRangeStart(t)
var r=Cf.fromRangeEnd(t)
if(Cf.isElementPosition(n)){var o=n.container()
PB(o)&&Hm(o).each((function(e){return t.setStart(e.container(),e.offset())}))}if(Cf.isElementPosition(r)){o=n.container()
PB(o)&&Fm(o).each((function(e){return t.setEnd(e.container(),e.offset())}))}e.selection.setRng(dC(t))}
var HB=function(e){e.on("click",(function(t){t.detail>=3&&IB(e)}))}
var FB=function(){var e=Fs(W.none())
var t=function(){return e.set(W.none())}
var n=function(t){return e.set(W.some(t))}
var r=function(){return e.get().isSome()}
var o=function(t){return e.get().each(t)}
return{clear:t,set:n,isSet:r,on:o}}
var VB=function(e){var t=e.getBoundingClientRect()
var n=e.ownerDocument
var r=n.documentElement
var o=n.defaultView
return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}}
var jB=function(e){return e.inline?VB(e.getBody()):{left:0,top:0}}
var UB=function(e){var t=e.getBody()
return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}
var WB=function(e){var t=e.getBody(),n=e.getDoc().documentElement
var r={left:t.scrollLeft,top:t.scrollTop}
var o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop}
return e.inline?r:o}
var qB=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=VB(e.getContentAreaContainer())
var r=WB(e)
return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}}
var $B=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}}
var GB=function(e,t){return $B(jB(e),UB(e),qB(e,t))}
var XB=oo,KB=ro
var ZB=function(e,t){return XB(t)&&t!==e}
var YB=function(e,t,n){if(t===n||e.dom.isChildOf(t,n))return false
return!XB(t)}
var JB=function(e){var t=e.cloneNode(true)
t.removeAttribute("data-mce-selected")
return t}
var QB=function(e,t,n,r){var o=e.dom
var a=t.cloneNode(true)
o.setStyles(a,{width:n,height:r})
o.setAttrib(a,"data-mce-selected",null)
var i=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"})
o.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r})
o.setStyles(a,{margin:0,boxSizing:"border-box"})
i.appendChild(a)
return i}
var eP=function(e,t){e.parentNode!==t&&t.appendChild(e)}
var tP=function(e,t,n,r,o,a){var i=0,u=0
e.style.left=t.pageX+"px"
e.style.top=t.pageY+"px"
t.pageX+n>o&&(i=t.pageX+n-o)
t.pageY+r>a&&(u=t.pageY+r-a)
e.style.width=n-i+"px"
e.style.height=r-u+"px"}
var nP=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}
var rP=function(e){return 0===e.button}
var oP=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}
var aP=function(e,t){return function(n){if(rP(n)){var r=ie(t.dom.getParents(n.target),Ql(XB,KB)).getOr(null)
if(ZB(t.getBody(),r)){var o=t.dom.getPos(r)
var a=t.getBody()
var i=t.getDoc().documentElement
e.set({element:r,dragging:false,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?a.scrollWidth:i.offsetWidth)-2,maxY:(t.inline?a.scrollHeight:i.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:QB(t,r,r.offsetWidth,r.offsetHeight)})}}}}
var iP=function(e,t){var n=va.throttle((function(e,n){t._selectionOverrides.hideFakeCaret()
t.selection.placeCaretAt(e,n)}),0)
t.on("remove",n.stop)
return function(r){return e.on((function(e){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY))
if(!e.dragging&&o>10){var a=t.fire("dragstart",{target:e.element})
if(a.isDefaultPrevented())return
e.dragging=true
t.focus()}if(e.dragging){var i=oP(e,GB(t,r))
eP(e.ghost,t.getBody())
tP(e.ghost,i,e.width,e.height,e.maxX,e.maxY)
n(r.clientX,r.clientY)}}))}}
var uP=function(e){var t=e.getSel().getRangeAt(0)
var n=t.startContainer
return 3===n.nodeType?n.parentNode:n}
var cP=function(e,t){return function(n){e.on((function(e){if(e.dragging&&YB(t,uP(t.selection),e.element)){var r=JB(e.element)
var o=t.fire("drop",{clientX:n.clientX,clientY:n.clientY})
o.isDefaultPrevented()||t.undoManager.transact((function(){nP(e.element)
t.insertContent(t.dom.getOuterHTML(r))
t._selectionOverrides.hideFakeCaret()}))}}))
lP(e)}}
var sP=function(e,t){return function(){e.on((function(e){e.dragging&&t.fire("dragend")}))
lP(e)}}
var lP=function(e){e.on((function(e){nP(e.ghost)}))
e.clear()}
var fP=function(e){var t=FB()
var n=As.DOM
var r=document
var o=aP(t,e)
var a=iP(t,e)
var i=cP(t,e)
var u=sP(t,e)
e.on("mousedown",o)
e.on("mousemove",a)
e.on("mouseup",i)
n.bind(r,"mousemove",a)
n.bind(r,"mouseup",u)
e.on("remove",(function(){n.unbind(r,"mousemove",a)
n.unbind(r,"mouseup",u)}))}
var vP=function(e){e.on("drop",(function(t){var n="undefined"!==typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(XB(n)||"false"===e.dom.getContentEditableParent(n))&&t.preventDefault()}))}
var dP=function(e){var t=function(t){if(!t.isDefaultPrevented()){var n=t.dataTransfer
if(n&&(Z(n.types,"Files")||n.files.length>0)){t.preventDefault()
"drop"===t.type&&eL(e,"Dropped file type is not supported")}}}
var n=function(n){Ib(e,n.target)&&t(n)}
var r=function(){var r=As.DOM
var o=e.dom
var a=document
var i=e.inline?e.getBody():e.getDoc()
var u=["drop","dragover"]
Q(u,(function(e){r.bind(a,e,n)
o.bind(i,e,t)}))
e.on("remove",(function(){Q(u,(function(e){r.unbind(a,e,n)
o.unbind(i,e,t)}))}))}
e.on("init",(function(){va.setEditorTimeout(e,r,0)}))}
var mP=function(e){fP(e)
vP(e)
dd(e)&&dP(e)}
var gP=function(e){var t=tl((function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var t=e.selection.getRng()
if(t.collapsed){var n=jD(e,t,false)
e.selection.setRng(n)}}}),0)
e.on("focus",(function(){t.throttle()}))
e.on("blur",(function(){t.cancel()}))}
var hP=function(e){e.on("init",(function(){e.on("focusin",(function(t){var n=t.target
if(io(n)){var r=Eh(e.getBody(),n)
var o=oo(r)?r:n
e.selection.getNode()!==o&&FD(e,o).each((function(t){return e.selection.setRng(t)}))}}))}))}
var pP=ro
var bP=oo
var yP=function(e,t){return Eh(e.getBody(),t)}
var wP=function(e){var t=e.selection,n=e.dom
var r=n.isBlock
var o=e.getBody()
var a=Bd(e,o,r,(function(){return Jb(e)}))
var i="sel-"+n.uniqueId()
var u="data-mce-selected"
var c
var s=function(e){return n.hasClass(e,"mce-offscreen-selection")}
var l=function(e){return e!==o&&(bP(e)||io(e))&&n.isChildOf(e,o)}
var f=function(e){return iw(e)||uw(e)||nw(e)||rw(e)}
var v=function(){var e=n.get(i)
return e?e.getElementsByTagName("*")[0]:e}
var d=function(e){e&&t.setRng(e)}
var m=t.getRng
var g=function(n,r,o,i){void 0===i&&(i=true)
var u=e.fire("ShowCaret",{target:r,direction:n,before:o})
if(u.isDefaultPrevented())return null
i&&t.scrollIntoView(r,-1===n)
return a.show(o,r)}
var h=function(e){if(e.hasAttribute("data-mce-caret")){ai(e)
d(m())
t.scrollIntoView(e)}}
var p=function(){e.on("mouseup",(function(t){var n=m()
n.collapsed&&W_(e,t.clientX,t.clientY)&&VD(e,n,false).each(d)}))
e.on("click",(function(r){var o=yP(e,r.target)
if(o){if(bP(o)){r.preventDefault()
e.focus()}pP(o)&&n.isChildOf(o,t.getNode())&&k()}}))
e.on("blur NewBlock",k)
e.on("ResizeWindow FullscreenStateChanged",a.reposition)
var i=function(e){var t=Om(e)
if(!e.firstChild)return false
var n=Cf.before(e.firstChild)
var r=t.next(n)
return r&&!f(r)}
var u=function(e,t){var o=n.getParent(e,r)
var a=n.getParent(t,r)
return o===a}
var h=function(t,o){var a=n.getParent(t,r)
var c=n.getParent(o,r)
if(a&&t!==c&&n.isChildOf(a,c)&&false===bP(yP(e,a)))return true
return a&&!u(a,c)&&i(a)}
e.on("tap",(function(t){var n=t.target
var r=yP(e,n)
if(bP(r)){t.preventDefault()
FD(e,r).each(S)}else l(n)&&FD(e,n).each(S)}),true)
e.on("mousedown",(function(r){var a=r.target
if(a!==o&&"HTML"!==a.nodeName&&!n.isChildOf(a,o))return
if(false===W_(e,r.clientX,r.clientY))return
var i=yP(e,a)
if(i)if(bP(i)){r.preventDefault()
FD(e,i).each(S)}else{k()
if(!(pP(i)&&r.shiftKey)&&!_h(r.clientX,r.clientY,t.getRng())){T()
t.placeCaretAt(r.clientX,r.clientY)}}else if(l(a))FD(e,a).each(S)
else if(false===Hd(a)){k()
T()
var u=PM(o,r.clientX,r.clientY)
if(u&&!h(a,u.node)){r.preventDefault()
var c=g(1,u.node,u.before,false)
e.getBody().focus()
d(c)}}}))
e.on("keypress",(function(e){if(Vh.modifierPressed(e))return
bP(t.getNode())&&e.preventDefault()}))
e.on("GetSelectionRange",(function(e){var t=e.range
if(c){if(!c.parentNode){c=null
return}t=t.cloneRange()
t.selectNode(c)
e.range=t}}))
e.on("SetSelectionRange",(function(e){e.range=w(e.range)
var t=S(e.range,e.forward)
t&&(e.range=t)}))
var p=function(e){return"mcepastebin"===e.id}
e.on("AfterSetSelectionRange",(function(e){var t=e.range
var n=t.startContainer.parentNode
y(t)||p(n)||T()
s(n)||k()}))
e.on("copy",(function(e){var t=e.clipboardData
if(!e.isDefaultPrevented()&&e.clipboardData&&!Qt.ie){var n=v()
if(n){e.preventDefault()
t.clearData()
t.setData("text/html",n.outerHTML)
t.setData("text/plain",n.outerText||n.innerText)}}}))
mP(e)
gP(e)
hP(e)}
var b=function(e){return Ka(e)||ni(e)||ri(e)}
var y=function(e){return b(e.startContainer)||b(e.endContainer)}
var w=function(t){var r=e.schema.getShortEndedElements()
var o=n.createRng()
var a=t.startContainer
var i=t.startOffset
var u=t.endContainer
var c=t.endOffset
Me(r,a.nodeName.toLowerCase())?0===i?o.setStartBefore(a):o.setStartAfter(a):o.setStart(a,i)
Me(r,u.nodeName.toLowerCase())?0===c?o.setEndBefore(u):o.setEndAfter(u):o.setEnd(u,c)
return o}
var x=function(r,o,a){var u=e.$
var c=ta(yn.fromDom(e.getBody()),"#"+i).fold((function(){return u([])}),(function(e){return u([e.dom])}))
if(0===c.length){c=u('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i)
c.appendTo(e.getBody())}var s=n.createRng()
if(o===a&&Qt.ie){c.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(o)
s.setStartAfter(c[0].firstChild.firstChild)
s.setEndAfter(o)}else{c.empty().append(Ha).append(o).append(Ha)
s.setStart(c[0].firstChild,1)
s.setEnd(c[0].lastChild,0)}c.css({top:n.getPos(r,e.getBody()).y})
c[0].focus()
var l=t.getSel()
l.removeAllRanges()
l.addRange(s)
return s}
var C=function(t){var r=t.cloneNode(true)
var o=e.fire("ObjectSelected",{target:t,targetClone:r})
if(o.isDefaultPrevented())return null
var a=x(t,o.targetClone,r)
var i=yn.fromDom(t)
Q(gl(yn.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){Mn(i,e)||go(e,u)}))
n.getAttrib(t,u)||t.setAttribute(u,"1")
c=t
T()
return a}
var S=function(e,t){if(!e)return null
if(e.collapsed){if(!y(e)){var r=t?1:-1
var a=um(r,o,e)
var i=a.getNode(!t)
if(Hd(i))return g(r,i,!!t&&!a.isAtEnd(),false)
var u=a.getNode(t)
if(Hd(u))return g(r,u,!t&&!a.isAtEnd(),false)}return null}var c=e.startContainer
var s=e.startOffset
var f=e.endOffset
if(3===c.nodeType&&0===s&&bP(c.parentNode)){c=c.parentNode
s=n.nodeIndex(c)
c=c.parentNode}if(1!==c.nodeType)return null
if(f===s+1&&c===e.endContainer){var v=c.childNodes[s]
if(l(v))return C(v)}return null}
var k=function(){c&&c.removeAttribute(u)
ta(yn.fromDom(e.getBody()),"#"+i).each(kr)
c=null}
var O=function(){a.destroy()
c=null}
var T=function(){a.hide()}
Qt.ceFalse&&!cT(e)&&p()
return{showCaret:g,showBlockCaretContainer:h,hideFakeCaret:T,destroy:O}}
var xP=function(e){var t=dn.each
var n=Vh.BACKSPACE,r=Vh.DELETE,o=e.dom,a=e.selection,i=e.parser
var u=Qt.gecko,c=Qt.ie,s=Qt.webkit
var l="data:text/mce-internal,"
var f=c?"Text":"URL"
var v=function(t,n){try{e.getDoc().execCommand(t,false,n)}catch(e){}}
var d=function(e){return e.isDefaultPrevented()}
var m=function(t){var n,r
if(t.dataTransfer){e.selection.isCollapsed()&&"IMG"===t.target.tagName&&a.select(t.target)
n=e.selection.getContent()
if(n.length>0){r=l+escape(e.id)+","+escape(n)
t.dataTransfer.setData(f,r)}}}
var g=function(e){var t
if(e.dataTransfer){t=e.dataTransfer.getData(f)
if(t&&t.indexOf(l)>=0){t=t.substr(l.length).split(",")
return{id:unescape(t[0]),html:unescape(t[1])}}}return null}
var h=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",false,{content:t,internal:n}):e.execCommand("mceInsertContent",false,t)}
var p=function(){var t=function(e){var t=o.create("body")
var n=e.cloneContents()
t.appendChild(n)
return a.serializer.serialize(t,{format:"html"})}
var i=function(n){var r=t(n)
var a=o.createRng()
a.selectNode(e.getBody())
var i=t(a)
return r===i}
e.on("keydown",(function(t){var a=t.keyCode
var u,c
if(!d(t)&&(a===r||a===n)){u=e.selection.isCollapsed()
c=e.getBody()
if(u&&!o.isEmpty(c))return
if(!u&&!i(e.selection.getRng()))return
t.preventDefault()
e.setContent("")
c.firstChild&&o.isBlock(c.firstChild)?e.selection.setCursorLocation(c.firstChild,0):e.selection.setCursorLocation(c,0)
e.nodeChanged()}}))}
var b=function(){e.shortcuts.add("meta+a",null,"SelectAll")}
var y=function(){e.inline||o.bind(e.getDoc(),"mousedown mouseup",(function(t){var n
if(t.target===e.getDoc().documentElement){n=a.getRng()
e.getBody().focus()
if("mousedown"===t.type){if(Ka(n.startContainer))return
a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(n)}}))}
var w=function(){e.on("keydown",(function(t){if(!d(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return
if(a.isCollapsed()&&0===a.getRng().startOffset){var r=a.getNode()
var i=r.previousSibling
if("HR"===r.nodeName){o.remove(r)
t.preventDefault()
return}if(i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()){o.remove(i)
t.preventDefault()}}}}))}
var x=function(){Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!d(t)&&"HTML"===t.target.nodeName){var n=e.getBody()
n.blur()
va.setEditorTimeout(e,(function(){n.focus()}))}}))}
var C=function(){e.on("click",(function(t){var n=t.target
if(/^(IMG|HR)$/.test(n.nodeName)&&"false"!==o.getContentEditableParent(n)){t.preventDefault()
e.selection.select(n)
e.nodeChanged()}if("A"===n.nodeName&&o.hasClass(n,"mce-item-anchor")){t.preventDefault()
a.select(n)}}))}
var S=function(){var n=function(){var n=o.getAttribs(a.getStart().cloneNode(false))
return function(){var r=a.getStart()
if(r!==e.getBody()){o.setAttrib(r,"style",null)
t(n,(function(e){r.setAttributeNode(e.cloneNode(true))}))}}}
var r=function(){return!a.isCollapsed()&&o.getParent(a.getStart(),o.isBlock)!==o.getParent(a.getEnd(),o.isBlock)}
e.on("keypress",(function(t){var o
if(!d(t)&&(8===t.keyCode||46===t.keyCode)&&r()){o=n()
e.getDoc().execCommand("delete",false,null)
o()
t.preventDefault()
return false}}))
o.bind(e.getDoc(),"cut",(function(t){var o
if(!d(t)&&r()){o=n()
va.setEditorTimeout(e,(function(){o()}))}}))}
var k=function(){e.on("keydown",(function(e){if(!d(e)&&e.keyCode===n&&a.isCollapsed()&&0===a.getRng().startOffset){var t=a.getNode().previousSibling
if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase()){e.preventDefault()
return false}}}))}
var O=function(){e.on("keydown",(function(t){var n,r
if(d(t)||t.keyCode!==Vh.BACKSPACE)return
n=a.getRng()
var i=n.startContainer
var u=n.startOffset
var c=o.getRoot()
r=i
if(!n.collapsed||0!==u)return
while(r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==c)r=r.parentNode
if("BLOCKQUOTE"===r.tagName){e.formatter.toggle("blockquote",null,r)
n=o.createRng()
n.setStart(i,0)
n.setEnd(i,0)
a.setRng(n)}}))}
var T=function(){var t=function(){v("StyleWithCSS",false)
v("enableInlineTableEditing",false)
Vv(e)||v("enableObjectResizing",false)}
sd(e)||e.on("BeforeExecCommand mousedown",t)}
var E=function(){var n=function(){t(o.select("a"),(function(e){var t=e.parentNode
var n=o.getRoot()
if(t.lastChild===e){while(t&&!o.isBlock(t)){if(t.parentNode.lastChild!==t||t===n)return
t=t.parentNode}o.add(t,"br",{"data-mce-bogus":1})}}))}
e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()}))}
var L=function(){dv(e)&&e.on("init",(function(){v("DefaultParagraphSeparator",dv(e))}))}
var D=function(){e.on("keyup focusin mouseup",(function(e){Vh.modifierPressed(e)||a.normalize()}),true)}
var A=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}
var M=function(){e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()}))}
var N=function(){if(!e.inline){e.contentStyles.push("body {min-height: 150px}")
e.on("click",(function(t){var n
if("HTML"===t.target.nodeName){if(Qt.ie>11){e.getBody().focus()
return}n=e.selection.getRng()
e.getBody().focus()
e.selection.setRng(n)
e.selection.normalize()
e.nodeChanged()}}))}}
var R=function(){Qt.mac&&e.on("keydown",(function(t){if(Vh.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault()
var n=e.selection.getSel()
n.modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))}
var z=function(){v("AutoUrlDetect",false)}
var B=function(){e.on("click",(function(e){var t=e.target
do{if("A"===t.tagName){e.preventDefault()
return}}while(t=t.parentNode)}))
e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}
var P=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))}
var I=function(){i.addNodeFilter("br",(function(e){var t=e.length
while(t--)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}))}
var H=function(){e.on("dragstart",(function(e){m(e)}))
e.on("drop",(function(t){if(!d(t)){var n=g(t)
if(n&&n.id!==e.id){t.preventDefault()
var r=Xh(t.x,t.y,e.getDoc())
a.setRng(r)
h(n.html,true)}}}))}
var F=_
var V=function(){if(!u||e.removed)return false
var t=e.selection.getSel()
return!t||!t.rangeCount||0===t.rangeCount}
var j=function(){if(s){C()
P()
b()
if(Qt.iOS){M()
N()
B()}}if(u){x()
T()
A()
R()}}
var U=function(){O()
p()
Qt.windowsPhone||D()
if(s){y()
C()
L()
P()
k()
I()
if(Qt.iOS){M()
N()
B()}else b()}if(Qt.ie>=11){N()
k()}if(Qt.ie){b()
z()
H()}if(u){w()
x()
S()
T()
E()
A()
R()
k()}}
cT(e)?j():U()
return{refreshContentEditable:F,isHidden:V}}
var CP=As.DOM
var SP=function(e,t){var n=yn.fromDom(e.getBody())
var r=fr(lr(n))
var o=yn.fromTag("style")
so(o,"type","text/css")
yr(o,yn.fromText(t))
yr(r,o)
e.on("remove",(function(){kr(o)}))}
var kP=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0}
var OP=function(e){return _e(e,(function(e){return false===S(e)}))}
var TP=function(e){var t=e.settings
var n=e.editorUpload.blobCache
return OP({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:kP(e),validate:true,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})}
var EP=function(e){var t=e.settings
return We(We({},TP(e)),OP({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))}
var _P=function(e){var t=AE(TP(e),e.schema)
t.addAttributeFilter("src,href,style,tabindex",(function(t,n){var r,o,a=t.length
var i=e.dom
var u="data-mce-"+n
while(a--){r=t[a]
o=r.attr(n)
if(o&&!r.attr(u)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue
if("style"===n){o=i.serializeStyle(i.parseStyle(o),r.name)
o.length||(o=null)
r.attr(u,o)
r.attr(n,o)}else if("tabindex"===n){r.attr(u,o)
r.attr(n,null)}else r.attr(u,e.convertURL(o,n,r.name))}}}))
t.addNodeFilter("script",(function(e){var t=e.length
while(t--){var n=e[t]
var r=n.attr("type")||"no/type"
0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}}))
e.settings.preserve_cdata&&t.addNodeFilter("#cdata",(function(t){var n=t.length
while(n--){var r=t[n]
r.type=8
r.name="#comment"
r.value="[CDATA["+e.dom.encode(r.value)+"]]"}}))
t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){var n=t.length
var r=e.schema.getNonEmptyElements()
while(n--){var o=t[n]
o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new gy("br",1)).shortEnded=true)}}))
return t}
var LP=function(e){e.settings.auto_focus&&va.setEditorTimeout(e,(function(){var t
t=true===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)
t.destroyed||t.focus()}),100)}
var DP=function(e){var t=e.dom.getRoot()
e.inline||dh(e)&&e.selection.getStart(true)!==t||Hm(t).each((function(t){var n=t.getNode()
var r=Xr(n)?Hm(n).getOr(t):t
Qt.browser.isIE()?Sb(e,r.toRange()):e.selection.setRng(r.toRange())}))}
var AP=function(e){e.bindPendingEventDelegates()
e.initialized=true
Ih(e)
e.focus(true)
DP(e)
e.nodeChanged({initial:true})
e.execCallback("init_instance_callback",e)
LP(e)}
var MP=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader}
var NP=function(e,t,n){var r=[new oa((function(n,r){return MP(e).loadAll(t,n,r)}))]
return e.inline?r:r.concat([new oa((function(t,r){return e.ui.styleSheetLoader.loadAll(n,t,r)}))])}
var RP=function(e,t){var n=MP(e)
var r=Iv(e)
var o=function(){n.unloadAll(t)
e.inline||e.ui.styleSheetLoader.unloadAll(r)}
var a=function(){if(e.removed)o()
else{e.on("remove",o)
AP(e)}}
oa.all(NP(e,t,r)).then(a).catch(a)}
var zP=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody()
if(!t.browser_spellcheck&&!t.gecko_spellcheck){n.body.spellcheck=false
CP.setAttrib(r,"spellcheck","false")}e.quirks=xP(e)
Ph(e)
var o=Hv(e)
void 0!==o&&(r.dir=o)
t.protect&&e.on("BeforeSetContent",(function(e){dn.each(t.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))}))
e.on("SetContent",(function(){e.addVisual(e.getBody())}))
cT(e)||e.load({initial:true,format:"html"})
e.startContent=e.getContent({format:"raw"})
e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type}))
if(e.contentStyles.length>0){var a=""
dn.each(e.contentStyles,(function(e){a+=e+"\r\n"}))
e.dom.addStyle(a)}RP(e,e.contentCSS)
t.content_style&&SP(e,t.content_style)}
var BP=function(e,t){var n=e.settings
var r=e.getElement()
var o=e.getDoc()
n.inline||(e.getElement().style.visibility=e.orgVisibility)
if(!t&&!e.inline){o.open()
o.write(e.iframeHTML)
o.close()}if(e.inline){CP.addClass(r,"mce-content-body")
e.contentDocument=o=document
e.contentWindow=window
e.bodyElement=r
e.contentAreaContainer=r}var a=e.getBody()
a.disabled=true
e.readonly=!!n.readonly
if(!e.readonly){e.inline&&"static"===CP.getStyle(a,"position",true)&&(a.style.position="relative")
a.contentEditable=e.getParam("content_editable_state",true)}a.disabled=false
e.editorUpload=kL(e)
e.schema=gu(n)
e.dom=As(o,{keep_values:true,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:true,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Av(e),referrerPolicy:Mv(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}})
e.parser=_P(e)
e.serializer=WE(EP(e),e)
e.selection=QT(e.dom,e.getWin(),e.serializer,e)
e.annotator=Oh(e)
e.formatter=RL(e)
e.undoManager=PL(e)
e._nodeChangeDispatcher=new NB(e)
e._selectionOverrides=wP(e)
IN(e)
BB(e)
cT(e)||HB(e)
var i=MB(e)
NN(e,i)
WN(e)
qL(e)
Bh(e)
lT(e).fold((function(){zP(e)}),(function(t){e.setProgressState(true)
t.then((function(t){e.setProgressState(false)
zP(e)}),(function(t){e.notificationManager.open({type:"error",text:String(t)})
zP(e)}))}))}
var PP=As.DOM
var IP=function(e,t){if(document.domain!==window.location.hostname&&Qt.browser.isIE()){var n=pL("mce")
e[n]=function(){BP(e)}
var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()"
PP.setAttrib(t,"src",r)
return true}return false}
var HP=function(e,t,n,r){var o=yn.fromTag("iframe")
lo(o,r)
lo(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t})
ll(o,"tox-edit-area__iframe")
return o}
var FP=function(e){var t=uv(e)+"<html><head>"
cv(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />')
t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />'
var n=sv(e)
var r=lv(e)
fv(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+fv(e)+'" />')
t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>'
return t}
var VP=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help.")
var r=HP(e.id,n,t.height,iv(e)).dom
r.onload=function(){r.onload=null
e.fire("load")}
var o=IP(e,r)
e.contentAreaContainer=t.iframeContainer
e.iframeElement=r
e.iframeHTML=FP(e)
PP.add(t.iframeContainer,r)
return o}
var jP=function(e,t){var n=VP(e,t)
if(t.editorContainer){PP.get(t.editorContainer).style.display=e.orgDisplay
e.hidden=PP.isHidden(t.editorContainer)}e.getElement().style.display="none"
PP.setAttrib(e.id,"aria-hidden","true")
n||BP(e)}
var UP=As.DOM
var WP=function(e,t,n){var r=K_.get(n)
var o=K_.urls[n]||e.documentBaseUrl.replace(/\/$/,"")
n=dn.trim(n)
if(r&&-1===dn.inArray(t,n)){dn.each(K_.dependencies(n),(function(n){WP(e,t,n)}))
if(e.plugins[n])return
try{var a=new r(e,o,e.$)
e.plugins[n]=a
if(a.init){a.init(e,o)
t.push(n)}}catch(t){uL(e,n,t)}}}
var qP=function(e){return e.replace(/^\-/,"")}
var $P=function(e){var t=[]
dn.each(fd(e).split(/[ ,]/),(function(n){WP(e,t,qP(n))}))}
var GP=function(e){var t=dn.trim(Ov(e))
var n=e.ui.registry.getAll().icons
var r=We(We({},R_.get("default").icons),R_.get(t).icons)
Ce(r,(function(t,r){Me(n,r)||e.ui.registry.addIcon(r,t)}))}
var XP=function(e){var t=$v(e)
if(b(t)){e.settings.theme=qP(t)
var n=Z_.get(t)
e.theme=new n(e,Z_.urls[t])
e.theme.init&&e.theme.init(e,Z_.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}}
var KP=function(e){return e.theme.renderUI()}
var ZP=function(e){var t=e.getElement()
var n=$v(e)
var r=n(e,t)
r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent")
r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer")
r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight
return r}
var YP=function(e){return{editorContainer:e,iframeContainer:e,api:{}}}
var JP=function(e){var t=UP.create("div")
UP.insertAfter(t,e)
return YP(t)}
var QP=function(e){var t=e.getElement()
return e.inline?YP(null):JP(t)}
var eI=function(e){var t=e.getElement()
e.orgDisplay=t.style.display
return b($v(e))?KP(e):T($v(e))?ZP(e):QP(e)}
var tI=function(e,t){var n={show:W.from(t.show).getOr(_),hide:W.from(t.hide).getOr(_),disable:W.from(t.disable).getOr(_),isDisabled:W.from(t.isDisabled).getOr(I),enable:function(){e.mode.isReadOnly()||W.from(t.enable).map(P)}}
e.ui=We(We({},e.ui),n)}
var nI=function(e){e.fire("ScriptsLoaded")
GP(e)
XP(e)
$P(e)
var t=eI(e)
tI(e,W.from(t.api).getOr({}))
var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer}
e.editorContainer=n.editorContainer?n.editorContainer:null
dL(e)
return e.inline?BP(e):jP(e,n)}
var rI=As.DOM
var oI=function(e){return"-"===e.charAt(0)}
var aI=function(e,t){var n=Nv(t)
var r=Rv(t)
if(false===Qs.hasCode(n)&&"en"!==n){var o=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js"
e.add(o,_,void 0,(function(){iL(t,o,n)}))}}
var iI=function(e,t,n,r){var o=$v(t)
if(b(o)){if(!oI(o)&&!Z_.urls.hasOwnProperty(o)){var a=Qv(t)
a?Z_.load(o,t.documentBaseURI.toAbsolute(a)):Z_.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue((function(){Z_.waitFor(o,r)}))}else r()}
var uI=function(e){return W.from(Tv(e)).filter((function(e){return e.length>0})).map((function(e){return{url:e,name:W.none()}}))}
var cI=function(e,t,n){return W.from(t).filter((function(e){return e.length>0&&!R_.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:W.some(t)}}))}
var sI=function(e,t,n){var r=cI(t,"default",n)
var o=uI(t).orThunk((function(){return cI(t,Ov(t),"")}))
Q(Pl([r,o]),(function(n){e.add(n.url,_,void 0,(function(){aL(t,n.url,n.name.getOrUndefined())}))}))}
var lI=function(e,t){dn.each(vd(e),(function(t,n){K_.load(n,t,_,void 0,(function(){oL(e,t,n)}))
e.settings.plugins+=" "+n}))
dn.each(fd(e).split(/[ ,]/),(function(n){n=dn.trim(n)
if(n&&!K_.urls[n])if(oI(n)){n=n.substr(1,n.length)
var r=K_.dependencies(n)
dn.each(r,(function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"}
var o=K_.createUrl(r,n)
K_.load(o.resource,o,_,void 0,(function(){oL(e,o.prefix+o.resource+o.suffix,o.resource)}))}))}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"}
K_.load(n,o,_,void 0,(function(){oL(e,o.prefix+o.resource+o.suffix,n)}))}}))}
var fI=function(e,t){var n=Hs.ScriptLoader
iI(n,e,t,(function(){aI(n,e)
sI(n,e,t)
lI(e,t)
n.loadQueue((function(){e.removed||nI(e)}),e,(function(){e.removed||nI(e)}))}))}
var vI=function(e,t){return ga.forElement(e,{contentCssCors:ld(t),referrerPolicy:Mv(t)})}
var dI=function(e){var t=e.id
Qs.setCode(Nv(e))
var n=function(){rI.unbind(window,"ready",n)
e.render()}
if(!Lu.Event.domLoaded){rI.bind(window,"ready",n)
return}if(!e.getElement())return
if(!Qt.contentEditable)return
var r=yn.fromDom(e.getElement())
var o=ho(r)
e.on("remove",(function(){ee(r.dom.attributes,(function(e){return go(r,e.name)}))
lo(r,o)}))
e.ui.styleSheetLoader=vI(r,e)
if(ed(e))e.inline=true
else{e.orgVisibility=e.getElement().style.visibility
e.getElement().style.visibility="hidden"}var a=e.getElement().form||rI.getParent(t,"form")
if(a){e.formElement=a
if(td(e)&&!Zr(e.getElement())){rI.insertAfter(rI.create("input",{type:"hidden",name:t}),t)
e.hasHiddenInput=true}e.formEventDelegate=function(t){e.fire(t.type,t)}
rI.bind(a,"submit reset",e.formEventDelegate)
e.on("reset",(function(){e.resetContent()}))
if(nd(e)&&!a.submit.nodeType&&!a.submit.length&&!a._mceOldSubmit){a._mceOldSubmit=a.submit
a.submit=function(){e.editorManager.triggerSave()
e.setDirty(false)
return a._mceOldSubmit(a)}}}e.windowManager=J_(e)
e.notificationManager=X_(e)
rd(e)&&e.on("GetContent",(function(e){e.save&&(e.content=rI.encode(e.content))}))
od(e)&&e.on("submit",(function(){e.initialized&&e.save()}))
if(ad(e)){e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:true,set_dirty:false})}
e.editorManager.on("BeforeUnload",e._beforeUnload)}e.editorManager.add(e)
fI(e,e.suffix)}
var mI=function(e,t){return PT(e,t)}
var gI={"font-size":"size","font-family":"face"}
var hI=function(e,t,n){var r=function(t){return xo(t,e).orThunk((function(){return"font"===Bn(t)?Ae(gI,e).bind((function(e){return vo(t,e)})):W.none()}))}
var o=function(e){return Mn(yn.fromDom(t),e)}
return uS(yn.fromDom(n),(function(e){return r(e)}),o)}
var pI=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}
var bI=function(e,t){return W.from(As.DOM.getStyle(t,e,true))}
var yI=function(e){return function(t,n){return W.from(n).map(yn.fromDom).filter(Fn).bind((function(n){return hI(e,t,n.dom).or(bI(e,n.dom))})).getOr("")}}
var wI=yI("font-size")
var xI=L(pI,yI("font-family"))
var CI=function(e){return Hm(e.getBody()).map((function(e){var t=e.container()
return Yr(t)?t.parentNode:t}))}
var SI=function(e){return W.from(e.selection.getRng()).bind((function(t){var n=e.getBody()
var r=t.startContainer===n&&0===t.startOffset
return r?W.none():W.from(e.selection.getStart(true))}))}
var kI=function(e,t){return SI(e).orThunk(N(CI,e)).map(yn.fromDom).filter(Fn).map(t)}
var OI=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10)
if(n>=1&&n<=7){var r=yv(e)
var o=wv(e)
return o?o[n-1]||t:r[n-1]||t}return t}return t}
var TI=function(e){var t=e.split(/\s*,\s*/)
return J(t,(function(e){return-1===e.indexOf(" ")||st(e,'"')||st(e,"'")?e:"'"+e+"'"})).join(",")}
var EI=function(e,t){var n=OI(e,t)
e.formatter.toggle("fontname",{value:TI(n)})
e.nodeChanged()}
var _I=function(e){return kI(e,(function(t){return xI(e.getBody(),t.dom)})).getOr("")}
var LI=function(e,t){e.formatter.toggle("fontsize",{value:OI(e,t)})
e.nodeChanged()}
var DI=function(e){return kI(e,(function(t){return wI(e.getBody(),t.dom)})).getOr("")}
var AI=function(e){return kI(e,(function(t){var n=yn.fromDom(e.getBody())
var r=uS(t,(function(e){return xo(e,"line-height")}),N(Mn,n))
var o=function(){var e=parseFloat(yo(t,"line-height"))
var n=parseFloat(yo(t,"font-size"))
return String(e/n)}
return r.getOrThunk(o)})).getOr("")}
var MI=function(e,t){e.formatter.toggle("lineheight",{value:String(t)})
e.nodeChanged()}
var NI=function(e){var t
if("string"!==typeof e){t=dn.extend({paste:e.paste,data:{paste:e.paste}},e)
return{content:e.content,details:t}}return{content:e,details:{}}}
var RI=function(e,t){var n=NI(t)
zT(e,n.content,n.details)}
var zI=dn.each
var BI=dn.map,PI=dn.inArray
var II=function(){function e(e){this.commands={state:{},exec:{},value:{}}
this.editor=e
this.setupCommands(e)}e.prototype.execCommand=function(e,t,n,r){var o,a=false
var i=this
if(i.editor.removed)return;/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Ob(i.editor):i.editor.focus()
r=i.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n})
if(r.isDefaultPrevented())return false
var u=e.toLowerCase()
if(o=i.commands.exec[u]){o(u,t,n)
i.editor.fire("ExecCommand",{command:e,ui:t,value:n})
return true}zI(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(e,t,n)){i.editor.fire("ExecCommand",{command:e,ui:t,value:n})
a=true
return false}}))
if(a)return a
if(i.editor.theme&&i.editor.theme.execCommand&&i.editor.theme.execCommand(e,t,n)){i.editor.fire("ExecCommand",{command:e,ui:t,value:n})
return true}try{a=i.editor.getDoc().execCommand(e,t,n)}catch(e){}if(a){i.editor.fire("ExecCommand",{command:e,ui:t,value:n})
return true}return false}
e.prototype.queryCommandState=function(e){var t
if(this.editor.quirks.isHidden()||this.editor.removed)return
e=e.toLowerCase()
if(t=this.commands.state[e])return t(e)
try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return false}
e.prototype.queryCommandValue=function(e){var t
if(this.editor.quirks.isHidden()||this.editor.removed)return
e=e.toLowerCase()
if(t=this.commands.value[e])return t(e)
try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}
e.prototype.addCommands=function(e,t){void 0===t&&(t="exec")
var n=this
zI(e,(function(e,r){zI(r.toLowerCase().split(","),(function(r){n.commands[t][r]=e}))}))}
e.prototype.addCommand=function(e,t,n){var r=this
e=e.toLowerCase()
this.commands.exec[e]=function(e,o,a,i){return t.call(n||r.editor,o,a,i)}}
e.prototype.queryCommandSupported=function(e){e=e.toLowerCase()
if(this.commands.exec[e])return true
try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return false}
e.prototype.addQueryStateHandler=function(e,t,n){var r=this
e=e.toLowerCase()
this.commands.state[e]=function(){return t.call(n||r.editor)}}
e.prototype.addQueryValueHandler=function(e,t,n){var r=this
e=e.toLowerCase()
this.commands.value[e]=function(){return t.call(n||r.editor)}}
e.prototype.hasCustomCommand=function(e){e=e.toLowerCase()
return!!this.commands.exec[e]}
e.prototype.execNativeCommand=function(e,t,n){void 0===t&&(t=false)
void 0===n&&(n=null)
return this.editor.getDoc().execCommand(e,t,n)}
e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)}
e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0)
this.editor.nodeChanged()}
e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)}
e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)}
e.prototype.setupCommands=function(e){var t=this
this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":_,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r=e.getDoc()
var o
try{t.execNativeCommand(n)}catch(e){o=true}"paste"!==n||r.queryCommandEnabled(n)||(o=true)
if(o||!r.queryCommandSupported(n)){var a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")
Qt.mac&&(a=a.replace(/Ctrl\+/g,"⌘+"))
e.notificationManager.open({text:a,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a")
t&&e.dom.remove(t,true)
return}e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7)
"full"===r&&(r="justify")
zI("left,center,right,justify".split(","),(function(t){r!==t&&e.formatter.remove("align"+t)}))
"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r
t.execNativeCommand(n)
var o=e.dom.getParent(e.selection.getNode(),"ol,ul")
if(o){r=o.parentNode
if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)){t.storeSelection()
e.dom.split(r,o)
t.restoreSelection()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){EI(e,r)},FontSize:function(t,n,r){LI(e,r)},LineHeight:function(t,n,r){MI(e,r)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark()
e.setContent(e.getContent())
e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var a=o||e.selection.getNode()
if(a!==e.getBody()){t.storeSelection()
e.dom.remove(a,true)
t.restoreSelection()}},mceSelectNodeDepth:function(t,n,r){var o=0
e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&o++===r){e.selection.select(t)
return false}}),e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){RI(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker")
var o=e.getContent()
e.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(t,n,r){cB(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){_N(e,t)},mceRepaint:_,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual
e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",false,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"===typeof r&&(r={href:r})
var o=e.dom.getParent(e.selection.getNode(),"a")
r.href=r.href.replace(/ /g,"%20")
o&&r.href||e.formatter.remove("link")
r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),ro)
if(t){var n=e.dom.createRng()
n.selectNodeContents(t)
e.selection.setRng(n)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){qz(e,r)
return true}})
var n=function(t){return function(){var n=e.selection
var r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks()
var o=BI(r,(function(n){return!!e.formatter.matchNode(n,t)}))
return-1!==PI(o,true)}}
t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return kN(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol")
return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")
t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})
t.addQueryValueHandler("FontName",(function(){return _I(e)}),this)
t.addQueryValueHandler("FontSize",(function(){return DI(e)}),this)
t.addQueryValueHandler("LineHeight",(function(){return AI(e)}),this)}
return e}()
var HI="data-mce-contenteditable"
var FI=function(e,t,n){dl(e,t)&&false===n?vl(e,t):n&&ll(e,t)}
var VI=function(e,t,n){try{e.getDoc().execCommand(t,false,String(n))}catch(e){}}
var jI=function(e,t){e.dom.contentEditable=t?"true":"false"}
var UI=function(e){Q(gl(e,'*[contenteditable="true"]'),(function(e){so(e,HI,"true")
jI(e,false)}))}
var WI=function(e){Q(gl(e,"*["+HI+'="true"]'),(function(e){go(e,HI)
jI(e,true)}))}
var qI=function(e){W.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))}
var $I=function(e){e.selection.setRng(e.selection.getRng())}
var GI=function(e,t){var n=yn.fromDom(e.getBody())
FI(n,"mce-content-readonly",t)
if(t){e.selection.controlSelection.hideResizeRect()
e._selectionOverrides.hideFakeCaret()
qI(e)
e.readonly=true
jI(n,false)
UI(n)}else{e.readonly=false
jI(n,true)
WI(n)
VI(e,"StyleWithCSS",false)
VI(e,"enableInlineTableEditing",false)
VI(e,"enableObjectResizing",false)
Qb(e)&&e.focus()
$I(e)
e.nodeChanged()}}
var XI=function(e){return e.readonly}
var KI=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){XI(e)&&Q(t,(function(e){e.attr(HI,e.attr("contenteditable"))
e.attr("contenteditable","false")}))}))
e.serializer.addAttributeFilter(HI,(function(t){XI(e)&&Q(t,(function(e){e.attr("contenteditable",e.attr(HI))}))}))
e.serializer.addTempAttr(HI)}
var ZI=function(e){e.serializer?KI(e):e.on("PreInit",(function(){KI(e)}))}
var YI=function(e){return"click"===e.type}
var JI=function(e,t){var n=function(t){return Mn(t,yn.fromDom(e.getBody()))}
return na(t,"a",n).bind((function(e){return vo(e,"href")}))}
var QI=function(e,t){if(YI(t)&&!Vh.metaKeyPressed(t)){var n=yn.fromDom(t.target)
JI(e,n).each((function(n){t.preventDefault()
if(/^#/.test(n)){var r=e.dom.select(n+',[name="'+ut(n,"#")+'"]')
r.length&&e.selection.scrollIntoView(r[0],true)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}}
var eH=function(e){e.on("ShowCaret",(function(t){XI(e)&&t.preventDefault()}))
e.on("ObjectSelected",(function(t){XI(e)&&t.preventDefault()}))}
var tH=dn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ")
var nH=function(){function e(e){this.bindings={}
this.settings=e||{}
this.scope=this.settings.scope||this
this.toggleEvent=this.settings.toggleEvent||I}e.isNative=function(e){return!!tH[e.toLowerCase()]}
e.prototype.fire=function(e,t){var n=e.toLowerCase()
var r=t||{}
r.type=n
r.target||(r.target=this.scope)
if(!r.preventDefault){r.preventDefault=function(){r.isDefaultPrevented=H}
r.stopPropagation=function(){r.isPropagationStopped=H}
r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=H}
r.isDefaultPrevented=I
r.isPropagationStopped=I
r.isImmediatePropagationStopped=I}this.settings.beforeFire&&this.settings.beforeFire(r)
var o=this.bindings[n]
if(o)for(var a=0,i=o.length;a<i;a++){var u=o[a]
u.once&&this.off(n,u.func)
if(r.isImmediatePropagationStopped()){r.stopPropagation()
return r}if(false===u.func.call(this.scope,r)){r.preventDefault()
return r}}return r}
e.prototype.on=function(e,t,n,r){false===t&&(t=I)
if(t){var o={func:t}
r&&dn.extend(o,r)
var a=e.toLowerCase().split(" ")
var i=a.length
while(i--){var u=a[i]
var c=this.bindings[u]
if(!c){c=this.bindings[u]=[]
this.toggleEvent(u,true)}n?c.unshift(o):c.push(o)}}return this}
e.prototype.off=function(e,t){var n=this
if(e){var r=e.toLowerCase().split(" ")
var o=r.length
while(o--){var a=r[o]
var i=this.bindings[a]
if(!a){Ce(this.bindings,(function(e,t){n.toggleEvent(t,false)
delete n.bindings[t]}))
return this}if(i){if(t){var u=i.length
while(u--)if(i[u].func===t){i=i.slice(0,u).concat(i.slice(u+1))
this.bindings[a]=i}}else i.length=0
if(!i.length){this.toggleEvent(e,false)
delete this.bindings[a]}}}}else{Ce(this.bindings,(function(e,t){n.toggleEvent(t,false)}))
this.bindings={}}return this}
e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:true})}
e.prototype.has=function(e){e=e.toLowerCase()
return!(!this.bindings[e]||0===this.bindings[e].length)}
return e}()
var rH=function(e){e._eventDispatcher||(e._eventDispatcher=new nH({scope:e,toggleEvent:function(t,n){nH.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}}))
return e._eventDispatcher}
var oH={fire:function(e,t,n){var r=this
if(r.removed&&"remove"!==e&&"detach"!==e)return t
var o=rH(r).fire(e,t)
if(false!==n&&r.parent){var a=r.parent()
while(a&&!o.isPropagationStopped()){a.fire(e,o,false)
a=a.parent()}}return o},on:function(e,t,n){return rH(this).on(e,t,n)},off:function(e,t){return rH(this).off(e,t)},once:function(e,t){return rH(this).once(e,t)},hasEventListeners:function(e){return rH(this).has(e)}}
var aH=As.DOM
var iH
var uH=function(e,t){if("selectionchange"===t)return e.getDoc()
if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement
var n=Wv(e)
if(n){e.eventRoot||(e.eventRoot=aH.select(n)[0])
return e.eventRoot}return e.getBody()}
var cH=function(e){return!e.hidden&&!XI(e)}
var sH=function(e,t,n){cH(e)?e.fire(t,n):XI(e)&&QI(e,n)}
var lH=function(e,t){var n
e.delegates||(e.delegates={})
if(e.delegates[t]||e.removed)return
var r=uH(e,t)
if(Wv(e)){if(!iH){iH={}
e.editorManager.on("removeEditor",(function(){if(!e.editorManager.activeEditor&&iH){Ce(iH,(function(t,n){e.dom.unbind(uH(e,n))}))
iH=null}}))}if(iH[t])return
n=function(n){var r=n.target
var o=e.editorManager.get()
var a=o.length
while(a--){var i=o[a].getBody();(i===r||aH.isChildOf(r,i))&&sH(o[a],t,n)}}
iH[t]=n
aH.bind(r,t,n)}else{n=function(n){sH(e,t,n)}
aH.bind(r,t,n)
e.delegates[t]=n}}
var fH=We(We({},oH),{bindPendingEventDelegates:function(){var e=this
dn.each(e._pendingNativeEvents,(function(t){lH(e,t)}))},toggleNativeEvent:function(e,t){var n=this
if("focus"===e||"blur"===e)return
if(t)n.initialized?lH(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]
else if(n.initialized){n.dom.unbind(uH(n,e),e,n.delegates[e])
delete n.delegates[e]}},unbindAllNativeEvents:function(){var e=this
var t=e.getBody()
var n=e.dom
if(e.delegates){Ce(e.delegates,(function(t,n){e.dom.unbind(uH(e,n),n,t)}))
delete e.delegates}if(!e.inline&&t&&n){t.onload=null
n.unbind(e.getWin())
n.unbind(e.getDoc())}if(n){n.unbind(t)
n.unbind(e.getContainer())}}})
var vH=["design","readonly"]
var dH=function(e,t,n,r){var o=n[t.get()]
var a=n[r]
try{a.activate()}catch(e){console.error("problem while activating editor mode "+r+":",e)
return}o.deactivate()
o.editorReadOnly!==a.editorReadOnly&&GI(e,a.editorReadOnly)
t.set(r)
Nh(e,r)}
var mH=function(e,t,n,r){if(r===n.get())return
if(!Me(t,r))throw new Error("Editor mode '"+r+"' is invalid")
e.initialized?dH(e,n,t,r):e.on("init",(function(){return dH(e,n,t,r)}))}
var gH=function(e,t,n){var r
if(Z(vH,t))throw new Error("Cannot override default mode "+t)
return We(We({},e),(r={},r[t]=We(We({},n),{deactivate:function(){try{n.deactivate()}catch(e){console.error("problem while deactivating editor mode "+t+":",e)}}}),r))}
var hH=function(e){var t=Fs("design")
var n=Fs({design:{activate:_,deactivate:_,editorReadOnly:false},readonly:{activate:_,deactivate:_,editorReadOnly:true}})
ZI(e)
eH(e)
return{isReadOnly:function(){return XI(e)},set:function(r){return mH(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(gH(n.get(),e,t))}}}
var pH=dn.each,bH=dn.explode
var yH={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}
var wH=dn.makeMap("alt,ctrl,shift,meta,access")
var xH=function(e){var t
var n={}
pH(bH(e.toLowerCase(),"+"),(function(e){if(e in wH)n[e]=true
else if(/^[0-9]{2,}$/.test(e))n.keyCode=parseInt(e,10)
else{n.charCode=e.charCodeAt(0)
n.keyCode=yH[e]||e.toUpperCase().charCodeAt(0)}}))
var r=[n.keyCode]
for(t in wH)n[t]?r.push(t):n[t]=false
n.id=r.join(",")
if(n.access){n.alt=true
Qt.mac?n.ctrl=true:n.shift=true}if(n.meta)if(Qt.mac)n.meta=true
else{n.ctrl=true
n.meta=false}return n}
var CH=function(){function e(e){this.shortcuts={}
this.pendingPatterns=[]
this.editor=e
var t=this
e.on("keyup keypress keydown",(function(e){if((t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()){pH(t.shortcuts,(function(n){if(t.matchShortcut(e,n)){t.pendingPatterns=n.subpatterns.slice(0)
"keydown"===e.type&&t.executeShortcutAction(n)
return true}}))
if(t.matchShortcut(e,t.pendingPatterns[0])){1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0])
t.pendingPatterns.shift()}}}))}e.prototype.add=function(e,t,n,r){var o=this
var a=o.normalizeCommandFunc(n)
pH(bH(dn.trim(e)),(function(e){var n=o.createShortcut(e,t,a,r)
o.shortcuts[n.id]=n}))
return true}
e.prototype.remove=function(e){var t=this.createShortcut(e)
if(this.shortcuts[t.id]){delete this.shortcuts[t.id]
return true}return false}
e.prototype.normalizeCommandFunc=function(e){var t=this
var n=e
return"string"===typeof n?function(){t.editor.execCommand(n,false,null)}:dn.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n}
e.prototype.createShortcut=function(e,t,n,r){var o=dn.map(bH(e,">"),xH)
o[o.length-1]=dn.extend(o[o.length-1],{func:n,scope:r||this.editor})
return dn.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})}
e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey}
e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}
e.prototype.matchShortcut=function(e,t){if(!t)return false
if(t.ctrl!==e.ctrlKey||t.meta!==e.metaKey)return false
if(t.alt!==e.altKey||t.shift!==e.shiftKey)return false
if(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode){e.preventDefault()
return true}return false}
e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null}
return e}()
var SH=function(){var e={}
var t={}
var n={}
var r={}
var o={}
var a={}
var i={}
var u=function(e,t){return function(n,r){return e[n.toLowerCase()]=We(We({},r),{type:t})}}
var c=function(e,t){return r[e.toLowerCase()]=t}
return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(a,"contexttoolbar"),addContextForm:u(a,"contextform"),addSidebar:u(i,"sidebar"),addIcon:c,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:a,sidebars:i}}}}
var kH=function(){var e=SH()
return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}}
var OH=dn.each,TH=dn.trim
var EH="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ")
var _H={ftp:21,http:80,https:443,mailto:25}
var LH=function(){function e(t,n){t=TH(t)
this.settings=n||{}
var r=this.settings.base_uri
var o=this
if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){o.source=t
return}var a=0===t.indexOf("//")
0!==t.indexOf("/")||a||(t=(r&&r.protocol||"http")+"://mce_host"+t)
if(!/^[\w\-]*:?\/\//.test(t)){var i=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory
if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+o.toAbsPath(i,t)
else{var u=/([^#?]*)([#?]?.*)/.exec(t)
t=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(i,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)")
var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t)
OH(EH,(function(e,t){var n=c[t]
n&&(n=n.replace(/\(mce_at\)/g,"@@"))
o[e]=n}))
if(r){o.protocol||(o.protocol=r.protocol)
o.userInfo||(o.userInfo=r.userInfo)
o.port||"mce_host"!==o.host||(o.port=r.port)
o.host&&"mce_host"!==o.host||(o.host=r.host)
o.source=""}a&&(o.protocol="")}e.parseDataUri=function(e){var t
var n=decodeURIComponent(e).split(",")
var r=/data:([^;]+)/.exec(n[0])
r&&(t=r[1])
return{type:t,data:n[1]}}
e.getDocumentBaseUrl=function(e){var t
t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname
if(/^[^:]+:\/\/\/?[^\/]+\//.test(t)){t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test(t)||(t+="/")}return t}
e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e)
this.path=t[0]
this.directory=t[1]
this.file=t[2]
this.source=""
this.getURI()}
e.prototype.toRelative=function(t){var n
if("./"===t)return t
var r=new e(t,{base_uri:this})
if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI()
var o=this.getURI(),a=r.getURI()
if(o===a||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===a)return o
n=this.toRelPath(this.path,r.path)
r.query&&(n+="?"+r.query)
r.anchor&&(n+="#"+r.anchor)
return n}
e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this})
return r.getURI(n&&this.isSameOrigin(r))}
e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return true
var t=_H[this.protocol]
if(t&&(this.port||t)==(e.port||t))return true}return false}
e.prototype.toRelPath=function(e,t){var n,r,o=0,a=""
var i=e.substring(0,e.lastIndexOf("/")).split("/")
var u=t.split("/")
if(i.length>=u.length)for(n=0,r=i.length;n<r;n++)if(n>=u.length||i[n]!==u[n]){o=n+1
break}if(i.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=i.length||i[n]!==u[n]){o=n+1
break}if(1===o)return t
for(n=0,r=i.length-(o-1);n<r;n++)a+="../"
for(n=o-1,r=u.length;n<r;n++)a+=n!==o-1?"/"+u[n]:u[n]
return a}
e.prototype.toAbsPath=function(e,t){var n,r,o=0,a=[]
var i=/\/$/.test(t)?"/":""
var u=e.split("/")
var c=t.split("/")
OH(u,(function(e){e&&a.push(e)}))
u=a
for(n=c.length-1,a=[];n>=0;n--){if(0===c[n].length||"."===c[n])continue
if(".."===c[n]){o++
continue}if(o>0){o--
continue}a.push(c[n])}n=u.length-o
r=n<=0?fe(a).join("/"):u.slice(0,n).join("/")+"/"+fe(a).join("/")
0!==r.indexOf("/")&&(r="/"+r)
i&&r.lastIndexOf("/")!==r.length-1&&(r+=i)
return r}
e.prototype.getURI=function(e){void 0===e&&(e=false)
var t
if(!this.source||e){t=""
if(!e){this.protocol?t+=this.protocol+"://":t+="//"
this.userInfo&&(t+=this.userInfo+"@")
this.host&&(t+=this.host)
this.port&&(t+=":"+this.port)}this.path&&(t+=this.path)
this.query&&(t+="?"+this.query)
this.anchor&&(t+="#"+this.anchor)
this.source=t}return this.source}
return e}()
var DH=As.DOM
var AH=dn.extend,MH=dn.each
var NH=dn.resolve
var RH=Qt.ie
var zH=function(){function e(e,t,n){var r=this
this.plugins={}
this.contentCSS=[]
this.contentStyles=[]
this.loadedCSS={}
this.isNotDirty=false
this.editorManager=n
this.documentBaseUrl=n.documentBaseURL
AH(this,fH)
this.settings=__(this,e,this.documentBaseUrl,n.defaultSettings,t)
this.settings.suffix&&(n.suffix=this.settings.suffix)
this.suffix=n.suffix
this.settings.base_url&&n._setBaseUrl(this.settings.base_url)
this.baseUri=n.baseURI
if(this.settings.referrer_policy){Hs.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy)
As.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)}el.languageLoad=this.settings.language_load
el.baseURL=n.baseURL
this.id=e
this.setDirty(false)
this.documentBaseURI=new LH(this.settings.document_base_url,{base_uri:this.baseUri})
this.baseURI=this.baseUri
this.inline=!!this.settings.inline
this.shortcuts=new CH(this)
this.editorCommands=new II(this)
this.settings.cache_suffix&&(Qt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,""))
this.ui={registry:kH(),styleSheetLoader:void 0,show:_,hide:_,enable:_,disable:_,isDisabled:I}
var o=this
var a=hH(o)
this.mode=a
this.setMode=a.set
n.fire("SetupEditor",{editor:this})
this.execCallback("setup",this)
this.$=Ss.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}e.prototype.render=function(){dI(this)}
e.prototype.focus=function(e){ny(this,e)}
e.prototype.hasFocus=function(){return Jb(this)}
e.prototype.execCallback=function(e){var t=[]
for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n]
var r=this
var o,a=r.settings[e]
if(!a)return
if(r.callbackLookup&&(o=r.callbackLookup[e])){a=o.func
o=o.scope}if("string"===typeof a){o=a.replace(/\.\w+$/,"")
o=o?NH(o):0
a=NH(a)
r.callbackLookup=r.callbackLookup||{}
r.callbackLookup[e]={func:a,scope:o}}return a.apply(o||r,t)}
e.prototype.translate=function(e){return Qs.translate(e)}
e.prototype.getParam=function(e,t,n){return M_(this,e,t,n)}
e.prototype.hasPlugin=function(e,t){var n=Z(fd(this).split(/[ ,]/),e)
return!!n&&(!t||void 0!==K_.get(e))}
e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)}
e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)}
e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}
e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}
e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)}
e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)}
e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)}
e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)}
e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)}
e.prototype.show=function(){var e=this
if(e.hidden){e.hidden=false
if(e.inline)e.getBody().contentEditable="true"
else{DH.show(e.getContainer())
DH.hide(e.id)}e.load()
e.fire("show")}}
e.prototype.hide=function(){var e=this,t=e.getDoc()
if(!e.hidden){RH&&t&&!e.inline&&t.execCommand("SelectAll")
e.save()
if(e.inline){e.getBody().contentEditable="false"
e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)}else{DH.hide(e.getContainer())
DH.setStyle(e.id,"display",e.orgDisplay)}e.hidden=true
e.fire("hide")}}
e.prototype.isHidden=function(){return!!this.hidden}
e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})}
e.prototype.load=function(e){var t=this
var n,r=t.getElement()
if(t.removed)return""
if(r){e=e||{}
e.load=true
var o=Zr(r)?r.value:r.innerHTML
n=t.setContent(o,e)
e.element=r
e.no_events||t.fire("LoadContent",e)
e.element=r=null
return n}}
e.prototype.save=function(e){var t=this
var n,r,o=t.getElement()
if(!o||!t.initialized||t.removed)return
e=e||{}
e.save=true
e.element=o
n=e.content=t.getContent(e)
e.no_events||t.fire("SaveContent",e)
"raw"===e.format&&t.fire("RawSaveContent",e)
n=e.content
if(Zr(o))o.value=n
else{!e.is_removing&&t.inline||(o.innerHTML=n);(r=DH.getParent(t.id,"form"))&&MH(r.elements,(function(e){if(e.name===t.id){e.value=n
return false}}))}e.element=o=null
false!==e.set_dirty&&t.setDirty(false)
return n}
e.prototype.setContent=function(e,t){return GE(this,e,t)}
e.prototype.getContent=function(e){return $E(this,e)}
e.prototype.insertContent=function(e,t){t&&(e=AH({content:e},t))
this.execCommand("mceInsertContent",false,e)}
e.prototype.resetContent=function(e){void 0===e?GE(this,this.startContent,{format:"raw"}):GE(this,e)
this.undoManager.reset()
this.setDirty(false)
this.nodeChanged()}
e.prototype.isDirty=function(){return!this.isNotDirty}
e.prototype.setDirty=function(e){var t=!this.isNotDirty
this.isNotDirty=!e
e&&e!==t&&this.fire("dirty")}
e.prototype.getContainer=function(){var e=this
e.container||(e.container=DH.get(e.editorContainer||e.id+"_parent"))
return e.container}
e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer}
e.prototype.getElement=function(){this.targetElm||(this.targetElm=DH.get(this.id))
return this.targetElm}
e.prototype.getWin=function(){var e=this
var t
if(!e.contentWindow){t=e.iframeElement
t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}
e.prototype.getDoc=function(){var e=this
var t
if(!e.contentDocument){t=e.getWin()
t&&(e.contentDocument=t.document)}return e.contentDocument}
e.prototype.getBody=function(){var e=this.getDoc()
return this.bodyElement||(e?e.body:null)}
e.prototype.convertURL=function(e,t,n){var r=this,o=r.settings
if(o.urlconverter_callback)return r.execCallback("urlconverter_callback",e,n,true,t)
if(!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length)return e
if(o.relative_urls)return r.documentBaseURI.toRelative(e)
e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)
return e}
e.prototype.addVisual=function(e){mI(this,e)}
e.prototype.remove=function(){QE(this)}
e.prototype.destroy=function(e){e_(this,e)}
e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)}
e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()}
e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")}
e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")}
e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")}
e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")}
return e}()
var BH=As.DOM
var PH=dn.explode,IH=dn.each,HH=dn.extend
var FH=0,VH=false
var jH
var UH=[]
var WH=[]
var qH=function(e){return"length"!==e}
var $H=function(e){var t=e.type
IH(YH.get(),(function(n){switch(t){case"scroll":n.fire("ScrollWindow",e)
break
case"resize":n.fire("ResizeWindow",e)}}))}
var GH=function(e){if(e!==VH){e?Ss(window).on("resize scroll",$H):Ss(window).off("resize scroll",$H)
VH=e}}
var XH=function(e){var t=WH
delete UH[e.id]
for(var n=0;n<UH.length;n++)if(UH[n]===e){UH.splice(n,1)
break}WH=ne(WH,(function(t){return e!==t}))
YH.activeEditor===e&&(YH.activeEditor=WH.length>0?WH[0]:null)
YH.focusedEditor===e&&(YH.focusedEditor=null)
return t.length!==WH.length}
var KH=function(e){if(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode){XH(e)
e.unbindAllNativeEvents()
e.destroy(true)
e.removed=true
e=null}return e}
var ZH="CSS1Compat"!==document.compatMode
var YH=We(We({},oH),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Ss,majorVersion:"5",minorVersion:"8.1",releaseDate:"2021-05-20",editors:UH,i18n:Qs,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this
var t,n,r=""
n=LH.getDocumentBaseUrl(document.location)
if(/^[^:]+:\/\/\/?[^\/]+\//.test(n)){n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test(n)||(n+="/")}var o=window.tinymce||window.tinyMCEPreInit
if(o){t=o.base||o.baseURL
r=o.suffix}else{var a=document.getElementsByTagName("script")
for(var i=0;i<a.length;i++){var u=a[i].src||""
if(""===u)continue
var c=u.substring(u.lastIndexOf("/"))
if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==c.indexOf(".min")&&(r=".min")
t=u.substring(0,u.lastIndexOf("/"))
break}}if(!t&&document.currentScript){u=document.currentScript.src;-1!==u.indexOf(".min")&&(r=".min")
t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new LH(n).toAbsolute(t)
e.documentBaseURL=n
e.baseURI=new LH(e.baseURL)
e.suffix=r
jb(e)},overrideDefaults:function(e){var t=e.base_url
t&&this._setBaseUrl(t)
var n=e.suffix
e.suffix&&(this.suffix=n)
this.defaultSettings=e
var r=e.plugin_base_urls
void 0!==r&&Ce(r,(function(e,t){el.PluginManager.urls[t]=e}))},init:function(e){var t=this
var n
var r=dn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ")
var o=function(e,t){return e.inline&&t.tagName.toLowerCase()in r}
var a=function(e){var t=e.id
if(!t){t=Ae(e,"name").filter((function(e){return!BH.get(e)})).getOrThunk(BH.uniqueId)
e.setAttribute("id",t)}return t}
var i=function(n){var r=e[n]
if(!r)return
return r.apply(t,[])}
var u=function(e,t){return t.constructor===RegExp?t.test(e.className):BH.hasClass(e,t)}
var c=function(e){var t=[]
if(Qt.browser.isIE()&&Qt.browser.version.major<11){cL("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/")
return[]}if(ZH){cL("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode.")
return[]}if(e.types){IH(e.types,(function(e){t=t.concat(BH.select(e.selector))}))
return t}if(e.selector)return BH.select(e.selector)
if(e.target)return[e.target]
switch(e.mode){case"exact":var n=e.elements||""
n.length>0&&IH(PH(n),(function(e){var n=BH.get(e)
n?t.push(n):IH(document.forms,(function(n){IH(n.elements,(function(n){if(n.name===e){e="mce_editor_"+FH++
BH.setAttrib(n,"id",e)
t.push(n)}}))}))}))
break
case"textareas":case"specific_textareas":IH(BH.select("textarea"),(function(n){if(e.editor_deselector&&u(n,e.editor_deselector))return
e.editor_selector&&!u(n,e.editor_selector)||t.push(n)}))}return t}
var s=function(e){n=e}
var l=function(){var n=0
var r=[]
var u
var f=function(e,o,a){var i=new zH(e,o,t)
r.push(i)
i.on("init",(function(){++n===u.length&&s(r)}))
i.targetElm=i.targetElm||a
i.render()}
BH.unbind(window,"ready",l)
i("onpageload")
u=Ss.unique(c(e))
if(e.types){IH(e.types,(function(t){dn.each(u,(function(n){if(BH.is(n,t.selector)){f(a(n),HH({},e,t),n)
return false}return true}))}))
return}dn.each(u,(function(e){KH(t.get(e.id))}))
u=dn.grep(u,(function(e){return!t.get(e.id)}))
0===u.length?s([]):IH(u,(function(t){o(e,t)?cL("Could not initialize inline editor on invalid inline target element",t):f(a(t),e,t)}))}
t.settings=e
BH.bind(window,"ready",l)
return new oa((function(e){n?e(n):s=function(t){e(t)}}))},get:function(e){return 0===arguments.length?WH.slice(0):b(e)?ie(WH,(function(t){return t.id===e})).getOr(null):E(e)&&WH[e]?WH[e]:null},add:function(e){var t=this
var n=UH[e.id]
if(n===e)return e
if(null===t.get(e.id)){qH(e.id)&&(UH[e.id]=e)
UH.push(e)
WH.push(e)}GH(true)
t.activeEditor=e
t.fire("AddEditor",{editor:e})
if(!jH){jH=function(e){var n=t.fire("BeforeUnload")
if(n.returnValue){e.preventDefault()
e.returnValue=n.returnValue
return n.returnValue}}
window.addEventListener("beforeunload",jH)}return e},createEditor:function(e,t){return this.add(new zH(e,t,this))},remove:function(e){var t=this
var n,r
if(!e){for(n=WH.length-1;n>=0;n--)t.remove(WH[n])
return}if(b(e)){IH(BH.select(e),(function(e){r=t.get(e.id)
r&&t.remove(r)}))
return}r=e
if(x(t.get(r.id)))return null
XH(r)&&t.fire("RemoveEditor",{editor:r})
0===WH.length&&window.removeEventListener("beforeunload",jH)
r.remove()
GH(WH.length>0)
return r},execCommand:function(e,t,n){var r=this,o=r.get(n)
switch(e){case"mceAddEditor":r.get(n)||new zH(n,r.settings,r).render()
return true
case"mceRemoveEditor":o&&o.remove()
return true
case"mceToggleEditor":if(!o){r.execCommand("mceAddEditor",false,n)
return true}o.isHidden()?o.show():o.hide()
return true}if(r.activeEditor)return r.activeEditor.execCommand(e,t,n)
return false},triggerSave:function(){IH(WH,(function(e){e.save()}))},addI18n:function(e,t){Qs.add(e,t)},translate:function(e){return Qs.translate(e)},setActive:function(e){var t=this.activeEditor
if(this.activeEditor!==e){t&&t.fire("deactivate",{relatedTarget:e})
e.fire("activate",{relatedTarget:t})}this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new LH(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,""))
this.baseURI=new LH(this.baseURL)}})
YH.setup()
var JH=Math.min,QH=Math.max,eF=Math.round
var tF=function(e,t,n){var r=t.x
var o=t.y
var a=e.w
var i=e.h
var u=t.w
var c=t.h
var s=(n||"").split("")
"b"===s[0]&&(o+=c)
"r"===s[1]&&(r+=u)
"c"===s[0]&&(o+=eF(c/2))
"c"===s[1]&&(r+=eF(u/2))
"b"===s[3]&&(o-=i)
"r"===s[4]&&(r-=a)
"c"===s[3]&&(o-=eF(i/2))
"c"===s[4]&&(r-=eF(a/2))
return iF(r,o,a,i)}
var nF=function(e,t,n,r){var o,a
for(a=0;a<r.length;a++){o=tF(e,t,r[a])
if(o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[a]}return null}
var rF=function(e,t,n){return iF(e.x-t,e.y-n,e.w+2*t,e.h+2*n)}
var oF=function(e,t){var n=QH(e.x,t.x)
var r=QH(e.y,t.y)
var o=JH(e.x+e.w,t.x+t.w)
var a=JH(e.y+e.h,t.y+t.h)
if(o-n<0||a-r<0)return null
return iF(n,r,o-n,a-r)}
var aF=function(e,t,n){var r=e.x
var o=e.y
var a=e.x+e.w
var i=e.y+e.h
var u=t.x+t.w
var c=t.y+t.h
var s=QH(0,t.x-r)
var l=QH(0,t.y-o)
var f=QH(0,a-u)
var v=QH(0,i-c)
r+=s
o+=l
if(n){a+=s
i+=l
r-=f
o-=v}a-=f
i-=v
return iF(r,o,a-r,i-o)}
var iF=function(e,t,n,r){return{x:e,y:t,w:n,h:r}}
var uF=function(e){return iF(e.left,e.top,e.width,e.height)}
var cF={inflate:rF,relativePosition:tF,findBestRelativePosition:nF,intersect:oF,clamp:aF,create:iF,fromClientRect:uF}
var sF=function(e,t,n){void 0===n&&(n=1e3)
var r=false
var o=null
var a=function(e){return function(){var t=[]
for(var n=0;n<arguments.length;n++)t[n]=arguments[n]
if(!r){r=true
if(null!==o){clearTimeout(o)
o=null}e.apply(null,t)}}}
var i=a(e)
var u=a(t)
var c=function(){var e=[]
for(var t=0;t<arguments.length;t++)e[t]=arguments[t]
r||null!==o||(o=setTimeout((function(){return u.apply(null,e)}),n))}
return{start:c,resolve:i,reject:u}}
var lF=function(){var e={}
var t={}
var n=function(n,r){var o='Script at URL "'+r+'" failed to load'
var a='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second"
if(void 0!==e[n])return e[n]
var i=new oa((function(e,i){var u=sF(e,i)
t[n]=u.resolve
Hs.ScriptLoader.loadScript(r,(function(){return u.start(a)}),(function(){return u.reject(o)}))}))
e[n]=i
return i}
var r=function(n,r){if(void 0!==t[n]){t[n](r)
delete t[n]}e[n]=oa.resolve(r)}
return{load:n,add:r}}
var fF=lF()
var vF=dn.each,dF=dn.extend
var mF,gF
var hF=function(){}
hF.extend=mF=function(e){var t=this
var n=t.prototype
var r=function(){var e,t,n
var r=this
if(!gF){r.init&&r.init.apply(r,arguments)
t=r.Mixins
if(t){e=t.length
while(e--){n=t[e]
n.init&&n.init.apply(r,arguments)}}}}
var o=function(){return this}
var a=function(e,t){return function(){var r=this
var o=r._super
r._super=n[e]
var a=t.apply(r,arguments)
r._super=o
return a}}
gF=true
var i=new t
gF=false
if(e.Mixins){vF(e.Mixins,(function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}))
n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))}e.Methods&&vF(e.Methods.split(","),(function(t){e[t]=o}))
e.Properties&&vF(e.Properties.split(","),(function(t){var n="_"+t
e[t]=function(e){var t=this
if(void 0!==e){t[n]=e
return t}return t[n]}}))
e.Statics&&vF(e.Statics,(function(e,t){r[t]=e}))
e.Defaults&&n.Defaults&&(e.Defaults=dF({},n.Defaults,e.Defaults))
Ce(e,(function(e,t){"function"===typeof e&&n[t]?i[t]=a(t,e):i[t]=e}))
r.prototype=i
r.constructor=r
r.extend=mF
return r}
var pF=Math.min,bF=Math.max,yF=Math.round
var wF=function(e){var t={}
var n=0,r=0,o=0
var a=function(e,t,n){var r,o,a
r=0
o=0
a=0
e/=255
t/=255
n/=255
var i=pF(e,pF(t,n))
var u=bF(e,bF(t,n))
if(i===u){a=i
return{h:0,s:0,v:100*a}}var c=e===i?t-n:n===i?e-t:n-e
r=e===i?3:n===i?1:5
r=60*(r-c/(u-i))
o=(u-i)/u
a=u
return{h:yF(r),s:yF(100*o),v:yF(100*a)}}
var i=function(e,t,a){e=(parseInt(e,10)||0)%360
t=parseInt(t,10)/100
a=parseInt(a,10)/100
t=bF(0,pF(t,1))
a=bF(0,pF(a,1))
if(0===t){n=r=o=yF(255*a)
return}var i=e/60
var u=a*t
var c=u*(1-Math.abs(i%2-1))
var s=a-u
switch(Math.floor(i)){case 0:n=u
r=c
o=0
break
case 1:n=c
r=u
o=0
break
case 2:n=0
r=u
o=c
break
case 3:n=0
r=c
o=u
break
case 4:n=c
r=0
o=u
break
case 5:n=u
r=0
o=c
break
default:n=r=o=0}n=yF(255*(n+s))
r=yF(255*(r+s))
o=yF(255*(o+s))}
var u=function(){var e=function(e){e=parseInt(e,10).toString(16)
return e.length>1?e:"0"+e}
return"#"+e(n)+e(r)+e(o)}
var c=function(){return{r:n,g:r,b:o}}
var s=function(){return a(n,r,o)}
var l=function(e){var a
if("object"===typeof e)if("r"in e){n=e.r
r=e.g
o=e.b}else"v"in e&&i(e.h,e.s,e.v)
else if(a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)){n=parseInt(a[1],10)
r=parseInt(a[2],10)
o=parseInt(a[3],10)}else if(a=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)){n=parseInt(a[1],16)
r=parseInt(a[2],16)
o=parseInt(a[3],16)}else if(a=/#([0-F])([0-F])([0-F])/gi.exec(e)){n=parseInt(a[1]+a[1],16)
r=parseInt(a[2]+a[2],16)
o=parseInt(a[3]+a[3],16)}n=n<0?0:n>255?255:n
r=r<0?0:r>255?255:r
o=o<0?0:o>255?255:o
return t}
e&&l(e)
t.toRgb=c
t.toHsv=s
t.toHex=u
t.parse=l
return t}
var xF=function(e){var t=JSON.stringify(e)
if(!b(t))return t
return t.replace(/[\u0080-\uFFFF]/g,(function(e){var t=e.charCodeAt(0).toString(16)
return"\\u"+"0000".substring(t.length)+t}))}
var CF={serialize:xF,parse:function(e){try{return JSON.parse(e)}catch(e){}}}
var SF={callbacks:{},count:0,send:function(e){var t=this,n=As.DOM,r=void 0!==e.count?e.count:t.count
var o="tinymce_jsonp_"+r
t.callbacks[r]=function(a){n.remove(o)
delete t.callbacks[r]
e.callback(a)}
n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"})
t.count++}}
var kF=We(We({},oH),{send:function(e){var t,n=0
var r=function(){if(!e.async||4===t.readyState||n++>1e4){e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e)
t=null}else va.setTimeout(r,10)}
e.scope=e.scope||this
e.success_scope=e.success_scope||e.scope
e.error_scope=e.error_scope||e.scope
e.async=false!==e.async
e.data=e.data||""
kF.fire("beforeInitialize",{settings:e})
t=new XMLHttpRequest
t.overrideMimeType&&t.overrideMimeType(e.content_type)
t.open(e.type||(e.data?"POST":"GET"),e.url,e.async)
e.crossDomain&&(t.withCredentials=true)
e.content_type&&t.setRequestHeader("Content-Type",e.content_type)
e.requestheaders&&dn.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)}))
t.setRequestHeader("X-Requested-With","XMLHttpRequest")
t=kF.fire("beforeSend",{xhr:t,settings:e}).xhr
t.send(e.data)
if(!e.async)return r()
va.setTimeout(r,10)}})
var OF=dn.extend
var TF=function(){function e(e){this.settings=OF({},e)
this.count=0}e.sendRPC=function(t){return(new e).send(t)}
e.prototype.send=function(e){var t=e.error,n=e.success
var r=OF(this.settings,e)
r.success=function(e,o){e=CF.parse(e)
"undefined"===typeof e&&(e={error:"JSON Parse error."})
e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)}
r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)}
r.data=CF.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params})
r.content_type="application/json"
kF.send(r)}
return e}()
var EF=function(){return function(){var e={}
var t=[]
var n={getItem:function(t){var n=e[t]
return n||null},setItem:function(n,r){t.push(n)
e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter((function(e){return e===n}))
delete e[n]},clear:function(){t=[]
e={}},length:0}
Object.defineProperty(n,"length",{get:function(){return t.length},configurable:false,enumerable:false})
return n}()}
var _F
try{var LF="__storage_test__"
_F=window.localStorage
_F.setItem(LF,LF)
_F.removeItem(LF)}catch(e){_F=EF()}var DF=_F
var AF={geom:{Rect:cF},util:{Promise:oa,Delay:va,Tools:dn,VK:Vh,URI:LH,Class:hF,EventDispatcher:nH,Observable:oH,I18n:Qs,XHR:kF,JSON:CF,JSONRequest:TF,JSONP:SF,LocalStorage:DF,Color:wF,ImageUploader:CL},dom:{EventUtils:Lu,Sizzle:Ac,DomQuery:Ss,TreeWalker:ha,TextSeeker:Bl,DOMUtils:As,ScriptLoader:Hs,RangeUtils:lp,Serializer:WE,StyleSheetLoader:da,ControlSelection:Uh,BookmarkManager:Th,Selection:QT,Event:Lu.Event},html:{Styles:pu,Entities:ou,Node:gy,Schema:gu,SaxParser:Ey,DomParser:AE,Writer:Py,Serializer:Iy},Env:Qt,AddOnManager:el,Annotator:Oh,Formatter:RL,UndoManager:PL,EditorCommands:II,WindowManager:J_,NotificationManager:X_,EditorObservable:fH,Shortcuts:CH,Editor:zH,FocusManager:Eb,EditorManager:YH,DOM:As.DOM,ScriptLoader:Hs.ScriptLoader,PluginManager:K_,ThemeManager:Z_,IconManager:R_,Resource:fF,trim:dn.trim,isArray:dn.isArray,is:dn.is,toArray:dn.toArray,makeMap:dn.makeMap,each:dn.each,map:dn.map,grep:dn.grep,inArray:dn.inArray,extend:dn.extend,create:dn.create,walk:dn.walk,createNS:dn.createNS,resolve:dn.resolve,explode:dn.explode,_addCacheSuffix:dn._addCacheSuffix,isOpera:Qt.opera,isWebKit:Qt.webkit,isIE:Qt.ie,isGecko:Qt.gecko,isMac:Qt.mac}
var MF=dn.extend(YH,AF)
var NF=function(t){try{e.exports=t}catch(e){}}
var RF=function(e){window.tinymce=e
window.tinyMCE=e}
RF(MF)
NF(MF)})()}).call(this,n("yLpj"),n("URgk").setImmediate)},Gtfj:function(e,t,n){(function(e){(function(){"use strict"
var t=function(e){var t=typeof e
return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}
var n=function(e){return function(n){return t(n)===e}}
var r=function(e){return function(t){return typeof t===e}}
var o=function(e){return function(t){return e===t}}
var a=n("string")
var i=n("object")
var u=n("array")
var c=r("boolean")
var s=o(void 0)
var l=function(e){return null===e||void 0===e}
var f=function(e){return!l(e)}
var v=r("function")
var d=r("number")
var m=function(e,t){if(u(e)){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return false
return true}return false}
var g=function(){}
var h=function(e){return function(){return e()}}
var p=function(e,t){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return e(t.apply(null,n))}}
var b=function(e,t){return function(n){return e(t(n))}}
var y=function(e){return function(){return e}}
var w=function(e){return e}
function x(e){var t=[]
for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=t.concat(n)
return e.apply(null,o)}}var C=function(e){return function(t){return!e(t)}}
var S=function(e){return function(){throw new Error(e)}}
var k=y(false)
var O=y(true)
var T=tinymce.util.Tools.resolve("tinymce.ThemeManager")
var E=function(){E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n]
for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}
return E.apply(this,arguments)}
function _(e,t){var n={}
for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r])
if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0
for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function L(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length
var r=Array(e),o=0
for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var D=function(){return A}
var A=function(){var e=function(e){return e.isNone()}
var t=function(e){return e()}
var n=function(e){return e}
var r={fold:function(e,t){return e()},is:k,isSome:k,isNone:O,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:n,orThunk:t,map:D,each:g,bind:D,exists:k,forall:O,filter:D,equals:e,equals_:e,toArray:function(){return[]},toString:y("none()")}
return r}()
var M=function(e){var t=y(e)
var n=function(){return o}
var r=function(t){return t(e)}
var o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:O,isNone:k,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return M(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:A},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(k,(function(t){return n(e,t)}))}}
return o}
var N=function(e){return null===e||void 0===e?A:M(e)}
var R={some:M,none:D,from:N}
var z=Array.prototype.slice
var B=Array.prototype.indexOf
var P=Array.prototype.push
var I=function(e,t){return B.call(e,t)}
var H=function(e,t){var n=I(e,t)
return-1===n?R.none():R.some(n)}
var F=function(e,t){return I(e,t)>-1}
var V=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
if(t(o,n))return true}return false}
var j=function(e,t){var n=[]
for(var r=0;r<e;r++)n.push(t(r))
return n}
var U=function(e,t){var n=[]
for(var r=0;r<e.length;r+=t){var o=z.call(e,r,r+t)
n.push(o)}return n}
var W=function(e,t){var n=e.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=e[o]
r[o]=t(a,o)}return r}
var q=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
t(o,n)}}
var $=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n]
t(r,n)}}
var G=function(e,t){var n=[]
var r=[]
for(var o=0,a=e.length;o<a;o++){var i=e[o]
var u=t(i,o)?n:r
u.push(i)}return{pass:n,fail:r}}
var X=function(e,t){var n=[]
for(var r=0,o=e.length;r<o;r++){var a=e[r]
t(a,r)&&n.push(a)}return n}
var K=function(e,t,n){$(e,(function(e){n=t(n,e)}))
return n}
var Z=function(e,t,n){q(e,(function(e){n=t(n,e)}))
return n}
var Y=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r]
if(t(a,r))return R.some(a)
if(n(a,r))break}return R.none()}
var J=function(e,t){return Y(e,t,k)}
var Q=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
if(t(o,n))return R.some(n)}return R.none()}
var ee=function(e){var t=[]
for(var n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)
P.apply(t,e[n])}return t}
var te=function(e,t){return ee(W(e,t))}
var ne=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n]
if(true!==t(o,n))return false}return true}
var re=function(e){var t=z.call(e,0)
t.reverse()
return t}
var oe=function(e,t){return X(e,(function(e){return!F(t,e)}))}
var ae=function(e,t){var n={}
for(var r=0,o=e.length;r<o;r++){var a=e[r]
n[String(a)]=t(a,r)}return n}
var ie=function(e,t){var n=z.call(e,0)
n.sort(t)
return n}
var ue=function(e,t){return t>=0&&t<e.length?R.some(e[t]):R.none()}
var ce=function(e){return ue(e,0)}
var se=function(e){return ue(e,e.length-1)}
var le=v(Array.from)?Array.from:function(e){return z.call(e)}
var fe=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n)
if(r.isSome())return r}return R.none()}
var ve=function(e){var t=function(t){return e===t}
var n=function(t){return ve(e)}
var r=function(t){return ve(e)}
var o=function(t){return ve(t(e))}
var a=function(t){return ve(e)}
var i=function(t){t(e)}
var u=function(t){return t(e)}
var c=function(t,n){return n(e)}
var s=function(t){return t(e)}
var l=function(t){return t(e)}
var f=function(){return R.some(e)}
return{is:t,isValue:O,isError:k,getOr:y(e),getOrThunk:y(e),getOrDie:y(e),or:n,orThunk:r,fold:c,map:o,mapError:a,each:i,bind:u,exists:s,forall:l,toOptional:f}}
var de=function(e){var t=function(e){return e()}
var n=function(){return S(String(e))()}
var r=function(e){return e}
var o=function(e){return e()}
var a=function(t){return de(e)}
var i=function(t){return de(t(e))}
var u=function(t){return de(e)}
var c=function(t,n){return t(e)}
return{is:k,isValue:k,isError:O,getOr:w,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:g,bind:u,exists:k,forall:O,toOptional:R.none}}
var me=function(e,t){return e.fold((function(){return de(t)}),ve)}
var ge={value:ve,error:de,fromOption:me}
var he;(function(e){e[e["Error"]=0]="Error"
e[e["Value"]=1]="Value"})(he||(he={}))
var pe=function(e,t,n){return e.stype===he.Error?t(e.serror):n(e.svalue)}
var be=function(e){var t=[]
var n=[]
q(e,(function(e){pe(e,(function(e){return n.push(e)}),(function(e){return t.push(e)}))}))
return{values:t,errors:n}}
var ye=function(e,t){return e.stype===he.Error?{stype:he.Error,serror:t(e.serror)}:e}
var we=function(e,t){return e.stype===he.Value?{stype:he.Value,svalue:t(e.svalue)}:e}
var xe=function(e,t){return e.stype===he.Value?t(e.svalue):e}
var Ce=function(e,t){return e.stype===he.Error?t(e.serror):e}
var Se=function(e){return{stype:he.Value,svalue:e}}
var ke=function(e){return{stype:he.Error,serror:e}}
var Oe=function(e){return pe(e,ge.error,ge.value)}
var Te=function(e){return e.fold(ke,Se)}
var Ee={fromResult:Te,toResult:Oe,svalue:Se,partition:be,serror:ke,bind:xe,bindError:Ce,map:we,mapError:ye,fold:pe}
var _e=Object.keys
var Le=Object.hasOwnProperty
var De=function(e,t){var n=_e(e)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=e[a]
t(i,a)}}
var Ae=function(e,t){return Me(e,(function(e,n){return{k:n,v:t(e,n)}}))}
var Me=function(e,t){var n={}
De(e,(function(e,r){var o=t(e,r)
n[o.k]=o.v}))
return n}
var Ne=function(e){return function(t,n){e[n]=t}}
var Re=function(e,t,n,r){var o={}
De(e,(function(e,o){(t(e,o)?n:r)(e,o)}))
return o}
var ze=function(e,t){var n={}
Re(e,t,Ne(n),g)
return n}
var Be=function(e,t){var n=[]
De(e,(function(e,r){n.push(t(e,r))}))
return n}
var Pe=function(e,t){var n=_e(e)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=e[a]
if(t(i,a,e))return R.some(i)}return R.none()}
var Ie=function(e){return Be(e,(function(e){return e}))}
var He=function(e,t){return Fe(e,t)?R.from(e[t]):R.none()}
var Fe=function(e,t){return Le.call(e,t)}
var Ve=function(e,t){return Fe(e,t)&&void 0!==e[t]&&null!==e[t]}
var je=function(e){if(!u(e))throw new Error("cases must be an array")
if(0===e.length)throw new Error("there must be at least one case")
var t=[]
var n={}
q(e,(function(r,o){var a=_e(r)
if(1!==a.length)throw new Error("one and only one name per case")
var i=a[0]
var c=r[i]
if(void 0!==n[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!u(c))throw new Error("case arguments must be an array")
t.push(i)
n[i]=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var a=n.length
if(a!==c.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+c.length+" ("+c+"), got "+a)
var u=function(e){var r=_e(e)
if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","))
var o=ne(t,(function(e){return F(r,e)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "))
return e[i].apply(null,n)}
return{fold:function(){var t=[]
for(var r=0;r<arguments.length;r++)t[r]=arguments[r]
if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)
var a=t[o]
return a.apply(null,n)},match:u,log:function(e){console.log(e,{constructors:t,constructor:i,params:n})}}}}))
return n}
var Ue={generate:je}
var We=Object.prototype.hasOwnProperty
var qe=function(e,t){return t}
var $e=function(e,t){var n=i(e)&&i(t)
return n?Xe(e,t):t}
var Ge=function(e){return function(){var t=[]
for(var n=0;n<arguments.length;n++)t[n]=arguments[n]
if(0===t.length)throw new Error("Can't merge zero objects")
var r={}
for(var o=0;o<t.length;o++){var a=t[o]
for(var i in a)We.call(a,i)&&(r[i]=e(r[i],a[i]))}return r}}
var Xe=Ge($e)
var Ke=Ge(qe)
var Ze=function(e){var t=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!t){t=true
n=e.apply(null,r)}return n}}
var Ye=Ue.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}])
var Je=function(e){return Ye.defaultedThunk(y(e))}
var Qe=function(e){return Ye.mergeWithThunk(y(e))}
var et=Ye.strict
var tt=Ye.asOption
var nt=Ye.defaultedThunk
Ye.asDefaultedOptionThunk
var rt=Ye.mergeWithThunk
Ue.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}])
var ot=function(e){var t=[]
var n=[]
q(e,(function(e){e.fold((function(e){t.push(e)}),(function(e){n.push(e)}))}))
return{errors:t,values:n}}
var at=function(e,t){var n={}
De(e,(function(e,r){F(t,r)||(n[r]=e)}))
return n}
var it=function(e,t){var n
return n={},n[e]=t,n}
var ut=function(e){var t={}
q(e,(function(e){t[e.key]=e.value}))
return t}
var ct=function(e,t){return at(e,t)}
var st=function(e,t){return it(e,t)}
var lt=function(e){return ut(e)}
var ft=function(e,t){return 0===e.length?ge.value(t):ge.value(Xe(t,Ke.apply(void 0,e)))}
var vt=function(e){return ge.error(ee(e))}
var dt=function(e,t){var n=ot(e)
return n.errors.length>0?vt(n.errors):ft(n.values,t)}
var mt=function(e,t){return e.length>0?Ee.svalue(Xe(t,Ke.apply(void 0,e))):Ee.svalue(t)}
var gt=function(e){return p(Ee.serror,ee)(e)}
var ht=function(e,t){var n=Ee.partition(e)
return n.errors.length>0?gt(n.errors):mt(n.values,t)}
var pt=function(e){var t=Ee.partition(e)
return t.errors.length>0?gt(t.errors):Ee.svalue(t.values)}
var bt={consolidateObj:ht,consolidateArr:pt}
var yt=function(e){return i(e)&&_e(e).length>100?" removed due to size":JSON.stringify(e,null,2)}
var wt=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e
return W(t,(function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}))}
var xt=function(e,t){return Ee.serror([{path:e,getErrorInfo:t}])}
var Ct=function(e,t,n){return xt(e,(function(){return'Could not find valid *strict* value for "'+t+'" in '+yt(n)}))}
var St=function(e,t){return xt(e,(function(){return'Choice schema did not contain choice key: "'+t+'"'}))}
var kt=function(e,t,n){return xt(e,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+yt(t)}))}
var Ot=function(e,t){return xt(e,(function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"}))}
var Tt=function(e,t){return xt(e,(function(){return t}))}
var Et=Ue.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}])
var _t=function(e,t,n){return He(t,n).fold((function(){return Ct(e,n,t)}),Ee.svalue)}
var Lt=function(e,t,n){var r=He(e,t).fold((function(){return n(e)}),w)
return Ee.svalue(r)}
var Dt=function(e,t){return Ee.svalue(He(e,t))}
var At=function(e,t,n){var r=He(e,t).map((function(t){return true===t?n(e):t}))
return Ee.svalue(r)}
var Mt=function(e,t,n,r){return n.fold((function(n,o,a,i){var u=function(t){var a=i.extract(e.concat([n]),r,t)
return Ee.map(a,(function(e){return it(o,r(e))}))}
var c=function(t){return t.fold((function(){var e=it(o,r(R.none()))
return Ee.svalue(e)}),(function(t){var a=i.extract(e.concat([n]),r,t)
return Ee.map(a,(function(e){return it(o,r(R.some(e)))}))}))}
return a.fold((function(){return Ee.bind(_t(e,t,n),u)}),(function(e){return Ee.bind(Lt(t,n,e),u)}),(function(){return Ee.bind(Dt(t,n),c)}),(function(e){return Ee.bind(At(t,n,e),c)}),(function(e){var r=e(t)
var o=Ee.map(Lt(t,n,y({})),(function(e){return Xe(r,e)}))
return Ee.bind(o,u)}))}),(function(e,n){var o=n(t)
return Ee.svalue(it(e,r(o)))}))}
var Nt=function(e,t,n,r){var o=W(n,(function(n){return Mt(e,t,n,r)}))
return bt.consolidateObj(o,{})}
var Rt=function(e){var t=function(t,n,r){return e().extract(t,n,r)}
var n=function(){return e().toString()}
return{extract:t,toString:n}}
var zt=function(e){var t=function(t,n,r){return Ee.bindError(e(r,n),(function(e){return Tt(t,e)}))}
var n=function(){return"val"}
return{extract:t,toString:n}}
var Bt=function(e){return _e(ze(e,(function(e){return void 0!==e&&null!==e})))}
var Pt=function(e){var t=It(e)
var n=K(e,(function(e,t){return t.fold((function(t){return Xe(e,st(t,true))}),y(e))}),{})
var r=function(e,r,o){var a=c(o)?[]:Bt(o)
var i=X(a,(function(e){return!Ve(n,e)}))
return 0===i.length?t.extract(e,r,o):Ot(e,i)}
return{extract:r,toString:t.toString}}
var It=function(e){var t=function(t,n,r){return Nt(t,r,e,n)}
var n=function(){var t=W(e,(function(e){return e.fold((function(e,t,n,r){return e+" -> "+r.toString()}),(function(e,t){return"state("+e+")"}))}))
return"obj{\n"+t.join("\n")+"}"}
return{extract:t,toString:n}}
var Ht=function(e){var t=function(t,n,r){var o=W(r,(function(r,o){return e.extract(t.concat(["["+o+"]"]),n,r)}))
return bt.consolidateArr(o)}
var n=function(){return"array("+e.toString()+")"}
return{extract:t,toString:n}}
var Ft=function(e){var t=function(t,n,r){var o=[]
for(var a=0,i=e;a<i.length;a++){var u=i[a]
var c=u.extract(t,n,r)
if(c.stype===he.Value)return c
o.push(c)}return bt.consolidateArr(o)}
var n=function(){return"oneOf("+W(e,(function(e){return e.toString()})).join(", ")+")"}
return{extract:t,toString:n}}
var Vt=function(e,t){var n=function(t,n){return Ht(zt(e)).extract(t,w,n)}
var r=function(e,r,o){var a=_e(o)
var i=n(e,a)
return Ee.bind(i,(function(n){var a=W(n,(function(e){return Et.field(e,e,et(),t)}))
return It(a).extract(e,r,o)}))}
var o=function(){return"setOf("+t.toString()+")"}
return{extract:r,toString:o}}
var jt=function(e,t){var n=Ze((function(){return t()}))
var r=function(e,t,r){return n().extract(e,t,r)}
var o=function(){return n().toString()}
return{extract:r,toString:o}}
var Ut=y(zt(Ee.svalue))
var Wt=p(Ht,It)
var qt=Et.state
var $t=Et.field
var Gt=function(e,t,n,r,o){var a=He(r,o)
return a.fold((function(){return kt(e,r,o)}),(function(r){return r.extract(e.concat(["branch: "+o]),t,n)}))}
var Xt=function(e,t){var n=function(n,r,o){var a=He(o,e)
return a.fold((function(){return St(n,e)}),(function(e){return Gt(n,r,o,t,e)}))}
var r=function(){return"chooseOn("+e+"). Possible values: "+_e(t)}
return{extract:n,toString:r}}
var Kt=zt(Ee.svalue)
var Zt=function(e){return Wt(e)}
var Yt=function(){return Ht(Kt)}
var Jt=Rt
var Qt=function(e){return zt((function(t){return e(t).fold(Ee.serror,Ee.svalue)}))}
var en=function(e,t){return Vt((function(t){return Ee.fromResult(e(t))}),t)}
var tn=function(e,t,n,r){var o=t.extract([e],n,r)
return Ee.mapError(o,(function(e){return{input:r,errors:e}}))}
var nn=function(e,t,n){return Ee.toResult(tn(e,t,w,n))}
var rn=function(e){return e.fold((function(e){throw new Error(an(e))}),w)}
var on=function(e,t,n){return rn(nn(e,t,n))}
var an=function(e){return"Errors: \n"+wt(e.errors).join("\n")+"\n\nInput object: "+yt(e.input)}
var un=function(e,t){return Xt(e,t)}
var cn=function(e,t){return Xt(e,Ae(t,It))}
var sn=function(e,t){return jt(e,t)}
var ln=y(Kt)
var fn=function(e,t){return zt((function(n){var r=typeof n
return e(n)?Ee.svalue(n):Ee.serror("Expected type: "+t+" but got: "+r)}))}
var vn=fn(d,"number")
var dn=fn(a,"string")
var mn=fn(c,"boolean")
var gn=fn(v,"function")
var hn=function(e){var t=function(e,t){var n=e.next()
while(!n.done){if(!t(n.value))return false
n=e.next()}return true}
if(Object(e)!==e)return true
switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return true
case"Array":case"Object":return Object.keys(e).every((function(t){return hn(e[t])}))
case"Map":return t(e.keys(),hn)&&t(e.values(),hn)
case"Set":return t(e.keys(),hn)
default:return false}}
var pn=zt((function(e){return hn(e)?Ee.svalue(e):Ee.serror("Expected value to be acceptable for sending via postMessage")}))
var bn=function(e){return Qt((function(t){return F(e,t)?ge.value(t):ge.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')}))}
var yn=function(e){return $t(e,e,et(),Ut())}
var wn=function(e,t){return $t(e,e,et(),t)}
var xn=function(e){return wn(e,vn)}
var Cn=function(e){return wn(e,dn)}
var Sn=function(e,t){return $t(e,e,et(),bn(t))}
var kn=function(e){return wn(e,mn)}
var On=function(e){return wn(e,gn)}
var Tn=function(e,t){return $t(e,e,tt(),zt((function(n){return Ee.serror("The field: "+e+" is forbidden. "+t)})))}
var En=function(e,t){return $t(e,e,et(),It(t))}
var _n=function(e,t){return $t(e,e,et(),Wt(t))}
var Ln=function(e,t){return $t(e,e,et(),Ht(t))}
var Dn=function(e){return $t(e,e,tt(),Ut())}
var An=function(e,t){return $t(e,e,tt(),t)}
var Mn=function(e){return An(e,vn)}
var Nn=function(e){return An(e,dn)}
var Rn=function(e){return An(e,gn)}
var zn=function(e,t){return An(e,Ht(t))}
var Bn=function(e,t){return An(e,It(t))}
var Pn=function(e,t){return An(e,Pt(t))}
var In=function(e,t){return $t(e,e,Je(t),Ut())}
var Hn=function(e,t,n){return $t(e,e,Je(t),n)}
var Fn=function(e,t){return Hn(e,t,vn)}
var Vn=function(e,t){return Hn(e,t,dn)}
var jn=function(e,t,n){return Hn(e,t,bn(n))}
var Un=function(e,t){return Hn(e,t,mn)}
var Wn=function(e,t){return Hn(e,t,gn)}
var qn=function(e,t){return Hn(e,t,pn)}
var $n=function(e,t,n){return Hn(e,t,Ht(n))}
var Gn=function(e,t,n){return Hn(e,t,It(n))}
var Xn=function(e,t){return qt(e,t)}
var Kn=function(e){var t=e
var n=function(){return t}
var r=function(e){t=e}
return{get:n,set:r}}
var Zn=function(e,t){var n=t||document
var r=n.createElement("div")
r.innerHTML=e
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e)
throw new Error("HTML must have a single root node")}return Qn(r.childNodes[0])}
var Yn=function(e,t){var n=t||document
var r=n.createElement(e)
return Qn(r)}
var Jn=function(e,t){var n=t||document
var r=n.createTextNode(e)
return Qn(r)}
var Qn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined")
return{dom:e}}
var er=function(e,t,n){return R.from(e.dom.elementFromPoint(t,n)).map(Qn)}
var tr={fromHtml:Zn,fromTag:Yn,fromText:Jn,fromDom:Qn,fromPoint:er}
var nr=function(e,t,n,r){var o=e.isiOS()&&true===/ipad/i.test(n)
var a=e.isiOS()&&!o
var i=e.isiOS()||e.isAndroid()
var u=i||r("(pointer:coarse)")
var c=o||!a&&i&&r("(min-device-width:768px)")
var s=a||i&&!c
var l=t.isSafari()&&e.isiOS()&&false===/safari/i.test(n)
var f=!s&&!c&&!l
return{isiPad:y(o),isiPhone:y(a),isTablet:y(c),isPhone:y(s),isTouch:y(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:y(l),isDesktop:y(f)}}
var rr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n]
if(r.test(t))return r}return}
var or=function(e,t){var n=rr(e,t)
if(!n)return{major:0,minor:0}
var r=function(e){return Number(t.replace(n,"$"+e))}
return ur(r(1),r(2))}
var ar=function(e,t){var n=String(t).toLowerCase()
if(0===e.length)return ir()
return or(e,n)}
var ir=function(){return ur(0,0)}
var ur=function(e,t){return{major:e,minor:t}}
var cr={nu:ur,detect:ar,unknown:ir}
var sr=function(e,t){var n=String(t).toLowerCase()
return J(e,(function(e){return e.search(n)}))}
var lr=function(e,t){return sr(e,t).map((function(e){var n=cr.detect(e.versionRegexes,t)
return{current:e.name,version:n}}))}
var fr=function(e,t){return sr(e,t).map((function(e){var n=cr.detect(e.versionRegexes,t)
return{current:e.name,version:n}}))}
var vr={detectBrowser:lr,detectOs:fr}
var dr=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}
var mr=function(e,t){return-1!==e.indexOf(t)}
var gr=function(e,t){return dr(e,t,e.length-t.length)}
var hr=function(e){return function(t){return t.replace(e,"")}}
var pr=hr(/^\s+|\s+$/g)
var br=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var yr=function(e){return function(t){return mr(t,e)}}
var wr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return mr(e,"edge/")&&mr(e,"chrome")&&mr(e,"safari")&&mr(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,br],search:function(e){return mr(e,"chrome")&&!mr(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return mr(e,"msie")||mr(e,"trident")}},{name:"Opera",versionRegexes:[br,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yr("firefox")},{name:"Safari",versionRegexes:[br,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(mr(e,"safari")||mr(e,"mobile/"))&&mr(e,"applewebkit")}}]
var xr=[{name:"Windows",search:yr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return mr(e,"iphone")||mr(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:yr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yr("linux"),versionRegexes:[]},{name:"Solaris",search:yr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var Cr={browsers:y(wr),oses:y(xr)}
var Sr="Edge"
var kr="Chrome"
var Or="IE"
var Tr="Opera"
var Er="Firefox"
var _r="Safari"
var Lr=function(){return Dr({current:void 0,version:cr.unknown()})}
var Dr=function(e){var t=e.current
var n=e.version
var r=function(e){return function(){return t===e}}
return{current:t,version:n,isEdge:r(Sr),isChrome:r(kr),isIE:r(Or),isOpera:r(Tr),isFirefox:r(Er),isSafari:r(_r)}}
var Ar={unknown:Lr,nu:Dr,edge:y(Sr),chrome:y(kr),ie:y(Or),opera:y(Tr),firefox:y(Er),safari:y(_r)}
var Mr="Windows"
var Nr="iOS"
var Rr="Android"
var zr="Linux"
var Br="OSX"
var Pr="Solaris"
var Ir="FreeBSD"
var Hr="ChromeOS"
var Fr=function(){return Vr({current:void 0,version:cr.unknown()})}
var Vr=function(e){var t=e.current
var n=e.version
var r=function(e){return function(){return t===e}}
return{current:t,version:n,isWindows:r(Mr),isiOS:r(Nr),isAndroid:r(Rr),isOSX:r(Br),isLinux:r(zr),isSolaris:r(Pr),isFreeBSD:r(Ir),isChromeOS:r(Hr)}}
var jr={unknown:Fr,nu:Vr,windows:y(Mr),ios:y(Nr),android:y(Rr),linux:y(zr),osx:y(Br),solaris:y(Pr),freebsd:y(Ir),chromeos:y(Hr)}
var Ur=function(e,t){var n=Cr.browsers()
var r=Cr.oses()
var o=vr.detectBrowser(n,e).fold(Ar.unknown,Ar.nu)
var a=vr.detectOs(r,e).fold(jr.unknown,jr.nu)
var i=nr(a,o,e,t)
return{browser:o,os:a,deviceType:i}}
var Wr={detect:Ur}
var qr=function(e){return window.matchMedia(e).matches}
var $r=Ze((function(){return Wr.detect(navigator.userAgent,qr)}))
var Gr=function(){return $r()}
var Xr=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)}
var Kr=function(e,t){return Xr(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Zr=9
var Yr=11
var Jr=1
var Qr=3
var eo=function(e,t){var n=e.dom
if(n.nodeType!==Jr)return false
var r=n
if(void 0!==r.matches)return r.matches(t)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t)
throw new Error("Browser lacks native selectors")}
var to=function(e){return e.nodeType!==Jr&&e.nodeType!==Zr&&e.nodeType!==Yr||0===e.childElementCount}
var no=function(e,t){var n=void 0===t?document:t.dom
return to(n)?[]:W(n.querySelectorAll(e),tr.fromDom)}
var ro=function(e,t){var n=void 0===t?document:t.dom
return to(n)?R.none():R.from(n.querySelector(e)).map(tr.fromDom)}
var oo=function(e,t){return e.dom===t.dom}
var ao=function(e,t){var n=e.dom
var r=t.dom
return n!==r&&n.contains(r)}
var io=function(e,t){return Kr(e.dom,t.dom)}
var uo=function(e,t){return Gr().browser.isIE()?io(e,t):ao(e,t)}
var co=function(e){return v(e)?e:k}
var so=function(e,t,n){var r=e.dom
var o=co(n)
while(r.parentNode){r=r.parentNode
var a=tr.fromDom(r)
var i=t(a)
if(i.isSome())return i
if(o(a))break}return R.none()}
var lo=function(e,t,n){var r=t(e)
var o=co(n)
return r.orThunk((function(){return o(e)?R.none():so(e,t,o)}))}
var fo=function(e,t){return oo(e.element,t.event.target)}
var vo=function(e){if(!Ve(e,"can")&&!Ve(e,"abort")&&!Ve(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!")
return on("Extracting event.handler",Pt([In("can",O),In("abort",k),In("run",g)]),e)}
var mo=function(e,t){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return Z(e,(function(e,r){return e&&t(r).apply(void 0,n)}),true)}}
var go=function(e,t){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return Z(e,(function(e,r){return e||t(r).apply(void 0,n)}),false)}}
var ho=function(e){return v(e)?{can:O,abort:k,run:e}:e}
var po=function(e){var t=mo(e,(function(e){return e.can}))
var n=go(e,(function(e){return e.abort}))
var r=function(){var t=[]
for(var n=0;n<arguments.length;n++)t[n]=arguments[n]
q(e,(function(e){e.run.apply(void 0,t)}))}
return vo({can:t,abort:n,run:r})}
var bo=y
var yo=bo("touchstart")
var wo=bo("touchmove")
var xo=bo("touchend")
var Co=bo("touchcancel")
var So=bo("mousedown")
var ko=bo("mousemove")
var Oo=bo("mouseout")
var To=bo("mouseup")
var Eo=bo("mouseover")
var _o=bo("focusin")
var Lo=bo("focusout")
var Do=bo("keydown")
var Ao=bo("keyup")
var Mo=bo("input")
var No=bo("change")
var Ro=bo("click")
var zo=bo("transitionend")
var Bo=bo("selectstart")
var Po=function(e){return y("alloy."+e)}
var Io={tap:Po("tap")}
var Ho=Po("focus")
var Fo=Po("blur.post")
var Vo=Po("paste.post")
var jo=Po("receive")
var Uo=Po("execute")
var Wo=Po("focus.item")
var qo=Io.tap
var $o=Po("longpress")
var Go=Po("sandbox.close")
var Xo=Po("typeahead.cancel")
var Ko=Po("system.init")
var Zo=Po("system.touchmove")
var Yo=Po("system.touchend")
var Jo=Po("system.scroll")
var Qo=Po("system.resize")
var ea=Po("system.attached")
var ta=Po("system.detached")
var na=Po("system.dismissRequested")
var ra=Po("system.repositionRequested")
var oa=Po("focusmanager.shifted")
var aa=Po("slotcontainer.visibility")
var ia=Po("change.tab")
var ua=Po("dismiss.tab")
var ca=Po("highlight")
var sa=Po("dehighlight")
var la=function(e,t){ma(e,e.element,t,{})}
var fa=function(e,t,n){ma(e,e.element,t,n)}
var va=function(e){la(e,Uo())}
var da=function(e,t,n){ma(e,t,n,{})}
var ma=function(e,t,n,r){var o=E({target:t},r)
e.getSystem().triggerEvent(n,t,o)}
var ga=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event)}
var ha=function(e){return lt(e)}
var pa=function(e,t){return{key:e,value:vo({abort:t})}}
var ba=function(e,t){return{key:e,value:vo({can:t})}}
var ya=function(e){return{key:e,value:vo({run:function(e,t){t.event.prevent()}})}}
var wa=function(e,t){return{key:e,value:vo({run:t})}}
var xa=function(e,t,n){return{key:e,value:vo({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}}
var Ca=function(e){return function(t){return wa(e,t)}}
var Sa=function(e){return function(t){return{key:e,value:vo({run:function(e,n){fo(e,n)&&t(e,n)}})}}}
var ka=function(e,t){return wa(e,(function(n,r){n.getSystem().getByUid(t).each((function(t){ga(t,t.element,e,r)}))}))}
var Oa=function(e,t,n){var r=t.partUids[n]
return ka(e,r)}
var Ta=function(e,t){return wa(e,(function(e,n){var r=n.event
var o=e.getSystem().getByDom(r.target).fold((function(){var t=lo(r.target,(function(t){return e.getSystem().getByDom(t).toOptional()}),k)
return t.getOr(e)}),(function(e){return e}))
t(e,o,n)}))}
var Ea=function(e){return wa(e,(function(e,t){t.cut()}))}
var _a=function(e){return wa(e,(function(e,t){t.stop()}))}
var La=function(e,t){return Sa(e)(t)}
var Da=Sa(ea())
var Aa=Sa(ta())
var Ma=Sa(Ko())
var Na=Ca(Uo())
"undefined"!==typeof window?window:Function("return this;")()
var Ra=function(e){var t=e.dom.nodeName
return t.toLowerCase()}
var za=function(e){return e.dom.nodeType}
var Ba=function(e){return function(t){return za(t)===e}}
var Pa=Ba(Jr)
var Ia=Ba(Qr)
var Ha=Ba(Zr)
var Fa=Ba(Yr)
var Va=function(e){return tr.fromDom(e.dom.ownerDocument)}
var ja=function(e){return Ha(e)?e:Va(e)}
var Ua=function(e){return tr.fromDom(ja(e).dom.documentElement)}
var Wa=function(e){return tr.fromDom(ja(e).dom.defaultView)}
var qa=function(e){return R.from(e.dom.parentNode).map(tr.fromDom)}
var $a=function(e){return qa(e)}
var Ga=function(e){return R.from(e.dom.offsetParent).map(tr.fromDom)}
var Xa=function(e){return R.from(e.dom.nextSibling).map(tr.fromDom)}
var Ka=function(e){return W(e.dom.childNodes,tr.fromDom)}
var Za=function(e,t){var n=e.dom.childNodes
return R.from(n[t]).map(tr.fromDom)}
var Ya=function(e){return Za(e,0)}
var Ja=function(e){return Fa(e)&&f(e.dom.host)}
var Qa=v(Element.prototype.attachShadow)&&v(Node.prototype.getRootNode)
var ei=y(Qa)
var ti=Qa?function(e){return tr.fromDom(e.dom.getRootNode())}:ja
var ni=function(e){return Ja(e)?e:tr.fromDom(ja(e).dom.body)}
var ri=function(e){return oi(e).isSome()}
var oi=function(e){var t=ti(e)
return Ja(t)?R.some(t):R.none()}
var ai=function(e){return tr.fromDom(e.dom.host)}
var ii=function(e){if(ei()&&f(e.target)){var t=tr.fromDom(e.target)
if(Pa(t)&&ui(t)&&e.composed&&e.composedPath){var n=e.composedPath()
if(n)return ce(n)}}return R.from(e.target)}
var ui=function(e){return f(e.dom.shadowRoot)}
var ci=function(e,t){var n=qa(e)
n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}
var si=function(e,t){var n=Xa(e)
n.fold((function(){var n=qa(e)
n.each((function(e){fi(e,t)}))}),(function(e){ci(e,t)}))}
var li=function(e,t){var n=Ya(e)
n.fold((function(){fi(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))}
var fi=function(e,t){e.dom.appendChild(t.dom)}
var vi=function(e,t,n){Za(e,n).fold((function(){fi(e,t)}),(function(e){ci(e,t)}))}
var di=function(e,t){q(t,(function(t){ci(e,t)}))}
var mi=function(e,t){q(t,(function(t){fi(e,t)}))}
var gi=function(e){e.dom.textContent=""
q(Ka(e),(function(e){hi(e)}))}
var hi=function(e){var t=e.dom
null!==t.parentNode&&t.parentNode.removeChild(t)}
var pi=function(e){var t=Ka(e)
t.length>0&&di(e,t)
hi(e)}
var bi=function(e,t){var n=t||document
var r=n.createElement("div")
r.innerHTML=e
return Ka(tr.fromDom(r))}
var yi=function(e){return e.dom.innerHTML}
var wi=function(e,t){var n=Va(e)
var r=n.dom
var o=tr.fromDom(r.createDocumentFragment())
var a=bi(t,r)
mi(o,a)
gi(e)
fi(e,o)}
var xi=function(e){var t=tr.fromTag("div")
var n=tr.fromDom(e.dom.cloneNode(true))
fi(t,n)
return yi(t)}
var Ci=function(e,t,n){if(!(a(n)||c(n)||d(n))){console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e)
throw new Error("Attribute value was not simple")}e.setAttribute(t,n+"")}
var Si=function(e,t,n){Ci(e.dom,t,n)}
var ki=function(e,t){var n=e.dom
De(t,(function(e,t){Ci(n,t,e)}))}
var Oi=function(e,t){var n=e.dom.getAttribute(t)
return null===n?void 0:n}
var Ti=function(e,t){return R.from(Oi(e,t))}
var Ei=function(e,t){var n=e.dom
return!(!n||!n.hasAttribute)&&n.hasAttribute(t)}
var _i=function(e,t){e.dom.removeAttribute(t)}
var Li=function(e,t){return tr.fromDom(e.dom.cloneNode(t))}
var Di=function(e){return Li(e,false)}
var Ai=function(e){if(Ja(e))return"#shadow-root"
var t=Di(e)
return xi(t)}
var Mi=function(e){return Ai(e)}
var Ni=function(e,t,n){return oo(t,e.element)&&!oo(t,n)}
var Ri=ha([ba(Ho(),(function(e,t){var n=t.event
var r=n.originator
var o=n.target
if(Ni(e,r,o)){console.warn(Ho()+" did not get interpreted by the desired target. \nOriginator: "+Mi(r)+"\nTarget: "+Mi(o)+"\nCheck the "+Ho()+" event handlers")
return false}return true}))])
var zi=Object.freeze({__proto__:null,events:Ri})
var Bi=0
var Pi=function(e){var t=new Date
var n=t.getTime()
var r=Math.floor(1e9*Math.random())
Bi++
return e+"_"+r+Bi+String(n)}
var Ii=y("alloy-id-")
var Hi=y("data-alloy-id")
var Fi=Ii()
var Vi=Hi()
var ji=function(e,t){var n=Pi(Fi+e)
Ui(t,n)
return n}
var Ui=function(e,t){Object.defineProperty(e.dom,Vi,{value:t,writable:true})}
var Wi=function(e){var t=Pa(e)?e.dom[Vi]:null
return R.from(t)}
var qi=function(e){return Pi(e)}
var $i=w
var Gi=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+(e?"\n"+Mi(e().element)+" is not in context.":""))}}
return{debugInfo:y("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:k}}
var Xi=Gi()
var Ki=function(e,t,n){var r=n.toString()
var o=r.indexOf(")")+1
var a=r.indexOf("(")
var i=r.substring(a+1,o-1).split(/,\s*/)
e.toFunctionAnnotation=function(){return{name:t,parameters:Zi(i.slice(0,1).concat(i.slice(3)))}}
return e}
var Zi=function(e){return W(e,(function(e){return gr(e,"/*")?e.substring(0,e.length-"/*".length):e}))}
var Yi=function(e,t){var n=e.toString()
var r=n.indexOf(")")+1
var o=n.indexOf("(")
var a=n.substring(o+1,r-1).split(/,\s*/)
e.toFunctionAnnotation=function(){return{name:t,parameters:Zi(a)}}
return e}
var Ji=function(e,t){var n=t.toString()
var r=n.indexOf(")")+1
var o=n.indexOf("(")
var a=n.substring(o+1,r-1).split(/,\s*/)
e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Zi(a.slice(1))}}
return e}
var Qi=Pi("alloy-premade")
var eu=function(e){return st(Qi,e)}
var tu=function(e){return He(e,Qi)}
var nu=function(e){return Ji((function(t){var n=[]
for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r]
return e.apply(void 0,L([t.getApis(),t],n))}),e)}
var ru={init:function(){return ou({readState:function(){return"No State required"}})}}
var ou=function(e){return e}
var au=function(e,t){var n=W(t,(function(e){return Bn(e.name(),[yn("config"),In("state",ru)])}))
var r=nn("component.behaviours",It(n),e.behaviours).fold((function(t){throw new Error(an(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))}),(function(e){return e}))
return{list:t,data:Ae(r,(function(e){var t=e.map((function(e){return{config:e.config,state:e.state.init(e.config)}}))
return function(){return t}}))}}
var iu=function(e){return e.list}
var uu=function(e){return e.data}
var cu=function(e,t){var n={}
De(e,(function(e,r){De(e,(function(e,o){var a=He(n,o).getOr([])
n[o]=a.concat([t(r,e)])}))}))
return n}
var su=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}}
var lu=function(e,t){return E(E({},e),{attributes:E(E({},e.attributes),t.attributes),styles:E(E({},e.styles),t.styles),classes:e.classes.concat(t.classes)})}
var fu=function(e,t,n,r){var o=E({},t)
q(n,(function(t){o[t.name()]=t.exhibit(e,r)}))
var a=cu(o,(function(e,t){return{name:e,modification:t}}))
var i=function(e){return K(e,(function(e,t){return E(E({},t.modification),e)}),{})}
var u=K(a.classes,(function(e,t){return t.modification.concat(e)}),[])
var c=i(a.attributes)
var s=i(a.styles)
return su({classes:u,attributes:c,styles:s})}
var vu=function(e,t,n,r){try{var o=ie(n,(function(n,o){var a=n[t]
var i=o[t]
var u=r.indexOf(a)
var c=r.indexOf(i)
if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2))
if(-1===c)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2))
return u<c?-1:c<u?1:0}))
return ge.value(o)}catch(e){return ge.error([e])}}
var du=function(e,t){return{handler:e,purpose:t}}
var mu=function(e,t){return{cHandler:e,purpose:t}}
var gu=function(e,t){return mu(x.apply(void 0,[e.handler].concat(t)),e.purpose)}
var hu=function(e){return e.cHandler}
var pu=function(e,t){return{name:e,handler:t}}
var bu=function(e,t){var n={}
q(e,(function(e){n[e.name()]=e.handlers(t)}))
return n}
var yu=function(e,t,n){var r=E(E({},n),bu(t,e))
return cu(r,pu)}
var wu=function(e,t,n,r){var o=yu(e,n,r)
return ku(o,t)}
var xu=function(e){var t=ho(e)
return function(e,n){var r=[]
for(var o=2;o<arguments.length;o++)r[o-2]=arguments[o]
var a=[e,n].concat(r)
t.abort.apply(void 0,a)?n.stop():t.can.apply(void 0,a)&&t.run.apply(void 0,a)}}
var Cu=function(e,t){return ge.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(W(t,(function(e){return e.name})),null,2)])}
var Su=function(e,t,n){var r=t[n]
return r?vu("Event: "+n,"name",e,r).map((function(e){var t=W(e,(function(e){return e.handler}))
return po(t)})):Cu(n,e)}
var ku=function(e,t){var n=Be(e,(function(e,n){var r=1===e.length?ge.value(e[0].handler):Su(e,t,n)
return r.map((function(r){var o=xu(r)
var a=e.length>1?X(t[n],(function(t){return V(e,(function(e){return e.name===t}))})).join(" > "):e[0].name
return st(n,du(o,a))}))}))
return dt(n,{})}
var Ou="alloy.base.behaviour"
var Tu=function(e){var t
return nn("custom.definition",It([$t("dom","dom",et(),It([yn("tag"),In("styles",{}),In("classes",[]),In("attributes",{}),Dn("value"),Dn("innerHtml")])),yn("components"),yn("uid"),In("events",{}),In("apis",{}),$t("eventOrder","eventOrder",Qe((t={},t[Uo()]=["disabling",Ou,"toggling","typeaheadevents"],t[Ho()]=[Ou,"focusing","keying"],t[Ko()]=[Ou,"disabling","toggling","representing"],t[Mo()]=[Ou,"representing","streaming","invalidating"],t[ta()]=[Ou,"representing","item-events","tooltipping"],t[So()]=["focusing",Ou,"item-type-events"],t[yo()]=["focusing",Ou,"item-type-events"],t[Eo()]=["item-type-events","tooltipping"],t[jo()]=["receiving","reflecting","tooltipping"],t)),ln()),Dn("domModification")]),e)}
var Eu=function(e){return E(E({},e.dom),{uid:e.uid,domChildren:W(e.components,(function(e){return e.element}))})}
var _u=function(e){return e.domModification.fold((function(){return su({})}),su)}
var Lu=function(e){return e.events}
var Du=function(e,t){var n=Oi(e,t)
return void 0===n||""===n?[]:n.split(" ")}
var Au=function(e,t,n){var r=Du(e,t)
var o=r.concat([n])
Si(e,t,o.join(" "))
return true}
var Mu=function(e,t,n){var r=X(Du(e,t),(function(e){return e!==n}))
r.length>0?Si(e,t,r.join(" ")):_i(e,t)
return false}
var Nu=function(e){return void 0!==e.dom.classList}
var Ru=function(e){return Du(e,"class")}
var zu=function(e,t){return Au(e,"class",t)}
var Bu=function(e,t){return Mu(e,"class",t)}
var Pu=function(e,t){Nu(e)?e.dom.classList.add(t):zu(e,t)}
var Iu=function(e){var t=Nu(e)?e.dom.classList:Ru(e)
0===t.length&&_i(e,"class")}
var Hu=function(e,t){if(Nu(e)){var n=e.dom.classList
n.remove(t)}else Bu(e,t)
Iu(e)}
var Fu=function(e,t){return Nu(e)&&e.dom.classList.contains(t)}
var Vu=function(e,t){q(t,(function(t){Pu(e,t)}))}
var ju=function(e,t){q(t,(function(t){Hu(e,t)}))}
var Uu=function(e){return void 0!==e.style&&v(e.style.getPropertyValue)}
var Wu=function(e){var t=Ia(e)?e.dom.parentNode:e.dom
if(void 0===t||null===t||null===t.ownerDocument)return false
var n=t.ownerDocument
return oi(tr.fromDom(t)).fold((function(){return n.body.contains(t)}),b(Wu,ai))}
var qu=function(){return $u(tr.fromDom(document))}
var $u=function(e){var t=e.dom.body
if(null===t||void 0===t)throw new Error("Body is not available yet")
return tr.fromDom(t)}
var Gu=function(e,t,n){if(!a(n)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e)
throw new Error("CSS value must be a string: "+n)}Uu(e)&&e.style.setProperty(t,n)}
var Xu=function(e,t){Uu(e)&&e.style.removeProperty(t)}
var Ku=function(e,t,n){var r=e.dom
Gu(r,t,n)}
var Zu=function(e,t){var n=e.dom
De(t,(function(e,t){Gu(n,t,e)}))}
var Yu=function(e,t){var n=e.dom
De(t,(function(e,t){e.fold((function(){Xu(n,t)}),(function(e){Gu(n,t,e)}))}))}
var Ju=function(e,t){var n=e.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(t)
return""!==o||Wu(e)?o:Qu(n,t)}
var Qu=function(e,t){return Uu(e)?e.style.getPropertyValue(t):""}
var ec=function(e,t){var n=e.dom
var r=Qu(n,t)
return R.from(r).filter((function(e){return e.length>0}))}
var tc=function(e){var t={}
var n=e.dom
if(Uu(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r)
t[o]=n.style[o]}return t}
var nc=function(e,t,n){var r=tr.fromTag(e)
Ku(r,t,n)
var o=ec(r,t)
return o.isSome()}
var rc=function(e,t){var n=e.dom
Xu(n,t)
Ti(e,"style").map(pr).is("")&&_i(e,"style")}
var oc=function(e){return e.dom.offsetWidth}
var ac=function(e){return e.dom.value}
var ic=function(e,t){if(void 0===t)throw new Error("Value.set was undefined")
e.dom.value=t}
var uc=function(e){var t=tr.fromTag(e.tag)
ki(t,e.attributes)
Vu(t,e.classes)
Zu(t,e.styles)
e.innerHtml.each((function(e){return wi(t,e)}))
var n=e.domChildren
mi(t,n)
e.value.each((function(e){ic(t,e)}))
e.uid
Ui(t,e.uid)
return t}
var cc=function(e){var t=He(e,"behaviours").getOr({})
var n=X(_e(t),(function(e){return void 0!==t[e]}))
return W(n,(function(e){return t[e].me}))}
var sc=function(e,t){return au(e,t)}
var lc=function(e){var t=cc(e)
return sc(e,t)}
var fc=function(e,t,n){var r=Eu(e)
var o=_u(e)
var a={"alloy.base.modification":o}
var i=t.length>0?fu(n,a,t,r):o
return lu(r,i)}
var vc=function(e,t,n){var r={"alloy.base.behaviour":Lu(e)}
return wu(n,e.eventOrder,t,r).getOrDie()}
var dc=function(e){var t=function(){return y}
var n=Kn(Xi)
var r=rn(Tu(e))
var o=lc(e)
var a=iu(o)
var i=uu(o)
var u=fc(r,a,i)
var c=uc(u)
var s=vc(r,a,i)
var l=Kn(r.components)
var f=function(e){n.set(e)}
var d=function(){n.set(Gi(t))}
var m=function(){var e=Ka(c)
var t=te(e,(function(e){return n.get().getByDom(e).fold((function(){return[]}),(function(e){return[e]}))}))
l.set(t)}
var g=function(t){var n=i
var r=v(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))}
return r()}
var h=function(e){return v(i[e.name()])}
var p=function(){return r.apis}
var b=function(e){return i[e]().map((function(e){return e.state.readState()})).getOr("not enabled")}
var y={getSystem:n.get,config:g,hasConfigured:h,spec:e,readState:b,getApis:p,connect:f,disconnect:d,element:c,syncComponents:m,components:l.get,events:s}
return y}
var mc=function(e){var t=He(e,"components").getOr([])
return W(t,yc)}
var gc=function(e){var t=$i(e),n=t.events,r=_(t,["events"])
var o=mc(r)
var a=E(E({},r),{events:E(E({},zi),n),components:o})
return ge.value(dc(a))}
var hc=function(e){var t=tr.fromText(e)
return pc({element:t})}
var pc=function(e){var t=on("external.component",Pt([yn("element"),Dn("uid")]),e)
var n=Kn(Gi())
var r=function(e){n.set(e)}
var o=function(){n.set(Gi((function(){return a})))}
t.uid.each((function(e){Ui(t.element,e)}))
var a={getSystem:n.get,config:R.none,hasConfigured:k,connect:r,disconnect:o,getApis:function(){return{}},element:t.element,spec:e,readState:y("No state"),syncComponents:g,components:y([]),events:{}}
return eu(a)}
var bc=qi
var yc=function(e){return tu(e).fold((function(){var t=e.hasOwnProperty("uid")?e:E({uid:bc("")},e)
return gc(t).getOrDie()}),(function(e){return e}))}
var wc=eu
var xc=function(e,t){var n=function(t,n){if(!d(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n)
var r=t.dom
Uu(r)&&(r.style[e]=n+"px")}
var r=function(n){var r=t(n)
if(r<=0||null===r){var o=Ju(n,e)
return parseFloat(o)||0}return r}
var o=r
var a=function(e,t){return Z(t,(function(t,n){var r=Ju(e,n)
var o=void 0===r?0:parseInt(r,10)
return isNaN(o)?t:t+o}),0)}
var i=function(e,t,n){var r=a(e,n)
var o=t>r?t-r:0
return o}
return{set:n,get:r,getOuter:o,aggregate:a,max:i}}
var Cc=xc("height",(function(e){var t=e.dom
return Wu(e)?t.getBoundingClientRect().height:t.offsetHeight}))
var Sc=function(e){return Cc.get(e)}
var kc=function(e){return Cc.getOuter(e)}
var Oc=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]
var r=Cc.max(e,t,n)
Ku(e,"max-height",r+"px")}
var Tc=function(e,t){var n=function(n,r){return Tc(e+n,t+r)}
return{left:e,top:t,translate:n}}
var Ec=Tc
var _c=function(e){var t=e.getBoundingClientRect()
return Ec(t.left,t.top)}
var Lc=function(e,t){return void 0!==e?e:void 0!==t?t:0}
var Dc=function(e){var t=e.dom.ownerDocument
var n=t.body
var r=t.defaultView
var o=t.documentElement
if(n===e.dom)return Ec(n.offsetLeft,n.offsetTop)
var a=Lc(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop)
var i=Lc(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft)
var u=Lc(o.clientTop,n.clientTop)
var c=Lc(o.clientLeft,n.clientLeft)
return Ac(e).translate(i-c,a-u)}
var Ac=function(e){var t=e.dom
var n=t.ownerDocument
var r=n.body
if(r===t)return Ec(r.offsetLeft,r.offsetTop)
if(!Wu(e))return Ec(0,0)
return _c(t)}
var Mc=xc("width",(function(e){return e.dom.offsetWidth}))
var Nc=function(e,t){return Mc.set(e,t)}
var Rc=function(e){return Mc.get(e)}
var zc=function(e){return Mc.getOuter(e)}
var Bc=function(e,t){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]
var r=Mc.max(e,t,n)
Ku(e,"max-width",r+"px")}
var Pc=function(e,t,n,r,o,a,i){return{target:e,x:t,y:n,stop:r,prevent:o,kill:a,raw:i}}
var Ic=function(e){var t=tr.fromDom(ii(e).getOr(e.target))
var n=function(){return e.stopPropagation()}
var r=function(){return e.preventDefault()}
var o=p(r,n)
return Pc(t,e.clientX,e.clientY,n,r,o,e)}
var Hc=function(e,t){return function(n){e(n)&&t(Ic(n))}}
var Fc=function(e,t,n,r,o){var a=Hc(n,r)
e.dom.addEventListener(t,a,o)
return{unbind:x(Uc,e,t,a,o)}}
var Vc=function(e,t,n,r){return Fc(e,t,n,r,false)}
var jc=function(e,t,n,r){return Fc(e,t,n,r,true)}
var Uc=function(e,t,n,r){e.dom.removeEventListener(t,n,r)}
var Wc=function(e){var t=void 0!==e?e.dom:document
var n=t.body.scrollLeft||t.documentElement.scrollLeft
var r=t.body.scrollTop||t.documentElement.scrollTop
return Ec(n,r)}
var qc=function(e,t,n){var r=void 0!==n?n.dom:document
var o=r.defaultView
o&&o.scrollTo(e,t)}
var $c=function(e){var t=void 0===e?window:e
return R.from(t["visualViewport"])}
var Gc=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}}
var Xc=function(e){var t=void 0===e?window:e
var n=t.document
var r=Wc(tr.fromDom(n))
return $c(t).fold((function(){var e=t.document.documentElement
var n=e.clientWidth
var o=e.clientHeight
return Gc(r.left,r.top,n,o)}),(function(e){return Gc(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))}
var Kc=function(e,t){var n=e.view(t)
return n.fold(y([]),(function(t){var n=e.owner(t)
var r=Kc(e,n)
return[t].concat(r)}))}
var Zc=function(e,t){var n=t.owner(e)
var r=Kc(t,n)
return R.some(r)}
var Yc=function(e){var t
var n=e.dom===document?R.none():R.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)
return n.map(tr.fromDom)}
var Jc=function(e){return Va(e)}
var Qc=Object.freeze({__proto__:null,view:Yc,owner:Jc})
var es=function(e){var t=tr.fromDom(document)
var n=Wc(t)
var r=Zc(e,Qc)
return r.fold(x(Dc,e),(function(t){var r=Ac(e)
var o=K(t,(function(e,t){var n=Ac(t)
return{left:e.left+n.left,top:e.top+n.top}}),{left:0,top:0})
return Ec(o.left+r.left+n.left,o.top+r.top+n.top)}))}
var ts=function(e,t,n){return{point:e,width:t,height:n}}
var ns=function(e,t,n,r){return{x:e,y:t,width:n,height:r}}
var rs=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}}
var os=function(e){var t=Dc(e)
var n=zc(e)
var r=kc(e)
return rs(t.left,t.top,n,r)}
var as=function(e){var t=es(e)
var n=zc(e)
var r=kc(e)
return rs(t.left,t.top,n,r)}
var is=function(){return Xc(window)}
function us(e,t,n,r,o){return e(n,r)?R.some(n):v(o)&&o(n)?R.none():t(n,r,o)}var cs=function(e,t,n){var r=e.dom
var o=v(n)?n:k
while(r.parentNode){r=r.parentNode
var a=tr.fromDom(r)
if(t(a))return R.some(a)
if(o(a))break}return R.none()}
var ss=function(e,t,n){var r=function(e,t){return t(e)}
return us(r,cs,e,t,n)}
var ls=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=tr.fromDom(e.childNodes[r])
if(t(o))return R.some(o)
var a=n(e.childNodes[r])
if(a.isSome())return a}return R.none()}
return n(e.dom)}
var fs=function(e,t,n){return ss(e,t,n).isSome()}
var vs=function(e,t,n){return cs(e,(function(e){return eo(e,t)}),n)}
var ds=function(e,t){return ro(t,e)}
var ms=function(e,t,n){var r=function(e,t){return eo(e,t)}
return us(r,vs,e,t,n)}
var gs=function(e){var t=ss(e,(function(e){if(!Pa(e))return false
var t=Oi(e,"id")
return void 0!==t&&t.indexOf("aria-owns")>-1}))
return t.bind((function(e){var t=Oi(e,"id")
var n=ti(e)
return ds(n,'[aria-owns="'+t+'"]')}))}
var hs=function(){var e=Pi("aria-owns")
var t=function(t){Si(t,"aria-owns",e)}
var n=function(e){_i(e,"aria-owns")}
return{id:e,link:t,unlink:n}}
var ps=function(e,t){return gs(t).exists((function(t){return bs(e,t)}))}
var bs=function(e,t){return fs(t,(function(t){return oo(t,e.element)}),k)||ps(e,t)}
var ys="unknown"
var ws;(function(e){e[e["STOP"]=0]="STOP"
e[e["NORMAL"]=1]="NORMAL"
e[e["LOGGING"]=2]="LOGGING"})(ws||(ws={}))
var xs=Kn({})
var Cs=function(e,t){var n=[]
var r=(new Date).getTime()
return{logEventCut:function(e,t,r){n.push({outcome:"cut",target:t,purpose:r})},logEventStopped:function(e,t,r){n.push({outcome:"stopped",target:t,purpose:r})},logNoParent:function(e,t,r){n.push({outcome:"no-parent",target:t,purpose:r})},logEventNoHandlers:function(e,t){n.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,r){n.push({outcome:"response",purpose:r,target:t})},write:function(){var o=(new Date).getTime()
if(F(["mousemove","mouseover","mouseout",Ko()],e))return
console.log(e,{event:e,time:o-r,target:t.dom,sequence:W(n,(function(e){return F(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Mi(e.target)+")":e.outcome}))})}}}
var Ss=function(e,t,n){var r=He(xs.get(),e).orThunk((function(){var t=_e(xs.get())
return fe(t,(function(t){return e.indexOf(t)>-1?R.some(xs.get()[t]):R.none()}))})).getOr(ws.NORMAL)
switch(r){case ws.NORMAL:return n(_s())
case ws.LOGGING:var o=Cs(e,t)
var a=n(o)
o.write()
return a
case ws.STOP:return true}}
var ks=["alloy/data/Fields","alloy/debugging/Debugging"]
var Os=function(){var e=new Error
if(void 0!==e.stack){var t=e.stack.split("\n")
return J(t,(function(e){return e.indexOf("alloy")>0&&!V(ks,(function(t){return e.indexOf(t)>-1}))})).getOr(ys)}return ys}
var Ts={logEventCut:g,logEventStopped:g,logNoParent:g,logEventNoHandlers:g,logEventResponse:g,write:g}
var Es=function(e,t,n){return Ss(e,t,n)}
var _s=y(Ts)
var Ls=y([yn("menu"),yn("selectedMenu")])
var Ds=y([yn("item"),yn("selectedItem")])
y(It(Ds().concat(Ls())))
var As=y(It(Ds()))
var Ms=En("initSize",[yn("numColumns"),yn("numRows")])
var Ns=function(){return wn("markers",As())}
var Rs=function(){return En("markers",[yn("backgroundMenu")].concat(Ls()).concat(Ds()))}
var zs=function(e){return En("markers",W(e,yn))}
var Bs=function(e,t,n){Os()
return $t(t,t,n,Qt((function(e){return ge.value((function(){var t=[]
for(var n=0;n<arguments.length;n++)t[n]=arguments[n]
return e.apply(void 0,t)}))})))}
var Ps=function(e){return Bs("onHandler",e,Je(g))}
var Is=function(e){return Bs("onKeyboardHandler",e,Je(R.none))}
var Hs=function(e){return Bs("onHandler",e,et())}
var Fs=function(e){return Bs("onKeyboardHandler",e,et())}
var Vs=function(e,t){return Xn(e,y(t))}
var js=function(e){return Xn(e,w)}
var Us=y(Ms)
var Ws=function(e,t,n,r,o,a){return{x:e,y:t,bubble:n,direction:r,boundsRestriction:o,label:a}}
var qs=Ue.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}])
var $s=function(e,t,n,r,o,a,i,u,c){return e.fold(t,n,r,o,a,i,u,c)}
var Gs=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)}
var Xs=function(e,t,n,r){return e.fold(t,r,t,r,n,n,t,r)}
var Ks=qs.southeast
var Zs=qs.southwest
var Ys=qs.northeast
var Js=qs.northwest
var Qs=qs.south
var el=qs.north
var tl=qs.east
var nl=qs.west
var rl=function(e,t){switch(t){case 1:return e.x
case 0:return e.x+e.width
case 2:return e.y
case 3:return e.y+e.height}}
var ol=function(e,t){return ae(["left","right","top","bottom"],(function(n){return He(t,n).map((function(t){return rl(e,t)}))}))}
var al=function(e,t,n){var r=function(e,r){var o="top"===e||"bottom"===e?n.top:n.left
return He(t,e).bind(w).bind((function(t){return"left"===e||"top"===e?t>=r?R.some(t):R.none():t<=r?R.some(t):R.none()})).map((function(e){return e+o})).getOr(r)}
var o=r("left",e.x)
var a=r("top",e.y)
var i=r("right",e.right)
var u=r("bottom",e.bottom)
return rs(o,a,i-o,u-a)}
var il=function(e){return e.x}
var ul=function(e,t){return e.x+e.width/2-t.width/2}
var cl=function(e,t){return e.x+e.width-t.width}
var sl=function(e,t){return e.y-t.height}
var ll=function(e){return e.y+e.height}
var fl=function(e,t){return e.y+e.height/2-t.height/2}
var vl=function(e){return e.x+e.width}
var dl=function(e,t){return e.x-t.width}
var ml=function(e,t,n){return Ws(il(e),ll(e),n.southeast(),Ks(),ol(e,{left:1,top:3}),"layout-se")}
var gl=function(e,t,n){return Ws(cl(e,t),ll(e),n.southwest(),Zs(),ol(e,{right:0,top:3}),"layout-sw")}
var hl=function(e,t,n){return Ws(il(e),sl(e,t),n.northeast(),Ys(),ol(e,{left:1,bottom:2}),"layout-ne")}
var pl=function(e,t,n){return Ws(cl(e,t),sl(e,t),n.northwest(),Js(),ol(e,{right:0,bottom:2}),"layout-nw")}
var bl=function(e,t,n){return Ws(ul(e,t),sl(e,t),n.north(),el(),ol(e,{bottom:2}),"layout-n")}
var yl=function(e,t,n){return Ws(ul(e,t),ll(e),n.south(),Qs(),ol(e,{top:3}),"layout-s")}
var wl=function(e,t,n){return Ws(vl(e),fl(e,t),n.east(),tl(),ol(e,{left:0}),"layout-e")}
var xl=function(e,t,n){return Ws(dl(e,t),fl(e,t),n.west(),nl(),ol(e,{right:1}),"layout-w")}
var Cl=function(){return[ml,gl,hl,pl,yl,bl,wl,xl]}
var Sl=function(){return[gl,ml,pl,hl,yl,bl,wl,xl]}
var kl=function(){return[hl,pl,ml,gl,bl,yl]}
var Ol=function(){return[pl,hl,gl,ml,bl,yl]}
var Tl=function(){return[ml,gl,hl,pl,yl,bl]}
var El=function(){return[gl,ml,pl,hl,yl,bl]}
var _l=function(e,t){return t.universal?e:X(e,(function(e){return F(t.channels,e)}))}
var Ll=function(e){return ha([wa(jo(),(function(t,n){var r=e.channels
var o=_e(r)
var a=n
var i=_l(o,a)
q(i,(function(e){var n=r[e]
var o=n.schema
var i=on("channel["+e+"] data\nReceiver: "+Mi(t.element),o,a.data)
n.onReceive(t,i)}))}))])}
var Dl=Object.freeze({__proto__:null,events:Ll})
var Al=[wn("channels",en(ge.value,Pt([Hs("onReceive"),In("schema",ln())])))]
var Ml=function(e,t,n){return Na((function(r){n(r,e,t)}))}
var Nl=function(e,t,n){return Ma((function(r,o){n(r,e,t)}))}
var Rl=function(e,t,n,r,o,a){var i=Pt(e)
var u=Bn(t,[Pn("config",e)])
return Il(i,u,t,n,r,o,a)}
var zl=function(e,t,n,r,o,a){var i=e
var u=Bn(t,[An("config",e)])
return Il(i,u,t,n,r,o,a)}
var Bl=function(e,t,n){var r=function(r){var o=[]
for(var a=1;a<arguments.length;a++)o[a-1]=arguments[a]
var i=[r].concat(o)
return r.config({name:y(e)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)}),(function(e){var n=Array.prototype.slice.call(i,1)
return t.apply(void 0,[r,e.config,e.state].concat(n))}))}
return Ki(r,n,t)}
var Pl=function(e){return{key:e,value:void 0}}
var Il=function(e,t,n,r,o,a,i){var u=function(e){return Ve(e,n)?e[n]():R.none()}
var c=Ae(o,(function(e,t){return Bl(n,e,t)}))
var s=Ae(a,(function(e,t){return Yi(e,t)}))
var l=E(E(E({},s),c),{revoke:x(Pl,n),config:function(t){var r=on(n+"-config",e,t)
return{key:n,value:{config:r,me:l,configAsRaw:Ze((function(){return on(n+"-config",e,t)})),initialConfig:t,state:i}}},schema:y(t),exhibit:function(e,t){return u(e).bind((function(e){return He(r,"exhibit").map((function(n){return n(t,e.config,e.state)}))})).getOr(su({}))},name:y(n),handlers:function(e){return u(e).map((function(e){var t=He(r,"events").getOr((function(){return{}}))
return t(e.config,e.state)})).getOr({})}})
return l}
var Hl=function(e){return lt(e)}
var Fl=Pt([yn("fields"),yn("name"),In("active",{}),In("apis",{}),In("state",ru),In("extra",{})])
var Vl=function(e){var t=on("Creating behaviour: "+e.name,Fl,e)
return Rl(t.fields,t.name,t.active,t.apis,t.extra,t.state)}
var jl=Pt([yn("branchKey"),yn("branches"),yn("name"),In("active",{}),In("apis",{}),In("state",ru),In("extra",{})])
var Ul=function(e){var t=on("Creating behaviour: "+e.name,jl,e)
return zl(cn(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)}
var Wl=y(void 0)
var ql=Vl({fields:Al,name:"receiving",active:Dl})
var $l=function(e,t){return su({classes:[],styles:t.useFixed()?{}:{position:"relative"}})}
var Gl=Object.freeze({__proto__:null,exhibit:$l})
var Xl=function(){return tr.fromDom(document)}
var Kl=function(e){return e.dom.focus()}
var Zl=function(e){return e.dom.blur()}
var Yl=function(e){var t=ti(e).dom
return e.dom===t.activeElement}
var Jl=function(e){void 0===e&&(e=Xl())
return R.from(e.dom.activeElement).map(tr.fromDom)}
var Ql=function(e){return Jl(ti(e)).filter((function(t){return e.dom.contains(t.dom)}))}
var ef=function(e,t){var n=ti(t)
var r=Jl(n).bind((function(e){var n=function(t){return oo(e,t)}
return n(t)?R.some(t):ls(t,n)}))
var o=e(t)
r.each((function(e){Jl(n).filter((function(t){return oo(t,e)})).fold((function(){Kl(e)}),g)}))
return o}
var tf=function(e,t,n,r,o){return{position:e,left:t,top:n,right:r,bottom:o}}
var nf=function(e,t){var n=function(e){return e+"px"}
Yu(e,{position:R.some(t.position),left:t.left.map(n),top:t.top.map(n),right:t.right.map(n),bottom:t.bottom.map(n)})}
var rf=Ue.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}])
var of=function(e,t,n,r,o,a){var i=t.x-n
var u=t.y-r
var c=t.width
var s=t.height
var l=o-(i+c)
var f=a-(u+s)
var v=R.some(i)
var d=R.some(u)
var m=R.some(l)
var g=R.some(f)
var h=R.none()
return $s(t.direction,(function(){return tf(e,v,d,h,h)}),(function(){return tf(e,h,d,m,h)}),(function(){return tf(e,v,h,h,g)}),(function(){return tf(e,h,h,m,g)}),(function(){return tf(e,v,d,h,h)}),(function(){return tf(e,v,h,h,g)}),(function(){return tf(e,v,d,h,h)}),(function(){return tf(e,h,d,m,h)}))}
var af=function(e,t){return e.fold((function(){return tf("absolute",R.some(t.x),R.some(t.y),R.none(),R.none())}),(function(e,n,r,o){return of("absolute",t,e,n,r,o)}),(function(e,n,r,o){return of("fixed",t,e,n,r,o)}))}
var uf=function(e,t){var n=x(es,t)
var r=e.fold(n,n,(function(){var e=Wc()
return es(t).translate(-e.left,-e.top)}))
var o=zc(t)
var a=kc(t)
return rs(r.left,r.top,o,a)}
var cf=function(e,t){return t.fold((function(){return e.fold(is,is,rs)}),(function(t){return e.fold(t,t,(function(){var n=t()
var r=sf(e,n.x,n.y)
return rs(r.left,r.top,n.width,n.height)}))}))}
var sf=function(e,t,n){var r=Ec(t,n)
var o=function(){var e=Wc()
return r.translate(-e.left,-e.top)}
return e.fold(y(r),y(r),o)}
var lf=function(e,t,n,r){return e.fold(t,n,r)}
rf.none
var ff=rf.relative
var vf=rf.fixed
var df=function(e,t){return{anchorBox:e,origin:t}}
var mf=function(e,t){return df(e,t)}
var gf=function(e,t,n,r){var o=e+t
return o>r?n:o<n?r:o}
var hf=function(e,t,n){return Math.min(Math.max(e,t),n)}
var pf=Ue.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}])
var bf=function(e,t,n,r,o){var a=o.x
var i=o.y
var u=o.width
var c=o.height
var s=e>=a
var l=t>=i
var f=s&&l
var v=e+n<=a+u
var d=t+r<=i+c
var m=v&&d
var g=Math.abs(Math.min(n,s?a+u-e:a-(e+n)))
var h=Math.abs(Math.min(r,l?i+c-t:i-(t+r)))
var p=Math.max(o.x,o.right-n)
var b=Math.max(o.y,o.bottom-r)
var y=hf(e,o.x,p)
var w=hf(t,o.y,b)
return{originInBounds:f,sizeInBounds:m,limitX:y,limitY:w,deltaW:g,deltaH:h}}
var yf=function(e,t,n,r){var o=e.x
var a=e.y
var i=e.bubble.offset
var u=i.left
var c=i.top
var s=al(r,e.boundsRestriction,i)
var l=s.y
var f=s.bottom
var v=s.x
var d=s.right
var m=o+u
var g=a+c
var h=bf(m,g,t,n,s),p=h.originInBounds,b=h.sizeInBounds,w=h.limitX,x=h.limitY,C=h.deltaW,S=h.deltaH
var k=y(x+S-l)
var O=y(f-x)
var T=Gs(e.direction,O,O,k)
var E=y(w+C-v)
var _=y(d-w)
var L=Xs(e.direction,_,_,E)
var D={x:w,y:x,width:C,height:S,maxHeight:T,maxWidth:L,direction:e.direction,classes:{on:e.bubble.classesOn,off:e.bubble.classesOff},label:e.label,candidateYforTest:g}
return p&&b?pf.fit(D):pf.nofit(D,C,S)}
var wf=function(e,t,n,r,o){var a=n.width
var i=n.height
var u=function(e,u,c,s){var l=e(t,n,r)
var f=yf(l,a,i,o)
return f.fold(pf.fit,(function(e,t,n){var r=n>s||t>c
return r?pf.nofit(e,t,n):pf.nofit(u,c,s)}))}
var c=Z(e,(function(e,t){var n=x(u,t)
return e.fold(pf.fit,n)}),pf.nofit({x:t.x,y:t.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:Ks(),classes:{on:[],off:[]},label:"none",candidateYforTest:t.y},-1,-1))
return c.fold(w,w)}
var xf=function(e){return{width:zc(e),height:kc(e)}}
var Cf=function(e,t,n,r){rc(t,"max-height")
rc(t,"max-width")
var o=xf(t)
return wf(r.preference,e,o,n,r.bounds)}
var Sf=function(e,t){var n=t.classes
ju(e,n.off)
Vu(e,n.on)}
var kf=function(e,t,n){var r=n.maxHeightFunction
r(e,t.maxHeight)}
var Of=function(e,t,n){var r=n.maxWidthFunction
r(e,t.maxWidth)}
var Tf=function(e,t,n){nf(e,af(n.origin,t))}
var Ef=function(e,t){Oc(e,Math.floor(t))}
var _f=y((function(e,t){Ef(e,t)
Zu(e,{"overflow-x":"hidden","overflow-y":"auto"})}))
var Lf=y((function(e,t){Ef(e,t)}))
var Df=function(e,t,n){return void 0===e[t]?n:e[t]}
var Af=function(e,t,n,r,o,a){var i=Df(a,"maxHeightFunction",_f())
var u=Df(a,"maxWidthFunction",g)
var c=e.anchorBox
var s=e.origin
var l={bounds:cf(s,o),origin:s,preference:r,maxHeightFunction:i,maxWidthFunction:u}
Mf(c,t,n,l)}
var Mf=function(e,t,n,r){var o=Cf(e,t,n,r)
Tf(t,o,r)
Sf(t,o)
kf(t,o,r)
Of(t,o,r)}
var Nf=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"]
var Rf=function(e,t,n){var r=function(e){return He(n,e).getOr([])}
var o=function(e,t,n){var o=oe(Nf,n)
return{offset:Ec(e,t),classesOn:te(n,r),classesOff:te(o,r)}}
return{southeast:function(){return o(-e,t,["top","alignLeft"])},southwest:function(){return o(e,t,["top","alignRight"])},south:function(){return o(-e/2,t,["top","alignCentre"])},northeast:function(){return o(-e,-t,["bottom","alignLeft"])},northwest:function(){return o(e,-t,["bottom","alignRight"])},north:function(){return o(-e/2,-t,["bottom","alignCentre"])},east:function(){return o(e,-t/2,["valignCentre","left"])},west:function(){return o(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return o(-e,t,["top","alignRight"])},innerNortheast:function(){return o(e,t,["top","alignLeft"])},innerNorth:function(){return o(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return o(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return o(e,-t,["bottom","alignLeft"])},innerSouth:function(){return o(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return o(e,-t/2,["valignCentre","right"])},innerEast:function(){return o(-e,-t/2,["valignCentre","left"])}}}
var zf=function(){return Rf(0,0,{})}
var Bf=function(e){return e}
var Pf=function(e,t){return function(n){return"rtl"===If(n)?t:e}}
var If=function(e){return"rtl"===Ju(e,"direction")?"rtl":"ltr"}
var Hf;(function(e){e["TopToBottom"]="toptobottom"
e["BottomToTop"]="bottomtotop"})(Hf||(Hf={}))
var Ff="data-alloy-vertical-dir"
var Vf=function(e){return fs(e,(function(e){return Pa(e)&&Oi(e,"data-alloy-vertical-dir")===Hf.BottomToTop}))}
var jf=function(){return Bn("layouts",[yn("onLtr"),yn("onRtl"),Dn("onBottomLtr"),Dn("onBottomRtl")])}
var Uf=function(e,t,n,r,o,a,i){var u=i.map(Vf).getOr(false)
var c=t.layouts.map((function(t){return t.onLtr(e)}))
var s=t.layouts.map((function(t){return t.onRtl(e)}))
var l=u?t.layouts.bind((function(t){return t.onBottomLtr.map((function(t){return t(e)}))})).or(c).getOr(o):c.getOr(n)
var f=u?t.layouts.bind((function(t){return t.onBottomRtl.map((function(t){return t(e)}))})).or(s).getOr(a):s.getOr(r)
var v=Pf(l,f)
return v(e)}
var Wf=function(e,t,n){var r=t.hotspot
var o=uf(n,r.element)
var a=Uf(e.element,t,Tl(),El(),kl(),Ol(),R.some(t.hotspot.element))
return R.some(Bf({anchorBox:o,bubble:t.bubble.getOr(zf()),overrides:t.overrides,layouts:a,placer:R.none()}))}
var qf=[yn("hotspot"),Dn("bubble"),In("overrides",{}),jf(),Vs("placement",Wf)]
var $f=function(e,t,n){var r=sf(n,t.x,t.y)
var o=rs(r.left,r.top,t.width,t.height)
var a=Uf(e.element,t,Cl(),Sl(),Cl(),Sl(),R.none())
return R.some(Bf({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:a,placer:R.none()}))}
var Gf=[yn("x"),yn("y"),In("height",0),In("width",0),In("bubble",zf()),In("overrides",{}),jf(),Vs("placement",$f)]
var Xf=Ue.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}])
var Kf=function(e){return e.fold(w,(function(e,t,n){return e.translate(-t,-n)}))}
var Zf=function(e){return e.fold(w,w)}
var Yf=function(e){return Z(e,(function(e,t){return e.translate(t.left,t.top)}),Ec(0,0))}
var Jf=function(e){var t=W(e,Kf)
return Yf(t)}
var Qf=function(e){var t=W(e,Zf)
return Yf(t)}
var ev=Xf.screen
var tv=Xf.absolute
var nv=function(e,t,n){var r=Wa(n.root).dom
var o=function(t){var n=Va(t)
var r=Va(e.element)
return oo(n,r)}
return R.from(r.frameElement).map(tr.fromDom).filter(o).map(Dc)}
var rv=function(e,t,n){var r=Va(e.element)
var o=Wc(r)
var a=nv(e,t,n).getOr(o)
return tv(a,o.left,o.top)}
var ov=function(e,t,n,r){var o=e,a=t,i=n,u=r
if(e<0){o=0
i=n+e}if(t<0){a=0
u=r+t}var c=ev(Ec(o,a))
return R.some(ts(c,i,u))}
var av=function(e,t,n,r,o){return e.map((function(e){var a=[t,e.point]
var i=lf(r,(function(){return Qf(a)}),(function(){return Qf(a)}),(function(){return Jf(a)}))
var u=ns(i.left,i.top,e.width,e.height)
var c=n.showAbove?kl():Tl()
var s=n.showAbove?Ol():El()
var l=Uf(o,n,c,s,c,s,R.none())
return Bf({anchorBox:u,bubble:n.bubble.getOr(zf()),overrides:n.overrides,layouts:l,placer:R.none()})}))}
var iv=function(e,t,n){var r=rv(e,n,t)
return t.node.filter(Wu).bind((function(o){var a=o.dom.getBoundingClientRect()
var i=ov(a.left,a.top,a.width,a.height)
var u=t.node.getOr(e.element)
return av(i,r,t,n,u)}))}
var uv=[yn("node"),yn("root"),Dn("bubble"),jf(),In("overrides",{}),In("showAbove",false),Vs("placement",iv)]
var cv="\ufeff"
var sv=" "
var lv=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}}
var fv={create:lv}
var vv=Ue.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var dv=function(e,t,n,r){return e.fold(t,n,r)}
var mv=function(e){return e.fold(w,w,w)}
var gv=vv.before
var hv=vv.on
var pv=vv.after
var bv={before:gv,on:hv,after:pv,cata:dv,getStart:mv}
var yv=Ue.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var wv=function(e){return yv.exact(e.start,e.soffset,e.finish,e.foffset)}
var xv=function(e){return e.match({domRange:function(e){return tr.fromDom(e.startContainer)},relative:function(e,t){return bv.getStart(e)},exact:function(e,t,n,r){return e}})}
var Cv=yv.domRange
var Sv=yv.relative
var kv=yv.exact
var Ov=function(e){var t=xv(e)
return Wa(t)}
var Tv=fv.create
var Ev={domRange:Cv,relative:Sv,exact:kv,exactFromRange:wv,getWin:Ov,range:Tv}
var _v=function(e,t){t.fold((function(t){e.setStartBefore(t.dom)}),(function(t,n){e.setStart(t.dom,n)}),(function(t){e.setStartAfter(t.dom)}))}
var Lv=function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))}
var Dv=function(e,t,n){var r=e.document.createRange()
_v(r,t)
Lv(r,n)
return r}
var Av=function(e,t,n,r,o){var a=e.document.createRange()
a.setStart(t.dom,n)
a.setEnd(r.dom,o)
return a}
var Mv=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}
var Nv=function(e){var t=e.getClientRects()
var n=t.length>0?t[0]:e.getBoundingClientRect()
return n.width>0||n.height>0?R.some(n).map(Mv):R.none()}
var Rv=Ue.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}])
var zv=function(e,t,n){return t(tr.fromDom(n.startContainer),n.startOffset,tr.fromDom(n.endContainer),n.endOffset)}
var Bv=function(e,t){return t.match({domRange:function(e){return{ltr:y(e),rtl:R.none}},relative:function(t,n){return{ltr:Ze((function(){return Dv(e,t,n)})),rtl:Ze((function(){return R.some(Dv(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:Ze((function(){return Av(e,t,n,r,o)})),rtl:Ze((function(){return R.some(Av(e,r,o,t,n))}))}}})}
var Pv=function(e,t){var n=t.ltr()
if(n.collapsed){var r=t.rtl().filter((function(e){return false===e.collapsed}))
return r.map((function(e){return Rv.rtl(tr.fromDom(e.endContainer),e.endOffset,tr.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return zv(e,Rv.ltr,n)}))}return zv(e,Rv.ltr,n)}
var Iv=function(e,t){var n=Bv(e,t)
return Pv(e,n)}
var Hv=function(e,t){var n=Iv(e,t)
return n.match({ltr:function(t,n,r,o){var a=e.document.createRange()
a.setStart(t.dom,n)
a.setEnd(r.dom,o)
return a},rtl:function(t,n,r,o){var a=e.document.createRange()
a.setStart(r.dom,o)
a.setEnd(t.dom,n)
return a}})}
Rv.ltr
Rv.rtl
var Fv=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node")
return r(n).getOr("")}
var r=function(t){return e(t)?R.from(t.dom.nodeValue):R.none()}
var o=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node")
n.dom.nodeValue=r}
return{get:n,getOption:r,set:o}}
var Vv=Fv(Ia,"text")
var jv=function(e){return Vv.get(e)}
var Uv=function(e){return Vv.getOption(e)}
var Wv=function(e){return"img"===Ra(e)?1:Uv(e).fold((function(){return Ka(e).length}),(function(e){return e.length}))}
var qv=function(e){return Uv(e).filter((function(e){return 0!==e.trim().length||e.indexOf(sv)>-1})).isSome()}
var $v=["img","br"]
var Gv=function(e){var t=qv(e)
return t||F($v,Ra(e))}
var Xv=function(e){return Kv(e,Gv)}
var Kv=function(e,t){var n=function(e){var r=Ka(e)
for(var o=r.length-1;o>=0;o--){var a=r[o]
if(t(a))return R.some(a)
var i=n(a)
if(i.isSome())return i}return R.none()}
return n(e)}
var Zv=function(e,t){return no(t,e)}
var Yv=function(e,t,n,r){var o=Va(e)
var a=o.dom.createRange()
a.setStart(e.dom,t)
a.setEnd(n.dom,r)
return a}
var Jv=function(e,t,n,r){var o=Yv(e,t,n,r)
var a=oo(e,n)&&t===r
return o.collapsed&&!a}
var Qv=function(e){return R.from(e.getSelection())}
var ed=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0)
var n=e.getRangeAt(e.rangeCount-1)
return R.some(fv.create(tr.fromDom(t.startContainer),t.startOffset,tr.fromDom(n.endContainer),n.endOffset))}return R.none()}
var td=function(e){if(null===e.anchorNode||null===e.focusNode)return ed(e)
var t=tr.fromDom(e.anchorNode)
var n=tr.fromDom(e.focusNode)
return Jv(t,e.anchorOffset,n,e.focusOffset)?R.some(fv.create(t,e.anchorOffset,n,e.focusOffset)):ed(e)}
var nd=function(e){return Qv(e).filter((function(e){return e.rangeCount>0})).bind(td)}
var rd=function(e,t){var n=Hv(e,t)
return Nv(n)}
var od=function(e,t){return{element:e,offset:t}}
var ad=function(e,t){var n=Ka(e)
if(0===n.length)return od(e,t)
if(t<n.length)return od(n[t],0)
var r=n[n.length-1]
var o=Ia(r)?jv(r).length:Ka(r).length
return od(r,o)}
var id=function(e,t){return Ia(e)?od(e,t):ad(e,t)}
var ud=function(e,t){var n=t.getSelection.getOrThunk((function(){return function(){return nd(e)}}))
return n().map((function(e){var t=id(e.start,e.soffset)
var n=id(e.finish,e.foffset)
return Ev.range(t.element,t.offset,n.element,n.offset)}))}
var cd=function(e,t,n){var r=Wa(t.root).dom
var o=rv(e,n,t)
var a=ud(r,t).bind((function(e){var t=rd(r,Ev.exactFromRange(e)).orThunk((function(){var t=tr.fromText(cv)
ci(e.start,t)
return rd(r,Ev.exact(t,0,t,1)).map((function(e){hi(t)
return e}))}))
return t.bind((function(e){return ov(e.left,e.top,e.width,e.height)}))}))
var i=ud(r,t).bind((function(e){return Pa(e.start)?R.some(e.start):$a(e.start)}))
var u=i.getOr(e.element)
return av(a,o,t,n,u)}
var sd=[Dn("getSelection"),yn("root"),Dn("bubble"),jf(),In("overrides",{}),In("showAbove",false),Vs("placement",cd)]
var ld=function(e){return e.x+e.width}
var fd=function(e,t){return e.x-t.width}
var vd=function(e,t){return e.y-t.height+e.height}
var dd=function(e){return e.y}
var md=function(e,t,n){return Ws(ld(e),dd(e),n.southeast(),Ks(),ol(e,{left:0,top:2}),"link-layout-se")}
var gd=function(e,t,n){return Ws(fd(e,t),dd(e),n.southwest(),Zs(),ol(e,{right:1,top:2}),"link-layout-sw")}
var hd=function(e,t,n){return Ws(ld(e),vd(e,t),n.northeast(),Ys(),ol(e,{left:0,bottom:3}),"link-layout-ne")}
var pd=function(e,t,n){return Ws(fd(e,t),vd(e,t),n.northwest(),Js(),ol(e,{right:1,bottom:3}),"link-layout-nw")}
var bd=function(){return[md,gd,hd,pd]}
var yd=function(){return[gd,md,pd,hd]}
var wd=function(e,t,n){var r=uf(n,t.item.element)
var o=Uf(e.element,t,bd(),yd(),bd(),yd(),R.none())
return R.some(Bf({anchorBox:r,bubble:zf(),overrides:t.overrides,layouts:o,placer:R.none()}))}
var xd=[yn("item"),jf(),In("overrides",{}),Vs("placement",wd)]
var Cd=cn("anchor",{selection:sd,node:uv,hotspot:qf,submenu:xd,makeshift:Gf})
var Sd=function(){var e=document.documentElement
return vf(0,0,e.clientWidth,e.clientHeight)}
var kd=function(e){var t=Dc(e.element)
var n=e.element.dom.getBoundingClientRect()
return ff(t.left,t.top,n.width,n.height)}
var Od=function(e,t,n,r,o){var a=mf(n.anchorBox,t)
Af(a,o.element,n.bubble,n.layouts,r,n.overrides)}
var Td=function(e,t,n,r,o){Ed(e,t,n,r,o,R.none())}
var Ed=function(e,t,n,r,o,a){var i=a.map(os)
return _d(e,t,n,r,o,i)}
var _d=function(e,t,n,r,o,a){var i=on("positioning anchor.info",Cd,r)
ef((function(){Ku(o.element,"position","fixed")
var n=ec(o.element,"visibility")
Ku(o.element,"visibility","hidden")
var r=t.useFixed()?Sd():kd(e)
var u=i.placement
var c=a.map(y).or(t.getBounds)
u(e,i,r).each((function(t){var n=t.placer.getOr(Od)
n(e,r,t,c,o)}))
n.fold((function(){rc(o.element,"visibility")}),(function(e){Ku(o.element,"visibility",e)}))
ec(o.element,"left").isNone()&&ec(o.element,"top").isNone()&&ec(o.element,"right").isNone()&&ec(o.element,"bottom").isNone()&&ec(o.element,"position").is("fixed")&&rc(o.element,"position")}),o.element)}
var Ld=function(e,t,n){return t.useFixed()?"fixed":"absolute"}
var Dd=Object.freeze({__proto__:null,position:Td,positionWithin:Ed,positionWithinBounds:_d,getMode:Ld})
var Ad=[In("useFixed",k),Dn("getBounds")]
var Md=Vl({fields:Ad,name:"positioning",active:Gl,apis:Dd})
var Nd=function(e){la(e,ta())
var t=e.components()
q(t,Nd)}
var Rd=function(e){var t=e.components()
q(t,Rd)
la(e,ea())}
var zd=function(e,t){fi(e.element,t.element)}
var Bd=function(e){q(e.components(),(function(e){return hi(e.element)}))
gi(e.element)
e.syncComponents()}
var Pd=function(e,t){var n=e.components()
Bd(e)
var r=oe(n,t)
q(r,(function(t){Nd(t)
e.getSystem().removeFromWorld(t)}))
q(t,(function(t){if(t.getSystem().isConnected())zd(e,t)
else{e.getSystem().addToWorld(t)
zd(e,t)
Wu(e.element)&&Rd(t)}e.syncComponents()}))}
var Id=function(e,t){Hd(e,t,fi)}
var Hd=function(e,t,n){e.getSystem().addToWorld(t)
n(e.element,t.element)
Wu(e.element)&&Rd(t)
e.syncComponents()}
var Fd=function(e){Nd(e)
hi(e.element)
e.getSystem().removeFromWorld(e)}
var Vd=function(e){var t=qa(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))
Fd(e)
t.each((function(e){e.syncComponents()}))}
var jd=function(e){var t=e.components()
q(t,Fd)
gi(e.element)
e.syncComponents()}
var Ud=function(e,t){qd(e,t,fi)}
var Wd=function(e,t){qd(e,t,si)}
var qd=function(e,t,n){n(e,t.element)
var r=Ka(t.element)
q(r,(function(e){t.getByDom(e).each(Rd)}))}
var $d=function(e){var t=Ka(e.element)
q(t,(function(t){e.getByDom(t).each(Nd)}))
hi(e.element)}
var Gd=function(e,t,n,r){n.get().each((function(t){jd(e)}))
var o=t.getAttachPoint(e)
Id(o,e)
var a=e.getSystem().build(r)
Id(e,a)
n.set(a)
return a}
var Xd=function(e,t,n,r){var o=Gd(e,t,n,r)
t.onOpen(e,o)
return o}
var Kd=function(e,t,n,r){return n.get().map((function(){return Gd(e,t,n,r)}))}
var Zd=function(e,t,n,r,o){rm(e,t)
Xd(e,t,n,r)
o()
am(e,t)}
var Yd=function(e,t,n){n.get().each((function(r){jd(e)
Vd(e)
t.onClose(e,r)
n.clear()}))}
var Jd=function(e,t,n){return n.isOpen()}
var Qd=function(e,t,n,r){return Jd(e,t,n)&&n.get().exists((function(n){return t.isPartOf(e,n,r)}))}
var em=function(e,t,n){return n.get()}
var tm=function(e,t,n,r){ec(e.element,t).fold((function(){_i(e.element,n)}),(function(t){Si(e.element,n,t)}))
Ku(e.element,t,r)}
var nm=function(e,t,n){Ti(e.element,n).fold((function(){return rc(e.element,t)}),(function(n){return Ku(e.element,t,n)}))}
var rm=function(e,t,n){var r=t.getAttachPoint(e)
Ku(e.element,"position",Md.getMode(r))
tm(e,"visibility",t.cloakVisibilityAttr,"hidden")}
var om=function(e){return V(["top","left","right","bottom"],(function(t){return ec(e,t).isSome()}))}
var am=function(e,t,n){om(e.element)||rc(e.element,"position")
nm(e,"visibility",t.cloakVisibilityAttr)}
var im=Object.freeze({__proto__:null,cloak:rm,decloak:am,open:Xd,openWhileCloaked:Zd,close:Yd,isOpen:Jd,isPartOf:Qd,getState:em,setContent:Kd})
var um=function(e,t){return ha([wa(Go(),(function(n,r){Yd(n,e,t)}))])}
var cm=Object.freeze({__proto__:null,events:um})
var sm=[Ps("onOpen"),Ps("onClose"),yn("isPartOf"),yn("getAttachPoint"),In("cloakVisibilityAttr","data-precloak-visibility")]
var lm=function(){var e=Kn(R.none())
var t=y("not-implemented")
var n=function(){return e.get().isSome()}
var r=function(t){e.set(R.some(t))}
var o=function(){return e.get()}
var a=function(){e.set(R.none())}
return ou({readState:t,isOpen:n,clear:a,set:r,get:o})}
var fm=Object.freeze({__proto__:null,init:lm})
var vm=Vl({fields:sm,name:"sandboxing",active:cm,apis:im,state:fm})
var dm=y("dismiss.popups")
var mm=y("reposition.popups")
var gm=y("mouse.released")
var hm=Pt([In("isExtraPart",k),Bn("fireEventInstead",[In("event",na())])])
var pm=function(e){var t
var n=on("Dismissal",hm,e)
return t={},t[dm()]={schema:Pt([yn("target")]),onReceive:function(e,t){if(vm.isOpen(e)){var r=vm.isPartOf(e,t.target)||n.isExtraPart(e,t.target)
r||n.fireEventInstead.fold((function(){return vm.close(e)}),(function(t){return la(e,t.event)}))}}},t}
var bm=Pt([Bn("fireEventInstead",[In("event",ra())]),On("doReposition")])
var ym=function(e){var t
var n=on("Reposition",bm,e)
return t={},t[mm()]={onReceive:function(e){vm.isOpen(e)&&n.fireEventInstead.fold((function(){return n.doReposition(e)}),(function(t){return la(e,t.event)}))}},t}
var wm=function(e,t,n){t.store.manager.onLoad(e,t,n)}
var xm=function(e,t,n){t.store.manager.onUnload(e,t,n)}
var Cm=function(e,t,n,r){t.store.manager.setValue(e,t,n,r)}
var Sm=function(e,t,n){return t.store.manager.getValue(e,t,n)}
var km=function(e,t,n){return n}
var Om=Object.freeze({__proto__:null,onLoad:wm,onUnload:xm,setValue:Cm,getValue:Sm,getState:km})
var Tm=function(e,t){var n=e.resetOnDom?[Da((function(n,r){wm(n,e,t)})),Aa((function(n,r){xm(n,e,t)}))]:[Nl(e,t,wm)]
return ha(n)}
var Em=Object.freeze({__proto__:null,events:Tm})
var _m=function(){var e=Kn(null)
var t=function(){return{mode:"memory",value:e.get()}}
var n=function(){return null===e.get()}
var r=function(){e.set(null)}
return ou({set:e.set,get:e.get,isNotSet:n,clear:r,readState:t})}
var Lm=function(){var e=g
return ou({readState:e})}
var Dm=function(){var e=Kn({})
var t=Kn({})
var n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}}
var r=function(){e.set({})
t.set({})}
var o=function(n){return He(e.get(),n).orThunk((function(){return He(t.get(),n)}))}
var a=function(n){var r=e.get()
var o=t.get()
var a={}
var i={}
q(n,(function(e){a[e.value]=e
He(e,"meta").each((function(t){He(t,"text").each((function(t){i[t]=e}))}))}))
e.set(E(E({},r),a))
t.set(E(E({},o),i))}
return ou({readState:n,lookup:o,update:a,clear:r})}
var Am=function(e){return e.store.manager.state(e)}
var Mm=Object.freeze({__proto__:null,memory:_m,dataset:Dm,manual:Lm,init:Am})
var Nm=function(e,t,n,r){var o=t.store
n.update([r])
o.setValue(e,r)
t.onSetValue(e,r)}
var Rm=function(e,t,n){var r=t.store
var o=r.getDataKey(e)
return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(e){return e}))}
var zm=function(e,t,n){var r=t.store
r.initialValue.each((function(r){Nm(e,t,n,r)}))}
var Bm=function(e,t,n){n.clear()}
var Pm=[Dn("initialValue"),yn("getFallbackEntry"),yn("getDataKey"),yn("setValue"),Vs("manager",{setValue:Nm,getValue:Rm,onLoad:zm,onUnload:Bm,state:Dm})]
var Im=function(e,t,n){return t.store.getValue(e)}
var Hm=function(e,t,n,r){t.store.setValue(e,r)
t.onSetValue(e,r)}
var Fm=function(e,t,n){t.store.initialValue.each((function(n){t.store.setValue(e,n)}))}
var Vm=[yn("getValue"),In("setValue",g),Dn("initialValue"),Vs("manager",{setValue:Hm,getValue:Im,onLoad:Fm,onUnload:g,state:ru.init})]
var jm=function(e,t,n,r){n.set(r)
t.onSetValue(e,r)}
var Um=function(e,t,n){return n.get()}
var Wm=function(e,t,n){t.store.initialValue.each((function(e){n.isNotSet()&&n.set(e)}))}
var qm=function(e,t,n){n.clear()}
var $m=[Dn("initialValue"),Vs("manager",{setValue:jm,getValue:Um,onLoad:Wm,onUnload:qm,state:_m})]
var Gm=[Hn("store",{mode:"memory"},cn("mode",{memory:$m,manual:Vm,dataset:Pm})),Ps("onSetValue"),In("resetOnDom",false)]
var Xm=Vl({fields:Gm,name:"representing",active:Em,apis:Om,extra:{setValueFrom:function(e,t){var n=Xm.getValue(t)
Xm.setValue(e,n)}},state:Mm})
var Km=function(e,t){return Gn(e,{},W(t,(function(t){return Tn(t.name(),"Cannot configure "+t.name()+" for "+e)})).concat([Xn("dump",w)]))}
var Zm=function(e){return e.dump}
var Ym=function(e,t){return E(E({},e.dump),Hl(t))}
var Jm={field:Km,augment:Ym,get:Zm}
var Qm="placeholder"
var eg=Ue.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}])
var tg=function(e){return Fe(e,"uiType")}
var ng=function(e,t,n,r){if(e.exists((function(e){return e!==n.owner})))return eg.single(true,y(n))
return He(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+_e(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(e){return e.replace()}))}
var rg=function(e,t,n,r){return tg(n)&&n.uiType===Qm?ng(e,t,n,r):eg.single(false,y(n))}
var og=function(e,t,n,r){var o=rg(e,t,n,r)
return o.fold((function(o,a){var i=tg(n)?a(t,n.config,n.validated):a(t)
var u=He(i,"components").getOr([])
var c=te(u,(function(n){return og(e,t,n,r)}))
return[E(E({},i),{components:c})]}),(function(e,r){if(tg(n)){var o=r(t,n.config,n.validated)
var a=n.validated.preprocess.getOr(w)
return a(o)}return r(t)}))}
var ag=function(e,t,n,r){return te(n,(function(n){return og(e,t,n,r)}))}
var ig=function(e,t){var n=false
var r=function(){return n}
var o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+e)
n=true
return t}
var a=function(){return t.fold((function(e,t){return e}),(function(e,t){return e}))}
return{name:y(e),required:a,used:r,replace:o}}
var ug=function(e,t,n,r){var o=Ae(r,(function(e,t){return ig(t,e)}))
var a=ag(e,t,n,o)
De(o,(function(n){if(false===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}))
return a}
var cg=eg.single
var sg=eg.multiple
var lg=y(Qm)
var fg=Ue.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}])
var vg=In("factory",{sketch:w})
var dg=In("schema",[])
var mg=yn("name")
var gg=$t("pname","pname",nt((function(e){return"<alloy."+Pi(e.name)+">"})),ln())
var hg=Xn("schema",(function(){return[Dn("preprocess")]}))
var pg=In("defaults",y({}))
var bg=In("overrides",y({}))
var yg=It([vg,dg,mg,gg,pg,bg])
var wg=It([vg,dg,mg,pg,bg])
var xg=It([vg,dg,mg,gg,pg,bg])
var Cg=It([vg,hg,mg,yn("unit"),gg,pg,bg])
var Sg=function(e){return e.fold(R.some,R.none,R.some,R.some)}
var kg=function(e){var t=function(e){return e.name}
return e.fold(t,t,t,t)}
var Og=function(e){return e.fold(w,w,w,w)}
var Tg=function(e,t){return function(n){var r=on("Converting part type",t,n)
return e(r)}}
var Eg=Tg(fg.required,yg)
var _g=Tg(fg.external,wg)
var Lg=Tg(fg.optional,xg)
var Dg=Tg(fg.group,Cg)
var Ag=y("entirety")
var Mg=Object.freeze({__proto__:null,required:Eg,external:_g,optional:Lg,group:Dg,asNamedPart:Sg,name:kg,asCommon:Og,original:Ag})
var Ng=function(e,t,n,r){return Xe(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))}
var Rg=function(e,t,n){var r={}
var o={}
q(n,(function(e){e.fold((function(e){r[e.pname]=cg(true,(function(t,n,r){return e.factory.sketch(Ng(t,e,n,r))}))}),(function(e){var n=t.parts[e.name]
o[e.name]=y(e.factory.sketch(Ng(t,e,n[Ag()]),n))}),(function(e){r[e.pname]=cg(false,(function(t,n,r){return e.factory.sketch(Ng(t,e,n,r))}))}),(function(e){r[e.pname]=sg(true,(function(t,n,r){var o=t[e.name]
return W(o,(function(n){return e.factory.sketch(Xe(e.defaults(t,n,r),n,e.overrides(t,n)))}))}))}))}))
return{internals:y(r),externals:y(o)}}
var zg=function(e,t){var n={}
q(t,(function(t){Sg(t).each((function(t){var r=Bg(e,t.pname)
n[t.name]=function(n){var o=on("Part: "+t.name+" in "+e,It(t.schema),n)
return E(E({},r),{config:n,validated:o})}}))}))
return n}
var Bg=function(e,t){return{uiType:lg(),owner:e,name:t}}
var Pg=function(e,t,n){return{uiType:lg(),owner:e,name:t,config:n,validated:{}}}
var Ig=function(e){return te(e,(function(e){return e.fold(R.none,R.some,R.none,R.none).map((function(e){return En(e.name,e.schema.concat([js(Ag())]))})).toArray()}))}
var Hg=function(e){return W(e,kg)}
var Fg=function(e,t,n){return Rg(e,t,n)}
var Vg=function(e,t,n){return ug(R.some(e),t,t.components,n)}
var jg=function(e,t,n){var r=t.partUids[n]
return e.getSystem().getByUid(r).toOptional()}
var Ug=function(e,t,n){return jg(e,t,n).getOrDie("Could not find part: "+n)}
var Wg=function(e,t,n){var r={}
var o=t.partUids
var a=e.getSystem()
q(n,(function(e){r[e]=y(a.getByUid(o[e]))}))
return r}
var qg=function(e,t){var n=e.getSystem()
return Ae(t.partUids,(function(e,t){return y(n.getByUid(e))}))}
var $g=function(e){return _e(e.partUids)}
var Gg=function(e,t,n){var r={}
var o=t.partUids
var a=e.getSystem()
q(n,(function(e){r[e]=y(a.getByUid(o[e]).getOrDie())}))
return r}
var Xg=function(e,t){var n=Hg(t)
return lt(W(n,(function(t){return{key:t,value:e+"-"+t}})))}
var Kg=function(e){return $t("partUids","partUids",rt((function(t){return Xg(t.uid,e)})),ln())}
var Zg=Object.freeze({__proto__:null,generate:zg,generateOne:Pg,schemas:Ig,names:Hg,substitutes:Fg,components:Vg,defaultUids:Xg,defaultUidsSchema:Kg,getAllParts:qg,getAllPartNames:$g,getPart:jg,getPartOrDie:Ug,getParts:Wg,getPartsOrDie:Gg})
var Yg=function(e,t){var n=e.length>0?[En("parts",e)]:[]
return n.concat([yn("uid"),In("dom",{}),In("components",[]),js("originalSpec"),In("debug.sketcher",{})]).concat(t)}
var Jg=function(e,t,n,r,o){var a=Yg(r,o)
return on(e+" [SpecSchema]",Pt(a.concat(t)),n)}
var Qg=function(e,t,n,r){var o=nh(r)
var a=Jg(e,t,o,[],[])
return n(a,o)}
var eh=function(e,t,n,r,o){var a=nh(o)
var i=Ig(n)
var u=Kg(n)
var c=Jg(e,t,a,i,[u])
var s=Fg(e,c,n)
var l=Vg(e,c,s.internals())
return r(c,l,a,s.externals())}
var th=function(e){return Fe(e,"uid")}
var nh=function(e){return th(e)?e:E(E({},e),{uid:qi("uid")})}
var rh=function(e){return void 0!==e.uid}
var oh=Pt([yn("name"),yn("factory"),yn("configFields"),In("apis",{}),In("extraApis",{})])
var ah=Pt([yn("name"),yn("factory"),yn("configFields"),yn("partFields"),In("apis",{}),In("extraApis",{})])
var ih=function(e){var t=on("Sketcher for "+e.name,oh,e)
var n=function(e){return Qg(t.name,t.configFields,t.factory,e)}
var r=Ae(t.apis,nu)
var o=Ae(t.extraApis,(function(e,t){return Yi(e,t)}))
return E(E({name:t.name,configFields:t.configFields,sketch:n},r),o)}
var uh=function(e){var t=on("Sketcher for "+e.name,ah,e)
var n=function(e){return eh(t.name,t.configFields,t.partFields,t.factory,e)}
var r=zg(t.name,t.partFields)
var o=Ae(t.apis,nu)
var a=Ae(t.extraApis,(function(e,t){return Yi(e,t)}))
return E(E({name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:n,parts:r},o),a)}
var ch=function(e){var t=[]
var n=function(e){t.push(e)}
for(var r=0;r<e.length;r++)e[r].each(n)
return t}
var sh=function(e){var t=[]
for(var n=0;n<e.length;n++){var r=e[n]
if(!r.isSome())return R.none()
t.push(r.getOrDie())}return R.some(t)}
var lh=function(e,t,n){return e.isSome()&&t.isSome()?R.some(n(e.getOrDie(),t.getOrDie())):R.none()}
var fh=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?R.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):R.none()}
var vh=function(e,t){return void 0!==e&&null!==e?R.some(t(e)):R.none()}
var dh=function(e,t){return e?R.some(t):R.none()}
var mh=function(e){return"input"===Ra(e)&&"radio"!==Oi(e,"type")||"textarea"===Ra(e)}
var gh=function(e,t,n){return t.find(e)}
var hh=Object.freeze({__proto__:null,getCurrent:gh})
var ph=[yn("find")]
var bh=Vl({fields:ph,name:"composing",apis:hh})
var yh=function(e,t,n,r){var o=Zv(e.element,"."+t.highlightClass)
q(o,(function(n){if(!V(r,(function(e){return e.element===n}))){Hu(n,t.highlightClass)
e.getSystem().getByDom(n).each((function(n){t.onDehighlight(e,n)
la(n,sa())}))}}))}
var wh=function(e,t,n){return yh(e,t,n,[])}
var xh=function(e,t,n,r){if(Eh(e,t,n,r)){Hu(r.element,t.highlightClass)
t.onDehighlight(e,r)
la(r,sa())}}
var Ch=function(e,t,n,r){yh(e,t,n,[r])
if(!Eh(e,t,n,r)){Pu(r.element,t.highlightClass)
t.onHighlight(e,r)
la(r,ca())}}
var Sh=function(e,t,n){Dh(e,t).each((function(r){Ch(e,t,n,r)}))}
var kh=function(e,t,n){Ah(e,t).each((function(r){Ch(e,t,n,r)}))}
var Oh=function(e,t,n,r){Lh(e,t,n,r).fold((function(e){throw e}),(function(r){Ch(e,t,n,r)}))}
var Th=function(e,t,n,r){var o=zh(e,t)
var a=J(o,r)
a.each((function(r){Ch(e,t,n,r)}))}
var Eh=function(e,t,n,r){return Fu(r.element,t.highlightClass)}
var _h=function(e,t,n){return ds(e.element,"."+t.highlightClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}
var Lh=function(e,t,n,r){var o=Zv(e.element,"."+t.itemClass)
return R.from(o[r]).fold((function(){return ge.error(new Error("No element found with index "+r))}),e.getSystem().getByDom)}
var Dh=function(e,t,n){return ds(e.element,"."+t.itemClass).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}
var Ah=function(e,t,n){var r=Zv(e.element,"."+t.itemClass)
var o=r.length>0?R.some(r[r.length-1]):R.none()
return o.bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}
var Mh=function(e,t,n,r){var o=Zv(e.element,"."+t.itemClass)
var a=Q(o,(function(e){return Fu(e,t.highlightClass)}))
return a.bind((function(t){var n=gf(t,r,0,o.length-1)
return e.getSystem().getByDom(o[n]).toOptional()}))}
var Nh=function(e,t,n){return Mh(e,t,n,-1)}
var Rh=function(e,t,n){return Mh(e,t,n,1)}
var zh=function(e,t,n){var r=Zv(e.element,"."+t.itemClass)
return ch(W(r,(function(t){return e.getSystem().getByDom(t).toOptional()})))}
var Bh=Object.freeze({__proto__:null,dehighlightAll:wh,dehighlight:xh,highlight:Ch,highlightFirst:Sh,highlightLast:kh,highlightAt:Oh,highlightBy:Th,isHighlighted:Eh,getHighlighted:_h,getFirst:Dh,getLast:Ah,getPrevious:Nh,getNext:Rh,getCandidates:zh})
var Ph=[yn("highlightClass"),yn("itemClass"),Ps("onHighlight"),Ps("onDehighlight")]
var Ih=Vl({fields:Ph,name:"highlighting",apis:Bh})
var Hh=[8]
var Fh=[9]
var Vh=[13]
var jh=[27]
var Uh=[32]
var Wh=[37]
var qh=[38]
var $h=[39]
var Gh=[40]
var Xh=function(e,t,n){var r=re(e.slice(0,t))
var o=re(e.slice(t+1))
return J(r.concat(o),n)}
var Kh=function(e,t,n){var r=re(e.slice(0,t))
return J(r,n)}
var Zh=function(e,t,n){var r=e.slice(0,t)
var o=e.slice(t+1)
return J(o.concat(r),n)}
var Yh=function(e,t,n){var r=e.slice(t+1)
return J(r,n)}
var Jh=function(e){return function(t){var n=t.raw
return F(e,n.which)}}
var Qh=function(e){return function(t){return ne(e,(function(e){return e(t)}))}}
var ep=function(e){var t=e.raw
return true===t.shiftKey}
var tp=function(e){var t=e.raw
return true===t.ctrlKey}
var np=C(ep)
var rp=function(e,t){return{matches:e,classification:t}}
var op=function(e,t){var n=J(e,(function(e){return e.matches(t)}))
return n.map((function(e){return e.classification}))}
var ap=function(e,t,n){var r=t.exists((function(e){return n.exists((function(t){return oo(t,e)}))}))
r||fa(e,oa(),{prevFocus:t,newFocus:n})}
var ip=function(){var e=function(e){return Ql(e.element)}
var t=function(t,n){var r=e(t)
t.getSystem().triggerFocus(n,t.element)
var o=e(t)
ap(t,r,o)}
return{get:e,set:t}}
var up=function(){var e=function(e){return Ih.getHighlighted(e).map((function(e){return e.element}))}
var t=function(t,n){var r=e(t)
t.getSystem().getByDom(n).fold(g,(function(e){Ih.highlight(t,e)}))
var o=e(t)
ap(t,r,o)}
return{get:e,set:t}}
var cp;(function(e){e["OnFocusMode"]="onFocus"
e["OnEnterOrSpaceMode"]="onEnterOrSpace"
e["OnApiMode"]="onApi"})(cp||(cp={}))
var sp=function(e,t,n,r,o){var a=function(){return e.concat([In("focusManager",ip()),Hn("focusInside","onFocus",Qt((function(e){return F(["onFocus","onEnterOrSpace","onApi"],e)?ge.value(e):ge.error("Invalid value for focusInside")}))),Vs("handler",c),Vs("state",t),Vs("sendFocusIn",o)])}
var i=function(e,t,n,r,o){var a=n(e,t,r,o)
return op(a,t.event).bind((function(n){return n(e,t,r,o)}))}
var u=function(e,t){var a=e.focusInside!==cp.OnFocusMode?R.none():o(e).map((function(n){return wa(Ho(),(function(r,o){n(r,e,t)
o.stop()}))}))
var u=function(n,r){var a=Jh(Uh.concat(Vh))(r.event)
e.focusInside===cp.OnEnterOrSpaceMode&&a&&fo(n,r)&&o(e).each((function(o){o(n,e,t)
r.stop()}))}
var c=[wa(Do(),(function(r,o){i(r,o,n,e,t).fold((function(){u(r,o)}),(function(e){o.stop()}))})),wa(Ao(),(function(n,o){i(n,o,r,e,t).each((function(e){o.stop()}))}))]
return ha(a.toArray().concat(c))}
var c={schema:a,processKey:i,toEvents:u}
return c}
var lp=function(e){var t=[Dn("onEscape"),Dn("onEnter"),In("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),In("firstTabstop",0),In("useTabstopAt",O),Dn("visibilitySelector")].concat([e])
var n=function(e,t){var n=e.visibilitySelector.bind((function(e){return ms(t,e)})).getOr(t)
return Sc(n)>0}
var r=function(e,t){var r=Zv(e.element,t.selector)
var o=X(r,(function(e){return n(t,e)}))
return R.from(o[t.firstTabstop])}
var o=function(e,t){return t.focusManager.get(e).bind((function(e){return ms(e,t.selector)}))}
var a=function(e,t){return n(e,t)&&e.useTabstopAt(t)}
var i=function(e,t,n){r(e,t).each((function(n){t.focusManager.set(e,n)}))}
var u=function(e,t,n,r,o){return o(t,n,(function(e){return a(r,e)})).fold((function(){return r.cyclic?R.some(true):R.none()}),(function(t){r.focusManager.set(e,t)
return R.some(true)}))}
var c=function(e,t,n,r){var a=Zv(e.element,n.selector)
return o(e,n).bind((function(t){var o=Q(a,x(oo,t))
return o.bind((function(t){return u(e,a,t,n,r)}))}))}
var s=function(e,t,n){var r=n.cyclic?Xh:Kh
return c(e,t,n,r)}
var l=function(e,t,n){var r=n.cyclic?Zh:Yh
return c(e,t,n,r)}
var f=function(e,t,n){return n.onEnter.bind((function(n){return n(e,t)}))}
var v=function(e,t,n){return n.onEscape.bind((function(n){return n(e,t)}))}
var d=y([rp(Qh([ep,Jh(Fh)]),s),rp(Jh(Fh),l),rp(Jh(jh),v),rp(Qh([np,Jh(Vh)]),f)])
var m=y([])
return sp(t,ru.init,d,m,(function(){return R.some(i)}))}
var fp=lp(Xn("cyclic",k))
var vp=lp(Xn("cyclic",O))
var dp=function(e,t,n){da(e,n,Uo())
return R.some(true)}
var mp=function(e,t,n){var r=mh(n)&&Jh(Uh)(t.event)
return r?R.none():dp(e,t,n)}
var gp=function(e,t){return R.some(true)}
var hp=[In("execute",mp),In("useSpace",false),In("useEnter",true),In("useControlEnter",false),In("useDown",false)]
var pp=function(e,t,n){return n.execute(e,t,e.element)}
var bp=function(e,t,n,r){var o=n.useSpace&&!mh(e.element)?Uh:[]
var a=n.useEnter?Vh:[]
var i=n.useDown?Gh:[]
var u=o.concat(a).concat(i)
return[rp(Jh(u),pp)].concat(n.useControlEnter?[rp(Qh([tp,Jh(Vh)]),pp)]:[])}
var yp=function(e,t,n,r){return n.useSpace&&!mh(e.element)?[rp(Jh(Uh),gp)]:[]}
var wp=sp(hp,ru.init,bp,yp,(function(){return R.none()}))
var xp=function(){var e=Kn(R.none())
var t=function(t,n){e.set(R.some({numRows:t,numColumns:n}))}
var n=function(){return e.get().map((function(e){return e.numRows}))}
var r=function(){return e.get().map((function(e){return e.numColumns}))}
return ou({readState:function(){return e.get().map((function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:t,getNumRows:n,getNumColumns:r})}
var Cp=function(e){return e.state(e)}
var Sp=Object.freeze({__proto__:null,flatgrid:xp,init:Cp})
var kp=function(e){return function(t,n,r,o){var a=e(t.element)
return _p(a,t,n,r,o)}}
var Op=function(e,t){var n=Pf(e,t)
return kp(n)}
var Tp=function(e,t){var n=Pf(t,e)
return kp(n)}
var Ep=function(e){return function(t,n,r,o){return _p(e,t,n,r,o)}}
var _p=function(e,t,n,r,o){var a=r.focusManager.get(t).bind((function(n){return e(t.element,n,r,o)}))
return a.map((function(e){r.focusManager.set(t,e)
return true}))}
var Lp=Ep
var Dp=Ep
var Ap=Ep
var Mp=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0}
var Np=function(e){return!Mp(e.dom)}
var Rp=function(e,t){return Q(e,t).map((function(t){return{index:t,candidates:e}}))}
var zp=function(e,t,n){var r=function(e){return oo(e,t)}
var o=Zv(e,n)
var a=X(o,Np)
return Rp(a,r)}
var Bp=function(e,t){return Q(e,(function(e){return oo(t,e)}))}
var Pp=function(e,t,n,r){var o=Math.floor(t/n)
var a=t%n
return r(o,a).bind((function(t){var r=t.row*n+t.column
return r>=0&&r<e.length?R.some(e[r]):R.none()}))}
var Ip=function(e,t,n,r,o){return Pp(e,t,r,(function(t,a){var i=t===n-1
var u=i?e.length-t*r:r
var c=gf(a,o,0,u-1)
return R.some({row:t,column:c})}))}
var Hp=function(e,t,n,r,o){return Pp(e,t,r,(function(t,a){var i=gf(t,o,0,n-1)
var u=i===n-1
var c=u?e.length-i*r:r
var s=hf(a,0,c-1)
return R.some({row:i,column:s})}))}
var Fp=function(e,t,n,r){return Ip(e,t,n,r,1)}
var Vp=function(e,t,n,r){return Ip(e,t,n,r,-1)}
var jp=function(e,t,n,r){return Hp(e,t,n,r,-1)}
var Up=function(e,t,n,r){return Hp(e,t,n,r,1)}
var Wp=[yn("selector"),In("execute",mp),Is("onEscape"),In("captureTab",false),Us()]
var qp=function(e,t,n){ds(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))}
var $p=function(e,t){return t.focusManager.get(e).bind((function(e){return ms(e,t.selector)}))}
var Gp=function(e,t,n,r){return $p(e,n).bind((function(r){return n.execute(e,t,r)}))}
var Xp=function(e){return function(t,n,r,o){return zp(t,n,r.selector).bind((function(t){return e(t.candidates,t.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}}
var Kp=function(e,t,n){return n.captureTab?R.some(true):R.none()}
var Zp=function(e,t,n){return n.onEscape(e,t)}
var Yp=Xp(Vp)
var Jp=Xp(Fp)
var Qp=Xp(jp)
var eb=Xp(Up)
var tb=y([rp(Jh(Wh),Op(Yp,Jp)),rp(Jh($h),Tp(Yp,Jp)),rp(Jh(qh),Lp(Qp)),rp(Jh(Gh),Dp(eb)),rp(Qh([ep,Jh(Fh)]),Kp),rp(Qh([np,Jh(Fh)]),Kp),rp(Jh(jh),Zp),rp(Jh(Uh.concat(Vh)),Gp)])
var nb=y([rp(Jh(Uh),gp)])
var rb=sp(Wp,xp,tb,nb,(function(){return R.some(qp)}))
var ob=function(e,t,n,r){var o=function(e){return"button"===Ra(e)&&"disabled"===Oi(e,"disabled")}
var a=function(e,t,n){var i=gf(t,r,0,n.length-1)
return i===e?R.none():o(n[i])?a(e,i,n):R.from(n[i])}
return zp(e,n,t).bind((function(e){var t=e.index
var n=e.candidates
return a(t,t,n)}))}
var ab=[yn("selector"),In("getInitial",R.none),In("execute",mp),Is("onEscape"),In("executeOnMove",false),In("allowVertical",true)]
var ib=function(e,t){return t.focusManager.get(e).bind((function(e){return ms(e,t.selector)}))}
var ub=function(e,t,n){return ib(e,n).bind((function(r){return n.execute(e,t,r)}))}
var cb=function(e,t,n){t.getInitial(e).orThunk((function(){return ds(e.element,t.selector)})).each((function(n){t.focusManager.set(e,n)}))}
var sb=function(e,t,n){return ob(e,n.selector,t,-1)}
var lb=function(e,t,n){return ob(e,n.selector,t,1)}
var fb=function(e){return function(t,n,r,o){return e(t,n,r,o).bind((function(){return r.executeOnMove?ub(t,n,r):R.some(true)}))}}
var vb=function(e,t,n){return n.onEscape(e,t)}
var db=function(e,t,n,r){var o=Wh.concat(n.allowVertical?qh:[])
var a=$h.concat(n.allowVertical?Gh:[])
return[rp(Jh(o),fb(Op(sb,lb))),rp(Jh(a),fb(Tp(sb,lb))),rp(Jh(Vh),ub),rp(Jh(Uh),ub),rp(Jh(jh),vb)]}
var mb=y([rp(Jh(Uh),gp)])
var gb=sp(ab,ru.init,db,mb,(function(){return R.some(cb)}))
var hb=function(e,t,n){return R.from(e[t]).bind((function(e){return R.from(e[n]).map((function(e){return{rowIndex:t,columnIndex:n,cell:e}}))}))}
var pb=function(e,t,n,r){var o=e[t]
var a=o.length
var i=gf(n,r,0,a-1)
return hb(e,t,i)}
var bb=function(e,t,n,r){var o=gf(n,r,0,e.length-1)
var a=e[o].length
var i=hf(t,0,a-1)
return hb(e,o,i)}
var yb=function(e,t,n,r){var o=e[t]
var a=o.length
var i=hf(n+r,0,a-1)
return hb(e,t,i)}
var wb=function(e,t,n,r){var o=hf(n+r,0,e.length-1)
var a=e[o].length
var i=hf(t,0,a-1)
return hb(e,o,i)}
var xb=function(e,t,n){return pb(e,t,n,1)}
var Cb=function(e,t,n){return pb(e,t,n,-1)}
var Sb=function(e,t,n){return bb(e,n,t,-1)}
var kb=function(e,t,n){return bb(e,n,t,1)}
var Ob=function(e,t,n){return yb(e,t,n,-1)}
var Tb=function(e,t,n){return yb(e,t,n,1)}
var Eb=function(e,t,n){return wb(e,n,t,-1)}
var _b=function(e,t,n){return wb(e,n,t,1)}
var Lb=[En("selectors",[yn("row"),yn("cell")]),In("cycles",true),In("previousSelector",R.none),In("execute",mp)]
var Db=function(e,t,n){var r=t.previousSelector(e).orThunk((function(){var n=t.selectors
return ds(e.element,n.cell)}))
r.each((function(n){t.focusManager.set(e,n)}))}
var Ab=function(e,t,n){return Ql(e.element).bind((function(r){return n.execute(e,t,r)}))}
var Mb=function(e,t){return W(e,(function(e){return Zv(e,t.selectors.cell)}))}
var Nb=function(e,t){return function(n,r,o){var a=o.cycles?e:t
return ms(r,o.selectors.row).bind((function(e){var t=Zv(e,o.selectors.cell)
return Bp(t,r).bind((function(t){var r=Zv(n,o.selectors.row)
return Bp(r,e).bind((function(e){var n=Mb(r,o)
return a(n,e,t).map((function(e){return e.cell}))}))}))}))}}
var Rb=Nb(Cb,Ob)
var zb=Nb(xb,Tb)
var Bb=Nb(Sb,Eb)
var Pb=Nb(kb,_b)
var Ib=y([rp(Jh(Wh),Op(Rb,zb)),rp(Jh($h),Tp(Rb,zb)),rp(Jh(qh),Lp(Bb)),rp(Jh(Gh),Dp(Pb)),rp(Jh(Uh.concat(Vh)),Ab)])
var Hb=y([rp(Jh(Uh),gp)])
var Fb=sp(Lb,ru.init,Ib,Hb,(function(){return R.some(Db)}))
var Vb=[yn("selector"),In("execute",mp),In("moveOnTab",false)]
var jb=function(e,t,n){return n.focusManager.get(e).bind((function(r){return n.execute(e,t,r)}))}
var Ub=function(e,t,n){ds(e.element,t.selector).each((function(n){t.focusManager.set(e,n)}))}
var Wb=function(e,t,n){return ob(e,n.selector,t,-1)}
var qb=function(e,t,n){return ob(e,n.selector,t,1)}
var $b=function(e,t,n,r){return n.moveOnTab?Ap(Wb)(e,t,n,r):R.none()}
var Gb=function(e,t,n,r){return n.moveOnTab?Ap(qb)(e,t,n,r):R.none()}
var Xb=y([rp(Jh(qh),Ap(Wb)),rp(Jh(Gh),Ap(qb)),rp(Qh([ep,Jh(Fh)]),$b),rp(Qh([np,Jh(Fh)]),Gb),rp(Jh(Vh),jb),rp(Jh(Uh),jb)])
var Kb=y([rp(Jh(Uh),gp)])
var Zb=sp(Vb,ru.init,Xb,Kb,(function(){return R.some(Ub)}))
var Yb=[Is("onSpace"),Is("onEnter"),Is("onShiftEnter"),Is("onLeft"),Is("onRight"),Is("onTab"),Is("onShiftTab"),Is("onUp"),Is("onDown"),Is("onEscape"),In("stopSpaceKeyup",false),Dn("focusIn")]
var Jb=function(e,t,n){return[rp(Jh(Uh),n.onSpace),rp(Qh([np,Jh(Vh)]),n.onEnter),rp(Qh([ep,Jh(Vh)]),n.onShiftEnter),rp(Qh([ep,Jh(Fh)]),n.onShiftTab),rp(Qh([np,Jh(Fh)]),n.onTab),rp(Jh(qh),n.onUp),rp(Jh(Gh),n.onDown),rp(Jh(Wh),n.onLeft),rp(Jh($h),n.onRight),rp(Jh(Uh),n.onSpace),rp(Jh(jh),n.onEscape)]}
var Qb=function(e,t,n){return n.stopSpaceKeyup?[rp(Jh(Uh),gp)]:[]}
var ey=sp(Yb,ru.init,Jb,Qb,(function(e){return e.focusIn}))
var ty=fp.schema()
var ny=vp.schema()
var ry=gb.schema()
var oy=rb.schema()
var ay=Fb.schema()
var iy=wp.schema()
var uy=Zb.schema()
var cy=ey.schema()
var sy=Object.freeze({__proto__:null,acyclic:ty,cyclic:ny,flow:ry,flatgrid:oy,matrix:ay,execution:iy,menu:uy,special:cy})
var ly=function(e){return Ve(e,"setGridSize")}
var fy=Ul({branchKey:"mode",branches:sy,name:"keying",active:{events:function(e,t){var n=e.handler
return n.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold((function(){e.getSystem().triggerFocus(e.element,e.element)}),(function(r){r(e,t,n)}))},setGridSize:function(e,t,n,r,o){ly(n)?n.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:Sp})
var vy=function(e,t,n,r){ef((function(){var t=W(r,e.getSystem().build)
Pd(e,t)}),e.element)}
var dy=function(e,t,n,r){var o=e.getSystem().build(r)
Hd(e,o,n)}
var my=function(e,t,n,r){dy(e,t,fi,r)}
var gy=function(e,t,n,r){dy(e,t,li,r)}
var hy=function(e,t,n,r){var o=py(e)
var a=J(o,(function(e){return oo(r.element,e.element)}))
a.each(Vd)}
var py=function(e,t){return e.components()}
var by=function(e,t,n,r,o){var a=py(e)
return R.from(a[r]).map((function(a){hy(e,t,n,a)
o.each((function(n){dy(e,t,(function(e,t){vi(e,t,r)}),n)}))
return a}))}
var yy=function(e,t,n,r,o){var a=py(e)
return Q(a,r).bind((function(r){return by(e,t,n,r,o)}))}
var wy=Object.freeze({__proto__:null,append:my,prepend:gy,remove:hy,replaceAt:by,replaceBy:yy,set:vy,contents:py})
var xy=Vl({fields:[],name:"replacing",apis:wy})
var Cy=function(e,t){var n=ha(t)
return Vl({fields:[yn("enabled")],name:e,active:{events:y(n)}})}
var Sy=function(e,t){var n=Cy(e,t)
return{key:e,value:{config:{},me:n,configAsRaw:y({}),initialConfig:{},state:ru}}}
var ky=function(e,t){if(!t.ignore){Kl(e.element)
t.onFocus(e)}}
var Oy=function(e,t){t.ignore||Zl(e.element)}
var Ty=function(e){return Yl(e.element)}
var Ey=Object.freeze({__proto__:null,focus:ky,blur:Oy,isFocused:Ty})
var _y=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}}
return su(n)}
var Ly=function(e){return ha([wa(Ho(),(function(t,n){ky(t,e)
n.stop()}))].concat(e.stopMousedown?[wa(So(),(function(e,t){t.event.prevent()}))]:[]))}
var Dy=Object.freeze({__proto__:null,exhibit:_y,events:Ly})
var Ay=[Ps("onFocus"),In("stopMousedown",false),In("ignore",false)]
var My=Vl({fields:Ay,name:"focusing",active:Dy,apis:Ey})
var Ny=function(e){var t=function(){var t=Kn(e)
var n=function(){return t.get()}
var r=function(e){return t.set(e)}
var o=function(){return t.set(e)}
var a=function(){return t.get()}
return{get:n,set:r,clear:o,readState:a}}
return{init:t}}
var Ry=function(e,t,n){var r=t.aria
r.update(e,r,n.get())}
var zy=function(e,t,n){t.toggleClass.each((function(t){n.get()?Pu(e.element,t):Hu(e.element,t)}))}
var By=function(e,t,n){Hy(e,t,n,!n.get())}
var Py=function(e,t,n){n.set(true)
zy(e,t,n)
Ry(e,t,n)}
var Iy=function(e,t,n){n.set(false)
zy(e,t,n)
Ry(e,t,n)}
var Hy=function(e,t,n,r){var o=r?Py:Iy
o(e,t,n)}
var Fy=function(e,t,n){return n.get()}
var Vy=function(e,t,n){Hy(e,t,n,t.selected)}
var jy=Object.freeze({__proto__:null,onLoad:Vy,toggle:By,isOn:Fy,on:Py,off:Iy,set:Hy})
var Uy=function(){return su({})}
var Wy=function(e,t){var n=Ml(e,t,By)
var r=Nl(e,t,Vy)
return ha(ee([e.toggleOnExecute?[n]:[],[r]]))}
var qy=Object.freeze({__proto__:null,exhibit:Uy,events:Wy})
var $y=function(e,t,n){Si(e.element,"aria-pressed",n)
t.syncWithExpanded&&Ky(e,t,n)}
var Gy=function(e,t,n){Si(e.element,"aria-selected",n)}
var Xy=function(e,t,n){Si(e.element,"aria-checked",n)}
var Ky=function(e,t,n){Si(e.element,"aria-expanded",n)}
var Zy=[In("selected",false),Dn("toggleClass"),In("toggleOnExecute",true),Hn("aria",{mode:"none"},cn("mode",{pressed:[In("syncWithExpanded",false),Vs("update",$y)],checked:[Vs("update",Xy)],expanded:[Vs("update",Ky)],selected:[Vs("update",Gy)],none:[Vs("update",g)]}))]
var Yy=Vl({fields:Zy,name:"toggling",active:qy,apis:jy,state:Ny(false)})
var Jy=function(){var e=function(e,t){t.stop()
va(e)}
return[wa(Ro(),e),wa(qo(),e),Ea(yo()),Ea(So())]}
var Qy=function(e){var t=function(e){return Na((function(t,n){e(t)
n.stop()}))}
return ha(ee([e.map(t).toArray(),Jy()]))}
var ew="alloy.item-hover"
var tw="alloy.item-focus"
var nw=function(e){if(Ql(e.element).isNone()||My.isFocused(e)){My.isFocused(e)||My.focus(e)
fa(e,ew,{item:e})}}
var rw=function(e){fa(e,tw,{item:e})}
var ow=y(ew)
var aw=y(tw)
var iw=function(e){return{dom:e.dom,domModification:E(E({},e.domModification),{attributes:E(E(E({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":false}:{})}),behaviours:Jm.augment(e.itemBehaviours,[e.toggling.fold(Yy.revoke,(function(e){return Yy.config(E({aria:{mode:"checked"}},e))})),My.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){rw(e)}}),fy.config({mode:"execution"}),Xm.config({store:{mode:"memory",initialValue:e.data}}),Sy("item-type-events",L(Jy(),[wa(Eo(),nw),wa(Wo(),My.focus)]))]),components:e.components,eventOrder:e.eventOrder}}
var uw=[yn("data"),yn("components"),yn("dom"),In("hasSubmenu",false),Dn("toggling"),Jm.field("itemBehaviours",[Yy,My,fy,Xm]),In("ignoreFocus",false),In("domModification",{}),Vs("builder",iw),In("eventOrder",{})]
var cw=function(e){return{dom:e.dom,components:e.components,events:ha([_a(Wo())])}}
var sw=[yn("dom"),yn("components"),Vs("builder",cw)]
var lw=y("item-widget")
var fw=y([Eg({name:"widget",overrides:function(e){return{behaviours:Hl([Xm.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:g}})])}}})])
var vw=function(e){var t=Fg(lw(),e,fw())
var n=Vg(lw(),e,t.internals())
var r=function(t){return jg(t,e,"widget").map((function(e){fy.focusIn(e)
return e}))}
var o=function(t,n){return mh(n.event.target)?R.none():function(){if(e.autofocus){n.setSource(t.element)
return R.none()}return R.none()}()}
return{dom:e.dom,components:n,domModification:e.domModification,events:ha([Na((function(e,t){r(e).each((function(e){t.stop()}))})),wa(Eo(),nw),wa(Wo(),(function(t,n){e.autofocus?r(t):My.focus(t)}))]),behaviours:Jm.augment(e.widgetBehaviours,[Xm.config({store:{mode:"memory",initialValue:e.data}}),My.config({ignore:e.ignoreFocus,onFocus:function(e){rw(e)}}),fy.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Wl(),onLeft:o,onRight:o,onEscape:function(t,n){if(My.isFocused(t)||e.autofocus){if(e.autofocus){n.setSource(t.element)
return R.none()}return R.none()}My.focus(t)
return R.some(true)}})])}}
var dw=[yn("uid"),yn("data"),yn("components"),yn("dom"),In("autofocus",false),In("ignoreFocus",false),Jm.field("widgetBehaviours",[Xm,My,fy]),In("domModification",{}),Kg(fw()),Vs("builder",vw)]
var mw=cn("type",{widget:dw,item:uw,separator:sw})
var gw=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}}
var hw=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}}
var pw=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}}
var bw=y([Dg({factory:{sketch:function(e){var t=on("menu.spec item",mw,e)
return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:E(E({},t),{uid:qi("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})])
var yw=y([yn("value"),yn("items"),yn("dom"),yn("components"),In("eventOrder",{}),Km("menuBehaviours",[Ih,Xm,bh,fy]),Hn("movement",{mode:"menu",moveOnTab:true},cn("mode",{grid:[Us(),Vs("config",gw)],matrix:[Vs("config",hw),yn("rowSelector")],menu:[In("moveOnTab",true),Vs("config",pw)]})),Ns(),In("fakeFocus",false),In("focusManager",ip()),Ps("onHighlight")])
var ww=y("alloy.menu-focus")
var xw=function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Ym(e.menuBehaviours,[Ih.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),Xm.config({store:{mode:"memory",initialValue:e.value}}),bh.config({find:R.some}),fy.config(e.movement.config(e,e.movement))]),events:ha([wa(aw(),(function(e,t){var n=t.event
e.getSystem().getByDom(n.target).each((function(n){Ih.highlight(e,n)
t.stop()
fa(e,ww(),{menu:e,item:n})}))})),wa(ow(),(function(e,t){var n=t.event.item
Ih.highlight(e,n)}))]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}
var Cw=uh({name:"Menu",configFields:yw(),partFields:bw(),factory:xw})
var Sw=function(e){return Me(e,(function(e,t){return{k:e,v:t}}))}
var kw=function(e,t,n,r){return He(n,r).bind((function(r){return He(e,r).bind((function(r){var o=kw(e,t,n,r)
return R.some([r].concat(o))}))})).getOr([])}
var Ow=function(e,t){var n={}
De(e,(function(e,t){q(e,(function(e){n[e]=t}))}))
var r=t
var o=Sw(t)
var a=Ae(o,(function(e,t){return[t].concat(kw(n,r,o,t))}))
return Ae(n,(function(e){return He(a,e).getOr([e])}))}
var Tw=function(){var e=Kn({})
var t=Kn({})
var n=Kn({})
var r=Kn(R.none())
var o=Kn({})
var a=function(){e.set({})
t.set({})
n.set({})
r.set(R.none())}
var i=function(){return r.get().isNone()}
var u=function(e,n){var r
t.set(E(E({},t.get()),(r={},r[e]={type:"prepared",menu:n},r)))}
var c=function(a,i,u,c){r.set(R.some(a))
e.set(u)
t.set(i)
o.set(c)
var s=Ow(c,u)
n.set(s)}
var s=function(t){return Pe(e.get(),(function(e,n){return e===t}))}
var l=function(e,t,n){return g(e).bind((function(r){return s(e).bind((function(e){return t(e).map((function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:n}}))}))}))}
var f=function(e,t){var o=X(p(e).toArray(),(function(e){return g(e).isSome()}))
return He(n.get(),e).bind((function(e){var n=re(o.concat(e))
var a=te(n,(function(e,o){return l(e,t,n.slice(0,o+1)).fold((function(){return r.get().is(e)?[]:[R.none()]}),(function(e){return[R.some(e)]}))}))
return sh(a)}))}
var v=function(t){return He(e.get(),t).map((function(e){var r=He(n.get(),t).getOr([])
return[e].concat(r)}))}
var d=function(e){return He(n.get(),e).bind((function(e){return e.length>1?R.some(e.slice(1)):R.none()}))}
var m=function(e){return He(n.get(),e)}
var g=function(e){return h(e).bind(Ew)}
var h=function(e){return He(t.get(),e)}
var p=function(t){return He(e.get(),t)}
var b=function(e){var t=o.get()
return oe(_e(t),e)}
var y=function(){return r.get().bind(g)}
var w=function(){return t.get()}
return{setMenuBuilt:u,setContents:c,expand:v,refresh:m,collapse:d,lookupMenu:h,lookupItem:p,otherMenus:b,getPrimary:y,getMenus:w,clear:a,isClear:i,getTriggeringPath:f}}
var Ew=function(e){return"prepared"===e.type?R.some(e.menu):R.none()}
var _w={init:Tw,extractPreparedMenu:Ew}
var Lw=function(e,t){var n=Kn(R.none())
var r=function(t,n,r){return Ae(r,(function(r,o){var a=function(){return Cw.sketch(E(E({},r),{value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?up():ip()}))}
return o===n?{type:"prepared",menu:t.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}}))}
var o=_w.init()
var a=function(t){var n=r(t,e.data.primary,e.data.menus)
var a=c()
o.setContents(e.data.primary,n,e.data.expansions,a)
return o.getPrimary()}
var i=function(e){return Xm.getValue(e).value}
var u=function(e,t,n){return fe(t,(function(e){if(!e.getSystem().isConnected())return R.none()
var t=Ih.getCandidates(e)
return J(t,(function(e){return i(e)===n}))}))}
var c=function(t){return Ae(e.data.menus,(function(e,t){return te(e.items,(function(e){return"separator"===e.type?[]:[e.data.value]}))}))}
var s=function(e,t){Ih.highlight(e,t)
Ih.getHighlighted(t).orThunk((function(){return Ih.getFirst(t)})).each((function(t){da(e,t.element,Wo())}))}
var l=function(e,t){return ch(W(t,(function(t){return e.lookupMenu(t).bind((function(e){return"prepared"===e.type?R.some(e.menu):R.none()}))})))}
var f=function(t,n,r){var o=l(n,n.otherMenus(r))
q(o,(function(n){ju(n.element,[e.markers.backgroundMenu])
e.stayInDom||xy.remove(t,n)}))}
var v=function(t){return n.get().getOrThunk((function(){var r={}
var o=Zv(t.element,"."+e.markers.item)
var a=X(o,(function(e){return"true"===Oi(e,"aria-haspopup")}))
q(a,(function(e){t.getSystem().getByDom(e).each((function(e){var t=i(e)
r[t]=e}))}))
n.set(R.some(r))
return r}))}
var d=function(e,t){var n=v(e)
De(n,(function(e,n){var r=F(t,n)
Si(e.element,"aria-expanded",r)}))}
var m=function(t,n,r){return R.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return R.none()
var a=o.menu
var i=l(n,r.slice(1))
q(i,(function(t){Pu(t.element,e.markers.backgroundMenu)}))
Wu(a.element)||xy.append(t,wc(a))
ju(a.element,[e.markers.backgroundMenu])
s(t,a)
f(t,n,r)
return R.some(a)}))}))}
var h;(function(e){e[e["HighlightSubmenu"]=0]="HighlightSubmenu"
e[e["HighlightParent"]=1]="HighlightParent"})(h||(h={}))
var p=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu())
o.setMenuBuilt(t,r)
return r}return n.menu}
var b=function(t,n,r){void 0===r&&(r=h.HighlightSubmenu)
var a=i(n)
return o.expand(a).bind((function(a){d(t,a)
return R.from(a[0]).bind((function(i){return o.lookupMenu(i).bind((function(u){var c=p(t,i,u)
Wu(c.element)||xy.append(t,wc(c))
e.onOpenSubmenu(t,n,c,re(a))
if(r===h.HighlightSubmenu){Ih.highlightFirst(c)
return m(t,o,a)}Ih.dehighlightAll(c)
return R.some(n)}))}))}))}
var y=function(t,n){var r=i(n)
return o.collapse(r).bind((function(r){d(t,r)
return m(t,o,r).map((function(r){e.onCollapseMenu(t,n,r)
return r}))}))}
var w=function(e,t){var n=i(t)
return o.refresh(n).bind((function(t){d(e,t)
return m(e,o,t)}))}
var x=function(e,t){return mh(t.element)?R.none():b(e,t,h.HighlightSubmenu)}
var C=function(e,t){return mh(t.element)?R.none():y(e,t)}
var S=function(t,n){return y(t,n).orThunk((function(){return e.onEscape(t,n).map((function(){return t}))}))}
var k=function(t){return function(n,r){return ms(r.getSource(),"."+e.markers.item).bind((function(e){return n.getSystem().getByDom(e).toOptional().bind((function(e){return t(n,e).map(O)}))}))}}
var T=ha([wa(ww(),(function(e,t){var n=t.event.item
o.lookupItem(i(n)).each((function(){var n=t.event.menu
Ih.highlight(e,n)
var r=i(t.event.item)
o.refresh(r).each((function(t){return f(e,o,t)}))}))})),Na((function(t,n){var r=n.event.target
t.getSystem().getByDom(r).each((function(n){var r=i(n)
0===r.indexOf("collapse-item")&&y(t,n)
b(t,n,h.HighlightSubmenu).fold((function(){e.onExecute(t,n)}),g)}))})),Da((function(t,n){a(t).each((function(n){xy.append(t,wc(n))
e.onOpenMenu(t,n)
e.highlightImmediately&&s(t,n)}))}))].concat(e.navigateOnHover?[wa(ow(),(function(t,n){var r=n.event.item
w(t,r)
b(t,r,h.HighlightParent)
e.onHover(t,r)}))]:[]))
var _=function(e){return Ih.getHighlighted(e).bind(Ih.getHighlighted)}
var L=function(e){_(e).each((function(t){y(e,t)}))}
var D=function(e){o.getPrimary().each((function(t){s(e,t)}))}
var A=function(e){return R.from(e.components()[0]).filter((function(e){return"menu"===Oi(e.element,"role")}))}
var M=function(t){var n=o.getPrimary().bind((function(e){return _(t).bind((function(e){var n=i(e)
var r=Ie(o.getMenus())
var a=ch(W(r,_w.extractPreparedMenu))
return o.getTriggeringPath(n,(function(e){return u(t,a,e)}))})).map((function(t){return{primary:e,triggeringPath:t}}))}))
n.fold((function(){A(t).each((function(n){e.onRepositionMenu(t,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath
e.onRepositionMenu(t,r,o)}))}
var N={collapseMenu:L,highlightPrimary:D,repositionMenus:M}
return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Ym(e.tmenuBehaviours,[fy.config({mode:"special",onRight:k(x),onLeft:k(C),onEscape:k(S),focusIn:function(e,t){o.getPrimary().each((function(t){da(e,t.element,Wo())}))}}),Ih.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),bh.config({find:function(e){return Ih.getHighlighted(e)}}),xy.config({})]),eventOrder:e.eventOrder,apis:N,events:T}}
var Dw=y("collapse-item")
var Aw=function(e,t,n){return{primary:e,menus:t,expansions:n}}
var Mw=function(e,t){return{primary:e,menus:st(e,t),expansions:{}}}
var Nw=function(e){return{value:Pi(Dw()),meta:{text:e}}}
var Rw=ih({name:"TieredMenu",configFields:[Fs("onExecute"),Fs("onEscape"),Hs("onOpenMenu"),Hs("onOpenSubmenu"),Ps("onRepositionMenu"),Ps("onCollapseMenu"),In("highlightImmediately",true),En("data",[yn("primary"),yn("menus"),yn("expansions")]),In("fakeFocus",false),Ps("onHighlight"),Ps("onHover"),Rs(),yn("dom"),In("navigateOnHover",true),In("stayInDom",false),Km("tmenuBehaviours",[fy,Ih,bh,xy]),In("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:Lw,extraApis:{tieredData:Aw,singleData:Mw,collapseItem:Nw}})
var zw=function(e,t,n,r,o){var a=function(){return e.lazySink(t)}
var i="horizontal"===r.type?{layouts:{onLtr:function(){return Tl()},onRtl:function(){return El()}}}:{}
var u=function(e){return 2===e.length}
var c=function(e){return u(e)?i:{}}
return Rw.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){vm.close(t)
e.onEscape.map((function(e){return e(t)}))
return R.some(true)},onExecute:function(){return R.some(true)},onOpenMenu:function(e,t){Md.positionWithinBounds(a().getOrDie(),n,t,o())},onOpenSubmenu:function(e,t,n,r){var o=a().getOrDie()
Md.position(o,E({anchor:"submenu",item:t},c(r)),n)},onRepositionMenu:function(e,t,r){var i=a().getOrDie()
Md.positionWithinBounds(i,n,t,o())
q(r,(function(e){var t=c(e.triggeringPath)
Md.position(i,E({anchor:"submenu",item:e.triggeringItem},t),e.triggeredMenu)}))}})}
var Bw=function(e,t){var n=function(t,n){var r=e.getRelated(t)
return r.exists((function(e){return bs(e,n)}))}
var r=function(e,t){vm.setContent(e,t)}
var o=function(e,t,n){a(e,t,n,R.none())}
var a=function(e,t,n,r){i(e,t,n,(function(){return r.map((function(e){return os(e)}))}))}
var i=function(t,n,r,o){var a=e.lazySink(t).getOrDie()
vm.openWhileCloaked(t,r,(function(){return Md.positionWithinBounds(a,n,t,o())}))
Xm.setValue(t,R.some({mode:"position",anchor:n,getBounds:o}))}
var u=function(e,t,n){c(e,t,n,(function(){return R.none()}))}
var c=function(t,n,r,o){var a=zw(e,t,n,r,o)
vm.open(t,a)
Xm.setValue(t,R.some({mode:"menu",menu:a}))}
var s=function(e){if(vm.isOpen(e)){Xm.setValue(e,R.none())
vm.close(e)}}
var l=function(e){return vm.getState(e)}
var f=function(t){vm.isOpen(t)&&Xm.getValue(t).each((function(n){switch(n.mode){case"menu":vm.getState(t).each((function(e){Rw.repositionMenus(e)}))
break
case"position":var r=e.lazySink(t).getOrDie()
Md.positionWithinBounds(r,n.anchor,t,n.getBounds())}}))}
var v={setContent:r,showAt:o,showWithin:a,showWithinBounds:i,showMenuAt:u,showMenuWithinBounds:c,hide:s,getContent:l,reposition:f,isOpen:vm.isOpen}
return{uid:e.uid,dom:e.dom,behaviours:Ym(e.inlineBehaviours,[vm.config({isPartOf:function(e,t,r){return bs(t,r)||n(e,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),Xm.config({store:{mode:"memory",initialValue:R.none()}}),ql.config({channels:E(E({},pm(E({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),ym(E(E({},e.fireRepositionEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})),{doReposition:f})))})]),eventOrder:e.eventOrder,apis:v}}
var Pw=ih({name:"InlineView",configFields:[yn("lazySink"),Ps("onShow"),Ps("onHide"),Rn("onEscape"),Km("inlineBehaviours",[vm,Xm,ql]),Bn("fireDismissalEventInstead",[In("event",na())]),Bn("fireRepositionEventInstead",[In("event",ra())]),In("getRelated",R.none),In("isExtraPart",k),In("eventOrder",R.none)],factory:Bw,apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,o){e.showMenuWithinBounds(t,n,r,o)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}})
var Iw=function(e){return e.x}
var Hw=function(e,t){return e.x+e.width/2-t.width/2}
var Fw=function(e,t){return e.x+e.width-t.width}
var Vw=function(e){return e.y}
var jw=function(e,t){return e.y+e.height-t.height}
var Uw=function(e,t,n){return Ws(Fw(e,t),jw(e,t),n.innerSoutheast(),Js(),ol(e,{right:0,bottom:3}),"layout-inner-se")}
var Ww=function(e,t,n){return Ws(Iw(e),jw(e,t),n.innerSouthwest(),Ys(),ol(e,{left:1,bottom:3}),"layout-inner-sw")}
var qw=function(e,t,n){return Ws(Fw(e,t),Vw(e),n.innerNortheast(),Zs(),ol(e,{right:0,top:2}),"layout-inner-ne")}
var $w=function(e,t,n){return Ws(Iw(e),Vw(e),n.innerNorthwest(),Ks(),ol(e,{left:1,top:2}),"layout-inner-nw")}
var Gw=function(e,t,n){return Ws(Hw(e,t),Vw(e),n.innerNorth(),Qs(),ol(e,{top:2}),"layout-inner-n")}
var Xw=function(e,t,n){return Ws(Hw(e,t),jw(e,t),n.innerSouth(),el(),ol(e,{bottom:3}),"layout-inner-s")}
var Kw=tinymce.util.Tools.resolve("tinymce.util.Delay")
var Zw=function(e){var t=Qy(e.action)
var n=e.dom.tag
var r=function(t){return He(e.dom,"attributes").bind((function(e){return He(e,t)}))}
var o=function(){if("button"===n){var e=r("type").getOr("button")
var t=r("role").map((function(e){return{role:e}})).getOr({})
return E({type:e},t)}var o=r("role").getOr("button")
return{role:o}}
return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Jm.augment(e.buttonBehaviours,[My.config({}),fy.config({mode:"execution",useSpace:true,useEnter:true})]),domModification:{attributes:o()},eventOrder:e.eventOrder}}
var Yw=ih({name:"Button",factory:Zw,configFields:[In("uid",void 0),yn("dom"),In("components",[]),Jm.field("buttonBehaviours",[My,fy]),Dn("action"),Dn("role"),In("eventOrder",{})]})
var Jw=function(e){var t=rh(e)&&Ve(e,"uid")?e.uid:qi("memento")
var n=function(e){return e.getSystem().getByUid(t).getOrDie()}
var r=function(e){return e.getSystem().getByUid(t).toOptional()}
var o=function(){return E(E({},e),{uid:t})}
return{get:n,getOpt:r,asSpec:o}}
var Qw=function(e){return R.from(e()["temporary-placeholder"]).getOr("!not found!")}
var ex=function(e,t){return R.from(t()[e.toLowerCase()]).getOrThunk((function(){return Qw(t)}))}
var tx=function(e,t,n){return R.from(t()[e.toLowerCase()]).or(n).getOrThunk((function(){return Qw(t)}))}
var nx=function(e,t){return fe(e,(function(e){return R.from(t()[e.toLowerCase()])})).getOrThunk((function(){return Qw(t)}))}
var rx={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"}
var ox=function(e){var t=Jw({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Hl([xy.config({})])})
var n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}}
var r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}}
var o=Jw({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Hl([xy.config({})])})
var a=function(e,t){e.getSystem().isConnected()&&o.getOpt(e).each((function(e){xy.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])}))}
var i=function(e,n){if(e.getSystem().isConnected()){var r=t.get(e)
xy.set(r,[hc(n)])}}
var u={updateProgress:a,updateText:i}
var c=ee([e.icon.toArray(),e.level.toArray(),e.level.bind((function(e){return R.from(rx[e])})).toArray()])
var s=Jw(Yw.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ex("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}}))
var l=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:nx(c,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Hl([xy.config({})])}]
return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map((function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]})).getOr(["tox-notification","tox-notification--in"])},behaviours:Hl([My.config({}),Sy("notification-events",[wa(_o(),(function(e){s.getOpt(e).each(My.focus)}))])]),components:l.concat(e.progress?[o.asSpec()]:[]).concat(e.closeButton?[s.asSpec()]:[]),apis:u}}
var ax=ih({name:"Notification",factory:ox,configFields:[Dn("level"),yn("progress"),yn("icon"),yn("onAction"),yn("text"),yn("iconProvider"),yn("translationProvider"),Un("closeButton",true)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}})
function ix(e,t,n){var r=t.backstage
var o=function(e){switch(e){case"bc-bc":return Xw
case"tc-tc":return Gw
case"tc-bc":return bl
case"bc-tc":default:return yl}}
var a=function(e){q(e,(function(e){return e.moveTo(0,0)}))}
var i=function(e){if(e.length>0){ce(e).each((function(e){return e.moveRel(null,"banner")}))
q(e,(function(t,n){n>0&&t.moveRel(e[n-1].getEl(),"bc-tc")}))}}
var u=function(e){a(e)
i(e)}
var c=function(e,a){var i=!e.closeButton&&e.timeout&&(e.timeout>0||e.timeout<0)
var u=function(){a()
Pw.hide(s)}
var c=yc(ax.sketch({text:e.text,level:F(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:true===e.progressBar,icon:R.from(e.icon),closeButton:!i,onAction:u,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate}))
var s=yc(Pw.sketch(E({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})))
n.add(s)
e.timeout>0&&Kw.setTimeout((function(){u()}),e.timeout)
return{close:u,moveTo:function(e,t){Pw.showAt(s,{anchor:"makeshift",x:e,y:t},wc(c))},moveRel:function(e,n){if("banner"!==n){var r=o(n)
var a={anchor:"node",root:qu(),node:R.some(tr.fromDom(e)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}}
Pw.showAt(s,a,wc(c))}else Pw.showAt(s,t.backstage.shared.anchors.banner(),wc(c))},text:function(e){ax.updateText(c,e)},settings:e,getEl:function(){return c.element.dom},progressBar:{value:function(e){ax.updateProgress(c,e)}}}}
var s=function(e){e.close()}
var l=function(e){return e.settings}
return{open:c,close:s,reposition:u,getArgs:l}}var ux=function(e,t){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null===n&&(n=setTimeout((function(){e.apply(null,r)
n=null}),t))}
return{cancel:r,throttle:o}}
var cx=function(e,t){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null!==n&&clearTimeout(n)
n=setTimeout((function(){e.apply(null,r)
n=null}),t)}
return{cancel:r,throttle:o}}
var sx=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker")
var lx=function(e,t){return e.isBlock(t)||F(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)}
var fx=function(e,t,n,r,o){var a=sx(e,(function(t){return lx(e,t)}))
return R.from(a.backwards(t,n,r,o))}
var vx="[data-mce-autocompleter]"
var dx=function(e,t){return mx(tr.fromDom(e.selection.getNode())).getOrThunk((function(){var n=tr.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc())
fi(n,tr.fromDom(t.extractContents()))
t.insertNode(n.dom)
qa(n).each((function(e){return e.dom.normalize()}))
Xv(n).map((function(t){e.selection.setCursorLocation(t.dom,Wv(t))}))
return n}))}
var mx=function(e){return ms(e,vx)}
var gx=function(e){return e.collapsed&&3===e.startContainer.nodeType}
var hx=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")}
var px=function(e){return""!==e&&-1!=="  \f\n\r\t\v".indexOf(e)}
var bx=function(e,t){return e.substring(t.length)}
var yx=function(e,t,n){var r
for(r=t-1;r>=0;r--){var o=e.charAt(r)
if(px(o))return R.none()
if(o===n)break}return R.some(r)}
var wx=function(e,t,n,r){void 0===r&&(r=0)
if(!gx(t))return R.none()
var o=function(e,t,r){return yx(r,t,n).getOr(t)}
var a=e.getParent(t.startContainer,e.isBlock)||e.getRoot()
return fx(e,t.startContainer,t.startOffset,o,a).bind((function(e){var o=t.cloneRange()
o.setStart(e.container,e.offset)
o.setEnd(t.endContainer,t.endOffset)
if(o.collapsed)return R.none()
var a=hx(o)
var i=a.lastIndexOf(n)
return 0!==i||bx(a,n).length<r?R.none():R.some({text:bx(a,n),range:o,triggerChar:n})}))}
var xx=function(e,t,n,r){void 0===r&&(r=0)
return mx(tr.fromDom(t.startContainer)).fold((function(){return wx(e,t,n,r)}),(function(t){var r=e.createRng()
r.selectNode(t.dom)
var o=hx(r)
return R.some({range:r,text:bx(o,n),triggerChar:n})}))}
var Cx=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle)
t.on("remove",e.onKeypress.cancel)
var n=function(e,t){fa(e,Do(),{raw:t})}
t.on("keydown",(function(t){var r=function(){return e.getView().bind(Ih.getHighlighted)}
8===t.which&&e.onKeypress.throttle(t)
if(e.isActive()){27===t.which&&e.cancelIfNecessary()
if(e.isMenuOpen())if(13===t.which){r().each(va)
t.preventDefault()}else if(40===t.which){r().fold((function(){e.getView().each(Ih.highlightFirst)}),(function(e){n(e,t)}))
t.preventDefault()
t.stopImmediatePropagation()}else 37!==t.which&&38!==t.which&&39!==t.which||r().each((function(e){n(e,t)
t.preventDefault()
t.stopImmediatePropagation()}))
else 13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary()}}))
t.on("NodeChange",(function(t){e.isActive()&&!e.isProcessingAction()&&mx(tr.fromDom(t.element)).isNone()&&e.cancelIfNecessary()}))}
var Sx={setup:Cx}
var kx=tinymce.util.Tools.resolve("tinymce.util.Promise")
var Ox=function(e,t){return{container:e,offset:t}}
var Tx=function(e){return e.nodeType===Qr}
var Ex=function(e){return e.nodeType===Jr}
var _x=function(e){if(Tx(e))return Ox(e,e.data.length)
var t=e.childNodes
return t.length>0?_x(t[t.length-1]):Ox(e,t.length)}
var Lx=function(e,t){var n=e.childNodes
return n.length>0&&t<n.length?Lx(n[t],0):n.length>0&&Ex(e)&&n.length===t?_x(n[n.length-1]):Ox(e,t)}
var Dx=function(e,t){return fx(e,t.container,t.offset,(function(e,t){return 0===t?-1:t}),e.getRoot()).filter((function(e){var t=e.container.data.charAt(e.offset-1)
return!px(t)})).isSome()}
var Ax=function(e){return function(t){var n=Lx(t.startContainer,t.startOffset)
return!Dx(e,n)}}
var Mx=function(e,t,n){return fe(n.triggerChars,(function(n){return xx(e,t,n)}))}
var Nx=function(e,t){var n=t()
var r=e.selection.getRng()
return Mx(e.dom,r,n).bind((function(n){return Rx(e,t,n)}))}
var Rx=function(e,t,n,r){void 0===r&&(r={})
var o=t()
var a=e.selection.getRng()
var i=a.startContainer.nodeValue
var u=X(o.lookupByChar(n.triggerChar),(function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk((function(){return Ax(e.dom)}))(n.range,i,n.text)}))
if(0===u.length)return R.none()
var c=kx.all(W(u,(function(e){var t=e.fetch(n.text,e.maxResults,r)
return t.then((function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}}))})))
return R.some({lookupData:c,context:n})}
var zx=It([Cn("type"),Nn("text")])
var Bx=function(e){return nn("separatormenuitem",zx,e)}
var Px=It([In("type","autocompleteitem"),In("active",false),In("disabled",false),In("meta",{}),Cn("value"),Nn("text"),Nn("icon")])
var Ix=It([Cn("type"),Cn("ch"),Fn("minChars",1),In("columns",1),Fn("maxResults",10),Rn("matches"),On("fetch"),On("onAction"),$n("highlightOn",[],dn)])
var Hx=function(e){return nn("Autocompleter.Separator",zx,e)}
var Fx=function(e){return nn("Autocompleter.Item",Px,e)}
var Vx=function(e){return nn("Autocompleter",Ix,e)}
var jx=[Un("disabled",false),Nn("tooltip"),Nn("icon"),Nn("text"),Wn("onSetup",(function(){return g}))]
var Ux=It([Cn("type"),On("onAction")].concat(jx))
var Wx=function(e){return nn("toolbarbutton",Ux,e)}
var qx=[Un("active",false)].concat(jx)
var $x=It(qx.concat([Cn("type"),On("onAction")]))
var Gx=function(e){return nn("ToggleButton",$x,e)}
var Xx=[Wn("predicate",k),jn("scope","node",["node","editor"]),jn("position","selection",["node","selection","line"])]
var Kx=jx.concat([In("type","contextformbutton"),In("primary",false),On("onAction"),Xn("original",w)])
var Zx=qx.concat([In("type","contextformbutton"),In("primary",false),On("onAction"),Xn("original",w)])
var Yx=jx.concat([In("type","contextformbutton")])
var Jx=qx.concat([In("type","contextformtogglebutton")])
var Qx=cn("type",{contextformbutton:Kx,contextformtogglebutton:Zx})
var eC=It([In("type","contextform"),Wn("initValue",(function(){return""})),Nn("label"),Ln("commands",Qx),An("launch",cn("type",{contextformbutton:Yx,contextformtogglebutton:Jx}))].concat(Xx))
var tC=function(e){return nn("ContextForm",eC,e)}
var nC=It([In("type","contexttoolbar"),Cn("items")].concat(Xx))
var rC=function(e){return nn("ContextToolbar",nC,e)}
var oC=function(e){var t={}
q(e,(function(e){t[e]={}}))
return _e(t)}
var aC=function(e){var t=e.ui.registry.getAll().popups
var n=Ae(t,(function(e){return Vx(e).fold((function(e){throw new Error(an(e))}),(function(e){return e}))}))
var r=oC(Be(n,(function(e){return e.ch})))
var o=Ie(n)
var a=function(e){return X(o,(function(t){return t.ch===e}))}
return{dataset:n,triggerChars:r,lookupByChar:a}}
var iC;(function(e){e[e["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE"
e[e["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(iC||(iC={}))
var uC=iC
var cC="tox-menu-nav__js"
var sC="tox-collection__item"
var lC="tox-swatch"
var fC={normal:cC,color:lC}
var vC="tox-collection__item--enabled"
var dC="tox-collection__group-heading"
var mC="tox-collection__item-icon"
var gC="tox-collection__item-label"
var hC="tox-collection__item-accessory"
var pC="tox-collection__item-caret"
var bC="tox-collection__item-checkmark"
var yC="tox-collection__item--active"
var wC="tox-collection__item-icon-rtl"
var xC="tox-collection__item-container"
var CC="tox-collection__item-container--column"
var SC="tox-collection__item-container--row"
var kC="tox-collection__item-container--align-right"
var OC="tox-collection__item-container--align-left"
var TC="tox-collection__item-container--valign-top"
var EC="tox-collection__item-container--valign-middle"
var _C="tox-collection__item-container--valign-bottom"
var LC=function(e){return He(fC,e).getOr(cC)}
var DC=function(e){return"color"===e?"tox-swatches":"tox-menu"}
var AC=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:DC(e),tieredMenu:"tox-tiered-menu"}}
var MC=function(e){var t=AC(e)
return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:LC(e)}}
var NC=function(e,t,n){var r=AC(n)
return{tag:"div",classes:ee([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}}
var RC=[Cw.parts.items({})]
var zC=function(e,t,n){var r=AC(n)
var o={tag:"div",classes:ee([[r.tieredMenu]])}
return{dom:o,markers:MC(n)}}
var BC=function(e,t){return function(n){var r=U(n,t)
return W(r,(function(t){return{dom:e,components:t}}))}}
var PC=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Cw.parts.items({preprocess:"auto"!==e?BC({tag:"div",classes:["tox-swatches__row"]},e):w})]}]}}
var IC=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Cw.parts.items({preprocess:BC({tag:"div",classes:["tox-collection__group"]},e)})]}}
var HC=function(e,t){var n=[]
var r=[]
q(e,(function(e,o){if(t(e,o)){r.length>0&&n.push(r)
r=[]
Fe(e.dom,"innerHtml")&&r.push(e)}else r.push(e)}))
r.length>0&&n.push(r)
return W(n,(function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}}))}
var FC=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Cw.parts.items({preprocess:function(n){return"auto"!==e&&e>1?BC({tag:"div",classes:["tox-collection__group"]},e)(n):HC(n,(function(e,n){return"separator"===t[n].type}))}})]}}
var VC=function(e,t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Cw.parts.items({preprocess:function(t){return HC(t,(function(t,n){return"separator"===e[n].type}))}})]}}
var jC=function(e){return V(e,(function(e){return"icon"in e&&void 0!==e.icon}))}
var UC=function(e){console.error(an(e))
console.log(e)
return R.none()}
var WC=function(e,t,n,r,o){var a=VC(n)
return{value:e,dom:a.dom,components:a.components,items:n}}
var qC=function(e,t,n,r,o){if("color"===o){var a=PC(r)
return{value:e,dom:a.dom,components:a.components,items:n}}if("normal"===o&&"auto"===r){a=FC(r,n)
return{value:e,dom:a.dom,components:a.components,items:n}}if("normal"===o&&1===r){a=FC(1,n)
return{value:e,dom:a.dom,components:a.components,items:n}}if("normal"===o){a=FC(r,n)
return{value:e,dom:a.dom,components:a.components,items:n}}if("listpreview"===o&&"auto"!==r){a=IC(r)
return{value:e,dom:a.dom,components:a.components,items:n}}return{value:e,dom:NC(t,r,o),components:RC,items:n}}
var $C=[Cn("type"),Cn("src"),Nn("alt"),$n("classes",[],dn)]
var GC=It($C)
var XC=[Cn("type"),Cn("text"),Nn("name"),$n("classes",["tox-collection__item-label"],dn)]
var KC=It(XC)
var ZC=Jt((function(){return un("type",{cardimage:GC,cardtext:KC,cardcontainer:YC})}))
var YC=It([Cn("type"),Vn("direction","horizontal"),Vn("align","left"),Vn("valign","middle"),Ln("items",ZC)])
var JC=[Un("disabled",false),Nn("text"),Nn("shortcut"),$t("value","value",nt((function(){return Pi("menuitem-value")})),ln()),In("meta",{})]
var QC=It([Cn("type"),Nn("label"),Ln("items",ZC),Wn("onSetup",(function(){return g})),Wn("onAction",g)].concat(JC))
var eS=function(e){return nn("cardmenuitem",QC,e)}
var tS=It([Cn("type"),Un("active",false),Nn("icon")].concat(JC))
var nS=function(e){return nn("choicemenuitem",tS,e)}
var rS=["inserttable","colorswatch"]
var oS=It([Cn("type"),Sn("fancytype",rS),Wn("onAction",g)])
var aS=function(e){return nn("fancymenuitem",oS,e)}
var iS=It([Cn("type"),Wn("onSetup",(function(){return g})),Wn("onAction",g),Nn("icon")].concat(JC))
var uS=function(e){return nn("menuitem",iS,e)}
var cS=It([Cn("type"),On("getSubmenuItems"),Wn("onSetup",(function(){return g})),Nn("icon")].concat(JC))
var sS=function(e){return nn("nestedmenuitem",cS,e)}
var lS=It([Cn("type"),Nn("icon"),Un("active",false),Wn("onSetup",(function(){return g})),On("onAction")].concat(JC))
var fS=function(e){return nn("togglemenuitem",lS,e)}
var vS=function(e,t,n){var r=Zv(e.element,"."+n)
if(r.length>0){var o=Q(r,(function(e){var n=e.dom.getBoundingClientRect().top
var o=r[0].dom.getBoundingClientRect().top
return Math.abs(n-o)>t})).getOr(r.length)
return R.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return R.none()}
var dS=function(e,t){return Hl([Sy(e,t)])}
var mS=function(e){return dS(Pi("unnamed-events"),e)}
var gS={namedEvents:dS,unnamedEvents:mS}
var hS=Pi("tooltip.exclusive")
var pS=Pi("tooltip.show")
var bS=Pi("tooltip.hide")
var yS=function(e,t,n){e.getSystem().broadcastOn([hS],{})}
var wS=function(e,t,n,r){n.getTooltip().each((function(e){e.getSystem().isConnected()&&xy.set(e,r)}))}
var xS=Object.freeze({__proto__:null,hideAllExclusive:yS,setComponents:wS})
var CS=function(e,t){var n=function(n){t.getTooltip().each((function(r){Vd(r)
e.onHide(n,r)
t.clearTooltip()}))
t.clearTimer()}
var r=function(n){if(!t.isShowing()){yS(n)
var r=e.lazySink(n).getOrDie()
var o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:ha("normal"===e.mode?[wa(Eo(),(function(e){la(n,pS)})),wa(Oo(),(function(e){la(n,bS)}))]:[]),behaviours:Hl([xy.config({})])})
t.setTooltip(o)
Id(r,o)
e.onShow(n,o)
Md.position(r,e.anchor(n),o)}}
return ha(ee([[wa(pS,(function(n){t.resetTimer((function(){r(n)}),e.delay)})),wa(bS,(function(r){t.resetTimer((function(){n(r)}),e.delay)})),wa(jo(),(function(e,t){var r=t
r.universal||F(r.channels,hS)&&n(e)})),Aa((function(e){n(e)}))],"normal"===e.mode?[wa(_o(),(function(e){la(e,pS)})),wa(Fo(),(function(e){la(e,bS)})),wa(Eo(),(function(e){la(e,pS)})),wa(Oo(),(function(e){la(e,bS)}))]:[wa(ca(),(function(e,t){la(e,pS)})),wa(sa(),(function(e){la(e,bS)}))]]))}
var SS=Object.freeze({__proto__:null,events:CS})
var kS=[yn("lazySink"),yn("tooltipDom"),In("exclusive",true),In("tooltipComponents",[]),In("delay",300),jn("mode","normal",["normal","follow-highlight"]),In("anchor",(function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:y([yl,bl,ml,hl,gl,pl]),onRtl:y([yl,bl,ml,hl,gl,pl])}}})),Ps("onHide"),Ps("onShow")]
var OS=function(){var e=Kn(R.none())
var t=Kn(R.none())
var n=function(){return t.get()}
var r=function(e){t.set(R.some(e))}
var o=function(){t.set(R.none())}
var a=function(){e.get().each((function(e){clearTimeout(e)}))}
var i=function(t,n){a()
e.set(R.some(setTimeout((function(){t()}),n)))}
var u=function(){return t.get().isSome()}
var c=y("not-implemented")
return ou({getTooltip:n,isShowing:u,setTooltip:r,clearTooltip:o,clearTimer:a,resetTimer:i,readState:c})}
var TS=Object.freeze({__proto__:null,init:OS})
var ES=Vl({fields:kS,name:"tooltipping",active:SS,state:TS,apis:xS})
var _S=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}
var LS=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var DS=tinymce.util.Tools.resolve("tinymce.util.I18n")
var AS=["input","button","textarea","select"]
var MS=function(e,t,n){var r=t.disabled()?FS:VS
r(e,t)}
var NS=function(e,t){return true===t.useNative&&F(AS,Ra(e.element))}
var RS=function(e){return Ei(e.element,"disabled")}
var zS=function(e){Si(e.element,"disabled","disabled")}
var BS=function(e){_i(e.element,"disabled")}
var PS=function(e){return"true"===Oi(e.element,"aria-disabled")}
var IS=function(e){Si(e.element,"aria-disabled","true")}
var HS=function(e){Si(e.element,"aria-disabled","false")}
var FS=function(e,t,n){t.disableClass.each((function(t){Pu(e.element,t)}))
var r=NS(e,t)?zS:IS
r(e)
t.onDisabled(e)}
var VS=function(e,t,n){t.disableClass.each((function(t){Hu(e.element,t)}))
var r=NS(e,t)?BS:HS
r(e)
t.onEnabled(e)}
var jS=function(e,t){return NS(e,t)?RS(e):PS(e)}
var US=function(e,t,n,r){var o=r?FS:VS
o(e,t)}
var WS=Object.freeze({__proto__:null,enable:VS,disable:FS,isDisabled:jS,onLoad:MS,set:US})
var qS=function(e,t){return su({classes:t.disabled()?t.disableClass.toArray():[]})}
var $S=function(e,t){return ha([pa(Uo(),(function(t,n){return jS(t,e)})),Nl(e,t,MS)])}
var GS=Object.freeze({__proto__:null,exhibit:qS,events:$S})
var XS=[Wn("disabled",k),In("useNative",true),Dn("disableClass"),Ps("onDisabled"),Ps("onEnabled")]
var KS=Vl({fields:XS,name:"disabling",active:GS,apis:WS})
var ZS=tinymce.util.Tools.resolve("tinymce.EditorManager")
var YS=function(e){var t=e.getParam("skin")
var n=e.getParam("skin_url")
if(false!==t){var r=t||"oxide"
n=n?e.documentBaseURI.toAbsolute(n):ZS.baseURL+"/skins/ui/"+r}return n}
var JS=function(e){return e.getParam("readonly",false,"boolean")}
var QS=function(e){return false===e.getParam("skin")}
var ek=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))}
var tk=function(e){return e.getParam("width",LS.DOM.getStyle(e.getElement(),"width"))}
var nk=function(e){return R.from(e.getParam("min_width")).filter(d)}
var rk=function(e){return R.from(e.getParam("min_height")).filter(d)}
var ok=function(e){return R.from(e.getParam("max_width")).filter(d)}
var ak=function(e){return R.from(e.getParam("max_height")).filter(d)}
var ik=function(e){return R.from(e.getParam("style_formats")).filter(u)}
var uk=function(e){return e.getParam("style_formats_merge",false,"boolean")}
var ck=function(e){return e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")}
var sk=function(e){return e.getParam("removed_menuitems","")}
var lk=function(e){return false!==e.getParam("menubar",true,"boolean")}
var fk=function(e){var t=e.getParam("toolbar",true)
var n=true===t
var r=a(t)
var o=u(t)&&t.length>0
return!dk(e)&&(o||r||n)}
var vk=function(e){var t=j(9,(function(t){return e.getParam("toolbar"+(t+1),false,"string")}))
var n=X(t,(function(e){return"string"===typeof e}))
return n.length>0?R.some(n):R.none()}
var dk=function(e){return vk(e).fold((function(){var t=e.getParam("toolbar",[],"string[]")
return t.length>0}),O)}
var mk;(function(e){e["default"]="wrap"
e["floating"]="floating"
e["sliding"]="sliding"
e["scrolling"]="scrolling"})(mk||(mk={}))
var gk=function(e){return e.getParam("toolbar_mode","","string")}
var hk;(function(e){e["auto"]="auto"
e["top"]="top"
e["bottom"]="bottom"})(hk||(hk={}))
var pk=function(e){return e.getParam("toolbar_groups",{},"object")}
var bk=function(e){return e.getParam("toolbar_location",hk.auto,"string")}
var yk=function(e){return bk(e)===hk.bottom}
var wk=function(e){return e.getParam("fixed_toolbar_container","","string")}
var xk=function(e){return e.getParam("fixed_toolbar_container_target")}
var Ck=function(e){return e.getParam("toolbar_persist",false,"boolean")}
var Sk=function(e){if(!e.inline)return R.none()
var t=wk(e)
if(t.length>0)return ds(qu(),t)
var n=xk(e)
if(f(n))return R.some(tr.fromDom(n))
return R.none()}
var kk=function(e){return e.inline&&Sk(e).isSome()}
var Ok=function(e){var t=Sk(e)
return t.getOrThunk((function(){return ni(ti(tr.fromDom(e.getElement())))}))}
var Tk=function(e){return e.inline&&!lk(e)&&!fk(e)&&!dk(e)}
var Ek=function(e){var t=e.getParam("toolbar_sticky",false,"boolean")
return(t||e.inline)&&!kk(e)&&!Tk(e)}
var _k=function(e){return e.getParam("draggable_modal",false,"boolean")}
var Lk=function(e){var t=e.getParam("menu")
return t?Ae(t,(function(e){return E(E({},e),{items:e.items})})):{}}
var Dk=function(e){return e.getParam("menubar")}
var Ak=function(e){return e.getParam("toolbar",true)}
var Mk=function(e){return e.getParam("file_picker_callback")}
var Nk=function(e){return e.getParam("file_picker_types")}
var Rk=function(e){return e.getParam("file_browser_callback_types")}
var zk=function(e){return false===e.getParam("typeahead_urls")}
var Bk=function(e){return e.getParam("anchor_top","#top")}
var Pk=function(e){return e.getParam("anchor_bottom","#bottom")}
var Ik=function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function")
return void 0===t?e.getParam("filepicker_validator_handler",void 0,"function"):t}
var Hk="silver.readonly"
var Fk=It([kn("readonly")])
var Vk=function(e,t){var n=e.outerContainer
var r=n.element
if(t){e.mothership.broadcastOn([dm()],{target:r})
e.uiMothership.broadcastOn([dm()],{target:r})}e.mothership.broadcastOn([Hk],{readonly:t})
e.uiMothership.broadcastOn([Hk],{readonly:t})}
var jk=function(e,t){e.on("init",(function(){e.mode.isReadOnly()&&Vk(t,true)}))
e.on("SwitchMode",(function(){return Vk(t,e.mode.isReadOnly())}))
JS(e)&&e.setMode("readonly")}
var Uk=function(){var e
return ql.config({channels:(e={},e[Hk]={schema:Fk,onReceive:function(e,t){KS.set(e,t.readonly)}},e)})}
var Wk=function(e){return KS.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})}
var qk=function(e){return KS.config({disabled:e})}
var $k=function(e){return KS.config({disabled:e,disableClass:"tox-tbtn--disabled"})}
var Gk=function(e){return KS.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:false})}
var Xk={item:Wk,button:qk,splitButton:$k,toolbarButton:Gk}
var Kk=function(e,t){var n=e.getApi(t)
return function(e){e(n)}}
var Zk=function(e,t){return Da((function(n){var r=Kk(e,n)
r((function(n){var r=e.onSetup(n)
v(r)&&t.set(r)}))}))}
var Yk=function(e,t){return Aa((function(n){return Kk(e,n)(t.get())}))}
var Jk
var Qk=function(e,t){return Na((function(n,r){Kk(e,n)(e.onAction)
if(!e.triggersSubmenu&&t===uC.CLOSE_ON_EXECUTE){n.getSystem().isConnected()&&la(n,Go())
r.stop()}}))}
var eO=(Jk={},Jk[Uo()]=["disabling","alloy.base.behaviour","toggling","item-events"],Jk)
var tO=function(e){return te(e,(function(e){return e.toArray()}))}
var nO=function(e,t,n,r){var o=Kn(g)
return{type:"item",dom:t.dom,components:tO(t.optComponents),data:e.data,eventOrder:eO,hasSubmenu:e.triggersSubmenu,itemBehaviours:Hl([Sy("item-events",[Qk(e,n),Zk(e,o),Yk(e,o)]),Xk.item((function(){return e.disabled||r.isDisabled()})),Uk(),xy.config({})].concat(e.itemBehaviours))}}
var rO=function(e){return{value:e.value,meta:E({text:e.text.getOr("")},e.meta)}}
var oO=tinymce.util.Tools.resolve("tinymce.Env")
var aO=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}
var n={meta:"Ctrl",access:"Shift+Alt"}
var r=oO.mac?t:n
var o=e.split("+")
var a=W(o,(function(e){var t=e.toLowerCase().trim()
return Fe(r,t)?r[t]:e}))
return oO.mac?a.join(""):a.join("+")}
var iO=function(e){return{dom:{tag:"div",classes:[mC],innerHtml:e}}}
var uO=function(e){return{dom:{tag:"div",classes:[gC]},components:[hc(DS.translate(e))]}}
var cO=function(e,t){return{dom:{tag:"div",classes:t,innerHtml:e}}}
var sO=function(e,t){return{dom:{tag:"div",classes:[gC]},components:[{dom:{tag:e.tag,styles:e.styles},components:[hc(DS.translate(t))]}]}}
var lO=function(e){return{dom:{tag:"div",classes:[hC],innerHtml:aO(e)}}}
var fO=function(e){return{dom:{tag:"div",classes:[bC],innerHtml:ex("checkmark",e)}}}
var vO=function(e){return{dom:{tag:"div",classes:[pC],innerHtml:ex("chevron-right",e)}}}
var dO=function(e){return{dom:{tag:"div",classes:[pC],innerHtml:ex("chevron-down",e)}}}
var mO=function(e,t){var n="vertical"===e.direction?CC:SC
var r="left"===e.align?OC:kC
var o=function(){switch(e.valign){case"top":return TC
case"middle":return EC
case"bottom":return _C}}
return{dom:{tag:"div",classes:[xC,n,r,o()]},components:t}}
var gO=function(e,t,n){return{dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}}
var hO=function(e,t,n,r){var o="custom"
var a="remove"
var i=function(){var i=lC
var u=n.getOr("")
var c=e.map((function(e){return{title:r.translate(e)}})).getOr({})
var s={tag:"div",attributes:c,classes:[i]}
return E(E({},s),t===o?{tag:"button",classes:L(s.classes,["tox-swatches__picker-btn"]),innerHtml:u}:t===a?{classes:L(s.classes,["tox-swatch--remove"]),innerHtml:u}:{attributes:E(E({},s.attributes),{"data-mce-color":t}),styles:{"background-color":t}})}
return{dom:i(),optComponents:[]}}
var pO=function(e,t){var n=t.map((function(e){return{attributes:{title:DS.translate(e)}}})).getOr({})
return E({tag:"div",classes:[cC,sC].concat(e?[wC]:[])},n)}
var bO=function(e,t,n,r,o){var a=n?t.or(R.some("")).map(iO):R.none()
var i=e.checkMark
var u=e.htmlContent.fold((function(){return e.textContent.map(r)}),(function(e){return R.some(cO(e,[gC]))}))
var c={dom:pO(o,e.ariaLabel),optComponents:[a,u,e.shortcutContent.map(lO),i,e.caret]}
return c}
var yO=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"]
var wO=["list-bull-circle","list-bull-default","list-bull-square"]
var xO=function(e,t,n,r){void 0===r&&(r=R.none())
var o=function(e){return e.map((function(e){return DS.isRtl()&&F(yO,e)?e+"-rtl":e}))}
var a=DS.isRtl()&&e.iconContent.exists((function(e){return F(wO,e)}))
var i=o(e.iconContent).map((function(e){return tx(e,t.icons,r)}))
var u=R.from(e.meta).fold((function(){return uO}),(function(e){return Fe(e,"style")?x(sO,e.style):uO}))
return"color"===e.presets?hO(e.ariaLabel,e.value,i,t):bO(e,i,n,u,a)}
var CO=function(e,t){return He(e,"tooltipWorker").map((function(e){return[ES.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:Lf}}},mode:"follow-highlight",onShow:function(t,n){e((function(e){ES.setComponents(t,[pc({element:tr.fromDom(e)})])}))}})]})).getOr([])}
var SO=function(e){return LS.DOM.encode(e)}
var kO=function(e,t){var n=DS.translate(e)
var r=SO(n)
if(t.length>0){var o=new RegExp(_S(t),"gi")
return r.replace(o,(function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"}))}return r}
var OO=function(e,t,n,r,o,a,i,u){void 0===u&&(u=true)
var c=xO({presets:r,textContent:R.none(),htmlContent:n?e.text.map((function(e){return kO(e,t)})):R.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:R.none(),checkMark:R.none(),caret:R.none(),value:e.value},i.providers,u,e.icon)
return nO({data:rO(e),disabled:e.disabled,getApi:y({}),onAction:function(t){return o(e.value,e.meta)},onSetup:y(g),triggersSubmenu:false,itemBehaviours:CO(e.meta,i)},c,a,i.providers)}
var TO=function(e,t){return W(e,(function(e){switch(e.type){case"cardcontainer":return mO(e,TO(e.items,t))
case"cardimage":return gO(e.src,e.classes,e.alt)
case"cardtext":var n=e.name.exists((function(e){return F(t.cardText.highlightOn,e)}))
var r=n?R.from(t.cardText.matchText).getOr(""):""
return cO(kO(e.text,r),e.classes)}}))}
var EO=function(e,t,n,r){var o=function(e){return{isDisabled:function(){return KS.isDisabled(e)},setDisabled:function(t){KS.set(e,t)
q(Zv(e.element,"*"),(function(n){e.getSystem().getByDom(n).each((function(e){e.hasConfigured(KS)&&KS.set(e,t)}))}))}}}
var a={dom:pO(false,e.label),optComponents:[R.some({dom:{tag:"div",classes:[xC,SC]},components:TO(e.items,r)})]}
return nO({data:rO(E({text:R.none()},e)),disabled:e.disabled,getApi:o,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:R.from(r.itemBehaviours).getOr([])},a,t,n.providers)}
var _O=function(e,t,n,r,o,a,i,u){void 0===u&&(u=true)
var c=function(e){return{setActive:function(t){Yy.set(e,t)},isActive:function(){return Yy.isOn(e)},isDisabled:function(){return KS.isDisabled(e)},setDisabled:function(t){return KS.set(e,t)}}}
var s=xO({presets:n,textContent:t?e.text:R.none(),htmlContent:R.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:R.none(),checkMark:t?R.some(fO(i.icons)):R.none(),caret:R.none(),value:e.value},i,u)
return Xe(nO({data:rO(e),disabled:e.disabled,getApi:c,onAction:function(t){return r(e.value)},onSetup:function(e){e.setActive(o)
return g},triggersSubmenu:false,itemBehaviours:[]},s,a,i),{toggling:{toggleClass:vC,toggleOnExecute:false,selected:e.active}})}
var LO=zg(lw(),fw())
var DO=function(e){return{value:e}}
var AO=/^#?([a-f\d])([a-f\d])([a-f\d])$/i
var MO=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i
var NO=function(e){return AO.test(e)||MO.test(e)}
var RO=function(e){var t=e.value.replace(AO,(function(e,t,n,r){return t+t+n+n+r+r}))
return{value:t}}
var zO=function(e){var t=RO(e)
var n=MO.exec(t.value)
return null===n?["FFFFFF","FF","FF","FF"]:n}
var BO=function(e){var t=e.toString(16)
return(1===t.length?"0"+t:t).toUpperCase()}
var PO=function(e){var t=BO(e.red)+BO(e.green)+BO(e.blue)
return DO(t)}
var IO=Math.min
var HO=Math.max
var FO=Math.round
var VO=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/
var jO=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/
var UO=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}}
var WO=function(e){var t=parseInt(e,10)
return t.toString()===e&&t>=0&&t<=255}
var qO=function(e){var t
var n
var r
var o=(e.hue||0)%360
var a=e.saturation/100
var i=e.value/100
a=HO(0,IO(a,1))
i=HO(0,IO(i,1))
if(0===a){t=n=r=FO(255*i)
return UO(t,n,r,1)}var u=o/60
var c=i*a
var s=c*(1-Math.abs(u%2-1))
var l=i-c
switch(Math.floor(u)){case 0:t=c
n=s
r=0
break
case 1:t=s
n=c
r=0
break
case 2:t=0
n=c
r=s
break
case 3:t=0
n=s
r=c
break
case 4:t=s
n=0
r=c
break
case 5:t=c
n=0
r=s
break
default:t=n=r=0}t=FO(255*(t+l))
n=FO(255*(n+l))
r=FO(255*(r+l))
return UO(t,n,r,1)}
var $O=function(e){var t=zO(e)
var n=parseInt(t[1],16)
var r=parseInt(t[2],16)
var o=parseInt(t[3],16)
return UO(n,r,o,1)}
var GO=function(e,t,n,r){var o=parseInt(e,10)
var a=parseInt(t,10)
var i=parseInt(n,10)
var u=parseFloat(r)
return UO(o,a,i,u)}
var XO=function(e){if("transparent"===e)return R.some(UO(0,0,0,0))
var t=VO.exec(e)
if(null!==t)return R.some(GO(t[1],t[2],t[3],"1"))
var n=jO.exec(e)
if(null!==n)return R.some(GO(n[1],n[2],n[3],n[4]))
return R.none()}
var KO=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"}
var ZO=UO(255,0,0,1)
var YO=function(e){return e.fire("SkinLoaded")}
var JO=function(e,t){return e.fire("SkinLoadError",t)}
var QO=function(e){return e.fire("ResizeEditor")}
var eT=function(e,t){return e.fire("ResizeContent",t)}
var tT=function(e,t){return e.fire("ScrollContent",t)}
var nT=function(e,t){return e.fire("TextColorChange",t)}
var rT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage")
var oT="tinymce-custom-colors"
function aT(e){void 0===e&&(e=10)
var t=rT.getItem(oT)
var n=a(t)?JSON.parse(t):[]
var r=function(t){var n=e-t.length
return n<0?t.slice(0,e):t}
var o=r(n)
var i=function(t){H(o,t).each(u)
o.unshift(t)
o.length>e&&o.pop()
rT.setItem(oT,JSON.stringify(o))}
var u=function(e){o.splice(e,1)}
var c=function(){return o.slice(0)}
return{add:i,state:c}}var iT="choiceitem"
var uT=[{type:iT,text:"Light Green",value:"#BFEDD2"},{type:iT,text:"Light Yellow",value:"#FBEEB8"},{type:iT,text:"Light Red",value:"#F8CAC6"},{type:iT,text:"Light Purple",value:"#ECCAFA"},{type:iT,text:"Light Blue",value:"#C2E0F4"},{type:iT,text:"Green",value:"#2DC26B"},{type:iT,text:"Yellow",value:"#F1C40F"},{type:iT,text:"Red",value:"#E03E2D"},{type:iT,text:"Purple",value:"#B96AD9"},{type:iT,text:"Blue",value:"#3598DB"},{type:iT,text:"Dark Turquoise",value:"#169179"},{type:iT,text:"Orange",value:"#E67E23"},{type:iT,text:"Dark Red",value:"#BA372A"},{type:iT,text:"Dark Purple",value:"#843FA1"},{type:iT,text:"Dark Blue",value:"#236FA1"},{type:iT,text:"Light Gray",value:"#ECF0F1"},{type:iT,text:"Medium Gray",value:"#CED4D9"},{type:iT,text:"Gray",value:"#95A5A6"},{type:iT,text:"Dark Gray",value:"#7E8C8D"},{type:iT,text:"Navy Blue",value:"#34495E"},{type:iT,text:"Black",value:"#000000"},{type:iT,text:"White",value:"#ffffff"}]
var cT=aT(10)
var sT=function(e){var t=[]
var n=document.createElement("canvas")
n.height=1
n.width=1
var r=n.getContext("2d")
var o=function(e,t){var n=255
var r=t/255
var o=Math.round(e*r+n*(1-r))
return("0"+o.toString(16)).slice(-2).toUpperCase()}
var a=function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase()
r.clearRect(0,0,n.width,n.height)
r.fillStyle="#FFFFFF"
r.fillStyle=e
r.fillRect(0,0,1,1)
var t=r.getImageData(0,0,1,1).data
var a=t[0],i=t[1],u=t[2],c=t[3]
return"#"+o(a,c)+o(i,c)+o(u,c)}
for(var i=0;i<e.length;i+=2)t.push({text:e[i+1],value:a(e[i]),type:"choiceitem"})
return t}
var lT=function(e,t){return e.getParam("color_cols",t,"number")}
var fT=function(e){return false!==e.getParam("custom_colors")}
var vT=function(e){return e.getParam("color_map")}
var dT=function(e){var t=vT(e)
return void 0!==t?sT(t):uT}
var mT=function(){return W(cT.state(),(function(e){return{type:iT,text:e,value:e}}))}
var gT=function(e){cT.add(e)}
var hT=function(e,t){var n
e.dom.getParents(e.selection.getStart(),(function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)}))
return n}
var pT=function(e,t,n){e.undoManager.transact((function(){e.focus()
e.formatter.apply(t,{value:n})
e.nodeChanged()}))}
var bT=function(e,t){e.undoManager.transact((function(){e.focus()
e.formatter.remove(t,{value:null},null,true)
e.nodeChanged()}))}
var yT=function(e){e.addCommand("mceApplyTextcolor",(function(t,n){pT(e,t,n)}))
e.addCommand("mceRemoveTextcolor",(function(t){bT(e,t)}))}
var wT=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))}
var xT=function(e){var t=dT(e)
var n=wT(t.length)
return lT(e,n)}
var CT=function(e){var t="choiceitem"
var n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"}
var r={type:t,text:"Custom color",icon:"color-picker",value:"custom"}
return e?[n,r]:[n]}
var ST=function(e,t,n,r){if("custom"===n){var o=LT(e)
o((function(n){n.each((function(n){gT(n)
e.execCommand("mceApplyTextcolor",t,n)
r(n)}))}),"#000000")}else if("remove"===n){r("")
e.execCommand("mceRemoveTextcolor",t)}else{r(n)
e.execCommand("mceApplyTextcolor",t,n)}}
var kT=function(e,t){return e.concat(mT().concat(CT(t)))}
var OT=function(e,t){return function(n){n(kT(e,t))}}
var TT=function(e,t,n){var r="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color"
e.setIconFill(r,n)}
var ET=function(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){var r=R.from(hT(e,n))
return r.bind((function(e){return XO(e).map((function(e){var n=PO(e).value
return mr(t.toLowerCase(),n)}))})).getOr(false)},columns:xT(e),fetch:OT(dT(e),fT(e)),onAction:function(t){null!==o.get()&&ST(e,n,o.get(),g)},onItemAction:function(r,a){ST(e,n,a,(function(n){o.set(n)
nT(e,{name:t,color:n})}))},onSetup:function(n){null!==o.get()&&TT(n,t,o.get())
var r=function(e){e.name===t&&TT(n,e.name,e.color)}
e.on("TextColorChange",r)
return function(){e.off("TextColorChange",r)}}})}
var _T=function(e,t,n,r){e.ui.registry.addNestedMenuItem(t,{text:r,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){ST(e,n,t.value,g)}}]}})}
var LT=function(e){return function(t,n){var r=false
var o=function(n){var o=n.getData()
var a=o.colorpicker
if(r){t(R.from(a))
n.close()}else e.windowManager.alert(e.translate(["Invalid hex color code: {0}",a]))}
var a=function(e,t){"hex-valid"===t.name&&(r=t.value)}
var i={colorpicker:n}
e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:i,onAction:a,onSubmit:o,onClose:g,onCancel:function(){t(R.none())}})}}
var DT=function(e){yT(e)
var t=Kn(null)
var n=Kn(null)
ET(e,"forecolor","forecolor","Text color",t)
ET(e,"backcolor","hilitecolor","Background color",n)
_T(e,"forecolor","forecolor","Text color")
_T(e,"backcolor","hilitecolor","Background color")}
var AT=function(e,t,n,r,o,a,i,u){var c=jC(t)
var s="color"!==o?"normal":"color"
var l=MT(t,n,r,s,a,i,u)
return qC(e,c,l,r,o)}
var MT=function(e,t,n,r,o,a,i){return ch(W(e,(function(u){return"choiceitem"===u.type?nS(u).fold(UC,(function(c){return R.some(_O(c,1===n,r,t,a(u.value),o,i,jC(e)))})):R.none()})))}
var NT=function(e,t){var n=MC(t)
if(1===e)return{mode:"menu",moveOnTab:true}
if("auto"===e)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}
var r="color"===t?"tox-swatches__row":"tox-collection__group"
return{mode:"matrix",rowSelector:"."+r}}
var RT=function(e,t){return 1===e?{mode:"menu",moveOnTab:false,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?"."+lC:"."+sC}}}
var zT=function(e,t){var n=kT(t.colorinput.getColors(),t.colorinput.hasCustomColors())
var r=t.colorinput.getColorCols()
var o="color"
var a=AT(Pi("menu-value"),n,(function(t){e.onAction({value:t})}),r,o,uC.CLOSE_ON_EXECUTE,k,t.shared.providers)
var i=E(E({},a),{markers:MC(o),movement:NT(r,o)})
return{type:"widget",data:{value:Pi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[LO.widget(Cw.sketch(i))]}}
var BT=Pi("cell-over")
var PT=Pi("cell-execute")
var IT=function(e,t,n){var r
var o=function(n){return fa(n,BT,{row:e,col:t})}
var a=function(n){return fa(n,PT,{row:e,col:t})}
var i=function(e,t){t.stop()
a(e)}
return yc({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Hl([Sy("insert-table-picker-cell",[wa(Eo(),My.focus),wa(Uo(),a),wa(Ro(),i),wa(qo(),i)]),Yy.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:false}),My.config({onFocus:o})])})}
var HT=function(e,t,n){var r=[]
for(var o=0;o<t;o++){var a=[]
for(var i=0;i<n;i++)a.push(IT(o,i,e))
r.push(a)}return r}
var FT=function(e,t,n,r,o){for(var a=0;a<r;a++)for(var i=0;i<o;i++)Yy.set(e[a][i],a<=t&&i<=n)}
var VT=function(e){return te(e,(function(e){return W(e,wc)}))}
var jT=function(e,t){return hc(t+1+"x"+(e+1))}
var UT=function(e){var t=10
var n=10
var r=Pi("size-label")
var o=HT(r,t,n)
var a=Jw({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[hc("0x0")],behaviours:Hl([xy.config({})])})
return{type:"widget",data:{value:Pi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[LO.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:VT(o).concat(a.asSpec()),behaviours:Hl([Sy("insert-table-picker",[Ta(BT,(function(e,r,i){var u=i.event.row
var c=i.event.col
FT(o,u,c,t,n)
xy.set(a.get(e),[jT(u,c)])})),Ta(PT,(function(t,n,r){e.onAction({numRows:r.event.row+1,numColumns:r.event.col+1})
la(t,Go())}))]),fy.config({initSize:{numRows:t,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}}
var WT={inserttable:UT,colorswatch:zT}
var qT=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?R.some(e[t]):R.none()}
var $T=function(e,t){return qT(WT,e.fancytype).map((function(n){return n(e,t)}))}
var GT=function(e,t,n,r,o){void 0===r&&(r=true)
void 0===o&&(o=false)
var a=o?dO(n.icons):vO(n.icons)
var i=function(e){return{isDisabled:function(){return KS.isDisabled(e)},setDisabled:function(t){return KS.set(e,t)}}}
var u=xO({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:R.none(),ariaLabel:e.text,caret:R.some(a),checkMark:R.none(),shortcutContent:e.shortcut},n,r)
return nO({data:rO(e),getApi:i,disabled:e.disabled,onAction:g,onSetup:e.onSetup,triggersSubmenu:true,itemBehaviours:[]},u,t,n)}
var XT=function(e,t,n,r){void 0===r&&(r=true)
var o=function(e){return{isDisabled:function(){return KS.isDisabled(e)},setDisabled:function(t){return KS.set(e,t)}}}
var a=xO({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:R.none(),ariaLabel:e.text,caret:R.none(),checkMark:R.none(),shortcutContent:e.shortcut},n,r)
return nO({data:rO(e),getApi:o,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:[]},a,t,n)}
var KT=function(e){var t=e.text.fold((function(){return{}}),(function(e){return{innerHtml:e}}))
return{type:"separator",dom:E({tag:"div",classes:[sC,dC]},t),components:[]}}
var ZT=function(e,t,n,r){void 0===r&&(r=true)
var o=function(e){return{setActive:function(t){Yy.set(e,t)},isActive:function(){return Yy.isOn(e)},isDisabled:function(){return KS.isDisabled(e)},setDisabled:function(t){return KS.set(e,t)}}}
var a=xO({iconContent:e.icon,textContent:e.text,htmlContent:R.none(),ariaLabel:e.text,checkMark:R.some(fO(n.icons)),caret:R.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r)
return Xe(nO({data:rO(e),disabled:e.disabled,getApi:o,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:false,itemBehaviours:[]},a,t,n),{toggling:{toggleClass:vC,toggleOnExecute:false,selected:e.active}})}
var YT=OO
var JT=KT
var QT=XT
var eE=GT
var tE=ZT
var nE=$T
var rE=EO
var oE;(function(e){e[e["ContentFocus"]=0]="ContentFocus"
e[e["UiFocus"]=1]="UiFocus"})(oE||(oE={}))
var aE=function(e,t,n,r,o){var a=n.shared.providers
var i=function(e){return o?E(E({},e),{shortcut:R.none(),icon:e.text.isSome()?R.none():e.icon}):e}
switch(e.type){case"menuitem":return uS(e).fold(UC,(function(e){return R.some(QT(i(e),t,a,r))}))
case"nestedmenuitem":return sS(e).fold(UC,(function(e){return R.some(eE(i(e),t,a,r,o))}))
case"togglemenuitem":return fS(e).fold(UC,(function(e){return R.some(tE(i(e),t,a,r))}))
case"separator":return Bx(e).fold(UC,(function(e){return R.some(JT(e))}))
case"fancymenuitem":return aS(e).fold(UC,(function(e){return nE(i(e),n)}))
default:console.error("Unknown item in general menu",e)
return R.none()}}
var iE=function(e,t,n,r,o,a,i){var u=1===r
var c=!u||jC(e)
return ch(W(e,(function(e){switch(e.type){case"separator":return Hx(e).fold(UC,(function(e){return R.some(JT(e))}))
case"cardmenuitem":return eS(e).fold(UC,(function(e){return R.some(rE(E(E({},e),{onAction:function(t){e.onAction(t)
n(e.value,e.meta)}}),o,a,{itemBehaviours:CO(e.meta,a),cardText:{matchText:t,highlightOn:i}}))}))
case"autocompleteitem":default:return Fx(e).fold(UC,(function(e){return R.some(YT(e,t,u,"normal",n,o,a,c))}))}})))}
var uE=function(e,t,n,r,o){var a=jC(t)
var i=ch(W(t,(function(e){var t=function(e){return o?!e.hasOwnProperty("text"):a}
var i=function(e){return aE(e,n,r,t(e),o)}
return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?i(E(E({},e),{disabled:true})):i(e)})))
var u=o?WC:qC
return u(e,a,i,1,"normal")}
var cE=function(e){return Rw.singleData(e.value,e)}
var sE=function(e,t,n,r){var o=n===oE.ContentFocus?up():ip()
var a=NT(t,r)
var i=MC(r)
return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:i.selectedItem,item:i.item},movement:a,fakeFocus:n===oE.ContentFocus,focusManager:o,menuBehaviours:gS.unnamedEvents("auto"!==t?[]:[Da((function(e,t){vS(e,4,i.item).each((function(t){var n=t.numColumns,r=t.numRows
fy.setGridSize(e,r,n)}))}))])}}
var lE=function(e,t){var n=Kn(R.none())
var r=Kn(false)
var o=yc(Pw.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Hl([Sy("dismissAutocompleter",[wa(na(),(function(){return c()}))])]),lazySink:t.getSink}))
var a=function(){return Pw.isOpen(o)}
var i=function(){return n.get().isSome()}
var u=function(){i()&&Pw.hide(o)}
var c=function(){if(i()){var t=n.get().map((function(e){return e.element}))
mx(t.getOr(tr.fromDom(e.selection.getNode()))).each(pi)
u()
n.set(R.none())
r.set(false)}}
var s=Ze((function(){return aC(e)}))
var l=function(n,o){var a=fe(o,(function(e){return R.from(e.columns)})).getOr(1)
return te(o,(function(o){var i=o.items
return iE(i,o.matchText,(function(t,a){var i=e.selection.getRng()
xx(e.dom,i,n).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(e){var n=e.range
var i={hide:function(){c()},reload:function(e){u()
m(e)}}
r.set(true)
o.onAction(i,n,t,a)
r.set(false)}))}),a,uC.BUBBLE_TO_SANDBOX,t,o.highlightOn)}))}
var f=function(t){if(!i()){var o=dx(e,t.range)
n.set(R.some({triggerChar:t.triggerChar,element:o,matchLength:t.text.length}))
r.set(false)}}
var v=function(t,n,r,a){t.matchLength=n.text.length
var i=fe(r,(function(e){return R.from(e.columns)})).getOr(1)
Pw.showAt(o,{anchor:"node",root:tr.fromDom(e.getBody()),node:R.from(t.element)},Cw.sketch(sE(qC("autocompleter-value",true,a,i,"normal"),i,oE.ContentFocus,"normal")))
Pw.getContent(o).each(Ih.highlightFirst)}
var d=function(t){return n.get().map((function(n){return xx(e.dom,e.selection.getRng(),n.triggerChar).bind((function(n){return Rx(e,s,n,t)}))})).getOrThunk((function(){return Nx(e,s)}))}
var m=function(e){d(e).fold(c,(function(e){f(e.context)
e.lookupData.then((function(t){n.get().map((function(n){var r=e.context
if(n.triggerChar===r.triggerChar){var o=l(r.triggerChar,t)
o.length>0?v(n,r,t,o):r.text.length-n.matchLength>=10?c():u()}}))}))}))}
var g=cx((function(e){if(27===e.which)return
m()}),50)
var h={onKeypress:g,cancelIfNecessary:c,isMenuOpen:a,isActive:i,isProcessingAction:r.get,getView:function(){return Pw.getContent(o)}}
false===e.hasPlugin("rtc")&&Sx.setup(h,e)}
var fE={register:lE}
var vE=O
var dE=function(e,t,n){return Vc(e,t,vE,n)}
var mE=function(e,t,n){return jc(e,t,vE,n)}
var gE=Ic
var hE=function(e,t,n){return ms(e,t,n).isSome()}
var pE=function(e,t){var n=null
var r=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
n=setTimeout((function(){e.apply(null,r)
n=null}),t)}
var o=function(){if(null!==n){clearTimeout(n)
n=null}}
return{cancel:o,schedule:r}}
var bE=5
var yE=400
var wE=function(e){var t=e.raw
if(void 0===t.touches||1!==t.touches.length)return R.none()
return R.some(t.touches[0])}
var xE=function(e,t){var n=Math.abs(e.clientX-t.x)
var r=Math.abs(e.clientY-t.y)
return n>bE||r>bE}
var CE=function(e){var t=Kn(R.none())
var n=Kn(false)
var r=pE((function(t){e.triggerEvent($o(),t)
n.set(true)}),yE)
var o=function(e){wE(e).each((function(o){r.cancel()
var a={x:o.clientX,y:o.clientY,target:e.target}
r.schedule(e)
n.set(false)
t.set(R.some(a))}))
return R.none()}
var a=function(e){r.cancel()
wE(e).each((function(e){t.get().each((function(n){xE(e,n)&&t.set(R.none())}))}))
return R.none()}
var i=function(o){r.cancel()
var a=function(e){return oo(e.target,o.target)}
return t.get().filter(a).map((function(t){if(n.get()){o.prevent()
return false}return e.triggerEvent(qo(),o)}))}
var u=lt([{key:yo(),value:o},{key:wo(),value:a},{key:xo(),value:i}])
var c=function(e,t){return He(u,t).bind((function(t){return t(e)}))}
return{fireIfReady:c}}
var SE=function(e){var t=e.raw
return t.which===Hh[0]&&!F(["input","textarea"],Ra(e.target))&&!hE(e.target,'[contenteditable="true"]')}
var kE=function(){return Gr().browser.isFirefox()}
var OE=Pt([On("triggerEvent"),In("stopBackspace",true)])
var TE=function(e,t){return kE()?mE(e,"focus",t):dE(e,"focusin",t)}
var EE=function(e,t){return kE()?mE(e,"blur",t):dE(e,"focusout",t)}
var _E=function(e,t){var n=on("Getting GUI events settings",OE,t)
var r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"]
var o=CE(n)
var a=W(r.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(t){return dE(e,t,(function(e){o.fireIfReady(e,t).each((function(t){t&&e.kill()}))
var r=n.triggerEvent(t,e)
r&&e.kill()}))}))
var i=Kn(R.none())
var u=dE(e,"paste",(function(e){o.fireIfReady(e,"paste").each((function(t){t&&e.kill()}))
var t=n.triggerEvent("paste",e)
t&&e.kill()
i.set(R.some(setTimeout((function(){n.triggerEvent(Vo(),e)}),0)))}))
var c=dE(e,"keydown",(function(e){var t=n.triggerEvent("keydown",e)
t?e.kill():true===n.stopBackspace&&SE(e)&&e.prevent()}))
var s=TE(e,(function(e){var t=n.triggerEvent("focusin",e)
t&&e.kill()}))
var l=Kn(R.none())
var f=EE(e,(function(e){var t=n.triggerEvent("focusout",e)
t&&e.kill()
l.set(R.some(setTimeout((function(){n.triggerEvent(Fo(),e)}),0)))}))
var v=function(){q(a,(function(e){e.unbind()}))
c.unbind()
s.unbind()
f.unbind()
u.unbind()
i.get().each(clearTimeout)
l.get().each(clearTimeout)}
return{unbind:v}}
var LE=function(e,t){var n=He(e,"target").getOr(t)
return Kn(n)}
var DE=function(e,t){var n=Kn(false)
var r=Kn(false)
var o=function(){n.set(true)}
var a=function(){r.set(true)}
return{stop:o,cut:a,isStopped:n.get,isCut:r.get,event:e,setSource:t.set,getSource:t.get}}
var AE=function(e){var t=Kn(false)
var n=function(){t.set(true)}
return{stop:n,cut:g,isStopped:t.get,isCut:k,event:e,setSource:S("Cannot set source of a broadcasted event"),getSource:S("Cannot get source of a broadcasted event")}}
var ME=Ue.generate([{stopped:[]},{resume:["element"]},{complete:[]}])
var NE=function(e,t,n,r,o,a){var i=e(t,r)
var u=DE(n,o)
return i.fold((function(){a.logEventNoHandlers(t,r)
return ME.complete()}),(function(e){var n=e.descHandler
var r=hu(n)
r(u)
if(u.isStopped()){a.logEventStopped(t,e.element,n.purpose)
return ME.stopped()}if(u.isCut()){a.logEventCut(t,e.element,n.purpose)
return ME.complete()}return qa(e.element).fold((function(){a.logNoParent(t,e.element,n.purpose)
return ME.complete()}),(function(r){a.logEventResponse(t,e.element,n.purpose)
return ME.resume(r)}))}))}
var RE=function(e,t,n,r,o,a){return NE(e,t,n,r,o,a).fold(O,(function(r){return RE(e,t,n,r,o,a)}),k)}
var zE=function(e,t,n,r,o){var a=LE(n,r)
return NE(e,t,n,r,a,o)}
var BE=function(e,t,n){var r=AE(t)
q(e,(function(e){var t=e.descHandler
var n=hu(t)
n(r)}))
return r.isStopped()}
var PE=function(e,t,n,r){return IE(e,t,n,n.target,r)}
var IE=function(e,t,n,r,o){var a=LE(n,r)
return RE(e,t,n,r,a,o)}
var HE=function(e,t){return{element:e,descHandler:t}}
var FE=function(e,t){return{id:e,descHandler:t}}
var VE=function(){var e={}
var t=function(t,n,r){De(r,(function(r,o){var a=void 0!==e[o]?e[o]:{}
a[n]=gu(r,t)
e[o]=a}))}
var n=function(e,t){return Wi(t).fold((function(){return R.none()}),(function(n){return e.bind((function(e){return He(e,n)})).map((function(e){return HE(t,e)}))}))}
var r=function(t){return He(e,t).map((function(e){return Be(e,(function(e,t){return FE(t,e)}))})).getOr([])}
var o=function(t,r,o){var a=He(e,r)
return lo(o,(function(e){return n(a,e)}),t)}
var a=function(t){De(e,(function(e,n){e.hasOwnProperty(t)&&delete e[t]}))}
return{registerId:t,unregisterId:a,filterByType:r,find:o}}
var jE=function(){var e=VE()
var t={}
var n=function(e){var t=e.element
return Wi(t).fold((function(){return ji("uid-",e.element)}),(function(e){return e}))}
var r=function(e,n){var r=t[n]
if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+Mi(r.element)+"\nCannot use it for: "+Mi(e.element)+"\nThe conflicting element is"+(Wu(r.element)?" ":" not ")+"already in the DOM")
a(e)}
var o=function(o){var a=n(o)
Ve(t,a)&&r(o,a)
var i=[o]
e.registerId(i,a,o.events)
t[a]=o}
var a=function(n){Wi(n.element).each((function(n){delete t[n]
e.unregisterId(n)}))}
var i=function(t){return e.filterByType(t)}
var u=function(t,n,r){return e.find(t,n,r)}
var c=function(e){return He(t,e)}
return{find:u,filter:i,register:o,unregister:a,getById:c}}
var UE=function(e){var t=e.dom,n=t.attributes,r=_(t,["attributes"])
return{uid:e.uid,dom:E({tag:"div",attributes:E({role:"presentation"},n)},r),components:e.components,behaviours:Zm(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}}
var WE=ih({name:"Container",factory:UE,configFields:[In("components",[]),Km("containerBehaviours",[]),In("events",{}),In("domModification",{}),In("eventOrder",{})]})
var qE=function(e){var t=function(t){return qa(e.element).fold(O,(function(e){return oo(t,e)}))}
var n=jE()
var r=function(e,r){return n.find(t,e,r)}
var o=_E(e.element,{triggerEvent:function(e,t){return Es(e,t.target,(function(n){return PE(r,e,t,n)}))}})
var a={debugInfo:y("real"),triggerEvent:function(e,t,n){Es(e,t,(function(o){return IE(r,e,n,t,o)}))},triggerFocus:function(e,t){Wi(e).fold((function(){Kl(e)}),(function(n){Es(Ho(),e,(function(n){zE(r,Ho(),{originator:t,kill:g,prevent:g,target:e},e,n)
return false}))}))},triggerEscape:function(e,t){a.triggerEvent("keydown",e.element,t.event)},getByUid:function(e){return h(e)},getByDom:function(e){return p(e)},build:yc,addToGui:function(e){c(e)},removeFromGui:function(e){s(e)},addToWorld:function(e){i(e)},removeFromWorld:function(e){u(e)},broadcast:function(e){v(e)},broadcastOn:function(e,t){d(e,t)},broadcastEvent:function(e,t){m(e,t)},isConnected:O}
var i=function(e){e.connect(a)
if(!Ia(e.element)){n.register(e)
q(e.components(),i)
a.triggerEvent(Ko(),e.element,{target:e.element})}}
var u=function(e){if(!Ia(e.element)){q(e.components(),u)
n.unregister(e)}e.disconnect()}
var c=function(t){Id(e,t)}
var s=function(e){Vd(e)}
var l=function(){o.unbind()
hi(e.element)}
var f=function(e){var t=n.filter(jo())
q(t,(function(t){var n=t.descHandler
var r=hu(n)
r(e)}))}
var v=function(e){f({universal:true,data:e})}
var d=function(e,t){f({universal:false,channels:e,data:t})}
var m=function(e,t){var r=n.filter(e)
return BE(r,t)}
var h=function(e){return n.getById(e).fold((function(){return ge.error(new Error('Could not find component with uid: "'+e+'" in system.'))}),ge.value)}
var p=function(e){var t=Wi(e).getOr("not found")
return h(t)}
i(e)
return{root:e,element:e.element,destroy:l,add:c,remove:s,getByUid:h,getByDom:p,addToWorld:i,removeFromWorld:u,broadcast:v,broadcastOn:d,broadcastEvent:m}}
var $E=function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:W(e.items,t.interpreter)}}
var GE=y([In("prefix","form-field"),Km("fieldBehaviours",[bh,Xm])])
var XE=y([Lg({schema:[yn("dom")],name:"label"}),Lg({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[yn("text")],name:"aria-descriptor"}),Eg({factory:{sketch:function(e){var t=ct(e,["factory"])
return e.factory.sketch(t)}},schema:[yn("factory")],name:"field"})])
var KE=function(e,t,n,r){var o=Ym(e.fieldBehaviours,[bh.config({find:function(t){return jg(t,e,"field")}}),Xm.config({store:{mode:"manual",getValue:function(e){return bh.getCurrent(e).bind(Xm.getValue)},setValue:function(e,t){bh.getCurrent(e).each((function(e){Xm.setValue(e,t)}))}}})])
var a=ha([Da((function(t,n){var r=Wg(t,e,["label","field","aria-descriptor"])
r.field().each((function(t){var n=Pi(e.prefix)
r.label().each((function(e){Si(e.element,"for",n)
Si(t.element,"id",n)}))
r["aria-descriptor"]().each((function(n){var r=Pi(e.prefix)
Si(n.element,"id",r)
Si(t.element,"aria-describedby",r)}))}))}))])
var i={getField:function(t){return jg(t,e,"field")},getLabel:function(t){return jg(t,e,"label")}}
return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:a,apis:i}}
var ZE=uh({name:"FormField",configFields:GE(),partFields:XE(),factory:KE,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}})
var YE=function(e,t){return su({attributes:lt([{key:t.tabAttr,value:"true"}])})}
var JE=Object.freeze({__proto__:null,exhibit:YE})
var QE=[In("tabAttr","data-alloy-tabstop")]
var e_=Vl({fields:QE,name:"tabstopping",active:JE})
var t_=tinymce.util.Tools.resolve("tinymce.html.Entities")
var n_=function(e,t,n,r){var o=o_(e,t,n,r)
return ZE.sketch(o)}
var r_=function(e,t){return n_(e,t,[],[])}
var o_=function(e,t,n,r){return{dom:i_(n),components:e.toArray().concat([t]),fieldBehaviours:Hl(r)}}
var a_=function(){return i_([])}
var i_=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}}
var u_=function(e,t){return ZE.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})}
var c_=Pi("form-component-change")
var s_=Pi("form-close")
var l_=Pi("form-cancel")
var f_=Pi("form-action")
var v_=Pi("form-submit")
var d_=Pi("form-block")
var m_=Pi("form-unblock")
var g_=Pi("form-tabchange")
var h_=Pi("form-resize")
var p_=function(e,t){var n
var r=e.label.map((function(e){return u_(e,t)}))
var o=function(e){return function(t,n){ms(n.event.target,"[data-collection-item-value]").each((function(r){e(t,n,r,Oi(r,"data-collection-item-value"))}))}}
var a=function(n,r){var o=W(r,(function(n){var r=DS.translate(n.text)
var o=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":""
var a='<div class="tox-collection__item-icon">'+n.icon+"</div>"
var i={_:" "," - ":" ","-":" "}
var u=r.replace(/\_| \- |\-/g,(function(e){return i[e]}))
var c=t.isDisabled()?" tox-collection__item--state-disabled":""
return'<div class="tox-collection__item'+c+'" tabindex="-1" data-collection-item-value="'+t_.encodeAllRaw(n.value)+'" title="'+u+'" aria-label="'+u+'">'+a+o+"</div>"}))
var a="auto"!==e.columns&&e.columns>1?U(o,e.columns):[o]
var i=W(a,(function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"}))
wi(n.element,i.join(""))}
var i=o((function(n,r,o,a){r.stop()
t.isDisabled()||fa(n,f_,{name:e.name,value:a})}))
var u=[wa(Eo(),o((function(e,t,n){Kl(n)}))),wa(Ro(),i),wa(qo(),i),wa(_o(),o((function(e,t,n){ds(e.element,"."+yC).each((function(e){Hu(e,yC)}))
Pu(n,yC)}))),wa(Lo(),o((function(e){ds(e.element,"."+yC).each((function(e){Hu(e,yC)}))}))),Na(o((function(t,n,r,o){fa(t,f_,{name:e.name,value:o})})))]
var c=function(e,t){return W(Zv(e.element,".tox-collection__item"),t)}
var s=ZE.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:w},behaviours:Hl([KS.config({disabled:t.isDisabled,onDisabled:function(e){c(e,(function(e){Pu(e,"tox-collection__item--state-disabled")
Si(e,"aria-disabled",true)}))},onEnabled:function(e){c(e,(function(e){Hu(e,"tox-collection__item--state-disabled")
_i(e,"aria-disabled")}))}}),Uk(),xy.config({}),Xm.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){a(t,n)
"auto"===e.columns&&vS(t,5,"tox-collection__item").each((function(e){var n=e.numRows,r=e.numColumns
fy.setGridSize(t,n,r)}))
la(t,h_)}}),e_.config({}),fy.config(RT(e.columns,"normal")),Sy("collection-events",u)]),eventOrder:(n={},n[Uo()]=["disabling","alloy.base.behaviour","collection-events"],n)})
var l=["tox-form__group--collection"]
return n_(r,s,l,[])}
var b_=y([Dn("data"),In("inputAttributes",{}),In("inputStyles",{}),In("tag","input"),In("inputClasses",[]),Ps("onSetValue"),In("styles",{}),In("eventOrder",{}),Km("inputBehaviours",[Xm,My]),In("selectOnFocus",true)])
var y_=function(e){return Hl([My.config({onFocus:e.selectOnFocus?function(e){var t=e.element
var n=ac(t)
t.dom.setSelectionRange(0,n.length)}:g})])}
var w_=function(e){return E(E({},y_(e)),Ym(e.inputBehaviours,[Xm.config({store:E(E({mode:"manual"},e.data.map((function(e){return{initialValue:e}})).getOr({})),{getValue:function(e){return ac(e.element)},setValue:function(e,t){var n=ac(e.element)
n!==t&&ic(e.element,t)}}),onSetValue:e.onSetValue})]))}
var x_=function(e){return{tag:e.tag,attributes:E({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}}
var C_=function(e,t){return{uid:e.uid,dom:x_(e),components:[],behaviours:w_(e),eventOrder:e.eventOrder}}
var S_=ih({name:"Input",configFields:b_(),factory:C_})
var k_={},O_={exports:k_};(function(t,n,r,o){(function(o){if("object"===typeof n&&"undefined"!==typeof r)r.exports=o()
else if("function"===typeof t&&t.amd)t([],o)
else{var a
a="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:this
a.EphoxContactWrapper=o()}})((function(){return function(){function e(t,n,r){function a(u,c){if(!n[u]){if(!t[u]){var s="function"==typeof o&&o
if(!c&&s)return s(u,!0)
if(i)return i(u,!0)
var l=new Error("Cannot find module '"+u+"'")
throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}}
t[u][0].call(f.exports,(function(e){var n=t[u][1][e]
return a(n||e)}),f,f.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof o&&o,u=0;u<r.length;u++)a(r[u])
return a}return e}()({1:[function(e,t,n){var r=t.exports={}
var o
var a
function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{o="function"===typeof setTimeout?setTimeout:i}catch(e){o=i}try{a="function"===typeof clearTimeout?clearTimeout:u}catch(e){a=u}})()
function c(e){if(o===setTimeout)return setTimeout(e,0)
if((o===i||!o)&&setTimeout){o=setTimeout
return setTimeout(e,0)}try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function s(e){if(a===clearTimeout)return clearTimeout(e)
if((a===u||!a)&&clearTimeout){a=clearTimeout
return clearTimeout(e)}try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}var l=[]
var f=false
var v
var d=-1
function m(){if(!f||!v)return
f=false
v.length?l=v.concat(l):d=-1
l.length&&g()}function g(){if(f)return
var e=c(m)
f=true
var t=l.length
while(t){v=l
l=[]
while(++d<t)v&&v[d].run()
d=-1
t=l.length}v=null
f=false
s(e)}r.nextTick=function(e){var t=new Array(arguments.length-1)
if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n]
l.push(new h(e,t))
1!==l.length||f||c(g)}
function h(e,t){this.fun=e
this.array=t}h.prototype.run=function(){this.fun.apply(null,this.array)}
r.title="browser"
r.browser=true
r.env={}
r.argv=[]
r.version=""
r.versions={}
function p(){}r.on=p
r.addListener=p
r.once=p
r.off=p
r.removeListener=p
r.removeAllListeners=p
r.emit=p
r.prependListener=p
r.prependOnceListener=p
r.listeners=function(e){return[]}
r.binding=function(e){throw new Error("process.binding is not supported")}
r.cwd=function(){return"/"}
r.chdir=function(e){throw new Error("process.chdir is not supported")}
r.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){(function(n){var r=setTimeout
function o(){}function a(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof e)throw new TypeError("not a function")
this._state=0
this._handled=false
this._value=void 0
this._deferreds=[]
v(e,this)}function u(e,t){while(3===e._state)e=e._value
if(0===e._state){e._deferreds.push(t)
return}e._handled=true
i._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected
if(null===n){(1===e._state?c:s)(t.promise,e._value)
return}var r
try{r=n(e._value)}catch(e){s(t.promise,e)
return}c(t.promise,r)}))}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.")
if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then
if(t instanceof i){e._state=3
e._value=t
l(e)
return}if("function"===typeof n){v(a(n,t),e)
return}}e._state=1
e._value=t
l(e)}catch(t){s(e,t)}}function s(e,t){e._state=2
e._value=t
l(e)}function l(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}))
for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t])
e._deferreds=null}function f(e,t,n){this.onFulfilled="function"===typeof e?e:null
this.onRejected="function"===typeof t?t:null
this.promise=n}function v(e,t){var n=false
try{e((function(e){if(n)return
n=true
c(t,e)}),(function(e){if(n)return
n=true
s(t,e)}))}catch(e){if(n)return
n=true
s(t,e)}}i.prototype["catch"]=function(e){return this.then(null,e)}
i.prototype.then=function(e,t){var n=new this.constructor(o)
u(this,new f(e,t,n))
return n}
i.all=function(e){var t=Array.prototype.slice.call(e)
return new i((function(e,n){if(0===t.length)return e([])
var r=t.length
function o(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(e){o(a,e)}),n)
return}}t[a]=i
0===--r&&e(t)}catch(e){n(e)}}for(var a=0;a<t.length;a++)o(a,t[a])}))}
i.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===i)return e
return new i((function(t){t(e)}))}
i.reject=function(e){return new i((function(t,n){n(e)}))}
i.race=function(e){return new i((function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)}))}
i._immediateFn="function"===typeof e?function(t){e(t)}:function(e){r(e,0)}
i._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)}
i._setImmediateFn=function(e){i._immediateFn=e}
i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e}
"undefined"!==typeof t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){var o=e("process/browser.js").nextTick
var a=Function.prototype.apply
var i=Array.prototype.slice
var u={}
var c=0
n.setTimeout=function(){return new s(a.call(setTimeout,window,arguments),clearTimeout)}
n.setInterval=function(){return new s(a.call(setInterval,window,arguments),clearInterval)}
n.clearTimeout=n.clearInterval=function(e){e.close()}
function s(e,t){this._id=e
this._clearFn=t}s.prototype.unref=s.prototype.ref=function(){}
s.prototype.close=function(){this._clearFn.call(window,this._id)}
n.enroll=function(e,t){clearTimeout(e._idleTimeoutId)
e._idleTimeout=t}
n.unenroll=function(e){clearTimeout(e._idleTimeoutId)
e._idleTimeout=-1}
n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId)
var t=e._idleTimeout
t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))}
n.setImmediate="function"===typeof t?t:function(e){var t=c++
var r=!(arguments.length<2)&&i.call(arguments,1)
u[t]=true
o((function(){if(u[t]){r?e.apply(null,r):e.call(null)
n.clearImmediate(t)}}))
return t}
n.clearImmediate="function"===typeof r?r:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill")
var o="undefined"!==typeof window?window:Function("return this;")()
t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,k_,O_,void 0)
var T_=O_.exports.boltExport
var E_=function(e){var t=R.none()
var n=[]
var r=function(e){return E_((function(t){o((function(n){t(e(n))}))}))}
var o=function(e){i()?c(e):n.push(e)}
var a=function(e){if(!i()){t=R.some(e)
u(n)
n=[]}}
var i=function(){return t.isSome()}
var u=function(e){q(e,c)}
var c=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))}
e(a)
return{get:o,map:r,isReady:i}}
var __=function(e){return E_((function(t){t(e)}))}
var L_={nu:E_,pure:__}
var D_=function(e){setTimeout((function(){throw e}),0)}
var A_=function(e){var t=function(t){e().then(t,D_)}
var n=function(t){return A_((function(){return e().then(t)}))}
var r=function(t){return A_((function(){return e().then((function(e){return t(e).toPromise()}))}))}
var o=function(t){return A_((function(){return e().then((function(){return t.toPromise()}))}))}
var a=function(){return L_.nu(t)}
var i=function(){var t=null
return A_((function(){null===t&&(t=e())
return t}))}
var u=e
return{map:n,bind:r,anonBind:o,toLazy:a,toCached:i,toPromise:u,get:t}}
var M_=function(e){return A_((function(){return new T_(e)}))}
var N_=function(e){return A_((function(){return T_.resolve(e)}))}
var R_={nu:M_,pure:N_}
var z_=["input","textarea"]
var B_=function(e){var t=Ra(e)
return F(z_,t)}
var P_=function(e,t){var n=t.getRoot(e).getOr(e.element)
Hu(n,t.invalidClass)
t.notify.each((function(t){B_(e.element)&&Si(e.element,"aria-invalid",false)
t.getContainer(e).each((function(e){wi(e,t.validHtml)}))
t.onValid(e)}))}
var I_=function(e,t,n,r){var o=t.getRoot(e).getOr(e.element)
Pu(o,t.invalidClass)
t.notify.each((function(t){B_(e.element)&&Si(e.element,"aria-invalid",true)
t.getContainer(e).each((function(e){wi(e,r)}))
t.onInvalid(e,r)}))}
var H_=function(e,t,n){return t.validator.fold((function(){return R_.pure(ge.value(true))}),(function(t){return t.validate(e)}))}
var F_=function(e,t,n){t.notify.each((function(t){t.onValidate(e)}))
return H_(e,t).map((function(r){return e.getSystem().isConnected()?r.fold((function(r){I_(e,t,n,r)
return ge.error(r)}),(function(n){P_(e,t)
return ge.value(n)})):ge.error("No longer in system")}))}
var V_=function(e,t){var n=t.getRoot(e).getOr(e.element)
return Fu(n,t.invalidClass)}
var j_=Object.freeze({__proto__:null,markValid:P_,markInvalid:I_,query:H_,run:F_,isInvalid:V_})
var U_=function(e,t){return e.validator.map((function(n){return ha([wa(n.onEvent,(function(n){F_(n,e,t).get(w)}))].concat(n.validateOnLoad?[Da((function(n){F_(n,e,t).get(g)}))]:[]))})).getOr({})}
var W_=Object.freeze({__proto__:null,events:U_})
var q_=[yn("invalidClass"),In("getRoot",R.none),Bn("notify",[In("aria","alert"),In("getContainer",R.none),In("validHtml",""),Ps("onValid"),Ps("onInvalid"),Ps("onValidate")]),Bn("validator",[yn("validate"),In("onEvent","input"),In("validateOnLoad",true)])]
var $_=Vl({fields:q_,name:"invalidating",active:W_,apis:j_,extra:{validation:function(e){return function(t){var n=Xm.getValue(t)
return R_.pure(e(n))}}}})
var G_=function(e,t,n,r){return n.getOrCreate(e,t,r)}
var X_=Object.freeze({__proto__:null,getCoupled:G_})
var K_=[wn("others",en(ge.value,ln()))]
var Z_=function(){var e={}
var t=function(t,n,r){var o=_e(n.others)
if(o)return He(e,r).getOrThunk((function(){var o=He(n.others,r).getOrDie("No information found for coupled component: "+r)
var a=o(t)
var i=t.getSystem().build(a)
e[r]=i
return i}))
throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}
var n=y({})
return ou({readState:n,getOrCreate:t})}
var Y_=Object.freeze({__proto__:null,init:Z_})
var J_=Vl({fields:K_,name:"coupling",apis:X_,state:Y_})
var Q_=y("sink")
var eL=y(Lg({name:Q_(),overrides:y({dom:{tag:"div"},behaviours:Hl([Md.config({useFixed:O})]),events:ha([Ea(Do()),Ea(So()),Ea(Ro())])})}))
var tL;(function(e){e[e["HighlightFirst"]=0]="HighlightFirst"
e[e["HighlightNone"]=1]="HighlightNone"})(tL||(tL={}))
var nL=function(e,t){var n=e.getHotspot(t).getOr(t)
var r="hotspot"
var o=e.getAnchorOverrides()
return e.layouts.fold((function(){return{anchor:r,hotspot:n,overrides:o}}),(function(e){return{anchor:r,hotspot:n,overrides:o,layouts:e}}))}
var rL=function(e,t,n){var r=e.fetch
return r(n).map(t)}
var oL=function(e,t,n,r,o,a,i){var u=rL(e,t,r)
var c=sL(r,e)
return u.map((function(e){return e.bind((function(e){return R.from(Rw.sketch(E(E({},a.menu()),{uid:qi(""),data:e,highlightImmediately:i===tL.HighlightFirst,onOpenMenu:function(e,t){var r=c().getOrDie()
Md.position(r,n,t)
vm.decloak(o)},onOpenSubmenu:function(e,t,n){var r=c().getOrDie()
Md.position(r,{anchor:"submenu",item:t},n)
vm.decloak(o)},onRepositionMenu:function(e,t,r){var o=c().getOrDie()
Md.position(o,n,t)
q(r,(function(e){Md.position(o,{anchor:"submenu",item:e.triggeringItem},e.triggeredMenu)}))},onEscape:function(){My.focus(r)
vm.close(o)
return R.some(true)}})))}))}))}
var aL=function(e,t,n,r,o,a,i){var u=nL(e,n)
var c=oL(e,t,u,n,r,o,i)
return c.map((function(e){e.fold((function(){vm.isOpen(r)&&vm.close(r)}),(function(e){vm.cloak(r)
vm.open(r,e)
a(r)}))
return r}))}
var iL=function(e,t,n,r,o,a,i){vm.close(r)
return R_.pure(r)}
var uL=function(e,t,n,r,o,a){var i=J_.getCoupled(n,"sandbox")
var u=vm.isOpen(i)
var c=u?iL:aL
return c(e,t,n,i,r,o,a)}
var cL=function(e,t,n){var r=bh.getCurrent(t).getOr(t)
var o=Rc(e.element)
n?Ku(r.element,"min-width",o+"px"):Nc(r.element,o)}
var sL=function(e,t){return e.getSystem().getByUid(t.uid+"-"+Q_()).map((function(e){return function(){return ge.value(e)}})).getOrThunk((function(){return t.lazySink.fold((function(){return function(){return ge.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(t){return function(){return t(e)}}))}))}
var lL=function(e){vm.getState(e).each((function(e){Rw.repositionMenus(e)}))}
var fL=function(e,t,n){var r=hs()
var o=function(o,a){var i=nL(e,t)
r.link(t.element)
e.matchWidth&&cL(i.hotspot,a,e.useMinWidth)
e.onOpen(i,o,a)
void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,a)}
var a=function(e,o){r.unlink(t.element)
void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)}
var i=sL(t,e)
return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Jm.augment(e.sandboxBehaviours,[Xm.config({store:{mode:"memory",initialValue:t}}),vm.config({onOpen:o,onClose:a,isPartOf:function(e,n,r){return bs(n,r)||bs(t,r)},getAttachPoint:function(){return i().getOrDie()}}),bh.config({find:function(e){return vm.getState(e).bind((function(e){return bh.getCurrent(e)}))}}),ql.config({channels:E(E({},pm({isExtraPart:k})),ym({doReposition:lL}))})])}}
var vL=function(e){var t=J_.getCoupled(e,"sandbox")
lL(t)}
var dL=function(){return[In("sandboxClasses",[]),Jm.field("sandboxBehaviours",[bh,ql,vm,Xm])]}
var mL=y([yn("dom"),yn("fetch"),Ps("onOpen"),Is("onExecute"),In("getHotspot",R.some),In("getAnchorOverrides",y({})),jf(),Km("dropdownBehaviours",[Yy,J_,fy,My]),yn("toggleClass"),In("eventOrder",{}),Dn("lazySink"),In("matchWidth",false),In("useMinWidth",false),Dn("role")].concat(dL()))
var gL=y([_g({schema:[Rs()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),eL()])
var hL=function(e,t,n,r){var o
var a=function(t){return He(e.dom,"attributes").bind((function(e){return He(e,t)}))}
var i=function(e){vm.getState(e).each((function(e){Rw.highlightPrimary(e)}))}
var u=function(t){var n=i
uL(e,(function(e){return e}),t,r,n,tL.HighlightFirst).get(g)}
var c={expand:function(t){Yy.isOn(t)||uL(e,(function(e){return e}),t,r,g,tL.HighlightNone).get(g)},open:function(t){Yy.isOn(t)||uL(e,(function(e){return e}),t,r,g,tL.HighlightFirst).get(g)},isOpen:Yy.isOn,close:function(t){Yy.isOn(t)&&uL(e,(function(e){return e}),t,r,g,tL.HighlightFirst).get(g)},repositionMenus:function(e){Yy.isOn(e)&&vL(e)}}
var s=function(e,t){va(e)
return R.some(true)}
return{uid:e.uid,dom:e.dom,components:t,behaviours:Ym(e.dropdownBehaviours,[Yy.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),J_.config({others:{sandbox:function(t){return fL(e,t,{onOpen:function(){return Yy.on(t)},onClose:function(){return Yy.off(t)}})}}}),fy.config({mode:"special",onSpace:s,onEnter:s,onDown:function(e,t){if(pL.isOpen(e)){var n=J_.getCoupled(e,"sandbox")
i(n)}else pL.open(e)
return R.some(true)},onEscape:function(e,t){if(pL.isOpen(e)){pL.close(e)
return R.some(true)}return R.none()}}),My.config({})]),events:Qy(R.some(u)),eventOrder:E(E({},e.eventOrder),(o={},o[Uo()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:c,domModification:{attributes:E(E({"aria-haspopup":"true"},e.role.fold((function(){return{}}),(function(e){return{role:e}}))),"button"===e.dom.tag?{type:a("type").getOr("button")}:{})}}}
var pL=uh({name:"Dropdown",configFields:mL(),partFields:gL(),factory:hL,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}})
var bL=function(){return su({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}
var yL=function(){return ha([pa(Bo(),O)])}
var wL=Object.freeze({__proto__:null,events:yL,exhibit:bL})
var xL=Vl({fields:[],name:"unselecting",active:wL})
var CL=function(e,t){return pL.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Hl([Xk.button(t.providers.isDisabled),Uk(),xL.config({}),e_.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return R_.nu((function(t){return e.fetch(t)})).map((function(r){return R.from(cE(Xe(AT(Pi("menu-value"),r,(function(t){e.onItemAction(n,t)}),e.columns,e.presets,uC.CLOSE_ON_EXECUTE,k,t.providers),{movement:NT(e.columns,e.presets)})))}))},parts:{menu:zC(false,1,e.presets)}})}
var SL=Pi("color-input-change")
var kL=Pi("color-swatch-change")
var OL=Pi("color-picker-cancel")
var TL=function(e,t,n){var r=ZE.parts.field({factory:S_,inputClasses:["tox-textfield"],onSetValue:function(e){return $_.run(e).get(g)},inputBehaviours:Hl([KS.config({disabled:t.providers.isDisabled}),Uk(),e_.config({}),$_.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return qa(e.element)},notify:{onValid:function(e){var t=Xm.getValue(e)
fa(e,SL,{color:t})}},validator:{validateOnLoad:false,validate:function(e){var t=Xm.getValue(e)
if(0===t.length)return R_.pure(ge.value(true))
var n=tr.fromTag("span")
Ku(n,"background-color",t)
var r=ec(n,"background-color").fold((function(){return ge.error("blah")}),(function(e){return ge.value(t)}))
return R_.pure(r)}}})]),selectOnFocus:false})
var o=e.label.map((function(e){return u_(e,t.providers)}))
var a=function(e,t){fa(e,kL,{value:t})}
var i=function(e,t){u.getOpt(e).each((function(e){"custom"===t?n.colorPicker((function(t){t.fold((function(){return la(e,OL)}),(function(t){a(e,t)
gT(t)}))}),"#ffffff"):a(e,"remove"===t?"":t)}))}
var u=Jw(CL({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[gl,ml,yl]},onLtr:function(){return[ml,gl,yl]}},components:[],fetch:OT(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:i},t))
return ZE.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:Hl([Sy("form-field-events",[wa(SL,(function(t,n){u.getOpt(t).each((function(e){Ku(e.element,"background-color",n.event.color)}))
fa(t,c_,{name:e.name})})),wa(kL,(function(e,t){ZE.getField(e).each((function(n){Xm.setValue(n,t.event.value)
bh.getCurrent(e).each(My.focus)}))})),wa(OL,(function(e,t){ZE.getField(e).each((function(t){bh.getCurrent(e).each(My.focus)}))}))])])})}
var EL=Lg({schema:[yn("dom")],name:"label"})
var _L=function(e){return Lg({name:e+"-edge",overrides:function(t){var n=t.model.manager.edgeActions[e]
return n.fold((function(){return{}}),(function(e){return{events:ha([xa(yo(),(function(t,n,r){return e(t,r)}),[t]),xa(So(),(function(t,n,r){return e(t,r)}),[t]),xa(ko(),(function(t,n,r){r.mouseIsDown.get()&&e(t,r)}),[t])])}}))}})}
var LL=_L("top-left")
var DL=_L("top")
var AL=_L("top-right")
var ML=_L("right")
var NL=_L("bottom-right")
var RL=_L("bottom")
var zL=_L("bottom-left")
var BL=_L("left")
var PL=Eg({name:"thumb",defaults:y({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:ha([Oa(yo(),e,"spectrum"),Oa(wo(),e,"spectrum"),Oa(xo(),e,"spectrum"),Oa(So(),e,"spectrum"),Oa(ko(),e,"spectrum"),Oa(To(),e,"spectrum")])}}})
var IL=Eg({schema:[Xn("mouseIsDown",(function(){return Kn(false)}))],name:"spectrum",overrides:function(e){var t=e.model
var n=t.manager
var r=function(t,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(t,e,r)}))}
return{behaviours:Hl([fy.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),My.config({})]),events:ha([wa(yo(),r),wa(wo(),r),wa(So(),r),wa(ko(),(function(t,n){e.mouseIsDown.get()&&r(t,n)}))])}}})
var HL=[EL,BL,ML,DL,RL,LL,AL,zL,NL,PL,IL]
var FL="slider.change.value"
var VL=y(FL)
var jL=function(e){return-1!==e.type.indexOf("touch")}
var UL=function(e){var t=e.event.raw
if(jL(t)){var n=t
return void 0!==n.touches&&1===n.touches.length?R.some(n.touches[0]).map((function(e){return Ec(e.clientX,e.clientY)})):R.none()}var r=t
return void 0!==r.clientX?R.some(r).map((function(e){return Ec(e.clientX,e.clientY)})):R.none()}
var WL="top",qL="right",$L="bottom",GL="left"
var XL=function(e){return e.model.minX}
var KL=function(e){return e.model.minY}
var ZL=function(e){return e.model.minX-1}
var YL=function(e){return e.model.minY-1}
var JL=function(e){return e.model.maxX}
var QL=function(e){return e.model.maxY}
var eD=function(e){return e.model.maxX+1}
var tD=function(e){return e.model.maxY+1}
var nD=function(e,t,n){return t(e)-n(e)}
var rD=function(e){return nD(e,JL,XL)}
var oD=function(e){return nD(e,QL,KL)}
var aD=function(e){return rD(e)/2}
var iD=function(e){return oD(e)/2}
var uD=function(e){return e.stepSize}
var cD=function(e){return e.snapToGrid}
var sD=function(e){return e.snapStart}
var lD=function(e){return e.rounded}
var fD=function(e,t){return void 0!==e[t+"-edge"]}
var vD=function(e){return fD(e,GL)}
var dD=function(e){return fD(e,qL)}
var mD=function(e){return fD(e,WL)}
var gD=function(e){return fD(e,$L)}
var hD=function(e){return e.model.value.get()}
var pD=function(e){return{x:e}}
var bD=function(e){return{y:e}}
var yD=function(e,t){return{x:e,y:t}}
var wD=function(e,t){fa(e,VL(),{value:t})}
var xD=function(e,t){wD(e,yD(ZL(t),YL(t)))}
var CD=function(e,t){wD(e,bD(YL(t)))}
var SD=function(e,t){wD(e,yD(aD(t),YL(t)))}
var kD=function(e,t){wD(e,yD(eD(t),YL(t)))}
var OD=function(e,t){wD(e,pD(eD(t)))}
var TD=function(e,t){wD(e,yD(eD(t),iD(t)))}
var ED=function(e,t){wD(e,yD(eD(t),tD(t)))}
var _D=function(e,t){wD(e,bD(tD(t)))}
var LD=function(e,t){wD(e,yD(aD(t),tD(t)))}
var DD=function(e,t){wD(e,yD(ZL(t),tD(t)))}
var AD=function(e,t){wD(e,pD(ZL(t)))}
var MD=function(e,t){wD(e,yD(ZL(t),iD(t)))}
var ND=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)}
var RD=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)}
var zD=function(e,t,n){return Math.max(t,Math.min(n,e))}
var BD=function(e,t,n,r,o){return o.fold((function(){var o=e-t
var a=Math.round(o/r)*r
return zD(t+a,t-1,n+1)}),(function(t){var o=(e-t)%r
var a=Math.round(o/r)
var i=Math.floor((e-t)/r)
var u=Math.floor((n-t)/r)
var c=Math.min(u,i+a)
var s=t+c*r
return Math.max(t,s)}))}
var PD=function(e,t,n){return Math.min(n,Math.max(e,t))-t}
var ID=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,a=e.step,i=e.snap,u=e.snapStart,c=e.rounded,s=e.hasMinEdge,l=e.hasMaxEdge,f=e.minBound,v=e.maxBound,d=e.screenRange
var m=s?t-1:t
var g=l?n+1:n
if(o<f)return m
if(o>v)return g
var h=PD(o,f,v)
var p=zD(h/d*r+t,m,g)
return i&&p>=t&&p<=n?BD(p,t,n,a,u):c?Math.round(p):p}
var HD=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,a=e.hasMinEdge,i=e.hasMaxEdge,u=e.maxBound,c=e.maxOffset,s=e.centerMinEdge,l=e.centerMaxEdge
return o<t?a?0:s:o>n?i?u:l:(o-t)/r*c}
var FD="top",VD="right",jD="bottom",UD="left",WD="width",qD="height"
var $D=function(e){return e.element.dom.getBoundingClientRect()}
var GD=function(e,t){return e[t]}
var XD=function(e){var t=$D(e)
return GD(t,UD)}
var KD=function(e){var t=$D(e)
return GD(t,VD)}
var ZD=function(e){var t=$D(e)
return GD(t,FD)}
var YD=function(e){var t=$D(e)
return GD(t,jD)}
var JD=function(e){var t=$D(e)
return GD(t,WD)}
var QD=function(e){var t=$D(e)
return GD(t,qD)}
var eA=function(e,t,n){return(e+t)/2-n}
var tA=function(e,t){var n=$D(e)
var r=$D(t)
var o=GD(n,UD)
var a=GD(n,VD)
var i=GD(r,UD)
return eA(o,a,i)}
var nA=function(e,t){var n=$D(e)
var r=$D(t)
var o=GD(n,FD)
var a=GD(n,jD)
var i=GD(r,FD)
return eA(o,a,i)}
var rA=function(e,t){fa(e,VL(),{value:t})}
var oA=function(e){return{x:e}}
var aA=function(e,t,n){var r={min:XL(t),max:JL(t),range:rD(t),value:n,step:uD(t),snap:cD(t),snapStart:sD(t),rounded:lD(t),hasMinEdge:vD(t),hasMaxEdge:dD(t),minBound:XD(e),maxBound:KD(e),screenRange:JD(e)}
return ID(r)}
var iA=function(e,t,n){var r=aA(e,t,n)
var o=oA(r)
rA(e,o)
return r}
var uA=function(e,t){var n=XL(t)
rA(e,oA(n))}
var cA=function(e,t){var n=JL(t)
rA(e,oA(n))}
var sA=function(e,t,n){var r=e>0?RD:ND
var o=r(hD(n).x,XL(n),JL(n),uD(n))
rA(t,oA(o))
return R.some(o)}
var lA=function(e){return function(t,n){return sA(e,t,n).map(O)}}
var fA=function(e){var t=UL(e)
return t.map((function(e){return e.left}))}
var vA=function(e,t,n,r,o){var a=0
var i=JD(e)
var u=r.bind((function(t){return R.some(tA(t,e))})).getOr(a)
var c=o.bind((function(t){return R.some(tA(t,e))})).getOr(i)
var s={min:XL(t),max:JL(t),range:rD(t),value:n,hasMinEdge:vD(t),hasMaxEdge:dD(t),minBound:XD(e),minOffset:a,maxBound:KD(e),maxOffset:i,centerMinEdge:u,centerMaxEdge:c}
return HD(s)}
var dA=function(e,t,n,r,o,a){var i=vA(t,a,n,r,o)
return XD(t)-XD(e)+i}
var mA=function(e,t,n,r){var o=hD(n)
var a=dA(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n)
var i=Rc(t.element)/2
Ku(t.element,"left",a-i+"px")}
var gA=lA(-1)
var hA=lA(1)
var pA=R.none
var bA=R.none
var yA={"top-left":R.none(),top:R.none(),"top-right":R.none(),right:R.some(OD),"bottom-right":R.none(),bottom:R.none(),"bottom-left":R.none(),left:R.some(AD)}
var wA=Object.freeze({__proto__:null,setValueFrom:iA,setToMin:uA,setToMax:cA,findValueOfOffset:aA,getValueFromEvent:fA,findPositionOfValue:dA,setPositionFromValue:mA,onLeft:gA,onRight:hA,onUp:pA,onDown:bA,edgeActions:yA})
var xA=function(e,t){fa(e,VL(),{value:t})}
var CA=function(e){return{y:e}}
var SA=function(e,t,n){var r={min:KL(t),max:QL(t),range:oD(t),value:n,step:uD(t),snap:cD(t),snapStart:sD(t),rounded:lD(t),hasMinEdge:mD(t),hasMaxEdge:gD(t),minBound:ZD(e),maxBound:YD(e),screenRange:QD(e)}
return ID(r)}
var kA=function(e,t,n){var r=SA(e,t,n)
var o=CA(r)
xA(e,o)
return r}
var OA=function(e,t){var n=KL(t)
xA(e,CA(n))}
var TA=function(e,t){var n=QL(t)
xA(e,CA(n))}
var EA=function(e,t,n){var r=e>0?RD:ND
var o=r(hD(n).y,KL(n),QL(n),uD(n))
xA(t,CA(o))
return R.some(o)}
var _A=function(e){return function(t,n){return EA(e,t,n).map(O)}}
var LA=function(e){var t=UL(e)
return t.map((function(e){return e.top}))}
var DA=function(e,t,n,r,o){var a=0
var i=QD(e)
var u=r.bind((function(t){return R.some(nA(t,e))})).getOr(a)
var c=o.bind((function(t){return R.some(nA(t,e))})).getOr(i)
var s={min:KL(t),max:QL(t),range:oD(t),value:n,hasMinEdge:mD(t),hasMaxEdge:gD(t),minBound:ZD(e),minOffset:a,maxBound:YD(e),maxOffset:i,centerMinEdge:u,centerMaxEdge:c}
return HD(s)}
var AA=function(e,t,n,r,o,a){var i=DA(t,a,n,r,o)
return ZD(t)-ZD(e)+i}
var MA=function(e,t,n,r){var o=hD(n)
var a=AA(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n)
var i=Sc(t.element)/2
Ku(t.element,"top",a-i+"px")}
var NA=R.none
var RA=R.none
var zA=_A(-1)
var BA=_A(1)
var PA={"top-left":R.none(),top:R.some(CD),"top-right":R.none(),right:R.none(),"bottom-right":R.none(),bottom:R.some(_D),"bottom-left":R.none(),left:R.none()}
var IA=Object.freeze({__proto__:null,setValueFrom:kA,setToMin:OA,setToMax:TA,findValueOfOffset:SA,getValueFromEvent:LA,findPositionOfValue:AA,setPositionFromValue:MA,onLeft:NA,onRight:RA,onUp:zA,onDown:BA,edgeActions:PA})
var HA=function(e,t){fa(e,VL(),{value:t})}
var FA=function(e,t){return{x:e,y:t}}
var VA=function(e,t,n){var r=aA(e,t,n.left)
var o=SA(e,t,n.top)
var a=FA(r,o)
HA(e,a)
return a}
var jA=function(e,t,n,r){var o=e>0?RD:ND
var a=t?hD(r).x:o(hD(r).x,XL(r),JL(r),uD(r))
var i=t?o(hD(r).y,KL(r),QL(r),uD(r)):hD(r).y
HA(n,FA(a,i))
return R.some(a)}
var UA=function(e,t){return function(n,r){return jA(e,t,n,r).map(O)}}
var WA=function(e,t){var n=XL(t)
var r=KL(t)
HA(e,FA(n,r))}
var qA=function(e,t){var n=JL(t)
var r=QL(t)
HA(e,FA(n,r))}
var $A=function(e){return UL(e)}
var GA=function(e,t,n,r){var o=hD(n)
var a=dA(e,r.getSpectrum(e),o.x,r.getLeftEdge(e),r.getRightEdge(e),n)
var i=AA(e,r.getSpectrum(e),o.y,r.getTopEdge(e),r.getBottomEdge(e),n)
var u=Rc(t.element)/2
var c=Sc(t.element)/2
Ku(t.element,"left",a-u+"px")
Ku(t.element,"top",i-c+"px")}
var XA=UA(-1,false)
var KA=UA(1,false)
var ZA=UA(-1,true)
var YA=UA(1,true)
var JA={"top-left":R.some(xD),top:R.some(SD),"top-right":R.some(kD),right:R.some(TD),"bottom-right":R.some(ED),bottom:R.some(LD),"bottom-left":R.some(DD),left:R.some(MD)}
var QA=Object.freeze({__proto__:null,setValueFrom:VA,setToMin:WA,setToMax:qA,getValueFromEvent:$A,setPositionFromValue:GA,onLeft:XA,onRight:KA,onUp:ZA,onDown:YA,edgeActions:JA})
var eM=[In("stepSize",1),In("onChange",g),In("onChoose",g),In("onInit",g),In("onDragStart",g),In("onDragEnd",g),In("snapToGrid",false),In("rounded",true),Dn("snapStart"),wn("model",cn("mode",{x:[In("minX",0),In("maxX",100),Xn("value",(function(e){return Kn(e.mode.minX)})),yn("getInitialValue"),Vs("manager",wA)],y:[In("minY",0),In("maxY",100),Xn("value",(function(e){return Kn(e.mode.minY)})),yn("getInitialValue"),Vs("manager",IA)],xy:[In("minX",0),In("maxX",100),In("minY",0),In("maxY",100),Xn("value",(function(e){return Kn({x:e.mode.minX,y:e.mode.minY})})),yn("getInitialValue"),Vs("manager",QA)]})),Km("sliderBehaviours",[fy,Xm]),Xn("mouseIsDown",(function(){return Kn(false)}))]
var tM=function(e,t,n,r){var o
var a=function(t){return Ug(t,e,"thumb")}
var i=function(t){return Ug(t,e,"spectrum")}
var u=function(t){return jg(t,e,"left-edge")}
var c=function(t){return jg(t,e,"right-edge")}
var s=function(t){return jg(t,e,"top-edge")}
var l=function(t){return jg(t,e,"bottom-edge")}
var f=e.model
var v=f.manager
var d=function(t,n){v.setPositionFromValue(t,n,e,{getLeftEdge:u,getRightEdge:c,getTopEdge:s,getBottomEdge:l,getSpectrum:i})}
var m=function(e,t){f.value.set(t)
var n=a(e)
d(e,n)}
var g=function(t,n){m(t,n)
var r=a(t)
e.onChange(t,r,n)
return R.some(true)}
var h=function(t){v.setToMin(t,e)}
var p=function(t){v.setToMax(t,e)}
var b=function(t){var n=function(){jg(t,e,"thumb").each((function(n){var r=f.value.get()
e.onChoose(t,n,r)}))}
var r=e.mouseIsDown.get()
e.mouseIsDown.set(false)
r&&n()}
var y=function(t,n){n.stop()
e.mouseIsDown.set(true)
e.onDragStart(t,a(t))}
var w=function(t,n){n.stop()
e.onDragEnd(t,a(t))
b(t)}
return{uid:e.uid,dom:e.dom,components:t,behaviours:Ym(e.sliderBehaviours,[fy.config({mode:"special",focusIn:function(t){return jg(t,e,"spectrum").map(fy.focusIn).map(O)}}),Xm.config({store:{mode:"manual",getValue:function(e){return f.value.get()}}}),ql.config({channels:(o={},o[gm()]={onReceive:b},o)})]),events:ha([wa(VL(),(function(e,t){g(e,t.event.value)})),Da((function(t,n){var r=f.getInitialValue()
f.value.set(r)
var o=a(t)
d(t,o)
var u=i(t)
e.onInit(t,o,u,f.value.get())})),wa(yo(),y),wa(xo(),w),wa(So(),y),wa(To(),w)]),apis:{resetToMin:h,resetToMax:p,setValue:m,refresh:d},domModification:{styles:{position:"relative"}}}}
var nM=uh({name:"Slider",configFields:eM,partFields:HL,factory:tM,apis:{setValue:function(e,t,n){e.setValue(t,n)},resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}})
var rM=function(e,t,n){return{hue:e,saturation:t,value:n}}
var oM=function(e){var t=0
var n=0
var r=0
var o=e.red/255
var a=e.green/255
var i=e.blue/255
var u=Math.min(o,Math.min(a,i))
var c=Math.max(o,Math.max(a,i))
if(u===c){r=u
return rM(0,0,100*r)}var s=o===u?a-i:i===u?o-a:i-o
t=o===u?3:i===u?1:5
t=60*(t-s/(c-u))
n=(c-u)/c
r=c
return rM(Math.round(t),Math.round(100*n),Math.round(100*r))}
var aM=function(e){return oM($O(e))}
var iM=function(e){return PO(qO(e))}
var uM=Pi("rgb-hex-update")
var cM=Pi("slider-update")
var sM=Pi("palette-update")
var lM=function(e,t){var n=nM.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}})
var r=nM.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}})
return nM.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:false,model:{mode:"y",getInitialValue:y({y:0})},components:[n,r],sliderBehaviours:Hl([My.config({})]),onChange:function(e,t,n){fa(e,cM,{value:n})}})}
var fM="form"
var vM=[Km("formBehaviours",[Xm])]
var dM=function(e){return"<alloy.field."+e+">"}
var mM=function(e){var t=function(){var e=[]
var t=function(t,n){e.push(t)
return Pg(fM,dM(t),n)}
return{field:t,record:function(){return e}}}()
var n=e(t)
var r=t.record()
var o=W(r,(function(e){return Eg({name:e,pname:dM(e)})}))
return eh(fM,vM,o,hM,n)}
var gM=function(e,t){return e.fold((function(){return ge.error(t)}),ge.value)}
var hM=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:Ym(e.formBehaviours,[Xm.config({store:{mode:"manual",getValue:function(t){var n=qg(t,e)
return Ae(n,(function(e,t){return e().bind((function(e){var n=bh.getCurrent(e)
return gM(n,new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+Mi(e.element)))})).map(Xm.getValue)}))},setValue:function(t,n){De(n,(function(n,r){jg(t,e,r).each((function(e){bh.getCurrent(e).each((function(e){Xm.setValue(e,n)}))}))}))}}})]),apis:{getField:function(t,n){return jg(t,e,n).bind(bh.getCurrent)}}}}
var pM={getField:nu((function(e,t,n){return e.getField(t,n)})),sketch:mM}
var bM=Pi("valid-input")
var yM=Pi("invalid-input")
var wM=Pi("validating-input")
var xM="colorcustom.rgb."
var CM=function(e,t,n,r){var o=function(n,r){return $_.config({invalidClass:t("invalid"),notify:{onValidate:function(e){fa(e,wM,{type:n})},onValid:function(e){fa(e,bM,{type:n,value:Xm.getValue(e)})},onInvalid:function(e){fa(e,yM,{type:n,value:Xm.getValue(e)})}},validator:{validate:function(t){var n=Xm.getValue(t)
var o=r(n)?ge.value(true):ge.error(e("aria.input.invalid"))
return R_.pure(o)},validateOnLoad:false}})}
var a=function(n,r,a,i,u){var c=e(xM+"range")
var s=ZE.parts.label({dom:{tag:"label",innerHtml:a,attributes:{"aria-label":i}}})
var l=ZE.parts.field({data:u,factory:S_,inputAttributes:E({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:Hl([o(r,n),e_.config({})]),onSetValue:function(e){if($_.isInvalid(e)){var t=$_.run(e)
t.get(g)}}})
var f=[s,l]
var v="hex"!==r?[ZE.parts["aria-descriptor"]({text:c})]:[]
var d=f.concat(v)
return{dom:{tag:"div",attributes:{role:"presentation"}},components:d}}
var i=function(e,t){var n=PO(t)
pM.getField(e,"hex").each((function(t){My.isFocused(t)||Xm.setValue(e,{hex:n.value})}))
return n}
var u=function(e,t){var n=t.red
var r=t.green
var o=t.blue
Xm.setValue(e,{red:n,green:r,blue:o})}
var c=Jw({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}})
var s=function(e,t){c.getOpt(e).each((function(e){Ku(e.element,"background-color","#"+t.value)}))}
var l=function(){var o={red:Kn(R.some(255)),green:Kn(R.some(255)),blue:Kn(R.some(255)),hex:Kn(R.some("ffffff"))}
var l=function(e,t){var n=$O(t)
u(e,n)
m(n)}
var f=function(e){return o[e].get()}
var v=function(e,t){o[e].set(t)}
var d=function(){return f("red").bind((function(e){return f("green").bind((function(t){return f("blue").map((function(n){return UO(e,t,n,1)}))}))}))}
var m=function(e){var t=e.red
var n=e.green
var r=e.blue
v("red",R.some(t))
v("green",R.some(n))
v("blue",R.some(r))}
var g=function(e,t){var n=t.event
"hex"!==n.type?v(n.type,R.none()):r(e)}
var h=function(e,t){n(e)
var r=DO(t)
v("hex",R.some(t))
var o=$O(r)
u(e,o)
m(o)
fa(e,uM,{hex:r})
s(e,r)}
var p=function(e,t,n){var r=parseInt(n,10)
v(t,R.some(r))
d().each((function(t){var n=i(e,t)
fa(e,uM,{hex:n})
s(e,n)}))}
var b=function(e){return"hex"===e.type}
var y=function(e,t){var n=t.event
b(n)?h(e,n.value):p(e,n.type,n.value)}
var w=function(t){return{label:e(xM+t+".label"),description:e(xM+t+".description")}}
var x=w("red")
var C=w("green")
var S=w("blue")
var k=w("hex")
return Xe(pM.sketch((function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",ZE.sketch(a(WO,"red",x.label,x.description,255))),n.field("green",ZE.sketch(a(WO,"green",C.label,C.description,255))),n.field("blue",ZE.sketch(a(WO,"blue",S.label,S.description,255))),n.field("hex",ZE.sketch(a(NO,"hex",k.label,k.description,"ffffff"))),c.asSpec()],formBehaviours:Hl([$_.config({invalidClass:t("form-invalid")}),Sy("rgb-form-events",[wa(bM,y),wa(yM,g),wa(wM,g)])])}})),{apis:{updateHex:function(e,t){Xm.setValue(e,{hex:t.value})
l(e,t)
s(e,t)}}})}
var f=ih({factory:l,name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})
return f}
var SM=function(e,t){var n=nM.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}})
var r=nM.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}})
var o=function(e,t){var n=e.width,r=e.height
var o=e.getContext("2d")
if(null===o)return
o.fillStyle=t
o.fillRect(0,0,n,r)
var a=o.createLinearGradient(0,0,n,0)
a.addColorStop(0,"rgba(255,255,255,1)")
a.addColorStop(1,"rgba(255,255,255,0)")
o.fillStyle=a
o.fillRect(0,0,n,r)
var i=o.createLinearGradient(0,0,0,r)
i.addColorStop(0,"rgba(0,0,0,0)")
i.addColorStop(1,"rgba(0,0,0,1)")
o.fillStyle=i
o.fillRect(0,0,n,r)}
var a=function(e,t){var n=e.components()[0].element.dom
var r=rM(t,100,100)
var a=qO(r)
o(n,KO(a))}
var i=function(e,t){var n=oM($O(t))
nM.setValue(e,{x:n.saturation,y:100-n.value})}
var u=function(e){var a=y({x:0,y:0})
var i=function(e,t,n){fa(e,sM,{value:n})}
var u=function(e,t,n,r){o(n.element.dom,KO(ZO))}
var c=Hl([bh.config({find:R.some}),My.config({})])
return nM.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:false,components:[n,r],onChange:i,onInit:u,sliderBehaviours:c})}
var c=ih({factory:u,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(e,t,n){a(t,n)},setThumb:function(e,t,n){i(t,n)}},extraApis:{}})
return c}
var kM=function(e,t){var n=function(n){var r=CM(e,t,n.onValidHex,n.onInvalidHex)
var o=SM(e,t)
var a=function(e){return(100-e)/100*360}
var i=function(e){return 100-e/360*100}
var u={paletteRgba:Kn(ZO),paletteHue:Kn(0)}
var c=Jw(lM(e,t))
var s=Jw(o.sketch({}))
var l=Jw(r.sketch({}))
var f=function(e,t,n){s.getOpt(e).each((function(e){o.setHue(e,n)}))}
var v=function(e,t){l.getOpt(e).each((function(e){r.updateHex(e,t)}))}
var d=function(e,t,n){c.getOpt(e).each((function(e){nM.setValue(e,{y:i(n)})}))}
var m=function(e,t){s.getOpt(e).each((function(e){o.setThumb(e,t)}))}
var g=function(e,t){var n=$O(e)
u.paletteRgba.set(n)
u.paletteHue.set(t)}
var h=function(e,t,n,r){g(t,n)
q(r,(function(r){r(e,t,n)}))}
var p=function(){var e=[v]
return function(t,n){var r=n.event.value
var o=u.paletteHue.get()
var a=rM(o,r.x,100-r.y)
var i=iM(a)
h(t,i,o,e)}}
var b=function(){var e=[f,v]
return function(t,n){var r=a(n.event.value.y)
var o=u.paletteRgba.get()
var i=oM(o)
var c=rM(r,i.saturation,i.value)
var s=iM(c)
h(t,s,r,e)}}
var y=function(){var e=[f,d,m]
return function(t,n){var r=n.event.hex
var o=aM(r)
h(t,r,o.hue,e)}}
return{uid:n.uid,dom:n.dom,components:[s.asSpec(),c.asSpec(),l.asSpec()],behaviours:Hl([Sy("colour-picker-events",[wa(uM,y()),wa(sM,p()),wa(cM,b())]),bh.config({find:function(e){return l.getOpt(e)}}),fy.config({mode:"acyclic"})])}}
var r=ih({name:"ColourPicker",configFields:[yn("dom"),In("onValidHex",g),In("onInvalidHex",g)],factory:n})
return r}
var OM=function(){return bh.config({find:R.some})}
var TM=function(e){return bh.config({find:e.getOpt})}
var EM=function(e){return bh.config({find:function(t){return Za(t.element,e).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}})}
var _M={self:OM,memento:TM,childAt:EM}
var LM={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"}
var DM=function(e){return LM[e]}
var AM=function(e){return DM(e)}
var MM=function(e){var t=function(e){return"tox-"+e}
var n=kM(AM,t)
var r=function(e){fa(e,f_,{name:"hex-valid",value:true})}
var o=function(e){fa(e,f_,{name:"hex-valid",value:false})}
var a=Jw(n.sketch({dom:{tag:"div",classes:[t("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:o}))
return{dom:{tag:"div"},components:[a.asSpec()],behaviours:Hl([Xm.config({store:{mode:"manual",getValue:function(e){var t=a.get(e)
var n=bh.getCurrent(t)
var r=n.bind((function(e){var t=Xm.getValue(e)
return t.hex}))
return r.map((function(e){return"#"+e})).getOr("")},setValue:function(e,t){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/
var r=n.exec(t)
var o=a.get(e)
var i=bh.getCurrent(o)
i.fold((function(){console.log("Can not find form")}),(function(e){Xm.setValue(e,{hex:R.from(r[1]).getOr("")})
pM.getField(e,"hex").each((function(e){la(e,Mo())}))}))}}}),_M.self()])}}
var NM=tinymce.util.Tools.resolve("tinymce.Resource")
var RM=function(e){return Object.prototype.hasOwnProperty.call(e,"init")}
var zM=function(e){var t=Kn(R.none())
var n=Jw({dom:{tag:e.tag}})
var r=Kn(R.none())
return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Hl([Sy("custom-editor-events",[Da((function(o){n.getOpt(o).each((function(n){(RM(e)?e.init(n.element.dom):NM.load(e.scriptId,e.scriptUrl).then((function(t){return t(n.element.dom,e.settings)}))).then((function(e){r.get().each((function(t){e.setValue(t)}))
r.set(R.none())
t.set(R.some(e))}))}))}))]),Xm.config({store:{mode:"manual",getValue:function(){return t.get().fold((function(){return r.get().getOr("")}),(function(e){return e.getValue()}))},setValue:function(e,n){t.get().fold((function(){r.set(R.some(n))}),(function(e){return e.setValue(n)}))}}}),_M.self()]),components:[n.asSpec()]}}
var BM=tinymce.util.Tools.resolve("tinymce.util.Tools")
var PM=It([In("preprocess",w),In("postprocess",w)])
var IM=function(e,t){var n=on("RepresentingConfigs.memento processors",PM,t)
return Xm.config({store:{mode:"manual",getValue:function(t){var r=e.get(t)
var o=Xm.getValue(r)
return n.postprocess(o)},setValue:function(t,r){var o=n.preprocess(r)
var a=e.get(t)
Xm.setValue(a,o)}}})}
var HM=function(e,t,n){return Xm.config(Xe({store:{mode:"manual",getValue:t,setValue:n}},e.map((function(e){return{store:{initialValue:e}}})).getOr({})))}
var FM=function(e,t,n){return HM(e,(function(e){return t(e.element)}),(function(e,t){return n(e.element,t)}))}
var VM=function(e){return FM(e,ac,ic)}
var jM=function(e){return FM(e,yi,wi)}
var UM=function(e){return Xm.config({store:{mode:"memory",initialValue:e}})}
var WM={memento:IM,withElement:FM,withComp:HM,domValue:VM,domHtml:jM,memory:UM}
var qM="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"
var $M=function(e,t){var n=BM.explode(t.getSetting("images_file_types",qM,"string"))
var r=function(e){return V(n,(function(t){return gr(e.name.toLowerCase(),"."+t.toLowerCase())}))}
return X(le(e),r)}
var GM=function(e,t){var n=function(e,t){t.stop()}
var r=function(e){return function(t,n){q(e,(function(e){e(t,n)}))}}
var o=function(e,t){if(!KS.isDisabled(e)){var n=t.event.raw
i(e,n.dataTransfer.files)}}
var a=function(e,t){var n=t.event.raw.target
i(e,n.files)}
var i=function(n,r){Xm.setValue(n,$M(r,t))
fa(n,c_,{name:e.name})}
var u=Jw({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Hl([Sy("input-file-events",[Ea(Ro()),Ea(qo())])])})
var c=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Hl([WM.memory([]),_M.self(),KS.config({}),Yy.config({toggleClass:"dragenter",toggleOnExecute:false}),Sy("dropzone-events",[wa("dragenter",r([n,Yy.toggle])),wa("dragleave",r([n,Yy.toggle])),wa("dragover",n),wa("drop",r([n,o])),wa(No(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Yw.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(e){var t=u.get(e)
t.element.dom.click()},buttonBehaviours:Hl([e_.config({}),Xk.button(t.isDisabled),Uk()])})]}]}}
var s=e.label.map((function(e){return u_(e,t)}))
var l=ZE.parts.field({factory:{sketch:c}})
return n_(s,l,["tox-form__group--stretched"],[])}
var XM=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:W(e.items,t.interpreter)}}
var KM=Pi("alloy-fake-before-tabstop")
var ZM=Pi("alloy-fake-after-tabstop")
var YM=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Hl([My.config({ignore:true}),e_.config({})])}}
var JM=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[YM([KM]),e,YM([ZM])],behaviours:Hl([_M.childAt(1)])}}
var QM=function(e,t){fa(e,Do(),{raw:{which:9,shiftKey:t}})}
var eN=function(e,t){var n=t.element
Fu(n,KM)?QM(e,true):Fu(n,ZM)&&QM(e,false)}
var tN=function(e){return hE(e,["."+KM,"."+ZM].join(","),k)}
var nN=!(Gr().browser.isIE()||Gr().browser.isEdge())
var rN=function(e){var t=Kn("")
return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)Si(n.element,"srcdoc",r)
else{Si(n.element,"src","javascript:''")
var o=n.element.dom.contentWindow.document
o.open()
o.write(r)
o.close()}t.set(r)}}}
var oN=function(e,t){var n=nN&&e.sandboxed
var r=E(E({},e.label.map((function(e){return{title:e}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{})
var o=rN(n)
var a=e.label.map((function(e){return u_(e,t)}))
var i=function(e){return JM({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:Hl([e_.config({}),My.config({}),WM.withComp(R.none(),o.getValue,o.setValue)])})}
var u=ZE.parts.field({factory:{sketch:i}})
return n_(a,u,["tox-form__group--stretched"],[])}
var aN=function(e,t){return cN(document.createElement("canvas"),e,t)}
var iN=function(e){var t=aN(e.width,e.height)
var n=uN(t)
n.drawImage(e,0,0)
return t}
var uN=function(e){return e.getContext("2d")}
var cN=function(e,t,n){e.width=t
e.height=n
return e}
var sN=function(e){return e.naturalWidth||e.width}
var lN=function(e){return e.naturalHeight||e.height}
var fN=function(){var e=function(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof e)throw new TypeError("not a function")
this._state=null
this._value=null
this._deferreds=[]
l(e,r(i,this),r(u,this))}
var t=window
var n=e.immediateFn||"function"===typeof t.setImmediate&&t.setImmediate||function(e){return setTimeout(e,1)}
var r=function(e,t){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return e.apply(t,n)}}
var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}
function a(e){var t=this
if(null===this._state){this._deferreds.push(e)
return}n((function(){var n=t._state?e.onFulfilled:e.onRejected
if(null===n){(t._state?e.resolve:e.reject)(t._value)
return}var r
try{r=n(t._value)}catch(t){e.reject(t)
return}e.resolve(r)}))}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.")
if(e&&("object"===typeof e||"function"===typeof e)){var t=e.then
if("function"===typeof t){l(r(t,e),r(i,this),r(u,this))
return}}this._state=true
this._value=e
c.call(this)}catch(e){u.call(this,e)}}function u(e){this._state=false
this._value=e
c.call(this)}function c(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e]
a.call(this,n)}this._deferreds=[]}function s(e,t,n,r){this.onFulfilled="function"===typeof e?e:null
this.onRejected="function"===typeof t?t:null
this.resolve=n
this.reject=r}var l=function(e,t,n){var r=false
try{e((function(e){if(r)return
r=true
t(e)}),(function(e){if(r)return
r=true
n(e)}))}catch(e){if(r)return
r=true
n(e)}}
e.prototype.catch=function(e){return this.then(null,e)}
e.prototype.then=function(t,n){var r=this
return new e((function(e,o){a.call(r,new s(t,n,e,o))}))}
e.all=function(){var t=[]
for(var n=0;n<arguments.length;n++)t[n]=arguments[n]
var r=Array.prototype.slice.call(1===t.length&&o(t[0])?t[0]:t)
return new e((function(e,t){if(0===r.length)return e([])
var n=r.length
var o=function(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(e){o(a,e)}),t)
return}}r[a]=i
0===--n&&e(r)}catch(e){t(e)}}
for(var a=0;a<r.length;a++)o(a,r[a])}))}
e.resolve=function(t){if(t&&"object"===typeof t&&t.constructor===e)return t
return new e((function(e){e(t)}))}
e.reject=function(t){return new e((function(e,n){n(t)}))}
e.race=function(t){return new e((function(e,n){for(var r=0,o=t;r<o.length;r++){var a=o[r]
a.then(e,n)}}))}
return e}
var vN=window.Promise?window.Promise:fN()
var dN=function(e){return new vN((function(t,n){var r=URL.createObjectURL(e)
var o=new Image
var a=function(){o.removeEventListener("load",i)
o.removeEventListener("error",u)}
var i=function(){a()
t(o)}
var u=function(){a()
n("Unable to load data of type "+e.type+": "+r)}
o.addEventListener("load",i)
o.addEventListener("error",u)
o.src=r
o.complete&&setTimeout(i,0)}))}
var mN=function(e){var t=e.split(",")
var n=/data:([^;]+)/.exec(t[0])
if(!n)return R.none()
var r=n[1]
var o=t[1]
var a=1024
var i=atob(o)
var u=i.length
var c=Math.ceil(u/a)
var s=new Array(c)
for(var l=0;l<c;++l){var f=l*a
var v=Math.min(f+a,u)
var d=new Array(v-f)
for(var m=f,g=0;m<v;++g,++m)d[g]=i[m].charCodeAt(0)
s[l]=new Uint8Array(d)}return R.some(new Blob(s,{type:r}))}
var gN=function(e){return new vN((function(t,n){mN(e).fold((function(){n("uri is not base64: "+e)}),t)}))}
var hN=function(e,t,n){t=t||"image/png"
return v(HTMLCanvasElement.prototype.toBlob)?new vN((function(r,o){e.toBlob((function(e){e?r(e):o()}),t,n)})):gN(e.toDataURL(t,n))}
var pN=function(e,t,n){t=t||"image/png"
return e.toDataURL(t,n)}
var bN=function(e){return dN(e).then((function(e){wN(e)
var t=aN(sN(e),lN(e))
var n=uN(t)
n.drawImage(e,0,0)
return t}))}
var yN=function(e){return new vN((function(t){var n=new FileReader
n.onloadend=function(){t(n.result)}
n.readAsDataURL(e)}))}
var wN=function(e){URL.revokeObjectURL(e.src)}
var xN=function(e,t,n){var r=t.type
var o=y(r)
var a=function(){return vN.resolve(t)}
var i=y(n)
var u=function(){return n.split(",")[1]}
var c=function(t,n){return e.then((function(e){return hN(e,t,n)}))}
var s=function(t,n){return e.then((function(e){return pN(e,t,n)}))}
var l=function(e,t){return s(e,t).then((function(e){return e.split(",")[1]}))}
var f=function(){return e.then(iN)}
return{getType:o,toBlob:a,toDataURL:i,toBase64:u,toAdjustedBlob:c,toAdjustedDataURL:s,toAdjustedBase64:l,toCanvas:f}}
var CN=function(e){return yN(e).then((function(t){return xN(bN(e),e,t)}))}
var SN=function(e,t){return hN(e,t).then((function(t){return xN(vN.resolve(e),t,e.toDataURL())}))}
var kN=function(e){return CN(e)}
var ON=function(e,t,n){var r="string"===typeof e?parseFloat(e):e
r>n?r=n:r<t&&(r=t)
return r}
var TN=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}
var EN=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10]
var _N=function(e,t){var n=[]
var r=new Array(25)
var o
for(var a=0;a<5;a++){for(var i=0;i<5;i++)n[i]=t[i+5*a]
for(i=0;i<5;i++){o=0
for(var u=0;u<5;u++)o+=e[i+5*u]*n[u]
r[i+5*a]=o}}return r}
var LN=function(e,t){var n
t=ON(t,-1,1)
t*=100
if(t<0)n=127+t/100*127
else{n=t%1
n=0===n?EN[t]:EN[Math.floor(t)]*(1-n)+EN[Math.floor(t)+1]*n
n=127*n+127}return _N(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}
var DN=function(e,t){t=ON(255*t,-255,255)
return _N(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])}
var AN=function(e,t,n,r){t=ON(t,0,2)
n=ON(n,0,2)
r=ON(r,0,2)
return _N(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}
var MN=function(e,t){return e.toCanvas().then((function(n){return NN(n,e.getType(),t)}))}
var NN=function(e,t,n){var r=uN(e)
var o=function(e,t){var n,r,o,a
var i=e.data,u=t[0],c=t[1],s=t[2],l=t[3],f=t[4],v=t[5],d=t[6],m=t[7],g=t[8],h=t[9],p=t[10],b=t[11],y=t[12],w=t[13],x=t[14],C=t[15],S=t[16],k=t[17],O=t[18],T=t[19]
for(var E=0;E<i.length;E+=4){n=i[E]
r=i[E+1]
o=i[E+2]
a=i[E+3]
i[E]=n*u+r*c+o*s+a*l+f
i[E+1]=n*v+r*d+o*m+a*g+h
i[E+2]=n*p+r*b+o*y+a*w+x
i[E+3]=n*C+r*S+o*k+a*O+T}return e}
var a=o(r.getImageData(0,0,e.width,e.height),n)
r.putImageData(a,0,0)
return SN(e,t)}
var RN=function(e,t){return e.toCanvas().then((function(n){return zN(n,e.getType(),t)}))}
var zN=function(e,t,n){var r=uN(e)
var o=function(e,t,n){var r=function(e,t,n){e>n?e=n:e<t&&(e=t)
return e}
var o=Math.round(Math.sqrt(n.length))
var a=Math.floor(o/2)
var i=e.data
var u=t.data
var c=e.width
var s=e.height
for(var l=0;l<s;l++)for(var f=0;f<c;f++){var v=0
var d=0
var m=0
for(var g=0;g<o;g++)for(var h=0;h<o;h++){var p=r(f+h-a,0,c-1)
var b=r(l+g-a,0,s-1)
var y=4*(b*c+p)
var w=n[g*o+h]
v+=i[y]*w
d+=i[y+1]*w
m+=i[y+2]*w}var x=4*(l*c+f)
u[x]=r(v,0,255)
u[x+1]=r(d,0,255)
u[x+2]=r(m,0,255)}return t}
var a=r.getImageData(0,0,e.width,e.height)
var i=r.getImageData(0,0,e.width,e.height)
i=o(a,i,n)
r.putImageData(i,0,0)
return SN(e,t)}
var BN=function(e){var t=function(t,n,r){var o=uN(t)
var a=new Array(256)
var i=function(e,t){var n=e.data
for(var r=0;r<n.length;r+=4){n[r]=t[n[r]]
n[r+1]=t[n[r+1]]
n[r+2]=t[n[r+2]]}return e}
for(var u=0;u<a.length;u++)a[u]=e(u,r)
var c=i(o.getImageData(0,0,t.width,t.height),a)
o.putImageData(c,0,0)
return SN(t,n)}
return function(e,n){return e.toCanvas().then((function(r){return t(r,e.getType(),n)}))}}
var PN=function(e){return function(t,n){return MN(t,e(TN(),n))}}
var IN=function(e){return function(t){return MN(t,e)}}
var HN=function(e){return function(t){return RN(t,e)}}
var FN=IN([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1])
var VN=PN(DN)
var jN=PN(LN)
var UN=function(e,t,n,r){return MN(e,AN(TN(),t,n,r))}
var WN=HN([0,-1,0,-1,5,-1,0,-1,0])
var qN=BN((function(e,t){return 255*Math.pow(e/255,1-t)}))
var $N=function(e,t,n){var r=sN(e)
var o=lN(e)
var a=t/r
var i=n/o
var u=false
if(a<.5||a>2){a=a<.5?.5:2
u=true}if(i<.5||i>2){i=i<.5?.5:2
u=true}var c=GN(e,a,i)
return u?c.then((function(e){return $N(e,t,n)})):c}
var GN=function(e,t,n){return new vN((function(r){var o=sN(e)
var a=lN(e)
var i=Math.floor(o*t)
var u=Math.floor(a*n)
var c=aN(i,u)
var s=uN(c)
s.drawImage(e,0,0,o,a,0,0,i,u)
r(c)}))}
var XN=function(e,t){void 0===t&&(t=2)
var n=Math.pow(10,t)
var r=Math.round(e*n)
return Math.ceil(r/n)}
var KN=function(e,t){return e.toCanvas().then((function(n){return ZN(n,e.getType(),t)}))}
var ZN=function(e,t,n){var r=n<0?360+n:n
var o=r*Math.PI/180
var a=e.width
var i=e.height
var u=Math.sin(o)
var c=Math.cos(o)
var s=XN(Math.abs(a*c)+Math.abs(i*u))
var l=XN(Math.abs(a*u)+Math.abs(i*c))
var f=aN(s,l)
var v=uN(f)
v.translate(s/2,l/2)
v.rotate(o)
v.drawImage(e,-a/2,-i/2)
return SN(f,t)}
var YN=function(e,t){return e.toCanvas().then((function(n){return JN(n,e.getType(),t)}))}
var JN=function(e,t,n){var r=aN(e.width,e.height)
var o=uN(r)
if("v"===n){o.scale(1,-1)
o.drawImage(e,0,-r.height)}else{o.scale(-1,1)
o.drawImage(e,-r.width,0)}return SN(r,t)}
var QN=function(e,t,n,r,o){return e.toCanvas().then((function(a){return eR(a,e.getType(),t,n,r,o)}))}
var eR=function(e,t,n,r,o,a){var i=aN(o,a)
var u=uN(i)
u.drawImage(e,-n,-r)
return SN(i,t)}
var tR=function(e,t,n){return e.toCanvas().then((function(r){return $N(r,t,n).then((function(t){return SN(t,e.getType())}))}))}
var nR=function(e){return FN(e)}
var rR=function(e){return WN(e)}
var oR=function(e,t){return qN(e,t)}
var aR=function(e,t,n,r){return UN(e,t,n,r)}
var iR=function(e,t){return VN(e,t)}
var uR=function(e,t){return jN(e,t)}
var cR=function(e,t){return YN(e,t)}
var sR=function(e,t,n,r,o){return QN(e,t,n,r,o)}
var lR=function(e,t,n){return tR(e,t,n)}
var fR=function(e,t){return KN(e,t)}
var vR=function(e,t){return E({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)}
var dR=function(e,t){return vR(ex(e,t),{})}
var mR=function(e,t){return vR(ex(e,t),{behaviours:Hl([xy.config({})])})}
var gR=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:Hl([xy.config({})])}}
var hR
var pR=Pi("toolbar.button.execute")
var bR=function(e){return Na((function(t,n){Kk(e,t)((function(n){fa(t,pR,{buttonApi:n})
e.onAction(n)}))}))}
var yR=(hR={},hR[Uo()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],hR)
var wR=Pi("update-menu-text")
var xR=Pi("update-menu-icon")
var CR=function(e,t,n){var r=Kn(g)
var o=e.text.map((function(e){return Jw(gR(e,t,n.providers))}))
var a=e.icon.map((function(e){return Jw(mR(e,n.providers.icons))}))
var i=function(e,t){var n=Xm.getValue(e)
My.focus(n)
fa(n,"keydown",{raw:t.event.raw})
pL.close(n)
return R.some(true)}
var u=e.role.fold((function(){return{}}),(function(e){return{role:e}}))
var c=e.tooltip.fold((function(){return{}}),(function(e){var t=n.providers.translate(e)
return{title:t,"aria-label":t}}))
var s=Jw(pL.sketch(E(E(E({},e.uid?{uid:e.uid}:{}),u),{dom:{tag:"button",classes:[t,t+"--select"].concat(W(e.classes,(function(e){return t+"--"+e}))),attributes:E({},c)},components:tO([a.map((function(e){return e.asSpec()})),o.map((function(e){return e.asSpec()})),R.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:ex("chevron-down",n.providers.icons)}})]),matchWidth:true,useMinWidth:true,dropdownBehaviours:Hl(L(e.dropdownBehaviours,[Xk.button((function(){return e.disabled||n.providers.isDisabled()})),Uk(),xL.config({}),xy.config({}),Sy("dropdown-events",[Zk(e,r),Yk(e,r)]),Sy("menubutton-update-display-text",[wa(wR,(function(e,t){o.bind((function(t){return t.getOpt(e)})).each((function(e){xy.set(e,[hc(n.providers.translate(t.event.text))])}))})),wa(xR,(function(e,t){a.bind((function(t){return t.getOpt(e)})).each((function(e){xy.set(e,[mR(t.event.icon,n.providers.icons)])}))}))])])),eventOrder:Xe(yR,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Hl([fy.config({mode:"special",onLeft:i,onRight:i})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:zC(false,e.columns,e.presets)},fetch:function(t){return R_.nu(x(e.fetch,t))}})))
return s.asSpec()}
var SR=function(e){return a(e)}
var kR=function(e){return"separator"===e.type}
var OR=function(e){return Fe(e,"getSubmenuItems")}
var TR={type:"separator"}
var ER=function(e,t){var n=Z(e,(function(e,n){return SR(n)?""===n?e:"|"===n?e.length>0&&!kR(e[e.length-1])?e.concat([TR]):e:Fe(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])}),[])
n.length>0&&kR(n[n.length-1])&&n.pop()
return n}
var _R=function(e,t){var n=e.getSubmenuItems()
var r=AR(n,t)
var o=Xe(r.menus,st(e.value,r.items))
var a=Xe(r.expansions,st(e.value,e.value))
return{item:e,menus:o,expansions:a}}
var LR=function(e,t){return OR(e)?_R(e,t):{item:e,menus:{},expansions:{}}}
var DR=function(e){if(kR(e))return e
var t=He(e,"value").getOrThunk((function(){return Pi("generated-menu-item")}))
return Xe({value:t},e)}
var AR=function(e,t){var n=ER(a(e)?e.split(" "):e,t)
return K(n,(function(e,n){var r=DR(n)
var o=LR(r,t)
return{menus:Xe(e.menus,o.menus),items:[o.item].concat(e.items),expansions:Xe(e.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})}
var MR=function(e,t,n,r){var o=Pi("primary-menu")
var a=AR(e,n.shared.providers.menuItems())
if(0===a.items.length)return R.none()
var i=uE(o,a.items,t,n,r)
var u=Ae(a.menus,(function(e,r){return uE(r,e,t,n,false)}))
var c=Xe(u,st(o,i))
return R.from(Rw.tieredData(o,c,a.expansions))}
var NR=function(e){return{isDisabled:function(){return KS.isDisabled(e)},setDisabled:function(t){return KS.set(e,t)},setActive:function(t){var n=e.element
if(t){Pu(n,"tox-tbtn--enabled")
Si(n,"aria-pressed",true)}else{Hu(n,"tox-tbtn--enabled")
_i(n,"aria-pressed")}},isActive:function(){return Fu(e.element,"tox-tbtn--enabled")}}}
var RR=function(e,t,n,r){return CR({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t,r){e.fetch((function(e){r(MR(e,uC.CLOSE_ON_EXECUTE,n,false))}))},onSetup:e.onSetup,getApi:NR,columns:1,presets:"normal",classes:[],dropdownBehaviours:[e_.config({})]},t,n.shared)}
var zR=function(e,t,n){var r=function(e){return function(r){var o=!r.isActive()
r.setActive(o)
e.storage.set(o)
n.shared.getSink().each((function(n){t().getOpt(n).each((function(t){Kl(t.element)
fa(t,f_,{name:e.name,value:e.storage.get()})}))}))}}
var o=function(e){return function(t){t.setActive(e.storage.get())}}
return function(t){t(W(e,(function(e){var t=e.text.fold((function(){return{}}),(function(e){return{text:e}}))
return E(E({type:e.type,active:false},t),{onAction:r(e),onSetup:o(e)})})))}}
var BR=function(e,t,n,r,o,a){void 0===n&&(n=[])
var i=t.fold((function(){return{}}),(function(e){return{action:e}}))
var u=E({buttonBehaviours:Hl([Xk.button((function(){return e.disabled||a.isDisabled()})),Uk(),e_.config({}),Sy("button press",[ya("click"),ya("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},i)
var c=Xe(u,{dom:r})
return Xe(c,{components:o})}
var PR=function(e,t,n,r){void 0===r&&(r=[])
var o=e.tooltip.map((function(e){return{"aria-label":n.translate(e),title:n.translate(e)}})).getOr({})
var a={tag:"button",classes:["tox-tbtn"],attributes:o}
var i=e.icon.map((function(e){return dR(e,n.icons)}))
var u=tO([i])
return BR(e,t,r,a,u,n)}
var IR=function(e,t,n,r){void 0===r&&(r=[])
var o=PR(e,R.some(t),n,r)
return Yw.sketch(o)}
var HR=function(e,t,n,r,o){void 0===r&&(r=[])
void 0===o&&(o=[])
var a=n.translate(e.text)
var i=e.icon?e.icon.map((function(e){return dR(e,n.icons)})):R.none()
var u=i.isSome()?tO([i]):[]
var c=i.isSome()?{}:{innerHtml:a}
var s=L(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],i.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],o)
var l=E(E({tag:"button",classes:s},c),{attributes:{title:a}})
return BR(e,t,r,l,u,n)}
var FR=function(e,t,n,r,o){void 0===r&&(r=[])
void 0===o&&(o=[])
var a=HR(e,R.some(t),n,r,o)
return Yw.sketch(a)}
var VR=function(e,t){return function(n){"custom"===t?fa(n,f_,{name:e,value:{}}):"submit"===t?la(n,v_):"cancel"===t?la(n,l_):console.error("Unknown button type: ",t)}}
var jR=function(e,t){return"menu"===t}
var UR=function(e,t){return"custom"===t||"cancel"===t||"submit"===t}
var WR=function(e,t,n){if(jR(e,t)){var r=function(){return i}
var o=e
var a=E(E({},e),{onSetup:function(t){t.setDisabled(e.disabled)
return g},fetch:zR(o.items,r,n)})
var i=Jw(RR(a,"tox-tbtn",n,R.none()))
return i.asSpec()}if(UR(e,t)){var u=VR(e.name,t)
var c=E(E({},e),{borderless:false})
return FR(c,u,n.shared.providers,[])}console.error("Unknown footer button type: ",t)}
var qR=function(e,t){var n=VR(e.name,"custom")
return r_(R.none(),ZE.parts.field(E({factory:Yw},HR(e,R.some(n),t,[WM.memory(""),_M.self()]))))}
var $R=y([In("field1Name","field1"),In("field2Name","field2"),Hs("onLockedChange"),zs(["lockClass"]),In("locked",false),Jm.field("coupledFieldBehaviours",[bh,Xm])])
var GR=function(e,t,n){return jg(e,t,n).bind(bh.getCurrent)}
var XR=function(e,t){return Eg({factory:ZE,name:e,overrides:function(e){return{fieldBehaviours:Hl([Sy("coupled-input-behaviour",[wa(Mo(),(function(n){GR(n,e,t).each((function(t){jg(n,e,"lock").each((function(r){Yy.isOn(r)&&e.onLockedChange(n,t,r)}))}))}))])])}}})}
var KR=y([XR("field1","field2"),XR("field2","field1"),Eg({factory:Yw,schema:[yn("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:Hl([Yy.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})])
var ZR=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Jm.augment(e.coupledFieldBehaviours,[bh.config({find:R.some}),Xm.config({store:{mode:"manual",getValue:function(t){var n
var r=Gg(t,e,["field1","field2"])
return n={},n[e.field1Name]=Xm.getValue(r.field1()),n[e.field2Name]=Xm.getValue(r.field2()),n},setValue:function(t,n){var r=Gg(t,e,["field1","field2"])
Ve(n,e.field1Name)&&Xm.setValue(r.field1(),n[e.field1Name])
Ve(n,e.field2Name)&&Xm.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return jg(t,e,"field1")},getField2:function(t){return jg(t,e,"field2")},getLock:function(t){return jg(t,e,"lock")}}}}
var YR=uh({name:"FormCoupledInputs",configFields:$R(),partFields:KR(),factory:ZR,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}})
var JR=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4}
var n=function(e){return e in t?t[e]:1}
var r=e.value.toFixed(n(e.unit));-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,""))
return r+e.unit}
var QR=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/
var n=t.exec(e)
if(null!==n){var r=parseFloat(n[1])
var o=n[2]
return ge.value({value:r,unit:o})}return ge.error(e)}
var ez=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1}
var r=function(e){return Object.prototype.hasOwnProperty.call(n,e)}
return e.unit===t?R.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?R.some(e.value):R.some(e.value/n[e.unit]*n[t]):R.none()}
var tz=function(e){return R.none()}
var nz=function(e,t){return function(n){return ez(n,t).map((function(n){return{value:n*e,unit:t}}))}}
var rz=function(e,t){var n=QR(e).toOptional()
var r=QR(t).toOptional()
return lh(n,r,(function(e,t){return ez(e,t.unit).map((function(e){return t.value/e})).map((function(e){return nz(e,t.unit)})).getOr(tz)})).getOr(tz)}
var oz=function(e,t){var n=tz
var r=Pi("ratio-event")
var o=YR.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:ex("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:ex("unlock",t.icons)}}],buttonBehaviours:Hl([KS.config({disabled:function(){return e.disabled||t.isDisabled()}}),Uk(),e_.config({})])})
var a=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}}
var i=function(n){return ZE.parts.field({factory:S_,inputClasses:["tox-textfield"],inputBehaviours:Hl([KS.config({disabled:function(){return e.disabled||t.isDisabled()}}),Uk(),e_.config({}),Sy("size-input-events",[wa(_o(),(function(e,t){fa(e,r,{isField1:n})})),wa(No(),(function(t,n){fa(t,c_,{name:e.name})}))])]),selectOnFocus:false})}
var u=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}}
var c=YR.parts.field1(a([ZE.parts.label(u("Width")),i(true)]))
var s=YR.parts.field2(a([ZE.parts.label(u("Height")),i(false)]))
return YR.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,s,a([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:true,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){QR(Xm.getValue(e)).each((function(e){n(e).each((function(e){Xm.setValue(t,JR(e))}))}))},coupledFieldBehaviours:Hl([KS.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){YR.getField1(e).bind(ZE.getField).each(KS.disable)
YR.getField2(e).bind(ZE.getField).each(KS.disable)
YR.getLock(e).each(KS.disable)},onEnabled:function(e){YR.getField1(e).bind(ZE.getField).each(KS.enable)
YR.getField2(e).bind(ZE.getField).each(KS.enable)
YR.getLock(e).each(KS.enable)}}),Uk(),Sy("size-input-events2",[wa(r,(function(e,t){var r=t.event.isField1
var o=r?YR.getField1(e):YR.getField2(e)
var a=r?YR.getField2(e):YR.getField1(e)
var i=o.map(Xm.getValue).getOr("")
var u=a.map(Xm.getValue).getOr("")
n=rz(i,u)}))])])})}
var az=y(Pi("undo"))
var iz=y(Pi("redo"))
var uz=y(Pi("zoom"))
var cz=y(Pi("back"))
var sz=y(Pi("apply"))
var lz=y(Pi("swap"))
var fz=y(Pi("transform"))
var vz=y(Pi("temp-transform"))
var dz=y(Pi("transform-apply"))
var mz={undo:az,redo:iz,zoom:uz,back:cz,apply:sz,swap:lz,transform:fz,tempTransform:vz,transformApply:dz}
var gz=y("save-state")
var hz=y("disable")
var pz=y("enable")
var bz={formActionEvent:f_,saveState:gz,disable:hz,enable:pz}
var yz=function(e,t){var n=function(e,n,r,o){return Jw(FR({name:e,text:e,disabled:r,primary:o,icon:R.none(),borderless:false},n,t))}
var r=function(e,n,r,o){return Jw(IR({name:e,icon:R.some(e),tooltip:R.some(n),disabled:o,primary:false,borderless:false},r,t))}
var o=function(e,t){e.map((function(e){var n=e.get(t)
n.hasConfigured(KS)&&KS.disable(n)}))}
var a=function(e,t){e.map((function(e){var n=e.get(t)
n.hasConfigured(KS)&&KS.enable(n)}))}
var i={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]}
var u=g
var c=function(e,t,n){fa(e,t,n)}
var s=function(e){return la(e,bz.disable())}
var l=function(e){return la(e,bz.enable())}
var f=function(e,t){s(e)
c(e,mz.transform(),{transform:t})
l(e)}
var v=function(e,t){s(e)
c(e,mz.tempTransform(),{transform:t})
l(e)}
var d=function(e){return function(){ie.getOpt(e).each((function(e){xy.set(e,[oe])}))}}
var m=function(e,t){s(e)
c(e,mz.transformApply(),{transform:t,swap:d(e)})
l(e)}
var h=function(){return n("Back",(function(e){return c(e,mz.back(),{swap:d(e)})}),false,false)}
var p=function(){return Jw({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Hl([KS.config({})])})}
var b=function(){return n("Apply",(function(e){return c(e,mz.apply(),{swap:d(e)})}),true,true)}
var w=function(){return function(t){var n=e.getRect()
return sR(t,n.x,n.y,n.w,n.h)}}
var x=[h(),p(),n("Apply",(function(t){var n=w()
m(t,n)
e.hideCrop()}),false,true)]
var C=WE.sketch({dom:i,components:x.map((function(e){return e.asSpec()})),containerBehaviours:Hl([Sy("image-tools-crop-buttons-events",[wa(bz.disable(),(function(e,t){o(x,e)})),wa(bz.enable(),(function(e,t){a(x,e)}))])])})
var S=Jw(oz({name:"size",label:R.none(),constrain:true,disabled:false},t))
var k=function(e,t){return function(n){return lR(n,e,t)}}
var O=[h(),p(),S,p(),n("Apply",(function(e){S.getOpt(e).each((function(t){var n=Xm.getValue(t)
var r=parseInt(n.width,10)
var o=parseInt(n.height,10)
var a=k(r,o)
m(e,a)}))}),false,true)]
var T=WE.sketch({dom:i,components:O.map((function(e){return e.asSpec()})),containerBehaviours:Hl([Sy("image-tools-resize-buttons-events",[wa(bz.disable(),(function(e,t){o(O,e)})),wa(bz.enable(),(function(e,t){a(O,e)}))])])})
var E=function(e,t){return function(n){return e(n,t)}}
var _=E(cR,"h")
var L=E(cR,"v")
var D=E(fR,-90)
var A=E(fR,90)
var M=function(e,t){v(e,t)}
var N=[h(),p(),r("flip-horizontally","Flip horizontally",(function(e){M(e,_)}),false),r("flip-vertically","Flip vertically",(function(e){M(e,L)}),false),r("rotate-left","Rotate counterclockwise",(function(e){M(e,D)}),false),r("rotate-right","Rotate clockwise",(function(e){M(e,A)}),false),p(),b()]
var z=WE.sketch({dom:i,components:N.map((function(e){return e.asSpec()})),containerBehaviours:Hl([Sy("image-tools-fliprotate-buttons-events",[wa(bz.disable(),(function(e,t){o(N,e)})),wa(bz.enable(),(function(e,t){a(N,e)}))])])})
var B=function(e,n,r,o,a){var i=nM.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})
var u=nM.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}})
var c=nM.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}})
return Jw(nM.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:a,getInitialValue:y({x:o})},components:[i,u,c],sliderBehaviours:Hl([My.config({})]),onChoose:n}))}
var P=function(e,t,n,r,o){var a=function(e,n,r){var o=E(t,r.x/100)
f(e,o)}
return B(e,a,n,r,o)}
var I=function(e,t,n,r,o){return[h(),P(e,t,n,r,o),b()]}
var H=function(e,t,n,r,u){var c=I(e,t,n,r,u)
return WE.sketch({dom:i,components:c.map((function(e){return e.asSpec()})),containerBehaviours:Hl([Sy("image-tools-filter-panel-buttons-events",[wa(bz.disable(),(function(e,t){o(c,e)})),wa(bz.enable(),(function(e,t){a(c,e)}))])])})}
var F=[h(),p(),b()]
var V=WE.sketch({dom:i,components:F.map((function(e){return e.asSpec()}))})
var j=H("Brightness",iR,-100,0,100)
var U=H("Contrast",uR,-100,0,100)
var W=H("Gamma",oR,-100,0,100)
var q=function(e,t,n){return function(r){return aR(r,e,t,n)}}
var $=function(e){var t=function(e,t,n){var r=G.getOpt(e)
var o=K.getOpt(e)
var a=X.getOpt(e)
r.each((function(t){o.each((function(n){a.each((function(r){var o=Xm.getValue(t).x/100
var a=Xm.getValue(r).x/100
var i=Xm.getValue(n).x/100
var u=q(o,a,i)
f(e,u)}))}))}))}
return B(e,t,0,100,200)}
var G=$("R")
var X=$("G")
var K=$("B")
var Z=[h(),G,X,K,b()]
var Y=WE.sketch({dom:i,components:Z.map((function(e){return e.asSpec()}))})
var J=function(e,t,n){return function(r){var o=function(){ie.getOpt(r).each((function(t){xy.set(t,[e])
n(t)}))}
c(r,mz.swap(),{transform:t,swap:o})}}
var Q=function(t){e.showCrop()}
var ee=function(t){S.getOpt(t).each((function(t){var n=e.getMeasurements()
var r=n.width
var o=n.height
Xm.setValue(t,{width:r,height:o})}))}
var te=R.some(rR)
var ne=R.some(nR)
var re=[r("crop","Crop",J(C,R.none(),Q),false),r("resize","Resize",J(T,R.none(),ee),false),r("orientation","Orientation",J(z,R.none(),u),false),r("brightness","Brightness",J(j,R.none(),u),false),r("sharpen","Sharpen",J(V,te,u),false),r("contrast","Contrast",J(U,R.none(),u),false),r("color-levels","Color levels",J(Y,R.none(),u),false),r("gamma","Gamma",J(W,R.none(),u),false),r("invert","Invert",J(V,ne,u),false)]
var oe=WE.sketch({dom:i,components:re.map((function(e){return e.asSpec()}))})
var ae=WE.sketch({dom:{tag:"div"},components:[oe],containerBehaviours:Hl([xy.config({})])})
var ie=Jw(ae)
var ue=function(e){return ie.getOpt(e).map((function(e){var t=e.components()[0]
return t.components()[t.components().length-1]}))}
return{memContainer:ie,getApplyButton:ue}}
var wz=tinymce.util.Tools.resolve("tinymce.geom.Rect")
var xz=tinymce.util.Tools.resolve("tinymce.dom.DomQuery")
var Cz=tinymce.util.Tools.resolve("tinymce.util.Observable")
var Sz=tinymce.util.Tools.resolve("tinymce.util.VK")
var kz=function(e){var t=Math.max
var n=e.documentElement
var r=e.body
var o=t(n.scrollWidth,r.scrollWidth)
var a=t(n.clientWidth,r.clientWidth)
var i=t(n.offsetWidth,r.offsetWidth)
var u=t(n.scrollHeight,r.scrollHeight)
var c=t(n.clientHeight,r.clientHeight)
var s=t(n.offsetHeight,r.offsetHeight)
return{width:o<i?a:o,height:u<s?c:u}}
var Oz=function(e){var t,n
if(e.changedTouches){t="screenX screenY pageX pageY clientX clientY".split(" ")
for(n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}}
function Tz(e,t){var n
var r=t.document||document
var o
var a,i
var u=r.getElementById(t.handle||e)
var c=function(e){var c=kz(r)
var f
Oz(e)
e.preventDefault()
o=e.button
var v=u
a=e.screenX
i=e.screenY
f=window.getComputedStyle?window.getComputedStyle(v,null).getPropertyValue("cursor"):v.runtimeStyle.cursor
n=xz("<div></div>").css({position:"absolute",top:0,left:0,width:c.width,height:c.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(r.body)
xz(r).on("mousemove touchmove",s).on("mouseup touchend",l)
t.start(e)}
var s=function(e){Oz(e)
if(e.button!==o)return l(e)
e.deltaX=e.screenX-a
e.deltaY=e.screenY-i
e.preventDefault()
t.drag(e)}
var l=function(e){Oz(e)
xz(r).off("mousemove touchmove",s).off("mouseup touchend",l)
n.remove()
t.stop&&t.stop(e)}
var f=function(){xz(u).off()}
xz(u).on("mousedown touchstart",c)
return{destroy:f}}var Ez=0
var _z=function(e,t,n,r,o){var a
var i="tox-"
var u=i+"crid-"+Ez++
var c=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}]
var s=["top","right","bottom","left"]
var l=function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}}
var f=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}}
var v=function(){return f(n,e)}
var d=function(t,r,o,a){var i,u,c,s,l
i=r.x
u=r.y
c=r.w
s=r.h
i+=o*t.deltaX
u+=a*t.deltaY
c+=o*t.deltaW
s+=a*t.deltaH
c<20&&(c=20)
s<20&&(s=20)
l=e=wz.clamp({x:i,y:u,w:c,h:s},n,"move"===t.name)
l=f(n,l)
C.fire("updateRect",{rect:l})
y(l)}
var m=function(){var t=function(t){var n
return Tz(u,{document:r.ownerDocument,handle:u+"-"+t.name,start:function(){n=e},drag:function(e){d(t,n,e.deltaX,e.deltaY)}})}
xz('<div id="'+u+'" class="'+i+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r)
BM.each(s,(function(e){xz("#"+u,r).append('<div id="'+u+"-"+e+'"class="'+i+'croprect-block" style="display: none" data-mce-bogus="all">')}))
BM.each(c,(function(e){xz("#"+u,r).append('<div id="'+u+"-"+e.name+'" class="'+i+"croprect-handle "+i+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')}))
a=BM.map(c,t)
h(e)
xz(r).on("focusin focusout",(function(e){xz(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")}))
xz(r).on("keydown",(function(t){var n
BM.each(c,(function(e){if(t.target.id===u+"-"+e.name){n=e
return false}}))
var r=function(e,t,r,o,a){e.stopPropagation()
e.preventDefault()
d(n,r,o,a)}
switch(t.keyCode){case Sz.LEFT:r(t,n,e,-10,0)
break
case Sz.RIGHT:r(t,n,e,10,0)
break
case Sz.UP:r(t,n,e,0,-10)
break
case Sz.DOWN:r(t,n,e,0,10)
break
case Sz.ENTER:case Sz.SPACEBAR:t.preventDefault()
o()}}))}
var g=function(e){var t=BM.map(c,(function(e){return"#"+u+"-"+e.name})).concat(BM.map(s,(function(e){return"#"+u+"-"+e}))).join(",")
e?xz(t,r).show():xz(t,r).hide()}
var h=function(e){var n=function(e,t){t.h<0&&(t.h=0)
t.w<0&&(t.w=0)
xz("#"+u+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})}
BM.each(c,(function(t){xz("#"+u+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})}))
n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y})
n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h})
n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y})
n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h})
n("move",e)}
var p=function(t){e=t
h(e)}
var b=function(n){t=n
h(e)}
var y=function(e){p(l(n,e))}
var w=function(t){n=t
h(e)}
var x=function(){BM.each(a,(function(e){e.destroy()}))
a=[]}
m()
var C=BM.extend({toggleVisibility:g,setClampRect:w,setRect:p,getInnerRect:v,setInnerRect:y,setViewPortRect:b,destroy:x},Cz)
return C}
var Lz={create:_z}
var Dz=function(e){return new kx((function(t){var n=function(){e.removeEventListener("load",n)
t(e)}
e.complete?t(e):e.addEventListener("load",n)}))}
var Az=function(e){var t=Jw({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}})
var n=Kn(1)
var r=Kn(R.none())
var o=Kn({x:0,y:0,w:1,h:1})
var a=Kn({x:0,y:0,w:1,h:1})
var i=function(e,a){m.getOpt(e).each((function(e){var i=n.get()
var u=Rc(e.element)
var c=Sc(e.element)
var s=a.dom.naturalWidth*i
var l=a.dom.naturalHeight*i
var f=Math.max(0,u/2-s/2)
var v=Math.max(0,c/2-l/2)
var d={left:f.toString()+"px",top:v.toString()+"px",width:s.toString()+"px",height:l.toString()+"px",position:"absolute"}
Zu(a,d)
t.getOpt(e).each((function(e){Zu(e.element,d)}))
r.get().each((function(e){var t=o.get()
e.setRect({x:t.x*i+f,y:t.y*i+v,w:t.w*i,h:t.h*i})
e.setClampRect({x:f,y:v,w:s,h:l})
e.setViewPortRect({x:0,y:0,w:u,h:c})}))}))}
var u=function(e,t){m.getOpt(e).each((function(e){var r=Rc(e.element)
var o=Sc(e.element)
var a=t.dom.naturalWidth
var i=t.dom.naturalHeight
var u=Math.min(r/a,o/i)
u>=1?n.set(1):n.set(u)}))}
var c=function(e,t){var n=tr.fromTag("img")
Si(n,"src",t)
return Dz(n.dom).then((function(){return m.getOpt(e).map((function(e){var t=pc({element:n})
xy.replaceAt(e,1,R.some(t))
var r=a.get()
var c={x:0,y:0,w:n.dom.naturalWidth,h:n.dom.naturalHeight}
a.set(c)
var s=wz.inflate(c,-20,-20)
o.set(s)
r.w===c.w&&r.h===c.h||u(e,n)
i(e,n)
return n}))}))}
var s=function(e,t){var r=n.get()
var o=t>0?Math.min(2,r+.1):Math.max(.1,r-.1)
n.set(o)
m.getOpt(e).each((function(e){var t=e.components()[1].element
i(e,t)}))}
var l=function(){r.get().each((function(e){e.toggleVisibility(true)}))}
var f=function(){r.get().each((function(e){e.toggleVisibility(false)}))}
var v=function(){return o.get()}
var d=WE.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:Hl([Sy("image-panel-crop-events",[Da((function(e){m.getOpt(e).each((function(e){var t=e.element.dom
var a=Lz.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,g)
a.toggleVisibility(false)
a.on("updateRect",(function(e){var t=e.rect
var r=n.get()
var a={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)}
o.set(a)}))
r.set(R.some(a))}))}))])])}],containerBehaviours:Hl([xy.config({}),Sy("image-panel-events",[Da((function(t){c(t,e)}))])])})
var m=Jw(d)
var h=function(){var e=a.get()
return{width:e.w,height:e.h}}
return{memContainer:m,updateSrc:c,zoom:s,showCrop:l,hideCrop:f,getRect:v,getMeasurements:h}}
var Mz=function(e,t,n,r,o){return IR({name:e,icon:R.some(t),disabled:n,tooltip:R.some(e),primary:false,borderless:false},r,o)}
var Nz=function(e,t){t?KS.enable(e):KS.disable(e)}
var Rz=function(e){var t=function(e,t,o){n.getOpt(e).each((function(e){Nz(e,t)}))
r.getOpt(e).each((function(e){Nz(e,o)}))}
var n=Jw(Mz("Undo","undo",true,(function(e){fa(e,mz.undo(),{direction:1})}),e))
var r=Jw(Mz("Redo","redo",true,(function(e){fa(e,mz.redo(),{direction:1})}),e))
var o=WE.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),Mz("Zoom in","zoom-in",false,(function(e){fa(e,mz.zoom(),{direction:1})}),e),Mz("Zoom out","zoom-out",false,(function(e){fa(e,mz.zoom(),{direction:-1})}),e)]})
return{container:o,updateButtonUndoStates:t}}
function zz(){var e=[]
var t=-1
var n=function(n){var r=e.splice(++t)
e.push(n)
return{state:n,removed:r}}
var r=function(){if(a())return e[--t]}
var o=function(){if(i())return e[++t]}
var a=function(){return t>0}
var i=function(){return-1!==t&&t<e.length-1}
return{data:e,add:n,undo:r,redo:o,canUndo:a,canRedo:i}}var Bz=function(e){var t=Kn(e)
var n=Kn(R.none())
var r=zz()
r.add(e)
var o=function(){return t.get()}
var a=function(e){t.set(e)}
var i=function(){return n.get().fold((function(){return t.get()}),(function(e){return e}))}
var u=function(e){var t=c(e)
f()
n.set(R.some(t))
return t.url}
var c=function(e){return{blob:e,url:URL.createObjectURL(e)}}
var s=function(e){URL.revokeObjectURL(e.url)}
var l=function(e){BM.each(e,s)}
var f=function(){n.get().each(s)
n.set(R.none())}
var v=function(e){var t=c(e)
a(t)
var n=r.add(t).removed
l(n)
return t.url}
var d=function(e){var t=c(e)
n.set(R.some(t))
return t.url}
var m=function(e){return n.get().fold(g,(function(t){v(t.blob)
e()}))}
var h=function(){var e=r.undo()
a(e)
return e.url}
var p=function(){var e=r.redo()
a(e)
return e.url}
var b=function(){var e=r.canUndo()
var t=r.canRedo()
return{undoEnabled:e,redoEnabled:t}}
return{getBlobState:o,setBlobState:a,addBlobState:v,getTempState:i,updateTempState:u,addTempState:d,applyTempState:m,destroyTempState:f,undo:h,redo:p,getHistoryStates:b}}
var Pz=function(e,t){var n=Bz(e.currentState)
var r=function(e,t){var n=t.event.direction
k.zoom(e,n)}
var o=function(e){var t=n.getHistoryStates()
O.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled)
fa(e,bz.formActionEvent,{name:bz.saveState(),value:t.undoEnabled})}
var a=function(e){O.updateButtonUndoStates(e,false,false)}
var i=function(e,t){var r=n.undo()
f(e,r).then((function(t){l(e)
o(e)}))}
var u=function(e,t){var r=n.redo()
f(e,r).then((function(t){l(e)
o(e)}))}
var c=function(e){return e.toBlob()}
var s=function(e){fa(e,bz.formActionEvent,{name:bz.disable(),value:{}})}
var l=function(e){T.getApplyButton(e).each((function(e){KS.enable(e)}))
fa(e,bz.formActionEvent,{name:bz.enable(),value:{}})}
var f=function(e,t){s(e)
return k.updateSrc(e,t)}
var v=function(e,t,n,r,a){s(e)
return kN(t).then(n).then(c).then(r).then((function(t){return f(e,t).then((function(t){o(e)
a()
l(e)
return t}))})).catch((function(t){console.log(t)
l(e)
return t}))}
var d=function(e,t,r){var o=n.getBlobState().blob
var a=function(e){return n.updateTempState(e)}
v(e,o,t,a,r)}
var m=function(e,t){var r=n.getTempState().blob
var o=function(e){return n.addTempState(e)}
v(e,r,t,o,g)}
var h=function(e,t,r){var o=n.getBlobState().blob
var a=function(t){var r=n.addBlobState(t)
b(e)
return r}
v(e,o,t,a,r)}
var p=function(e,t){var r=function(){b(e)
var n=t.event.swap
n()}
n.applyTempState(r)}
var b=function(e){var t=n.getBlobState().url
n.destroyTempState()
o(e)
return t}
var y=function(e){var t=b(e)
f(e,t).then((function(t){l(e)}))}
var w=function(e,t){y(e)
var n=t.event.swap
n()
k.hideCrop()}
var x=function(e,t){return d(e,t.event.transform,g)}
var C=function(e,t){return m(e,t.event.transform)}
var S=function(e,t){return h(e,t.event.transform,t.event.swap)}
var k=Az(e.currentState.url)
var O=Rz(t)
var T=yz(k,t)
var E=function(e,t){a(e)
var n=t.event.transform
var r=t.event.swap
n.fold((function(){r()}),(function(t){d(e,t,r)}))}
return{dom:{tag:"div",attributes:{role:"presentation"}},components:[T.memContainer.asSpec(),k.memContainer.asSpec(),O.container],behaviours:Hl([Xm.config({store:{mode:"manual",getValue:function(){return n.getBlobState()}}}),Sy("image-tools-events",[wa(mz.undo(),i),wa(mz.redo(),u),wa(mz.zoom(),r),wa(mz.back(),w),wa(mz.apply(),p),wa(mz.transform(),x),wa(mz.tempTransform(),C),wa(mz.transformApply(),S),wa(mz.swap(),E)]),_M.self()])}}
var Iz=function(e,t){var n={dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}}
var r=W(e.items,t.interpreter)
return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Hl([_M.self(),xy.config({}),WM.domHtml(R.none()),fy.config({mode:"acyclic"})])}}
var Hz=function(e){return!Fe(e,"items")}
var Fz="data-value"
var Vz=function(e,t,n,r){return W(n,(function(n){return Hz(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){Xm.setValue(e,n.value)
fa(e,c_,{name:t})
My.focus(e)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return Vz(e,t,n.items,r)}}}))}
var jz=function(e,t){return fe(e,(function(e){return Hz(e)?dh(e.value===t,e):jz(e.items,t)}))}
var Uz=function(e,t){var n=t.shared.providers
var r=ce(e.items).filter(Hz)
var o=e.label.map((function(e){return u_(e,n)}))
var a=ZE.parts.field({dom:{},factory:{sketch:function(n){return CR({uid:n.uid,text:r.map((function(e){return e.text})),icon:R.none(),tooltip:e.label,role:R.none(),fetch:function(n,r){var o=Vz(n,e.name,e.items,Xm.getValue(n))
r(MR(o,uC.CLOSE_ON_EXECUTE,t,false))},onSetup:y(g),getApi:y({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[e_.config({}),Xm.config({store:{mode:"manual",initialValue:r.map((function(e){return e.value})).getOr(""),getValue:function(e){return Oi(e.element,Fz)},setValue:function(t,n){jz(e.items,n).each((function(e){Si(t.element,Fz,e.value)
fa(t,wR,{text:e.text})}))}}})]},"tox-listbox",t.shared)}}})
var i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]}
return ZE.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ee([o.toArray(),[i]]),fieldBehaviours:Hl([KS.config({disabled:y(e.disabled),onDisabled:function(e){ZE.getField(e).each(KS.disable)},onEnabled:function(e){ZE.getField(e).each(KS.enable)}})])})}
var Wz=function(e,t){return{dom:{tag:"div",classes:e.classes},components:W(e.items,t.shared.interpreter)}}
var qz=function(e,t){var n=W(e.options,(function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}}))
var r=e.data.map((function(e){return st("initialValue",e)})).getOr({})
return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Ym(e.selectBehaviours,[My.config({}),Xm.config({store:E({mode:"manual",getValue:function(e){return ac(e.element)},setValue:function(t,n){var r=J(e.options,(function(e){return e.value===n}))
r.isSome()&&ic(t.element,n)}},r)})])}}
var $z=ih({name:"HtmlSelect",configFields:[yn("options"),Km("selectBehaviours",[My,Xm]),In("selectClasses",[]),In("selectAttributes",{}),Dn("data")],factory:qz})
var Gz=function(e,t){var n=W(e.items,(function(e){return{text:t.translate(e.text),value:e.value}}))
var r=e.label.map((function(e){return u_(e,t)}))
var o=ZE.parts.field({dom:{},selectAttributes:{size:e.size},options:n,factory:$z,selectBehaviours:Hl([KS.config({disabled:function(){return e.disabled||t.isDisabled()}}),e_.config({}),Sy("selectbox-change",[wa(No(),(function(t,n){fa(t,c_,{name:e.name})}))])])})
var a=e.size>1?R.none():R.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:ex("chevron-down",t.icons)}})
var i={dom:{tag:"div",classes:["tox-selectfield"]},components:ee([[o],a.toArray()])}
return ZE.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:ee([r.toArray(),[i]]),fieldBehaviours:Hl([KS.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){ZE.getField(e).each(KS.disable)},onEnabled:function(e){ZE.getField(e).each(KS.enable)}}),Uk()])})}
var Xz=function(e,t){var n=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}}
var r=function(e){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:W(e,n)}]}}
var o=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}}
var a=function(e){return{dom:{tag:"tr"},components:W(e,o)}}
var i=function(e){return{dom:{tag:"tbody"},components:W(e,a)}}
return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(e.header),i(e.cells)],behaviours:Hl([e_.config({}),My.config({})])}}
var Kz=function(e,t){var n=e.label.map((function(e){return u_(e,t)}))
var r=[KS.config({disabled:function(){return e.disabled||t.isDisabled()}}),Uk(),fy.config({mode:"execution",useEnter:true!==e.multiline,useControlEnter:true===e.multiline,execute:function(e){la(e,v_)
return R.some(true)}}),Sy("textfield-change",[wa(Mo(),(function(t,n){fa(t,c_,{name:e.name})})),wa(Vo(),(function(t,n){fa(t,c_,{name:e.name})}))]),e_.config({})]
var o=e.validation.map((function(e){return $_.config({getRoot:function(e){return qa(e.element)},invalidClass:"tox-invalid",validator:{validate:function(t){var n=Xm.getValue(t)
var r=e.validator(n)
return R_.pure(true===r?ge.value(n):ge.error(r))},validateOnLoad:e.validateOnLoad}})})).toArray()
var a=e.placeholder.fold(y({}),(function(e){return{placeholder:t.translate(e)}}))
var i=e.inputMode.fold(y({}),(function(e){return{inputmode:e}}))
var u=E(E({},a),i)
var c=ZE.parts.field({tag:true===e.multiline?"textarea":"input",inputAttributes:u,inputClasses:[e.classname],inputBehaviours:Hl(ee([r,o])),selectOnFocus:false,factory:S_})
var s=e.flex?["tox-form__group--stretched"]:[]
var l=s.concat(e.maximized?["tox-form-group--maximize"]:[])
var f=[KS.config({disabled:function(){return e.disabled||t.isDisabled()},onDisabled:function(e){ZE.getField(e).each(KS.disable)},onEnabled:function(e){ZE.getField(e).each(KS.enable)}}),Uk()]
return n_(n,c,l,f)}
var Zz=function(e,t){return Kz({name:e.name,multiline:false,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:false,disabled:e.disabled,classname:"tox-textfield",validation:R.none(),maximized:e.maximized},t)}
var Yz=function(e,t){return Kz({name:e.name,multiline:true,label:e.label,inputMode:R.none(),placeholder:e.placeholder,flex:true,disabled:e.disabled,classname:"tox-textarea",validation:R.none(),maximized:e.maximized},t)}
var Jz=function(e,t){var n=e.stream.streams
var r=n.setup(e,t)
return ha([wa(e.event,r),Aa((function(){return t.cancel()}))].concat(e.cancelEvent.map((function(e){return[wa(e,(function(){return t.cancel()}))]})).getOr([])))}
var Qz=Object.freeze({__proto__:null,events:Jz})
var eB=function(e){var t=Kn(null)
var n=function(){return{timer:null!==t.get()?"set":"unset"}}
var r=function(e){t.set(e)}
var o=function(){var e=t.get()
null!==e&&e.cancel()}
return ou({readState:n,setTimer:r,cancel:o})}
var tB=function(e){return e.stream.streams.state(e)}
var nB=Object.freeze({__proto__:null,throttle:eB,init:tB})
var rB=function(e,t){var n=e.stream
var r=cx(e.onStream,n.delay)
t.setTimer(r)
return function(e,t){r.throttle(e,t)
n.stopEvent&&t.stop()}}
var oB=[wn("stream",cn("mode",{throttle:[yn("delay"),In("stopEvent",true),Vs("streams",{setup:rB,state:eB})]})),In("event","input"),Dn("cancelEvent"),Hs("onStream")]
var aB=Vl({fields:oB,name:"streaming",active:Qz,state:nB})
var iB=function(e,t,n){var r=Xm.getValue(n)
Xm.setValue(t,r)
cB(t)}
var uB=function(e,t){var n=e.element
var r=ac(n)
var o=n.dom
"number"!==Oi(n,"type")&&t(o,r)}
var cB=function(e){uB(e,(function(e,t){return e.setSelectionRange(t.length,t.length)}))}
var sB=function(e,t){uB(e,(function(e,n){return e.setSelectionRange(t,n.length)}))}
var lB=function(e,t,n){if(e.selectsOver){var r=Xm.getValue(t)
var o=e.getDisplayText(r)
var a=Xm.getValue(n)
var i=e.getDisplayText(a)
return 0===i.indexOf(o)?R.some((function(){iB(e,t,n)
sB(t,o.length)})):R.none()}return R.none()}
var fB=y("alloy.typeahead.itemexecute")
var vB=function(e,t,n,r){var o=function(t,n,o){e.previewing.set(false)
var a=J_.getCoupled(t,"sandbox")
if(vm.isOpen(a))bh.getCurrent(a).each((function(e){Ih.getHighlighted(e).fold((function(){o(e)}),(function(){ga(a,e.element,"keydown",n)}))}))
else{var u=function(e){bh.getCurrent(e).each(o)}
aL(e,i(t),t,a,r,u,tL.HighlightFirst).get(g)}}
var a=y_(e)
var i=function(e){return function(t){return t.map((function(t){var n=Ie(t.menus)
var r=te(n,(function(e){return X(e.items,(function(e){return"item"===e.type}))}))
var o=Xm.getState(e)
o.update(W(r,(function(e){return e.data})))
return t}))}}
var u=[My.config({}),Xm.config({onSetValue:e.onSetValue,store:E({mode:"dataset",getDataKey:function(e){return ac(e.element)},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){ic(t.element,e.model.getDisplayText(n))}},e.initialData.map((function(e){return st("initialValue",e)})).getOr({}))}),aB.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:false},onStream:function(t,n){var o=J_.getCoupled(t,"sandbox")
var a=My.isFocused(t)
if(a&&ac(t.element).length>=e.minChars){var u=bh.getCurrent(o).bind((function(e){return Ih.getHighlighted(e).map(Xm.getValue)}))
e.previewing.set(true)
var c=function(t){bh.getCurrent(o).each((function(t){u.fold((function(){e.model.selectsOver&&Ih.highlightFirst(t)}),(function(e){Ih.highlightBy(t,(function(t){var n=Xm.getValue(t)
return n.value===e.value}))
Ih.getHighlighted(t).orThunk((function(){Ih.highlightFirst(t)
return R.none()}))}))}))}
aL(e,i(t),t,o,r,c,tL.HighlightFirst).get(g)}},cancelEvent:Xo()}),fy.config({mode:"special",onDown:function(e,t){o(e,t,Ih.highlightFirst)
return R.some(true)},onEscape:function(e){var t=J_.getCoupled(e,"sandbox")
if(vm.isOpen(t)){vm.close(t)
return R.some(true)}return R.none()},onUp:function(e,t){o(e,t,Ih.highlightLast)
return R.some(true)},onEnter:function(t){var n=J_.getCoupled(t,"sandbox")
var r=vm.isOpen(n)
if(r&&!e.previewing.get())return bh.getCurrent(n).bind((function(e){return Ih.getHighlighted(e)})).map((function(e){fa(t,fB(),{item:e})
return true}))
var o=Xm.getValue(t)
la(t,Xo())
e.onExecute(n,t,o)
r&&vm.close(n)
return R.some(true)}}),Yy.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),J_.config({others:{sandbox:function(t){return fL(e,t,{onOpen:function(){return Yy.on(t)},onClose:function(){return Yy.off(t)}})}}}),Sy("typeaheadevents",[Na((function(t){var n=g
uL(e,i(t),t,r,n,tL.HighlightFirst).get(g)})),wa(fB(),(function(t,n){var r=J_.getCoupled(t,"sandbox")
iB(e.model,t,n.event.item)
la(t,Xo())
e.onItemExecute(t,r,n.event.item,Xm.getValue(t))
vm.close(r)
cB(t)}))].concat(e.dismissOnBlur?[wa(Fo(),(function(e){var t=J_.getCoupled(e,"sandbox")
Ql(t.element).isNone()&&vm.close(t)}))]:[]))]
return{uid:e.uid,dom:x_(Xe(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:E(E({},a),Ym(e.typeaheadBehaviours,u)),eventOrder:e.eventOrder}}
var dB=y([Dn("lazySink"),yn("fetch"),In("minChars",5),In("responseTime",1e3),Ps("onOpen"),In("getHotspot",R.some),In("getAnchorOverrides",y({})),In("layouts",R.none()),In("eventOrder",{}),Gn("model",{},[In("getDisplayText",(function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value})),In("selectsOver",true),In("populateFromBrowse",true)]),Ps("onSetValue"),Is("onExecute"),Ps("onItemExecute"),In("inputClasses",[]),In("inputAttributes",{}),In("inputStyles",{}),In("matchWidth",true),In("useMinWidth",false),In("dismissOnBlur",true),zs(["openClass"]),Dn("initialData"),Km("typeaheadBehaviours",[My,Xm,aB,fy,Yy,J_]),Xn("previewing",(function(){return Kn(true)}))].concat(b_()).concat(dL()))
var mB=y([_g({schema:[Rs()],name:"menu",overrides:function(e){return{fakeFocus:true,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each((function(r){lB(e.model,r,n).fold((function(){return Ih.dehighlight(t,n)}),(function(e){return e()}))})):t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&iB(e.model,t,n)}))
e.previewing.set(false)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOptional().map((function(e){fa(e,fB(),{item:n})
return true}))},onHover:function(t,n){e.previewing.set(false)
t.getSystem().getByUid(e.uid).each((function(t){e.model.populateFromBrowse&&iB(e.model,t,n)}))}}}})])
var gB=uh({name:"Typeahead",configFields:dB(),partFields:mB(),factory:vB})
var hB=function(e){var t=function(){return hB(e.toCached())}
var n=function(t){return hB(e.bind((function(e){return e.fold((function(e){return R_.pure(ge.error(e))}),(function(e){return t(e)}))})))}
var r=function(t){return hB(e.map((function(e){return e.bind(t)})))}
var o=function(t){return hB(e.map((function(e){return e.map(t)})))}
var a=function(t){return hB(e.map((function(e){return e.mapError(t)})))}
var i=function(t,n){return e.map((function(e){return e.fold(t,n)}))}
var u=function(t,n){return hB(R_.nu((function(r){var o=false
var a=setTimeout((function(){o=true
r(ge.error(n()))}),t)
e.get((function(e){if(!o){clearTimeout(a)
r(e)}}))})))}
return E(E({},e),{toCached:t,bindFuture:n,bindResult:r,mapResult:o,mapError:a,foldResult:i,withTimeout:u})}
var pB=function(e){return hB(R_.nu(e))}
var bB=function(e){return hB(R_.pure(ge.value(e)))}
var yB=function(e){return hB(R_.pure(ge.error(e)))}
var wB=function(e){return hB(R_.pure(e))}
var xB=function(e){return hB(e.map(ge.value))}
var CB=function(e){return pB((function(t){e.then((function(e){t(ge.value(e))}),(function(e){t(ge.error(e))}))}))}
var SB={nu:pB,wrap:hB,pure:bB,value:bB,error:yB,fromResult:wB,fromFuture:xB,fromPromise:CB}
var kB={type:"separator"}
var OB=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:g}}
var TB=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:g}}
var EB=function(e){return W(e,OB)}
var _B=function(e,t){return X(t,(function(t){return t.type===e}))}
var LB=function(e,t){return EB(_B(e,t))}
var DB=function(e){return LB("header",e.targets)}
var AB=function(e){return LB("anchor",e.targets)}
var MB=function(e){return R.from(e.anchorTop).map((function(e){return TB("<top>",e)})).toArray()}
var NB=function(e){return R.from(e.anchorBottom).map((function(e){return TB("<bottom>",e)})).toArray()}
var RB=function(e){return W(e,(function(e){return TB(e,e)}))}
var zB=function(e){return Z(e,(function(e,t){var n=0===e.length||0===t.length
return n?e.concat(t):e.concat(kB,t)}),[])}
var BB=function(e,t){var n=e.toLowerCase()
return X(t,(function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text
return mr(t.toLowerCase(),n)||mr(e.value.toLowerCase(),n)}))}
var PB=function(e,t,n){var r=Xm.getValue(t)
var o=void 0!==r.meta.text?r.meta.text:r.value
var a=n.getLinkInformation()
return a.fold((function(){return[]}),(function(t){var r=BB(o,RB(n.getHistory(e)))
return"file"===e?zB([r,BB(o,DB(t)),BB(o,ee([MB(t),AB(t),NB(t)]))]):r}))}
var IB=Pi("aria-invalid")
var HB=function(e,t,n){var r
var o=t.shared.providers
var a=function(t){var r=Xm.getValue(t)
n.addToHistory(r.value,e.filetype)}
var i=ZE.parts.field({factory:gB,dismissOnBlur:true,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":IB,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=PB(e.filetype,r,n)
var a=MR(o,uC.BUBBLE_TO_SANDBOX,t,false)
return R_.pure(a)},getHotspot:function(e){return d.getOpt(e)},onSetValue:function(e,t){e.hasConfigured($_)&&$_.run(e).get(g)},typeaheadBehaviours:Hl(ee([n.getValidationHandler().map((function(t){return $_.config({getRoot:function(e){return qa(e.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){s.getOpt(e).each((function(e){Si(e.element,"title",o.translate(t))}))}},validator:{validate:function(n){var r=Xm.getValue(n)
return SB.nu((function(n){t({type:e.filetype,url:r.value},(function(e){if("invalid"===e.status){var t=ge.error(e.message)
n(t)}else{var r=ge.value(e.message)
n(r)}}))}))},validateOnLoad:false}})})).toArray(),[KS.config({disabled:function(){return e.disabled||o.isDisabled()}}),e_.config({}),Sy("urlinput-events",ee(["file"===e.filetype?[wa(Mo(),(function(t){fa(t,c_,{name:e.name})}))]:[],[wa(No(),(function(t){fa(t,c_,{name:e.name})
a(t)})),wa(Vo(),(function(t){fa(t,c_,{name:e.name})
a(t)}))]]))]])),eventOrder:(r={},r[Mo()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(e){return e.value},selectsOver:false,populateFromBrowse:false},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:zC(false,1,"normal")},onExecute:function(e,t,n){fa(t,v_,{})},onItemExecute:function(t,n,r,o){a(t)
fa(t,c_,{name:e.name})}})
var u=e.label.map((function(e){return u_(e,o)}))
var c=function(e,t,n,r){void 0===n&&(n=e)
void 0===r&&(r=e)
return{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],innerHtml:ex(n,o.icons),attributes:E({title:o.translate(r),"aria-live":"polite"},t.fold((function(){return{}}),(function(e){return{id:e}})))}}}
var s=Jw(c("invalid",R.some(IB),"warning"))
var l=Jw({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[s.asSpec()]})
var f=n.getUrlPicker(e.filetype)
var v=Pi("browser.url.event")
var d=Jw({dom:{tag:"div",classes:["tox-control-wrap"]},components:[i,l.asSpec()],behaviours:Hl([KS.config({disabled:function(){return e.disabled||o.isDisabled()}})])})
var m=Jw(FR({name:e.name,icon:R.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:false,borderless:true},(function(e){return la(e,v)}),o,[],["tox-browse-url"]))
var h=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:ee([[d.asSpec()],f.map((function(){return m.asSpec()})).toArray()])}}
var p=function(t){bh.getCurrent(t).each((function(n){var r=Xm.getValue(n)
var o=E({fieldname:e.name},r)
f.each((function(r){r(o).get((function(r){Xm.setValue(n,r)
fa(t,c_,{name:e.name})}))}))}))}
return ZE.sketch({dom:a_(),components:u.toArray().concat([h()]),fieldBehaviours:Hl([KS.config({disabled:function(){return e.disabled||o.isDisabled()},onDisabled:function(e){ZE.getField(e).each(KS.disable)
m.getOpt(e).each(KS.disable)},onEnabled:function(e){ZE.getField(e).each(KS.enable)
m.getOpt(e).each(KS.enable)}}),Uk(),Sy("url-input-events",[wa(v,p)])])})}
var FB=function(e,t){return WE.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Yw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:ex(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){fa(t,f_,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})}
var VB=function(e,t){var n=Xm.config({store:{mode:"manual",getValue:function(e){var t=e.element.dom
return t.checked},setValue:function(e,t){var n=e.element.dom
n.checked=t}}})
var r=function(e){e.element.dom.click()
return R.some(true)}
var o=ZE.parts.field({factory:{sketch:w},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Hl([_M.self(),KS.config({disabled:function(){return e.disabled||t.isDisabled()}}),e_.config({}),My.config({}),n,fy.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:true}),Sy("checkbox-events",[wa(No(),(function(t,n){fa(t,c_,{name:e.name})}))])])})
var a=ZE.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:Hl([xL.config({})])})
var i=function(e){var n="checked"===e?"selected":"unselected"
return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:ex(n,t.icons)}}}
var u=Jw({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[i("checked"),i("unchecked")]})
return ZE.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),a],fieldBehaviours:Hl([KS.config({disabled:function(){return e.disabled||t.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){ZE.getField(e).each(KS.disable)},onEnabled:function(e){ZE.getField(e).each(KS.enable)}}),Uk()])})}
var jB=function(e){return"presentation"===e.presets?WE.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):WE.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Hl([e_.config({}),My.config({})])})}
var UB=function(e){return function(t,n,r){return He(n,"name").fold((function(){return e(n,r)}),(function(o){return t.field(o,e(n,r))}))}}
var WB=function(e){return function(t,n,r){var o=Xe(n,{source:"dynamic"})
return UB(e)(t,o,r)}}
var qB={bar:UB((function(e,t){return $E(e,t.shared)})),collection:UB((function(e,t){return p_(e,t.shared.providers)})),alertbanner:UB((function(e,t){return FB(e,t.shared.providers)})),input:UB((function(e,t){return Zz(e,t.shared.providers)})),textarea:UB((function(e,t){return Yz(e,t.shared.providers)})),label:UB((function(e,t){return Iz(e,t.shared)})),iframe:WB((function(e,t){return oN(e,t.shared.providers)})),button:UB((function(e,t){return qR(e,t.shared.providers)})),checkbox:UB((function(e,t){return VB(e,t.shared.providers)})),colorinput:UB((function(e,t){return TL(e,t.shared,t.colorinput)})),colorpicker:UB(MM),dropzone:UB((function(e,t){return GM(e,t.shared.providers)})),grid:UB((function(e,t){return XM(e,t.shared)})),listbox:UB((function(e,t){return Uz(e,t)})),selectbox:UB((function(e,t){return Gz(e,t.shared.providers)})),sizeinput:UB((function(e,t){return oz(e,t.shared.providers)})),urlinput:UB((function(e,t){return HB(e,t,t.urlinput)})),customeditor:UB(zM),htmlpanel:UB(jB),imagetools:UB((function(e,t){return Pz(e,t.shared.providers)})),table:UB((function(e,t){return Xz(e,t.shared.providers)})),panel:UB((function(e,t){return Wz(e,t)}))}
var $B={field:function(e,t){return t}}
var GB=function(e,t,n){var r=Xe(n,{shared:{interpreter:function(t){return XB(e,t,r)}}})
return XB(e,t,r)}
var XB=function(e,t,n){return He(qB,t.type).fold((function(){console.error('Unknown factory type "'+t.type+'", defaulting to container: ',t)
return t}),(function(r){return r(e,t,n)}))}
var KB=function(e,t){var n=$B
return XB(n,e,t)}
var ZB={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]}
var YB=function(e,t,n){var r=Rf(-12,12,ZB)
var o={maxHeightFunction:Lf()}
var a=function(){return{anchor:"node",root:ni(e()),node:R.from(e()),bubble:r,layouts:{onRtl:function(){return[$w]},onLtr:function(){return[qw]}},overrides:o}}
var i=function(){return{anchor:"hotspot",hotspot:t(),bubble:r,layouts:{onRtl:function(){return[ml]},onLtr:function(){return[gl]}},overrides:o}}
return function(){return n()?a():i()}}
var JB=function(e,t,n){var r=function(){return{anchor:"node",root:ni(e()),node:R.from(e()),layouts:{onRtl:function(){return[Gw]},onLtr:function(){return[Gw]}}}}
var o=function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[yl]},onLtr:function(){return[yl]}}}}
return function(){return n()?r():o()}}
var QB=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var t=e.selection.getRng()
return R.some(Ev.range(tr.fromDom(t.startContainer),t.startOffset,tr.fromDom(t.endContainer),t.endOffset))}}}}
var eP=function(e){return function(t){return{anchor:"node",root:e(),node:t}}}
var tP=function(e,t,n){var r=kk(e)
var o=function(){return tr.fromDom(e.getBody())}
var a=function(){return tr.fromDom(e.getContentAreaContainer())}
var i=function(){return r||!n()}
return{inlineDialog:YB(a,t,i),banner:JB(a,t,i),cursor:QB(e,o),node:eP(o)}}
var nP=function(e){return function(t,n){var r=LT(e)
r(t,n)}}
var rP=function(e){return function(){return fT(e)}}
var oP=function(e){return function(){return dT(e)}}
var aP=function(e){return function(){return xT(e)}}
var iP=function(e){return{colorPicker:nP(e),hasCustomColors:rP(e),getColors:oP(e),getColorCols:aP(e)}}
var uP=function(e){return function(){return _k(e)}}
var cP=function(e){return{isDraggableModal:uP(e)}}
var sP=function(e){var t=Kn(yk(e)?"bottom":"top")
return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}}
var lP=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}]
var fP=function(e){return Fe(e,"items")}
var vP=function(e){return Fe(e,"block")}
var dP=function(e){return Fe(e,"inline")}
var mP=function(e){return Fe(e,"selector")}
var gP=function(e){return Z(e,(function(e,t){if(fP(t)){var n=gP(t.items)
return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(dP(t)||vP(t)||mP(t)){var r=a(t.name)?t.name:t.title.toLowerCase()
var o="custom-"+r
return{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}}return E(E({},e),{formats:e.formats.concat(t)})}),{customFormats:[],formats:[]})}
var hP=function(e,t){var n=gP(t)
var r=function(t){q(t,(function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)}))}
e.formatter?r(n.customFormats):e.on("init",(function(){r(n.customFormats)}))
return n.formats}
var pP=function(e){return ik(e).map((function(t){var n=hP(e,t)
return uk(e)?lP.concat(n):n})).getOr(lP)}
var bP=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)}
return Xe(e,r)}
var yP=function(e,t,n,r){var o=function(e){return bP(e,n,r)}
var i=function(e){var t={type:"submenu"}
return Xe(e,t)}
var u=function(t){var o=a(t.name)?t.name:Pi(t.title)
var i="custom-"+o
var u={type:"formatter",format:i,isSelected:n(i),getStylePreview:r(i)}
var c=Xe(t,u)
e.formatter.register(o,c)
return c}
var c=function(e){return W(e,(function(e){var t=_e(e)
if(Ve(e,"items")){var n=c(e.items)
return Xe(i(e),{getStyleItems:function(){return n}})}return Ve(e,"format")?o(e):1===t.length&&F(t,"title")?Xe(e,{type:"separator"}):u(e)}))}
return c(t)}
var wP=function(e){var t=function(t){return function(){return e.formatter.match(t)}}
var n=function(t){return function(){var n=e.formatter.get(t)
return void 0!==n?R.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):R.none()}}
var r=function(e){var t=e.items
return void 0!==t&&t.length>0?te(t,r):[e.format]}
var o=Kn([])
var a=Kn([])
var i=Kn([])
var u=Kn([])
var c=Kn(false)
e.on("PreInit",(function(i){var u=pP(e)
var c=yP(e,u,t,n)
o.set(c)
a.set(te(c,r))}))
e.on("addStyleModifications",(function(o){var a=yP(e,o.items,t,n)
i.set(a)
c.set(o.replace)
u.set(te(a,r))}))
var s=function(){var e=c.get()?[]:o.get()
var t=i.get()
return e.concat(t)}
var l=function(){var e=c.get()?[]:a.get()
var t=u.get()
return e.concat(t)}
return{getData:s,getFlattenedKeys:l}}
var xP=function(e){return f(e)&&1===e.nodeType}
var CP=BM.trim
var SP=function(e){return function(t){if(xP(t)){if(t.contentEditable===e)return true
if(t.getAttribute("data-mce-contenteditable")===e)return true}return false}}
var kP=SP("true")
var OP=SP("false")
var TP=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}}
var EP=function(e){while(e=e.parentNode){var t=e.contentEditable
if(t&&"inherit"!==t)return kP(e)}return false}
var _P=function(e,t){return W(Zv(tr.fromDom(t),e),(function(e){return e.dom}))}
var LP=function(e){return e.innerText||e.textContent}
var DP=function(e){return e.id?e.id:Pi("h")}
var AP=function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)}
var MP=function(e){return AP(e)&&RP(e)}
var NP=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)}
var RP=function(e){return EP(e)&&!OP(e)}
var zP=function(e){return NP(e)&&RP(e)}
var BP=function(e){return NP(e)?parseInt(e.nodeName.substr(1),10):0}
var PP=function(e){var t=DP(e)
var n=function(){e.id=t}
return TP("header",LP(e),"#"+t,BP(e),n)}
var IP=function(e){var t=e.id||e.name
var n=LP(e)
return TP("anchor",n||"#"+t,"#"+t,0,g)}
var HP=function(e){return W(X(e,zP),PP)}
var FP=function(e){return W(X(e,MP),IP)}
var VP=function(e){var t=_P("h1,h2,h3,h4,h5,h6,a:not([href])",e)
return t}
var jP=function(e){return CP(e.title).length>0}
var UP=function(e){var t=VP(e)
return X(HP(t).concat(FP(t)),jP)}
var WP={find:UP}
var qP="tinymce-url-history"
var $P=5
var GP=function(e){return a(e)&&/^https?/.test(e)}
var XP=function(e){return u(e)&&e.length<=$P&&ne(e,GP)}
var KP=function(e){return i(e)&&Pe(e,(function(e){return!XP(e)})).isNone()}
var ZP=function(){var e=rT.getItem(qP)
if(null===e)return{}
var t
try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError){console.log("Local storage "+qP+" was not valid JSON",e)
return{}}throw e}if(!KP(t)){console.log("Local storage "+qP+" was not valid format",t)
return{}}return t}
var YP=function(e){if(!KP(e))throw new Error("Bad format for history:\n"+JSON.stringify(e))
rT.setItem(qP,JSON.stringify(e))}
var JP=function(e){var t=ZP()
return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]}
var QP=function(e,t){if(!GP(e))return
var n=ZP()
var r=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[]
var o=X(r,(function(t){return t!==e}))
n[t]=[e].concat(o).slice(0,$P)
YP(n)}
var eI=function(e){return!!e}
var tI=function(e){return Ae(BM.makeMap(e,/[, ]/),eI)}
var nI=function(e){return R.from(Mk(e)).filter(v)}
var rI=function(e){var t=R.some(Nk(e)).filter(eI)
var n=R.some(Rk(e)).filter(eI)
var r=t.or(n).map(tI)
return nI(e).fold(k,(function(e){return r.fold(O,(function(e){return _e(e).length>0&&e}))}))}
var oI=function(e,t){var n=rI(e)
return c(n)?n?nI(e):R.none():n[t]?nI(e):R.none()}
var aI=function(e,t){return oI(e,t).map((function(n){return function(r){return R_.nu((function(o){var u=function(e,t){if(!a(e))throw new Error("Expected value to be string")
if(void 0!==t&&!i(t))throw new Error("Expected meta to be a object")
var n={value:e,meta:t}
o(n)}
var c=E({filetype:t,fieldname:r.fieldname},R.from(r.meta).getOr({}))
n.call(e,u,r.value,c)}))}}))}
var iI=function(e){return R.from(e).filter(a).getOrUndefined()}
var uI=function(e){if(zk(e))return R.none()
return R.some({targets:WP.find(e.getBody()),anchorTop:iI(Bk(e)),anchorBottom:iI(Pk(e))})}
var cI=function(e){return R.from(Ik(e))}
var sI=function(e){return{getHistory:JP,addToHistory:QP,getLinkInformation:function(){return uI(e)},getValidationHandler:function(){return cI(e)},getUrlPicker:function(t){return aI(e,t)}}}
var lI=function(e,t,n){var r=Kn(false)
var o=sP(t)
var a={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:DS.translate,isDisabled:function(){return t.mode.isReadOnly()||t.ui.isDisabled()},getSetting:t.getParam.bind(t)},interpreter:function(e){return KB(e,a)},anchors:tP(t,n,o.isPositionedAtTop),header:o,getSink:function(){return ge.value(e)}},urlinput:sI(t),styleselect:wP(t),colorinput:iP(t),dialog:cP(t),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(e){return r.set(e)}}
return a}
var fI=y((function(e,t){Bc(e,Math.floor(t))}))
var vI="contexttoolbar-show"
var dI="contexttoolbar-hide"
var mI=y([yn("dom"),In("shell",true),Km("toolbarBehaviours",[xy])])
var gI=function(){return{behaviours:Hl([xy.config({})])}}
var hI=y([Lg({name:"groups",overrides:gI})])
var pI=function(e,t,n,r){var o=function(e,t){a(e).fold((function(){console.error("Toolbar was defined to not be a shell, but no groups container was specified in components")
throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(e){xy.set(e,t)}))}
var a=function(t){return e.shell?R.some(t):jg(t,e,"groups")}
var i=e.shell?{behaviours:[xy.config({})],components:[]}:{behaviours:[],components:t}
return{uid:e.uid,dom:e.dom,components:i.components,behaviours:Ym(e.toolbarBehaviours,i.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}}
var bI=uh({name:"Toolbar",configFields:mI(),partFields:hI(),factory:pI,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}})
var yI=function(e,t){var n={len:0,list:[]}
var r=Z(e,(function(e,n){var r=t(n,e.len)
return r.fold(y(e),(function(t){return{len:t.finish,list:e.list.concat([t])}}))}),n)
return r.list}
var wI=function(e,t,n){return{within:e,extra:t,withinWidth:n}}
var xI=function(e,t,n){var r=yI(e,(function(e,t){var r=n(e)
return R.some({element:e,start:t,finish:t+r,width:r})}))
var o=X(r,(function(e){return e.finish<=t}))
var a=K(o,(function(e,t){return e+t.width}),0)
var i=r.slice(o.length)
return{within:o,extra:i,withinWidth:a}}
var CI=function(e){return W(e,(function(e){return e.element}))}
var SI=function(e,t,n){var r=CI(e.concat(t))
return wI(r,[],n)}
var kI=function(e,t,n,r){var o=CI(e).concat([n])
return wI(o,CI(t),r)}
var OI=function(e,t,n){return wI(CI(e),[],n)}
var TI=function(e,t,n){var r=xI(t,e,n)
return 0===r.extra.length?R.some(r):R.none()}
var EI=function(e,t,n,r){var o=TI(e,t,n).getOrThunk((function(){return xI(t,e-n(r),n)}))
var a=o.within
var i=o.extra
var u=o.withinWidth
return 1===i.length&&i[0].width<=n(r)?SI(a,i,u):i.length>=1?kI(a,i,r,u):OI(a,i,u)}
var _I=function(e,t){var n=W(t,(function(e){return wc(e)}))
bI.setGroups(e,n)}
var LI=function(e){return fe(e,(function(e){return Ql(e.element).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}))}
var DI=function(e,t,n){var r=Ug(e,t,"primary")
var o=J_.getCoupled(e,"overflowGroup")
Ku(r.element,"visibility","hidden")
var a=t.builtGroups.get().concat([o])
var i=LI(a)
n([])
_I(r,a)
var u=Rc(r.element)
var c=EI(u,t.builtGroups.get(),(function(e){return Rc(e.element)}),o)
if(0===c.extra.length){xy.remove(r,o)
n([])}else{_I(r,c.within)
n(c.extra)}rc(r.element,"visibility")
oc(r.element)
i.each(My.focus)}
var AI=y([Km("splitToolbarBehaviours",[J_]),Xn("builtGroups",(function(){return Kn([])}))])
var MI=y([zs(["overflowToggledClass"]),Rn("getOverflowBounds"),yn("lazySink"),Xn("overflowGroups",(function(){return Kn([])}))].concat(AI()))
var NI=y([Eg({factory:bI,schema:mI(),name:"primary"}),_g({schema:mI(),name:"overflow"}),_g({name:"overflow-button"}),_g({name:"overflow-group"})])
var RI=y([zs(["toggledClass"]),yn("lazySink"),On("fetch"),Rn("getBounds"),Bn("fireDismissalEventInstead",[In("event",na())]),jf()])
var zI=y([_g({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Hl([Yy.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:false})])}}}),_g({factory:bI,schema:mI(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:Hl([fy.config({mode:"cyclic",onEscape:function(t){jg(t,e,"button").each(My.focus)
return R.none()}})])}}})])
var BI=function(e,t){var n=J_.getCoupled(e,"toolbarSandbox")
vm.isOpen(n)?vm.close(n):vm.open(n,t.toolbar())}
var PI=function(e,t,n,r){var o=n.getBounds.map((function(e){return e()}))
var a=n.lazySink(e).getOrDie()
Md.positionWithinBounds(a,{anchor:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:fI()}},t,o)}
var II=function(e,t,n,r,o){bI.setGroups(t,o)
PI(e,t,n,r)
Yy.on(e)}
var HI=function(e,t,n){var r=hs()
var o=function(o,a){n.fetch().get((function(o){II(e,a,n,t.layouts,o)
r.link(e.element)
fy.focusIn(a)}))}
var a=function(){Yy.off(e)
My.focus(e)
r.unlink(e.element)}
return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Hl([fy.config({mode:"special",onEscape:function(e){vm.close(e)
return R.some(true)}}),vm.config({onOpen:o,onClose:a,isPartOf:function(t,n,r){return bs(n,r)||bs(e,r)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),ql.config({channels:E(E({},pm(E({isExtraPart:k},n.fireDismissalEventInstead.map((function(e){return{fireEventInstead:{event:e.event}}})).getOr({})))),ym({doReposition:function(){vm.getState(J_.getCoupled(e,"toolbarSandbox")).each((function(r){PI(e,r,n,t.layouts)}))}}))})])}}
var FI=function(e,t,n,r){return E(E({},Yw.sketch(E(E({},r.button()),{action:function(e){BI(e,r)},buttonBehaviours:Jm.augment({dump:r.button().buttonBehaviours},[J_.config({others:{toolbarSandbox:function(t){return HI(t,n,e)}}})])}))),{apis:{setGroups:function(t,r){vm.getState(J_.getCoupled(t,"toolbarSandbox")).each((function(o){II(t,o,e,n.layouts,r)}))},reposition:function(t){vm.getState(J_.getCoupled(t,"toolbarSandbox")).each((function(r){PI(t,r,e,n.layouts)}))},toggle:function(e){BI(e,r)},getToolbar:function(e){return vm.getState(J_.getCoupled(e,"toolbarSandbox"))},isOpen:function(e){return vm.isOpen(J_.getCoupled(e,"toolbarSandbox"))}}})}
var VI=uh({name:"FloatingToolbarButton",factory:FI,configFields:RI(),partFields:zI(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)},isOpen:function(e,t){return e.isOpen(t)}}})
var jI=y([yn("items"),zs(["itemSelector"]),Km("tgroupBehaviours",[fy])])
var UI=y([Dg({name:"items",unit:"item"})])
var WI=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:Ym(e.tgroupBehaviours,[fy.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}
var qI=uh({name:"ToolbarGroup",configFields:jI(),partFields:UI(),factory:WI})
var $I=function(e){return W(e,(function(e){return wc(e)}))}
var GI=function(e,t,n){DI(e,n,(function(r){n.overflowGroups.set(r)
t.getOpt(e).each((function(e){VI.setGroups(e,$I(r))}))}))}
var XI=function(e,t,n,r){var o=Jw(VI.sketch({fetch:function(){return R_.nu((function(t){t($I(e.overflowGroups.get()))}))},layouts:{onLtr:function(){return[gl,ml]},onRtl:function(){return[ml,gl]},onBottomLtr:function(){return[pl,hl]},onBottomRtl:function(){return[hl,pl]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}))
return{uid:e.uid,dom:e.dom,components:t,behaviours:Ym(e.splitToolbarBehaviours,[J_.config({others:{overflowGroup:function(){return qI.sketch(E(E({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(W(n,t.getSystem().build))
GI(t,o,e)},refresh:function(t){return GI(t,o,e)},toggle:function(e){o.getOpt(e).each((function(e){VI.toggle(e)}))},isOpen:function(e){return o.getOpt(e).map(VI.isOpen).getOr(false)},reposition:function(e){o.getOpt(e).each((function(e){VI.reposition(e)}))},getOverflow:function(e){return o.getOpt(e).bind(VI.getToolbar)}},domModification:{attributes:{role:"group"}}}}
var KI=uh({name:"SplitFloatingToolbar",configFields:MI(),partFields:NI(),factory:XI,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)},getOverflow:function(e,t){return e.getOverflow(t)}}})
var ZI=function(e,t){return t.getAnimationRoot.fold((function(){return e.element}),(function(t){return t(e)}))}
var YI=function(e){return e.dimension.property}
var JI=function(e,t){return e.dimension.getDimension(t)}
var QI=function(e,t){var n=ZI(e,t)
ju(n,[t.shrinkingClass,t.growingClass])}
var eH=function(e,t){Hu(e.element,t.openClass)
Pu(e.element,t.closedClass)
Ku(e.element,YI(t),"0px")
oc(e.element)}
var tH=function(e,t){Hu(e.element,t.closedClass)
Pu(e.element,t.openClass)
rc(e.element,YI(t))}
var nH=function(e,t,n,r){n.setCollapsed()
Ku(e.element,YI(t),JI(t,e.element))
oc(e.element)
QI(e,t)
eH(e,t)
t.onStartShrink(e)
t.onShrunk(e)}
var rH=function(e,t,n,r){var o=r.getOrThunk((function(){return JI(t,e.element)}))
n.setCollapsed()
Ku(e.element,YI(t),o)
oc(e.element)
var a=ZI(e,t)
Hu(a,t.growingClass)
Pu(a,t.shrinkingClass)
eH(e,t)
t.onStartShrink(e)}
var oH=function(e,t,n){var r=JI(t,e.element)
var o="0px"===r?nH:rH
o(e,t,n,R.some(r))}
var aH=function(e,t,n){var r=ZI(e,t)
var o=Fu(r,t.shrinkingClass)
var a=JI(t,e.element)
tH(e,t)
var i=JI(t,e.element)
var u=function(){Ku(e.element,YI(t),a)
oc(e.element)}
var c=function(){eH(e,t)}
var s=o?u:c
s()
Hu(r,t.shrinkingClass)
Pu(r,t.growingClass)
tH(e,t)
Ku(e.element,YI(t),i)
n.setExpanded()
t.onStartGrow(e)}
var iH=function(e,t,n){if(n.isExpanded()){rc(e.element,YI(t))
var r=JI(t,e.element)
Ku(e.element,YI(t),r)}}
var uH=function(e,t,n){n.isExpanded()||aH(e,t,n)}
var cH=function(e,t,n){n.isExpanded()&&oH(e,t,n)}
var sH=function(e,t,n){n.isExpanded()&&nH(e,t,n,R.none())}
var lH=function(e,t,n){return n.isExpanded()}
var fH=function(e,t,n){return n.isCollapsed()}
var vH=function(e,t,n){var r=ZI(e,t)
return true===Fu(r,t.growingClass)}
var dH=function(e,t,n){var r=ZI(e,t)
return true===Fu(r,t.shrinkingClass)}
var mH=function(e,t,n){return vH(e,t)||dH(e,t)}
var gH=function(e,t,n){var r=n.isExpanded()?oH:aH
r(e,t,n)}
var hH=Object.freeze({__proto__:null,refresh:iH,grow:uH,shrink:cH,immediateShrink:sH,hasGrown:lH,hasShrunk:fH,isGrowing:vH,isShrinking:dH,isTransitioning:mH,toggleGrow:gH,disableTransitions:QI})
var pH=function(e,t,n){var r=t.expanded
return su(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:st(t.dimension.property,"0px")})}
var bH=function(e,t){return ha([La(zo(),(function(n,r){var o=r.event.raw
if(o.propertyName===e.dimension.property){QI(n,e)
t.isExpanded()&&rc(n.element,e.dimension.property)
var a=t.isExpanded()?e.onGrown:e.onShrunk
a(n)}}))])}
var yH=Object.freeze({__proto__:null,exhibit:pH,events:bH})
var wH=[yn("closedClass"),yn("openClass"),yn("shrinkingClass"),yn("growingClass"),Dn("getAnimationRoot"),Ps("onShrunk"),Ps("onStartShrink"),Ps("onGrown"),Ps("onStartGrow"),In("expanded",false),wn("dimension",cn("property",{width:[Vs("property","width"),Vs("getDimension",(function(e){return Rc(e)+"px"}))],height:[Vs("property","height"),Vs("getDimension",(function(e){return Sc(e)+"px"}))]}))]
var xH=function(e){var t=Kn(e.expanded)
var n=function(){return"expanded: "+t.get()}
return ou({isExpanded:function(){return true===t.get()},isCollapsed:function(){return false===t.get()},setCollapsed:x(t.set,false),setExpanded:x(t.set,true),readState:n})}
var CH=Object.freeze({__proto__:null,init:xH})
var SH=Vl({fields:wH,name:"sliding",active:yH,apis:hH,state:CH})
var kH=y([zs(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ps("onOpened"),Ps("onClosed")].concat(AI()))
var OH=y([Eg({factory:bI,schema:mI(),name:"primary"}),Eg({factory:bI,schema:mI(),name:"overflow",overrides:function(e){return{toolbarBehaviours:Hl([SH.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){jg(t,e,"overflow-button").each((function(e){Yy.off(e)
My.focus(e)}))
e.onClosed(t)},onGrown:function(t){fy.focusIn(t)
e.onOpened(t)},onStartGrow:function(t){jg(t,e,"overflow-button").each(Yy.on)}}),fy.config({mode:"acyclic",onEscape:function(t){jg(t,e,"overflow-button").each(My.focus)
return R.some(true)}})])}}}),_g({name:"overflow-button",overrides:function(e){return{buttonBehaviours:Hl([Yy.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:false})])}}}),_g({name:"overflow-group"})])
var TH=function(e,t){return jg(e,t,"overflow").map(SH.hasGrown).getOr(false)}
var EH=function(e,t){jg(e,t,"overflow-button").bind((function(){return jg(e,t,"overflow")})).each((function(n){_H(e,t)
SH.toggleGrow(n)}))}
var _H=function(e,t){jg(e,t,"overflow").each((function(n){DI(e,t,(function(e){var t=W(e,(function(e){return wc(e)}))
bI.setGroups(n,t)}))
jg(e,t,"overflow-button").each((function(e){SH.hasGrown(n)&&Yy.on(e)}))
SH.refresh(n)}))}
var LH=function(e,t,n,r){var o="alloy.toolbar.toggle"
var a=function(t,n){var r=W(n,t.getSystem().build)
e.builtGroups.set(r)}
return{uid:e.uid,dom:e.dom,components:t,behaviours:Ym(e.splitToolbarBehaviours,[J_.config({others:{overflowGroup:function(e){return qI.sketch(E(E({},r["overflow-group"]()),{items:[Yw.sketch(E(E({},r["overflow-button"]()),{action:function(t){la(e,o)}}))]}))}}}),Sy("toolbar-toggle-events",[wa(o,(function(t){EH(t,e)}))])]),apis:{setGroups:function(t,n){a(t,n)
_H(t,e)},refresh:function(t){return _H(t,e)},toggle:function(t){return EH(t,e)},isOpen:function(t){return TH(t,e)}},domModification:{attributes:{role:"group"}}}}
var DH=uh({name:"SplitSlidingToolbar",configFields:kH(),partFields:OH(),factory:LH,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)},isOpen:function(e,t){return e.isOpen(t)}}})
var AH=y(Pi("toolbar-height-change"))
var MH=function(e){var t=e.title.fold((function(){return{}}),(function(e){return{attributes:{title:e}}}))
return{dom:E({tag:"div",classes:["tox-toolbar__group"]},t),components:[qI.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Hl([e_.config({}),My.config({})])}}
var NH=function(e){return qI.sketch(MH(e))}
var RH=function(e,t){var n=Da((function(t){var n=W(e.initGroups,NH)
bI.setGroups(t,n)}))
return Hl([Xk.toolbarButton(e.providers.isDisabled),Uk(),fy.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Sy("toolbar-events",[n])])}
var zH=function(e){var t=e.cyclicKeying?"cyclic":"acyclic"
return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":MH({title:R.none(),items:[]}),"overflow-button":PR({name:"more",icon:R.some("more-drawer"),disabled:false,tooltip:R.some("More..."),primary:false,borderless:false},R.none(),e.providers)},splitToolbarBehaviours:RH(e,t)}}
var BH=function(e){var t=zH(e)
var n=4
var r=KI.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}})
return KI.sketch(E(E({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element
var r=as(t)
var o=Ua(t)
var a=as(o)
var i=Math.max(o.dom.scrollHeight,a.height)
return rs(r.x+n,a.y,r.width-2*n,i)},parts:E(E({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))}
var PH=function(e){var t=DH.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}})
var n=DH.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}})
var r=zH(e)
return DH.sketch(E(E({},r),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([AH()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([AH()],{type:"closed"})}}))}
var IH=function(e){var t=e.cyclicKeying?"cyclic":"acyclic"
return bI.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===mk.scrolling?["tox-toolbar--scrolling"]:[])},components:[bI.parts.groups({})],toolbarBehaviours:RH(e,t)})}
var HH=It([Cn("type"),wn("items",Ft([Zt([Cn("name"),Ln("items",dn)]),dn]))].concat(jx))
var FH=function(e){return nn("GroupToolbarButton",HH,e)}
var VH=[Nn("text"),Nn("tooltip"),Nn("icon"),On("fetch"),Wn("onSetup",(function(){return g}))]
var jH=It(L([Cn("type")],VH))
var UH=function(e){return nn("menubutton",jH,e)}
var WH=It([Cn("type"),Nn("tooltip"),Nn("icon"),Nn("text"),Rn("select"),On("fetch"),Wn("onSetup",(function(){return g})),jn("presets","normal",["normal","color","listpreview"]),In("columns",1),On("onAction"),On("onItemAction")])
var qH=function(e){return nn("SplitButton",WH,e)}
var $H=function(e,t){var n=function(n,r){e.updateState.each((function(e){var o=e(n,r)
t.set(o)}))
e.renderComponents.each((function(e){var o=e(r,t.get())
var a=W(o,n.getSystem().build)
Pd(n,a)}))}
return ha([wa(jo(),(function(t,r){var o=r
if(!o.universal){var a=e.channel
F(o.channels,a)&&n(t,o.data)}})),Da((function(t,r){e.initialData.each((function(e){n(t,e)}))}))])}
var GH=Object.freeze({__proto__:null,events:$H})
var XH=function(e,t,n){return n}
var KH=Object.freeze({__proto__:null,getState:XH})
var ZH=[yn("channel"),Dn("renderComponents"),Dn("updateState"),Dn("initialData")]
var YH=function(){var e=Kn(R.none())
var t=function(t){return e.set(t)}
var n=function(){return e.set(R.none())}
var r=function(){return e.get()}
var o=function(){return e.get().fold((function(){return"none"}),(function(e){return e}))}
return{readState:o,get:r,set:t,clear:n}}
var JH=Object.freeze({__proto__:null,init:YH})
var QH=Vl({fields:ZH,name:"reflecting",active:GH,apis:KH,state:JH})
var eF=y([yn("toggleClass"),yn("fetch"),Hs("onExecute"),In("getHotspot",R.some),In("getAnchorOverrides",y({})),jf(),Hs("onItemExecute"),Dn("lazySink"),yn("dom"),Ps("onOpen"),Km("splitDropdownBehaviours",[J_,fy,My]),In("matchWidth",false),In("useMinWidth",false),In("eventOrder",{}),Dn("role")].concat(dL()))
var tF=Eg({factory:Yw,schema:[yn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Hl([My.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(va)},buttonBehaviours:Hl([Yy.config({toggleOnExecute:false,toggleClass:e.toggleClass})])}}})
var nF=Eg({factory:Yw,schema:[yn("dom")],name:"button",defaults:function(){return{buttonBehaviours:Hl([My.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each((function(n){e.onExecute(n,t)}))}}}})
var rF=y([tF,nF,Lg({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[yn("text")],name:"aria-descriptor"}),_g({schema:[Rs()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each((function(r){e.onItemExecute(r,t,n)}))}}}}),eL()])
var oF=function(e,t,n,r){var o
var a=function(e){bh.getCurrent(e).each((function(e){Ih.highlightFirst(e)
fy.focusIn(e)}))}
var i=function(t){var n=a
uL(e,(function(e){return e}),t,r,n,tL.HighlightFirst).get(g)}
var u=function(e){i(e)
return R.some(true)}
var c=function(t){var n=Ug(t,e,"button")
va(n)
return R.some(true)}
var s=E(E({},ha([Da((function(t,n){var r=jg(t,e,"aria-descriptor")
r.each((function(e){var n=Pi("aria")
Si(e.element,"id",n)
Si(t.element,"aria-describedby",n)}))}))])),Qy(R.some(i)))
var l={repositionMenus:function(e){Yy.isOn(e)&&vL(e)}}
return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:E(E({},e.eventOrder),(o={},o[Uo()]=["disabling","toggling","alloy.base.behaviour"],o)),events:s,behaviours:Ym(e.splitDropdownBehaviours,[J_.config({others:{sandbox:function(t){var n=Ug(t,e,"arrow")
var r={onOpen:function(){Yy.on(n)
Yy.on(t)},onClose:function(){Yy.off(n)
Yy.off(t)}}
return fL(e,t,r)}}}),fy.config({mode:"special",onSpace:c,onEnter:c,onDown:u}),My.config({}),Yy.config({toggleOnExecute:false,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":true}}}}
var aF=uh({name:"SplitDropdown",configFields:eF(),partFields:rF(),factory:oF,apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}})
var iF=function(e){return{isDisabled:function(){return KS.isDisabled(e)},setDisabled:function(t){return KS.set(e,t)}}}
var uF=function(e){return{setActive:function(t){Yy.set(e,t)},isActive:function(){return Yy.isOn(e)},isDisabled:function(){return KS.isDisabled(e)},setDisabled:function(t){return KS.set(e,t)}}}
var cF=function(e,t){return e.map((function(e){return{"aria-label":t.translate(e),title:t.translate(e)}})).getOr({})}
var sF=Pi("focus-button")
var lF=["checklist","ordered-list"]
var fF=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"]
var vF=function(e,t,n,r,o,a){var i
var u=function(e){return DS.isRtl()&&F(lF,e)?e+"-rtl":e}
var c=DS.isRtl()&&e.exists((function(e){return F(fF,e)}))
return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(c?["tox-tbtn__icon-rtl"]:[]),attributes:cF(n,a)},components:tO([e.map((function(e){return dR(u(e),a.icons)})),t.map((function(e){return gR(e,"tox-tbtn",a)}))]),eventOrder:(i={},i[So()]=["focusing","alloy.base.behaviour","common-button-display-events"],i),buttonBehaviours:Hl([Xk.toolbarButton(a.isDisabled),Uk(),Sy("common-button-display-events",[wa(So(),(function(e,t){t.event.prevent()
la(e,sF)}))])].concat(r.map((function(n){return QH.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return tO([e.icon.map((function(e){return dR(u(e),a.icons)})),e.text.map((function(e){return gR(e,"tox-tbtn",a)}))])}})})).toArray()).concat(o.getOr([])))}}
var dF=function(e,t,n,r){var o=t.shared
return VI.sketch({lazySink:o.getSink,fetch:function(){return R_.nu((function(t){t(W(n(e.items),NH))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:vF(e.icon,e.text,e.tooltip,R.none(),R.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})}
var mF=function(e,t,n){var r=Kn(g)
var o=vF(e.icon,e.text,e.tooltip,R.none(),R.none(),n)
return Yw.sketch({dom:o.dom,components:o.components,eventOrder:yR,buttonBehaviours:Hl([Sy("toolbar-button-events",[bR({onAction:e.onAction,getApi:t.getApi}),Zk(t,r),Yk(t,r)]),Xk.toolbarButton((function(){return e.disabled||n.isDisabled()})),Uk()].concat(t.toolbarButtonBehaviours))})}
var gF=function(e,t){return hF(e,t,[])}
var hF=function(e,t,n){return mF(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Sy("toolbarButtonWith",n)]:[]),getApi:iF,onSetup:e.onSetup},t)}
var pF=function(e,t){return bF(e,t,[])}
var bF=function(e,t,n){return Xe(mF(e,{toolbarButtonBehaviours:[xy.config({}),Yy.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:false})].concat(n.length>0?[Sy("toolbarToggleButtonWith",n)]:[]),getApi:uF,onSetup:e.onSetup},t))}
var yF=function(e,t,n){return function(r){return R_.nu((function(e){return t.fetch(e)})).map((function(o){return R.from(cE(Xe(AT(Pi("menu-value"),o,(function(n){t.onItemAction(e(r),n)}),t.columns,t.presets,uC.CLOSE_ON_EXECUTE,t.select.getOr(k),n),{movement:NT(t.columns,t.presets),menuBehaviours:gS.unnamedEvents("auto"!==t.columns?[]:[Da((function(e,n){vS(e,4,LC(t.presets)).each((function(t){var n=t.numRows,r=t.numColumns
fy.setGridSize(e,n,r)}))}))])})))}))}}
var wF=function(e,t){var n
var r=Pi("channel-update-split-dropdown-display")
var o=function(e){return{isDisabled:function(){return KS.isDisabled(e)},setDisabled:function(t){return KS.set(e,t)},setIconFill:function(t,n){ds(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Si(e,"fill",n)}))},setIconStroke:function(t,n){ds(e.element,'svg path[id="'+t+'"], rect[id="'+t+'"]').each((function(e){Si(e,"stroke",n)}))},setActive:function(t){if(e.getSystem().isConnected()){Si(e.element,"aria-pressed",t)
ds(e.element,"span").each((function(n){e.getSystem().getByDom(n).each((function(e){return Yy.set(e,t)}))}))}},isActive:function(){return ds(e.element,"span").exists((function(t){return!!e.getSystem().isConnected()&&e.getSystem().getByDom(t).exists(Yy.isOn)}))}}}
var a=Kn(g)
var i={getApi:o,onSetup:e.onSetup}
return aF.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:E({"aria-pressed":false},cF(e.tooltip,t.providers))},onExecute:function(t){e.onAction(o(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:Hl([Xk.splitButton(t.providers.isDisabled),Uk(),Sy("split-dropdown-events",[wa(sF,My.focus),Zk(i,a),Yk(i,a)]),xL.config({})]),eventOrder:(n={},n[ea()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:yF(o,e,t.providers),parts:{menu:zC(false,e.columns,e.presets)},components:[aF.parts.button(vF(e.icon,e.text,R.none(),R.some(r),R.some([Yy.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:false})]),t.providers)),aF.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ex("chevron-down",t.providers.icons)},buttonBehaviours:Hl([Xk.splitButton(t.providers.isDisabled),Uk()])}),aF.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})}
var xF=function(e){return{hide:function(){return la(e,Go())},getValue:function(){return Xm.getValue(e)}}}
var CF=function(e,t){return wa(pR,(function(n,r){var o=e.get(n)
var a=xF(o)
t.onAction(a,r.event.buttonApi)}))}
var SF=function(e,t,n){var r=t.original,o=(r.primary,_(r,["primary"]))
var a=rn(Wx(E(E({},o),{type:"button",onAction:g})))
return hF(a,n.backstage.shared.providers,[CF(e,t)])}
var kF=function(e,t,n){var r=t.original,o=(r.primary,_(r,["primary"]))
var a=rn(Gx(E(E({},o),{type:"togglebutton",onAction:g})))
return bF(a,n.backstage.shared.providers,[CF(e,t)])}
var OF=function(e,t,n){var r={backstage:{shared:{providers:n}}}
return"contextformtogglebutton"===t.type?kF(e,t,r):SF(e,t,r)}
var TF=function(e,t,n){var r=W(t,(function(t){return Jw(OF(e,t,n))}))
var o=function(){return W(r,(function(e){return e.asSpec()}))}
var a=function(e){return fe(t,(function(t,n){return t.primary?R.from(r[n]).bind((function(t){return t.getOpt(e)})).filter(C(KS.isDisabled)):R.none()}))}
return{asSpecs:o,findPrimary:a}}
var EF=function(e,t){var n=e.label.fold((function(){return{}}),(function(e){return{"aria-label":e}}))
var r=Jw(S_.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:true,inputBehaviours:Hl([fy.config({mode:"special",onEnter:function(e){return o.findPrimary(e).map((function(e){va(e)
return true}))},onLeft:function(e,t){t.cut()
return R.none()},onRight:function(e,t){t.cut()
return R.none()}})])}))
var o=TF(r,e.commands,t)
return[{title:R.none(),items:[r.asSpec()]},{title:R.none(),items:o.asSpecs()}]}
var _F=function(e,t,n){return IH({type:e,uid:Pi("context-toolbar"),initGroups:EF(t,n),onEscape:R.none,cyclicKeying:true,providers:n})}
var LF={renderContextForm:_F,buildInitGroups:EF}
var DF=function(e,t){var n=Math.max(t.x,e.x)
var r=e.right-n
var o=t.width-(n-t.x)
var a=Math.min(r,o)
return{x:n,width:a}}
var AF=function(e,t,n,r){var o=tr.fromDom(e.getContainer())
var a=ds(o,".tox-editor-header").getOr(o)
var i=os(a)
var u=i.y>=t.bottom
var c=r&&!u
if(e.inline&&c)return{y:Math.max(i.bottom,n.y),bottom:n.bottom}
if(e.inline&&!c)return{y:n.y,bottom:Math.min(i.y,n.bottom)}
var s=os(o)
if(c)return{y:Math.max(i.bottom,n.y),bottom:Math.min(s.bottom,n.bottom)}
return{y:Math.max(s.y,n.y),bottom:Math.min(i.y,n.bottom)}}
var MF=function(e,t){var n=Xc(window)
var r=os(tr.fromDom(e.getContentAreaContainer()))
var o=lk(e)||fk(e)||dk(e)
var a=DF(r,n),i=a.x,u=a.width
if(e.inline&&!o)return rs(i,n.y,u,n.height)
var c=t.header.isPositionedAtTop()
var s=AF(e,r,n,c),l=s.y,f=s.bottom
return rs(i,l,u,f-l)}
var NF=function(e,t){var n=X(t,(function(t){return t.predicate(e.dom)}))
var r=G(n,(function(e){return"contexttoolbar"===e.type})),o=r.pass,a=r.fail
return{contextToolbars:o,contextForms:a}}
var RF=function(e){if(e.length<=1)return e
var t=function(t){return V(e,(function(e){return e.position===t}))}
var n=function(t){return X(e,(function(e){return e.position===t}))}
var r=t("selection")
var o=t("node")
if(r||o){if(o&&r){var a=n("node")
var i=W(n("selection"),(function(e){return E(E({},e),{position:"node"})}))
return a.concat(i)}return n(r?"selection":"node")}return n("line")}
var zF=function(e){if(e.length<=1)return e
var t=function(t){return J(e,(function(e){return e.position===t}))}
var n=t("selection").orThunk((function(){return t("node")})).orThunk((function(){return t("line")})).map((function(e){return e.position}))
return n.fold((function(){return[]}),(function(t){return X(e,(function(e){return e.position===t}))}))}
var BF=function(e,t,n){var r=NF(e,t)
if(r.contextForms.length>0)return R.some({elem:e,toolbars:[r.contextForms[0]]})
var o=NF(e,n)
if(o.contextForms.length>0)return R.some({elem:e,toolbars:[o.contextForms[0]]})
if(r.contextToolbars.length>0||o.contextToolbars.length>0){var a=RF(r.contextToolbars.concat(o.contextToolbars))
return R.some({elem:e,toolbars:a})}return R.none()}
var PF=function(e,t,n){return e(t)?R.none():so(t,(function(e){var t=NF(e,n.inNodeScope),r=t.contextToolbars,o=t.contextForms
var a=o.length>0?o:zF(r)
return a.length>0?R.some({elem:e,toolbars:a}):R.none()}),e)}
var IF=function(e,t){var n=tr.fromDom(t.getBody())
var r=function(e){return oo(e,n)}
var o=function(e){return!r(e)&&!uo(n,e)}
var a=tr.fromDom(t.selection.getNode())
if(o(a))return R.none()
return BF(a,e.inNodeScope,e.inEditorScope).orThunk((function(){return PF(r,a,e)}))}
var HF=function(e,t){var n={}
var r=[]
var o=[]
var a={}
var i={}
var u=function(e,u){var c=rn(tC(u))
n[e]=c
c.launch.map((function(n){a["form:"+e]=E(E({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(c)}})}))
"editor"===c.scope?o.push(c):r.push(c)
i[e]=c}
var c=function(e,t){rC(t).each((function(n){"editor"===t.scope?o.push(n):r.push(n)
i[e]=n}))}
var s=_e(e)
q(s,(function(t){var n=e[t]
"contextform"===n.type?u(t,n):"contexttoolbar"===n.type&&c(t,n)}))
return{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:i,formNavigators:a}}
var FF=Pi("forward-slide")
var VF=Pi("backward-slide")
var jF=Pi("change-slide-event")
var UF="tox-pop--resizing"
var WF=function(e){var t=Kn([])
return Pw.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([])
Pw.getContent(e).each((function(e){rc(e.element,"visibility")}))
Hu(e.element,UF)
rc(e.element,"width")},inlineBehaviours:Hl([Sy("context-toolbar-events",[La(zo(),(function(e,t){Hu(e.element,UF)
rc(e.element,"width")})),wa(jF,(function(e,t){var n=e.element
rc(n,"width")
var r=Rc(n)
Pw.setContent(e,t.event.contents)
Pu(n,UF)
var o=Rc(n)
Ku(n,"width",r+"px")
Pw.getContent(e).each((function(e){t.event.focus.bind((function(e){Kl(e)
return Ql(n)})).orThunk((function(){fy.focusIn(e)
return Jl(ti(n))}))}))
Kw.setTimeout((function(){Ku(e.element,"width",o+"px")}),0)})),wa(FF,(function(e,n){Pw.getContent(e).each((function(n){t.set(t.get().concat([{bar:n,focus:Jl(ti(e.element))}]))}))
fa(e,jF,{contents:n.event.forwardContents,focus:R.none()})})),wa(VF,(function(e,n){se(t.get()).each((function(n){t.set(t.get().slice(0,t.get().length-1))
fa(e,jF,{contents:wc(n.bar),focus:n.focus})}))}))]),fy.config({mode:"special",onEscape:function(n){return se(t.get()).fold((function(){return e.onEscape()}),(function(e){la(n,VF)
return R.some(true)}))}})]),lazySink:function(){return ge.value(e.sink)}})}
var qF=function(e,t,n){var r=function(e,r,a,i){var u=t.shared.providers.translate(e.title)
if("separator"===e.type)return R.some({type:"separator",text:u})
if("submenu"===e.type){var c=te(e.getStyleItems(),(function(e){return o(e,r,i)}))
return 0===r&&c.length<=0?R.none():R.some({type:"nestedmenuitem",text:u,disabled:c.length<=0,getSubmenuItems:function(){return te(e.getStyleItems(),(function(e){return o(e,r,i)}))}})}return R.some(E({type:"togglemenuitem",text:u,icon:e.icon,active:e.isSelected(i),disabled:a,onAction:n.onAction(e)},e.getStylePreview().fold((function(){return{}}),(function(e){return{meta:{style:e}}}))))}
var o=function(e,t,o){var a="formatter"===e.type&&n.isInvalid(e)
return 0===t?a?[]:r(e,t,false,o).toArray():r(e,t,a,o).toArray()}
var a=function(e){var t=n.getCurrentValue()
var r=n.shouldHide?0:1
return te(e,(function(e){return o(e,r,t)}))}
var i=function(e,t){return function(n,r){var o=t()
var i=a(o)
var u=MR(i,uC.CLOSE_ON_EXECUTE,e,false)
r(u)}}
return{validateItems:a,getFetch:i}}
var $F=function(e,t,n){var r=n.dataset
var o="basic"===r.type?function(){return W(r.data,(function(e){return bP(e,n.isSelectedFor,n.getPreviewFor)}))}:r.getData
return{items:qF(e,t,n),getStyleItems:o}}
var GF=function(e,t,n){var r=$F(e,t,n),o=r.items,a=r.getStyleItems
var i=function(e){return{getComponent:y(e)}}
var u=function(t){var r=function(){var e=t.getComponent()
e.getSystem().isConnected()&&n.updateText(e)}
r()
e.on("NodeChange",r)
return function(){e.off("NodeChange",r)}}
return CR({text:n.icon.isSome()?R.none():R.some(""),icon:n.icon,tooltip:R.from(n.tooltip),role:R.none(),fetch:o.getFetch(t,a),onSetup:u,getApi:i,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)}
var XF=function(e){return W(e,(function(e){var t=e,n=e
var r=e.split("=")
if(r.length>1){t=r[0]
n=r[1]}return{title:t,format:n}}))}
var KF=function(e){return{type:"basic",data:e}}
var ZF;(function(e){e[e["SemiColon"]=0]="SemiColon"
e[e["Space"]=1]="Space"})(ZF||(ZF={}))
var YF=function(e,t){return t===ZF.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")}
var JF=function(e,t,n,r){var o=e.getParam(t,n,"string")
var a=XF(YF(o,r))
return{type:"basic",data:a}}
var QF=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}]
var eV=function(e){var t=function(){return J(QF,(function(t){return e.formatter.match(t.format)}))}
var n=function(t){return function(){return e.formatter.match(t)}}
var r=function(e){return function(){return R.none()}}
var o=function(e){var n=t()
var r=n.fold((function(){return"left"}),(function(e){return e.title.toLowerCase()}))
fa(e,xR,{icon:"align-"+r})}
var a=KF(QF)
var i=function(t){return function(){return J(QF,(function(e){return e.format===t.format})).each((function(t){return e.execCommand(t.command)}))}}
return{tooltip:"Align",icon:R.some("align-left"),isSelectedFor:n,getCurrentValue:R.none,getPreviewFor:r,onAction:i,updateText:o,dataset:a,shouldHide:false,isInvalid:function(t){return!e.formatter.canApply(t.format)}}}
var tV=function(e,t){return GF(e,t,eV(e))}
var nV=function(e,t){var n=$F(e,t,eV(e))
e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var rV="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"
var oV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"]
var aV=function(e){var t=e.split(/\s*,\s*/)
return W(t,(function(e){return e.replace(/^['"]+|['"]+$/g,"")}))}
var iV=function(e){var t=function(){var t=aV(e.toLowerCase())
return ne(oV,(function(e){return t.indexOf(e.toLowerCase())>-1}))}
return 0===e.indexOf("-apple-system")&&t()}
var uV=function(e){var t=function(){var t=function(e){return e?aV(e)[0]:""}
var n=e.queryCommandValue("FontName")
var r=u.data
var o=n?n.toLowerCase():""
var a=J(r,(function(e){var n=e.format
return n.toLowerCase()===o||t(n).toLowerCase()===t(o).toLowerCase()})).orThunk((function(){return iV(o)?R.from({title:"System Font",format:o}):R.none()}))
return{matchOpt:a,font:n}}
var n=function(e){return function(t){return t.exists((function(t){return t.format===e}))}}
var r=function(){var e=t().matchOpt
return e}
var o=function(e){return function(){return R.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}}
var a=function(t){return function(){e.undoManager.transact((function(){e.focus()
e.execCommand("FontName",false,t.format)}))}}
var i=function(e){var n=t(),r=n.matchOpt,o=n.font
var a=r.fold((function(){return o}),(function(e){return e.title}))
fa(e,wR,{text:a})}
var u=JF(e,"font_formats",rV,ZF.SemiColon)
return{tooltip:"Fonts",icon:R.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:o,onAction:a,updateText:i,dataset:u,shouldHide:false,isInvalid:k}}
var cV=function(e,t){return GF(e,t,uV(e))}
var sV=function(e,t){var n=$F(e,t,uV(e))
e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var lV="8pt 10pt 12pt 14pt 18pt 24pt 36pt"
var fV={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"}
var vV={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"}
var dV=function(e,t){var n=Math.pow(10,t)
return Math.round(e*n)/n}
var mV=function(e,t){return/[0-9.]+px$/.test(e)?dV(72*parseInt(e,10)/96,t||0)+"pt":He(vV,e).getOr(e)}
var gV=function(e){return He(fV,e).getOr("")}
var hV=function(e){var t=function(){var t=R.none()
var n=u.data
var r=e.queryCommandValue("FontSize")
if(r){var o=function(e){var o=mV(r,e)
var a=gV(o)
t=J(n,(function(e){return e.format===r||e.format===o||e.format===a}))}
for(var a=3;t.isNone()&&a>=0;a--)o(a)}return{matchOpt:t,size:r}}
var n=function(e){return function(t){return t.exists((function(t){return t.format===e}))}}
var r=function(){var e=t().matchOpt
return e}
var o=y(R.none)
var a=function(t){return function(){e.undoManager.transact((function(){e.focus()
e.execCommand("FontSize",false,t.format)}))}}
var i=function(e){var n=t(),r=n.matchOpt,o=n.size
var a=r.fold((function(){return o}),(function(e){return e.title}))
fa(e,wR,{text:a})}
var u=JF(e,"fontsize_formats",lV,ZF.Space)
return{tooltip:"Font sizes",icon:R.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:a,updateText:i,dataset:u,shouldHide:false,isInvalid:k}}
var pV=function(e,t){return GF(e,t,hV(e))}
var bV=function(e,t){var n=$F(e,t,hV(e))
e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var yV=function(e,t){var n=t()
var r=W(n,(function(e){return e.format}))
return R.from(e.formatter.closest(r)).bind((function(e){return J(n,(function(t){return t.format===e}))})).orThunk((function(){return dh(e.formatter.match("p"),{title:"Paragraph",format:"p"})}))}
var wV=function(e){var t=Kn(R.none())
var n=function(){return t.get().each(e)}
var r=function(){n()
t.set(R.none())}
var o=function(){return t.get().isSome()}
var a=function(e){n()
t.set(R.some(e))}
return{clear:r,isSet:o,set:a}}
var xV=function(){return wV((function(e){return e.destroy()}))}
var CV=function(){return wV((function(e){return e.unbind()}))}
var SV=function(){var e=Kn(R.none())
var t=function(){return e.set(R.none())}
var n=function(t){return e.set(R.some(t))}
var r=function(){return e.get().isSome()}
var o=function(t){return e.get().each(t)}
return{clear:t,set:n,isSet:r,on:o}}
var kV=function(e,t){return function(n){var r=CV()
var o=function(){n.setActive(e.formatter.match(t))
var o=e.formatter.formatChanged(t,n.setActive)
r.set(o)}
e.initialized?o():e.on("init",o)
return r.clear}}
var OV=function(e){return function(t){return function(){e.undoManager.transact((function(){e.focus()
e.execCommand("mceToggleFormat",false,t.format)}))}}}
var TV="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"
var EV=function(e){var t=function(t){return function(){return e.formatter.match(t)}}
var n=function(t){return function(){var n=e.formatter.get(t)
return R.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}}
var r=function(t){var n=yV(e,(function(){return o.data}))
var r=n.fold((function(){return"Paragraph"}),(function(e){return e.title}))
fa(t,wR,{text:r})}
var o=JF(e,"block_formats",TV,ZF.SemiColon)
return{tooltip:"Blocks",icon:R.none(),isSelectedFor:t,getCurrentValue:R.none,getPreviewFor:n,onAction:OV(e),updateText:r,dataset:o,shouldHide:false,isInvalid:function(t){return!e.formatter.canApply(t.format)}}}
var _V=function(e,t){return GF(e,t,EV(e))}
var LV=function(e,t){var n=$F(e,t,EV(e))
e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var DV=function(e,t){var n=function(t){return function(){return e.formatter.match(t)}}
var r=function(t){return function(){var n=e.formatter.get(t)
return void 0!==n?R.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):R.none()}}
var o=function(t){var n=function(e){var t=e.items
return void 0!==t&&t.length>0?te(t,n):[{title:e.title,format:e.format}]}
var r=te(pP(e),n)
var o=yV(e,(function(){return r}))
var a=o.fold((function(){return"Paragraph"}),(function(e){return e.title}))
fa(t,wR,{text:a})}
return{tooltip:"Formats",icon:R.none(),isSelectedFor:n,getCurrentValue:R.none,getPreviewFor:r,onAction:OV(e),updateText:o,shouldHide:e.getParam("style_formats_autohide",false,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}}
var AV=function(e,t){var n=E({type:"advanced"},t.styleselect)
return GF(e,t,DV(e,n))}
var MV=function(e,t){var n=E({type:"advanced"},t.styleselect)
var r=$F(e,t,DV(e,n))
e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})}
var NV=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}]
var RV=function(e,t){return function(n,r,o){var a=e(n).mapError((function(e){return an(e)})).getOrDie()
return t(a,r,o)}}
var zV={button:RV(Wx,(function(e,t){return gF(e,t.backstage.shared.providers)})),togglebutton:RV(Gx,(function(e,t){return pF(e,t.backstage.shared.providers)})),menubutton:RV(UH,(function(e,t){return RR(e,"tox-tbtn",t.backstage,R.none())})),splitbutton:RV(qH,(function(e,t){return wF(e,t.backstage.shared)})),grouptoolbarbutton:RV(FH,(function(e,t,n){var r
var o=n.ui.registry.getAll().buttons
var a=function(e){return UV(n,{buttons:o,toolbar:e,allowToolbarGroups:false},t,R.none())}
var i=(r={},r[Ff]=t.backstage.shared.header.isPositionedAtTop()?Hf.TopToBottom:Hf.BottomToTop,r)
switch(gk(n)){case mk.floating:return dF(e,t.backstage,a,i)
default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(e,t){return AV(e,t.backstage)},fontsizeSelectButton:function(e,t){return pV(e,t.backstage)},fontSelectButton:function(e,t){return cV(e,t.backstage)},formatButton:function(e,t){return _V(e,t.backstage)},alignMenuButton:function(e,t){return tV(e,t.backstage)}}
var BV=function(e,t,n){return He(zV,e.type).fold((function(){console.error("skipping button defined by",e)
return R.none()}),(function(r){return R.some(r(e,t,n))}))}
var PV={styleselect:zV.styleSelectButton,fontsizeselect:zV.fontsizeSelectButton,fontselect:zV.fontSelectButton,formatselect:zV.formatButton,align:zV.alignMenuButton}
var IV=function(e){var t=W(NV,(function(t){var n=X(t.items,(function(t){return Fe(e,t)||Fe(PV,t)}))
return{name:t.name,items:n}}))
return X(t,(function(e){return e.items.length>0}))}
var HV=function(e){var t=e.split("|")
return W(t,(function(e){return{items:e.trim().split(" ")}}))}
var FV=function(e){return m(e,(function(e){return Fe(e,"name")&&Fe(e,"items")}))}
var VV=function(e){var t=e.toolbar
var n=e.buttons
if(false===t)return[]
if(void 0===t||true===t)return IV(n)
if(a(t))return HV(t)
if(FV(t))return t
console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]")
return[]}
var jV=function(e,t,n,r,o,a){return He(t,n.toLowerCase()).orThunk((function(){return a.bind((function(e){return fe(e,(function(e){return He(t,e+n.toLowerCase())}))}))})).fold((function(){return He(PV,n.toLowerCase()).map((function(t){return t(e,o)})).orThunk((function(){return R.none()}))}),(function(t){if("grouptoolbarbutton"!==t.type||r)return BV(t,o,e)
console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.")
return R.none()}))}
var UV=function(e,t,n,r){var o=VV(t)
var a=W(o,(function(o){var a=te(o.items,(function(o){return 0===o.trim().length?[]:jV(e,t.buttons,o,t.allowToolbarGroups,n,r).toArray()}))
return{title:R.from(e.translate(o.name)),items:a}}))
return X(a,(function(e){return e.items.length>0}))}
var WV=12
var qV={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]}
var $V={maxHeightFunction:Lf(),maxWidthFunction:fI()}
var GV={onLtr:function(){return[bl,yl,hl,ml,pl,gl,Gw,Xw,qw,Uw,$w,Ww]},onRtl:function(){return[bl,yl,pl,gl,hl,ml,Gw,Xw,$w,Ww,qw,Uw]}}
var XV={onLtr:function(){return[yl,ml,gl,hl,pl,bl,Gw,Xw,qw,Uw,$w,Ww]},onRtl:function(){return[yl,gl,ml,pl,hl,bl,Gw,Xw,$w,Ww,qw,Uw]}}
var KV=function(e,t){return"line"===e?{bubble:Rf(WV,0,qV),layouts:{onLtr:function(){return[wl]},onRtl:function(){return[xl]}},overrides:$V}:{bubble:Rf(0,WV,qV),layouts:t?XV:GV,overrides:$V}}
var ZV=function(e,t,n,r){var o=Gr().deviceType.isTouch
var a=yc(WF({sink:n,onEscape:function(){e.focus()
return R.some(true)}}))
var i=function(){return MF(e,r.backstage.shared)}
var u=function(e,t,n,r){return Math.max(e,n)<=Math.min(t,r)}
var c=function(){var t=m.get().filter((function(e){return Wu(tr.fromDom(e))})).map((function(e){return e.getBoundingClientRect()})).getOrThunk((function(){return e.selection.getRng().getBoundingClientRect()}))
var n=e.inline?Wc().top:as(tr.fromDom(e.getBody())).y
return{y:t.top+n,bottom:t.bottom+n}}
var s=function(){if(o()&&r.backstage.isContextMenuOpen())return true
var e=c()
var t=i()
return!u(e.y,e.bottom,t.y,t.bottom)}
var l=function(){d.set(R.none())
Pw.hide(a)}
var f=function(){Pw.hide(a)}
var v=function(){d.get().each((function(e){var t=a.element
rc(t,"display")
s()?Ku(t,"display","none"):Md.positionWithinBounds(n,e,a,R.some(i()))}))}
var d=Kn(R.none())
var m=Kn(R.none())
var h=Kn(null)
var p=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Hl([fy.config({mode:"acyclic"}),Sy("pop-dialog-wrap-events",[Da((function(t){e.shortcuts.add("ctrl+F9","focus statusbar",(function(){return fy.focusIn(t)}))})),Aa((function(t){e.shortcuts.remove("ctrl+F9")}))])])}}
var b=Ze((function(){return HF(t,(function(e){var t=x([e])
fa(a,FF,{forwardContents:p(t)})}))}))
var y=function(t,n){return UV(e,{buttons:t,toolbar:n.items,allowToolbarGroups:false},r,R.some(["form:"]))}
var w=function(e,t){return LF.buildInitGroups(e,t)}
var x=function(t){var n=e.ui.registry.getAll().buttons
var o=b()
var a=E(E({},n),o.formNavigators)
var i=gk(e)===mk.scrolling?mk.scrolling:mk.default
var u=ee(W(t,(function(e){return"contexttoolbar"===e.type?y(a,e):w(e,r.backstage.shared.providers)})))
return IH({type:i,uid:Pi("context-toolbar"),initGroups:u,onEscape:R.none,cyclicKeying:true,providers:r.backstage.shared.providers})}
e.on(vI,(function(t){var n=b()
He(n.lookupTable,t.toolbarKey).each((function(n){S([n],t.target===e?R.none():R.some(t))
Pw.getContent(a).each(fy.focusIn)}))}))
var C=function(e,t){var n="node"===e?r.backstage.shared.anchors.node(t):r.backstage.shared.anchors.cursor()
return Xe(n,KV(e,o()))}
var S=function(e,t){O()
if(o()&&r.backstage.isContextMenuOpen())return
var n=x(e)
var u=t.map(tr.fromDom)
var c=C(e[0].position,u)
d.set(R.some(c))
m.set(t)
var l=a.element
rc(l,"display")
Pw.showWithinBounds(a,c,p(n),(function(){return R.some(i())}))
s()&&Ku(l,"display","none")}
var k=function(){if(!e.hasFocus())return
var t=b()
IF(t,e).fold(l,(function(e){S(e.toolbars,R.some(e.elem.dom))}))}
var O=function(){var e=h.get()
if(null!==e){Kw.clearTimeout(e)
h.set(null)}}
var T=function(){O()
h.set(Kw.setEditorTimeout(e,k,0))}
e.on("init",(function(){e.on(dI,f)
e.on("ScrollContent ScrollWindow longpress",v)
e.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){T()}))
e.on("focusout",(function(t){Kw.setEditorTimeout(e,(function(){Ql(n.element).isNone()&&Ql(a.element).isNone()&&l()}),0)}))
e.on("SwitchMode",(function(){e.mode.isReadOnly()&&l()}))
e.on("AfterProgressState",(function(t){t.state?l():e.hasFocus()&&T()}))
e.on("NodeChange",(function(e){Ql(a.element).fold(T,g)}))}))}
var YV=function(e,t,n){var r=function(e,r){q([t,n],(function(t){t.broadcastEvent(e,r)}))}
var o=function(e,r){q([t,n],(function(t){t.broadcastOn([e],r)}))}
var a=function(e){return o(dm(),{target:e.target})}
var i=dE(tr.fromDom(document),"touchstart",a)
var u=dE(tr.fromDom(document),"touchmove",(function(e){return r(Zo(),e)}))
var c=dE(tr.fromDom(document),"touchend",(function(e){return r(Yo(),e)}))
var s=dE(tr.fromDom(document),"mousedown",a)
var l=dE(tr.fromDom(document),"mouseup",(function(e){0===e.raw.button&&o(gm(),{target:e.target})}))
var f=function(e){return o(dm(),{target:tr.fromDom(e.target)})}
var v=function(e){0===e.button&&o(gm(),{target:tr.fromDom(e.target)})}
var d=function(e){return r(Jo(),gE(e))}
var m=function(e){o(mm(),{})
r(Qo(),gE(e))}
var g=function(){return o(mm(),{})}
var h=function(t){t.state&&o(dm(),{target:tr.fromDom(e.getContainer())})}
e.on("PostRender",(function(){e.on("click",f)
e.on("tap",f)
e.on("mouseup",v)
e.on("ScrollWindow",d)
e.on("ResizeWindow",m)
e.on("ResizeEditor",g)
e.on("AfterProgressState",h)}))
e.on("remove",(function(){e.off("click",f)
e.off("tap",f)
e.off("mouseup",v)
e.off("ScrollWindow",d)
e.off("ResizeWindow",m)
e.off("ResizeEditor",g)
e.off("AfterProgressState",h)
s.unbind()
i.unbind()
u.unbind()
c.unbind()
l.unbind()}))
e.on("detach",(function(){$d(t)
$d(n)
t.destroy()
n.destroy()}))}
var JV=Zg
var QV=Mg
var ej=y([In("shell",false),yn("makeItem"),In("setupItem",g),Jm.field("listBehaviours",[xy])])
var tj=function(){return{behaviours:Hl([xy.config({})])}}
var nj=Lg({name:"items",overrides:tj})
var rj=y([nj])
var oj=y("CustomList")
var aj=function(e,t,n,r){var o=function(t,n){i(t).fold((function(){console.error("Custom List was defined to not be a shell, but no item container was specified in components")
throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=xy.contents(r)
var a=n.length
var i=a-o.length
var u=i>0?j(i,(function(){return e.makeItem()})):[]
var c=o.slice(a)
q(c,(function(e){return xy.remove(r,e)}))
q(u,(function(e){return xy.append(r,e)}))
var s=xy.contents(r)
q(s,(function(r,o){e.setupItem(t,r,n[o],o)}))}))}
var a=e.shell?{behaviours:[xy.config({})],components:[]}:{behaviours:[],components:t}
var i=function(t){return e.shell?R.some(t):jg(t,e,"items")}
return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Ym(e.listBehaviours,a.behaviours),apis:{setItems:o}}}
var ij=uh({name:oj(),configFields:ej(),partFields:rj(),factory:aj,apis:{setItems:function(e,t,n){e.setItems(t,n)}}})
var uj=g
var cj=k
var sj=y([])
var lj=Object.freeze({__proto__:null,setup:uj,isDocked:cj,getBehaviours:sj})
var fj=function(e){var t=ec(e,"position").is("fixed")
var n=t?R.none():Ga(e)
return n.orThunk((function(){var t=tr.fromTag("span")
return qa(e).bind((function(e){fi(e,t)
var n=Ga(t)
hi(t)
return n}))}))}
var vj=function(e){return fj(e).map(Dc).getOrThunk((function(){return Ec(0,0)}))}
var dj=Ue.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}])
var mj=function(e,t){var n=e.element
Pu(n,t.transitionClass)
Hu(n,t.fadeOutClass)
Pu(n,t.fadeInClass)
t.onShow(e)}
var gj=function(e,t){var n=e.element
Pu(n,t.transitionClass)
Hu(n,t.fadeInClass)
Pu(n,t.fadeOutClass)
t.onHide(e)}
var hj=function(e,t){return e.y<t.bottom&&e.bottom>t.y}
var pj=function(e,t){return e.y>=t.y}
var bj=function(e,t){return e.bottom<=t.bottom}
var yj=function(e,t,n){return ne(e,(function(e){switch(e){case"bottom":return bj(t,n)
case"top":return pj(t,n)}}))}
var wj=function(e,t){return t.getInitialPosition().map((function(t){return rs(t.bounds.x,t.bounds.y,Rc(e),Sc(e))}))}
var xj=function(e,t,n){n.setInitialPosition(R.some({style:tc(e),position:Ju(e,"position")||"static",bounds:t}))}
var Cj=function(e,t,n){return n.getInitialPosition().bind((function(r){n.setInitialPosition(R.none())
switch(r.position){case"static":return R.some(dj.static())
case"absolute":var o=fj(e).map(os).getOrThunk((function(){return os(qu())}))
return R.some(dj.absolute(tf("absolute",He(r.style,"left").map((function(e){return t.x-o.x})),He(r.style,"top").map((function(e){return t.y-o.y})),He(r.style,"right").map((function(e){return o.right-t.right})),He(r.style,"bottom").map((function(e){return o.bottom-t.bottom})))))
default:return R.none()}}))}
var Sj=function(e,t,n){return wj(e,n).filter((function(e){return yj(n.getModes(),e,t)})).bind((function(t){return Cj(e,t,n)}))}
var kj=function(e,t,n){var r=os(e)
if(yj(n.getModes(),r,t))return R.none()
xj(e,r,n)
var o=is()
var a=r.x-o.x
var i=t.y-o.y
var u=o.bottom-t.bottom
var c=r.y<=t.y
return R.some(dj.fixed(tf("fixed",R.some(a),c?R.some(i):R.none(),R.none(),c?R.none():R.some(u))))}
var Oj=function(e,t,n){var r=e.element
var o=ec(r,"position").is("fixed")
return o?Sj(r,t,n):kj(r,t,n)}
var Tj=function(e,t){var n=e.element
return wj(n,t).bind((function(e){return Cj(n,e,t)}))}
var Ej=function(e,t){q(["left","right","top","bottom","position"],(function(t){return rc(e.element,t)}))
t.onUndocked(e)}
var _j=function(e,t,n){nf(e.element,n)
var r="fixed"===n.position?t.onDocked:t.onUndocked
r(e)}
var Lj=function(e,t,n,r,o){void 0===o&&(o=false)
t.contextual.each((function(t){t.lazyContext(e).each((function(a){var i=hj(a,r)
if(i!==n.isVisible()){n.setVisible(i)
if(o&&!i){Vu(e.element,[t.fadeOutClass])
t.onHide(e)}else{var u=i?mj:gj
u(e,t)}}}))}))}
var Dj=function(e,t,n){var r=t.lazyViewport(e)
var o=n.isDocked()
o&&Lj(e,t,n,r)
Oj(e,r,n).each((function(a){n.setDocked(!o)
a.fold((function(){return Ej(e,t)}),(function(n){return _j(e,t,n)}),(function(o){Lj(e,t,n,r,true)
_j(e,t,o)}))}))}
var Aj=function(e,t,n){var r=e.element
n.setDocked(false)
Tj(e,n).each((function(n){n.fold((function(){return Ej(e,t)}),(function(n){return _j(e,t,n)}),g)}))
n.setVisible(true)
t.contextual.each((function(t){ju(r,[t.fadeInClass,t.fadeOutClass,t.transitionClass])
t.onShow(e)}))
Mj(e,t,n)}
var Mj=function(e,t,n){e.getSystem().isConnected()&&Dj(e,t,n)}
var Nj=function(e,t,n){n.isDocked()&&Aj(e,t,n)}
var Rj=function(e,t,n){return n.isDocked()}
var zj=function(e,t,n,r){return n.setModes(r)}
var Bj=function(e,t,n){return n.getModes()}
var Pj=Object.freeze({__proto__:null,refresh:Mj,reset:Nj,isDocked:Rj,getModes:Bj,setModes:zj})
var Ij=function(e,t){return ha([La(zo(),(function(n,r){e.contextual.each((function(e){if(Fu(n.element,e.transitionClass)){ju(n.element,[e.transitionClass,e.fadeInClass])
var o=t.isVisible()?e.onShown:e.onHidden
o(n)}r.stop()}))})),wa(Jo(),(function(n,r){Mj(n,e,t)})),wa(Qo(),(function(n,r){Nj(n,e,t)}))])}
var Hj=Object.freeze({__proto__:null,events:Ij})
var Fj=[Bn("contextual",[Cn("fadeInClass"),Cn("fadeOutClass"),Cn("transitionClass"),On("lazyContext"),Ps("onShow"),Ps("onShown"),Ps("onHide"),Ps("onHidden")]),Wn("lazyViewport",is),$n("modes",["top","bottom"],dn),Ps("onDocked"),Ps("onUndocked")]
var Vj=function(e){var t=Kn(false)
var n=Kn(true)
var r=Kn(R.none())
var o=Kn(e.modes)
var a=function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+o.get().join(",")}
return ou({isDocked:t.get,setDocked:t.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:a})}
var jj=Object.freeze({__proto__:null,init:Vj})
var Uj=Vl({fields:Fj,name:"docking",active:Hj,apis:Pj,state:jj})
var Wj={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"}
var qj="tox-tinymce--toolbar-sticky-on"
var $j="tox-tinymce--toolbar-sticky-off"
var Gj=function(e,t){var n=Va(t)
var r=n.dom.defaultView.innerHeight
var o=Wc(n)
var a=tr.fromDom(e.elm)
var i=as(a)
var u=Sc(a)
var c=i.y
var s=c+u
var l=Dc(t)
var f=Sc(t)
var v=l.top
var d=v+f
var m=Math.abs(v-o.top)<2
var g=Math.abs(d-(o.top+r))<2
if(m&&c<d)qc(o.left,c-f,n)
else if(g&&s>v){var h=c-r+u+f
qc(o.left,h,n)}}
var Xj=function(e,t){return F(Uj.getModes(e),t)}
var Kj=function(e){var t=function(e){return kc(e)+(parseInt(Ju(e,"margin-top"),10)||0)+(parseInt(Ju(e,"margin-bottom"),10)||0)}
var n=e.element
qa(n).each((function(r){var o="padding-"+Uj.getModes(e)[0]
if(Uj.isDocked(e)){var a=Rc(r)
Ku(n,"width",a+"px")
Ku(r,o,t(n)+"px")}else{rc(n,"width")
rc(r,o)}}))}
var Zj=function(e,t){if(t){Hu(e,Wj.fadeOutClass)
Vu(e,[Wj.transitionClass,Wj.fadeInClass])}else{Hu(e,Wj.fadeInClass)
Vu(e,[Wj.fadeOutClass,Wj.transitionClass])}}
var Yj=function(e,t){var n=tr.fromDom(e.getContainer())
if(t){Pu(n,qj)
Hu(n,$j)}else{Pu(n,$j)
Hu(n,qj)}}
var Jj=function(e,t){var n=Va(t)
Jl(n).filter((function(e){return!oo(t,e)})).filter((function(t){return oo(t,tr.fromDom(n.dom.body))||uo(e,t)})).each((function(){return Kl(t)}))}
var Qj=function(e,t){return Ql(e).orThunk((function(){return t().toOptional().bind((function(e){return Ql(e.element)}))}))}
var eU=function(e,t,n){if(!e.inline){t.header.isPositionedAtTop()||e.on("ResizeEditor",(function(){n().each(Uj.reset)}))
e.on("ResizeWindow ResizeEditor",(function(){n().each(Kj)}))
e.on("SkinLoaded",(function(){n().each((function(e){Uj.isDocked(e)?Uj.reset(e):Uj.refresh(e)}))}))
e.on("FullscreenStateChanged",(function(){n().each(Uj.reset)}))}e.on("AfterScrollIntoView",(function(e){n().each((function(t){Uj.refresh(t)
var n=t.element
Np(n)&&Gj(e,n)}))}))
e.on("PostRender",(function(){Yj(e,false)}))}
var tU=function(e){return e().map(Uj.isDocked).getOr(false)}
var nU=function(){var e
return[ql.config({channels:(e={},e[AH()]={onReceive:Kj},e)})]}
var rU=function(e,t){var n=Kn(R.none())
var r=t.getSink
var o=function(e){r().each((function(t){return e(t.element)}))}
var a=function(t){e.inline||Kj(t)
Yj(e,Uj.isDocked(t))
t.getSystem().broadcastOn([mm()],{})
r().each((function(e){return e.getSystem().broadcastOn([mm()],{})}))}
var i=e.inline?[]:nU()
return L([My.config({}),Uj.config({contextual:E({lazyContext:function(t){var n=kc(t.element)
var r=e.inline?e.getContentAreaContainer():e.getContainer()
var o=os(tr.fromDom(r))
var a=o.height-n
var i=o.y+(Xj(t,"top")?0:n)
return R.some(rs(o.x,i,o.width,a))},onShow:function(){o((function(e){return Zj(e,true)}))},onShown:function(e){o((function(e){return ju(e,[Wj.transitionClass,Wj.fadeInClass])}))
n.get().each((function(t){Jj(e.element,t)
n.set(R.none())}))},onHide:function(e){n.set(Qj(e.element,r))
o((function(e){return Zj(e,false)}))},onHidden:function(){o((function(e){return ju(e,[Wj.transitionClass])}))}},Wj),modes:[t.header.getDockingMode()],onDocked:a,onUndocked:a})],i)}
var oU=Object.freeze({__proto__:null,setup:eU,isDocked:tU,getBehaviours:rU})
var aU=function(e){var t=e.editor
var n=e.sticky?rU:sj
return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Hl(n(t,e.sharedBackstage))}}
var iU=function(e,t){var n=function(e,n){var r=W(n,(function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}}
var r=UH(n).mapError((function(e){return an(e)})).getOrDie()
return RR(r,"tox-mbtn",t.backstage,R.some("menuitem"))}))
xy.set(e,r)}
var r={focus:fy.focusIn,setMenus:n}
return{uid:e.uid,dom:e.dom,components:[],behaviours:Hl([xy.config({}),Sy("menubar-events",[Da((function(t){e.onSetup(t)})),wa(Eo(),(function(e,t){ds(e.element,".tox-mbtn--active").each((function(n){ms(t.event.target,".tox-mbtn").each((function(t){oo(n,t)||e.getSystem().getByDom(n).each((function(n){e.getSystem().getByDom(t).each((function(e){pL.expand(e)
pL.close(n)
My.focus(e)}))}))}))}))})),wa(oa(),(function(e,t){t.event.prevFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(n){t.event.newFocus.bind((function(t){return e.getSystem().getByDom(t).toOptional()})).each((function(e){if(pL.isOpen(n)){pL.expand(e)
pL.close(n)}}))}))}))]),fy.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){e.onEscape(t)
return R.some(true)}}),e_.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}}
var uU=ih({factory:iU,name:"silver.Menubar",configFields:[yn("dom"),yn("uid"),yn("onEscape"),yn("backstage"),In("onSetup",g)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}})
var cU="container"
var sU=[Km("slotBehaviours",[])]
var lU=function(e){return"<alloy.field."+e+">"}
var fU=function(e){var t=function(){var e=[]
var t=function(t,n){e.push(t)
return Pg(cU,lU(t),n)}
return{slot:t,record:function(){return e}}}()
var n=e(t)
var r=t.record()
var o=W(r,(function(e){return Eg({name:e,pname:lU(e)})}))
return eh(cU,sU,o,vU,n)}
var vU=function(e,t){var n=function(t){return $g(e)}
var r=function(t,n){return jg(t,e,n)}
var o=function(t,n){return function(r,o){return jg(r,e,o).map((function(e){return t(e,o)})).getOr(n)}}
var a=function(e){return function(t,n){q(n,(function(n){return e(t,n)}))}}
var i=function(e,t){return"true"!==Oi(e.element,"aria-hidden")}
var u=function(e,t){if(!i(e)){var n=e.element
rc(n,"display")
_i(n,"aria-hidden")
fa(e,aa(),{name:t,visible:true})}}
var c=function(e,t){if(i(e)){var n=e.element
Ku(n,"display","none")
Si(n,"aria-hidden","true")
fa(e,aa(),{name:t,visible:false})}}
var s=o(i,false)
var l=o(c)
var f=a(l)
var v=function(e){return f(e,n())}
var d=o(u)
var m={getSlotNames:n,getSlot:r,isShowing:s,hideSlot:l,hideAllSlots:v,showSlot:d}
return{uid:e.uid,dom:e.dom,components:t,behaviours:Zm(e.slotBehaviours),apis:m}}
var dU=Ae({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},(function(e){return nu(e)}))
var mU=E(E({},dU),{sketch:fU})
var gU=It([Nn("icon"),Nn("tooltip"),Wn("onShow",g),Wn("onHide",g),Wn("onSetup",(function(){return g}))])
var hU=function(e){return nn("sidebar",gU,e)}
var pU=function(e){var t=e.ui.registry.getAll().sidebars
q(_e(t),(function(n){var r=t[n]
var o=function(){return R.from(e.queryCommandValue("ToggleSidebar")).is(n)}
e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",false,n)
t.setActive(o())},onSetup:function(t){var n=function(){return t.setActive(o())}
e.on("ToggleSidebar",n)
return function(){e.off("ToggleSidebar",n)}}})}))}
var bU=function(e){return{element:function(){return e.element.dom}}}
var yU=function(e,t){var n=W(_e(t),(function(e){var n=t[e]
var r=rn(hU(n))
return{name:e,getApi:bU,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}))
return W(n,(function(t){var r=Kn(g)
return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:gS.unnamedEvents([Zk(t,r),Yk(t,r),wa(aa(),(function(e,t){var r=t.event
var o=J(n,(function(e){return e.name===r.name}))
o.each((function(t){var n=r.visible?t.onShow:t.onHide
n(t.getApi(e))}))}))])})}))}
var wU=function(e){return mU.sketch((function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:yU(t,e),slotBehaviours:gS.unnamedEvents([Da((function(e){return mU.hideAllSlots(e)}))])}}))}
var xU=function(e,t){var n=bh.getCurrent(e)
n.each((function(e){return xy.set(e,[wU(t)])}))}
var CU=function(e,t){var n=bh.getCurrent(e)
n.each((function(e){var n=bh.getCurrent(e)
n.each((function(n){if(SH.hasGrown(e))if(mU.isShowing(n,t))SH.shrink(e)
else{mU.hideAllSlots(n)
mU.showSlot(n,t)}else{mU.hideAllSlots(n)
mU.showSlot(n,t)
SH.grow(e)}}))}))}
var SU=function(e){var t=bh.getCurrent(e)
return t.bind((function(e){var t=SH.isGrowing(e)||SH.hasGrown(e)
if(t){var n=bh.getCurrent(e)
return n.bind((function(e){return J(mU.getSlotNames(e),(function(t){return mU.isShowing(e,t)}))}))}return R.none()}))}
var kU=Pi("FixSizeEvent")
var OU=Pi("AutoSizeEvent")
var TU=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Hl([e_.config({}),My.config({}),SH.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){var t=bh.getCurrent(e)
t.each(mU.hideAllSlots)
la(e,OU)},onGrown:function(e){la(e,OU)},onStartGrow:function(e){fa(e,kU,{width:ec(e.element,"width").getOr("")})},onStartShrink:function(e){fa(e,kU,{width:Rc(e.element)+"px"})}}),xy.config({}),bh.config({find:function(e){var t=xy.contents(e)
return ce(t)}})])}],behaviours:Hl([_M.childAt(0),Sy("sidebar-sliding-events",[wa(kU,(function(e,t){Ku(e.element,"width",t.event.width)})),wa(OU,(function(e,t){rc(e.element,"width")}))])])}}
var EU=function(e){var t=void 0!==e.dom.attributes?e.dom.attributes:[]
return Z(t,(function(e,t){var n
return"class"===t.name?e:E(E({},e),(n={},n[t.name]=t.value,n))}),{})}
var _U=function(e){return Array.prototype.slice.call(e.dom.classList,0)}
var LU=function(e){var t=tr.fromHtml(e)
var n=Ka(t)
var r=EU(t)
var o=_U(t)
var a=0===n.length?{}:{innerHtml:yi(t)}
return E({tag:Ra(t),classes:o,attributes:r},a)}
var DU=function(e){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:LU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Hl([fy.config({mode:"special",onTab:function(){return R.some(true)},onShiftTab:function(){return R.some(true)}}),My.config({})])}}
var AU=function(e,t,n){var r=e.element
if(true===t){xy.set(e,[DU(n)])
rc(r,"display")
_i(r,"aria-hidden")}else{xy.set(e,[])
Ku(r,"display","none")
Si(r,"aria-hidden","true")}}
var MU=function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Hl([xy.config({})]),components:[]}}
var NU=function(e,t,n){var r=Kn(false)
var o=Kn(R.none())
var a=function(o){if(o!==r.get()){AU(t(),o,n.providers)
r.set(o)
e.fire("AfterProgressState",{state:o})}}
e.on("ProgressState",(function(t){o.get().each(Kw.clearTimeout)
if(d(t.time)){var n=Kw.setEditorTimeout(e,(function(){return a(t.state)}),t.time)
o.set(R.some(n))}else{a(t.state)
o.set(R.none())}}))}
var RU=function(e,t,n){var r={getSocket:function(t){return JV.getPart(t,e,"socket")},setSidebar:function(t,n){JV.getPart(t,e,"sidebar").each((function(e){return xU(e,n)}))},toggleSidebar:function(t,n){JV.getPart(t,e,"sidebar").each((function(e){return CU(e,n)}))},whichSidebar:function(t){return JV.getPart(t,e,"sidebar").bind(SU).getOrNull()},getHeader:function(t){return JV.getPart(t,e,"header")},getToolbar:function(t){return JV.getPart(t,e,"toolbar")},setToolbar:function(t,n){JV.getPart(t,e,"toolbar").each((function(e){e.getApis().setGroups(e,n)}))},setToolbars:function(t,n){JV.getPart(t,e,"multiple-toolbar").each((function(e){ij.setItems(e,n)}))},refreshToolbar:function(t){var n=JV.getPart(t,e,"toolbar")
n.each((function(e){return e.getApis().refresh(e)}))},toggleToolbarDrawer:function(t){JV.getPart(t,e,"toolbar").each((function(e){vh(e.getApis().toggle,(function(t){return t(e)}))}))},isToolbarDrawerToggled:function(t){return JV.getPart(t,e,"toolbar").bind((function(e){return R.from(e.getApis().isOpen).map((function(t){return t(e)}))})).getOr(false)},getThrobber:function(t){return JV.getPart(t,e,"throbber")},focusToolbar:function(t){var n=JV.getPart(t,e,"toolbar").orThunk((function(){return JV.getPart(t,e,"multiple-toolbar")}))
n.each((function(e){fy.focusIn(e)}))},setMenubar:function(t,n){JV.getPart(t,e,"menubar").each((function(e){uU.setMenus(e,n)}))},focusMenubar:function(t){JV.getPart(t,e,"menubar").each((function(e){uU.focus(e)}))}}
return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}}
var zU=QV.optional({factory:uU,name:"menubar",schema:[yn("backstage")]})
var BU=function(e){return e.type===mk.sliding?PH:e.type===mk.floating?BH:IH}
var PU=QV.optional({factory:{sketch:function(e){return ij.sketch({uid:e.uid,dom:e.dom,listBehaviours:Hl([fy.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return IH({type:e.type,uid:Pi("multiple-toolbar-item"),cyclicKeying:false,initGroups:[],providers:e.providers,onEscape:function(){e.onEscape()
return R.some(true)}})},setupItem:function(e,t,n,r){bI.setGroups(t,n)},shell:true})}},name:"multiple-toolbar",schema:[yn("dom"),yn("onEscape")]})
var IU=QV.optional({factory:{sketch:function(e){var t=BU(e)
var n={type:e.type,uid:e.uid,onEscape:function(){e.onEscape()
return R.some(true)},cyclicKeying:false,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes}
return t(n)}},name:"toolbar",schema:[yn("dom"),yn("onEscape"),yn("getSink")]})
var HU=QV.optional({factory:{sketch:aU},name:"header",schema:[yn("dom")]})
var FU=QV.optional({name:"socket",schema:[yn("dom")]})
var VU=QV.optional({factory:{sketch:TU},name:"sidebar",schema:[yn("dom")]})
var jU=QV.optional({factory:{sketch:MU},name:"throbber",schema:[yn("dom")]})
var UU=uh({name:"OuterContainer",factory:RU,configFields:[yn("dom"),yn("behaviours")],partFields:[HU,zU,IU,PU,FU,VU,jU],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=W(n,(function(e){return NH(e)}))
e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=W(n,(function(e){return W(e,NH)}))
e.setToolbars(t,r)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},toggleToolbarDrawer:function(e,t){e.toggleToolbarDrawer(t)},isToolbarDrawerToggled:function(e,t){return e.isToolbarDrawerToggled(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}})
var WU="file edit view insert format tools table help"
var qU={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}}
var $U=function(e,t,n){var r=sk(n).split(/[ ,]/)
return{text:e.title,getItems:function(){return te(e.items,(function(e){var n=e.toLowerCase()
return 0===n.trim().length||V(r,(function(e){return e===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]}))}}}
var GU=function(e){if("string"===typeof e)return e.split(" ")
return e}
var XU=function(e,t){var n=E(E({},qU),t.menus)
var r=_e(t.menus).length>0
var o=void 0===t.menubar||true===t.menubar?GU(WU):GU(false===t.menubar?"":t.menubar)
var a=X(o,(function(e){return r&&t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||qU.hasOwnProperty(e)}))
var i=W(a,(function(r){var o=n[r]
return $U({title:o.title,items:GU(o.items)},t,e)}))
return X(i,(function(e){var t=function(e){return"separator"!==e.type}
return e.getItems().length>0&&V(e.getItems(),t)}))}
var KU=function(e){var t=function(){e._skinLoaded=true
YO(e)}
return function(){e.initialized?t():e.on("init",t)}}
var ZU=function(e,t){return function(){return JO(e,{message:t})}}
var YU=function(e,t,n){return new kx((function(r,o){n.load(t,r,o)
e.on("remove",(function(){return n.unload(t)}))}))}
var JU=function(e,t){var n=t+"/skin.min.css"
return YU(e,n,e.ui.styleSheetLoader)}
var QU=function(e,t){var n=ri(tr.fromDom(e.getElement()))
if(n){var r=t+"/skin.shadowdom.min.css"
return YU(e,r,LS.DOM.styleSheetLoader)}return kx.resolve()}
var eW=function(e,t){var n=YS(t)
n&&t.contentCSS.push(n+(e?"/content.inline":"/content")+".min.css")
false===QS(t)&&a(n)?kx.all([JU(t,n),QU(t,n)]).then(KU(t),ZU(t,"Skin could not be loaded")):KU(t)()}
var tW=x(eW,false)
var nW=x(eW,true)
var rW=function(e,t,n,r){var o=t.outerContainer
var i=n.toolbar
var u=n.buttons
if(m(i,a)){var c=i.map((function(t){var o={toolbar:t,buttons:u,allowToolbarGroups:n.allowToolbarGroups}
return UV(e,o,{backstage:r},R.none())}))
UU.setToolbars(o,c)}else UU.setToolbar(o,UV(e,n,{backstage:r},R.none()))}
var oW=Gr()
var aW=oW.os.isiOS()&&oW.os.version.major<=12
var iW=function(e,t){var n=e.dom
var r=e.getWin()
var o=e.getDoc().documentElement
var a=Kn(Ec(r.innerWidth,r.innerHeight))
var i=Kn(Ec(o.offsetWidth,o.offsetHeight))
var u=function(){var t=a.get()
if(t.left!==r.innerWidth||t.top!==r.innerHeight){a.set(Ec(r.innerWidth,r.innerHeight))
eT(e)}}
var c=function(){var t=e.getDoc().documentElement
var n=i.get()
if(n.left!==t.offsetWidth||n.top!==t.offsetHeight){i.set(Ec(t.offsetWidth,t.offsetHeight))
eT(e)}}
var s=function(t){return tT(e,t)}
n.bind(r,"resize",u)
n.bind(r,"scroll",s)
var l=mE(tr.fromDom(e.getBody()),"load",c)
var f=t.uiMothership.element
e.on("hide",(function(){Ku(f,"display","none")}))
e.on("show",(function(){rc(f,"display")}))
e.on("NodeChange",c)
e.on("remove",(function(){l.unbind()
n.unbind(r,"resize",u)
n.unbind(r,"scroll",s)
r=null}))}
var uW=function(e,t,n,r,o){var a=Kn(0)
var i=t.outerContainer
tW(e)
var u=tr.fromDom(o.targetNode)
var c=ni(ti(u))
Wd(u,t.mothership)
Ud(c,t.uiMothership)
e.on("PostRender",(function(){rW(e,t,n,r)
a.set(e.getWin().innerWidth)
UU.setMenubar(i,XU(e,n))
UU.setSidebar(i,n.sidebar)
iW(e,t)}))
var s=UU.getSocket(i).getOrDie("Could not find expected socket element")
if(aW){Zu(s.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"})
var l=ux((function(){e.fire("ScrollContent")}),20)
var f=dE(s.element,"scroll",l.throttle)
e.on("remove",f.unbind)}jk(e,t)
e.addCommand("ToggleSidebar",(function(t,n){UU.toggleSidebar(i,n)
e.fire("ToggleSidebar")}))
e.addQueryValueHandler("ToggleSidebar",(function(){return UU.whichSidebar(i)}))
var v=gk(e)
var d=function(){UU.refreshToolbar(t.outerContainer)}
v!==mk.sliding&&v!==mk.floating||e.on("ResizeWindow ResizeEditor ResizeContent",(function(){var t=e.getWin().innerWidth
if(t!==a.get()){d()
a.set(t)}}))
var m={enable:function(){Vk(t,false)},disable:function(){Vk(t,true)},isDisabled:function(){return KS.isDisabled(i)}}
return{iframeContainer:s.element.dom,editorContainer:i.element.dom,api:m}}
var cW=Object.freeze({__proto__:null,render:uW})
var sW=function(e){var t=/^[0-9\.]+(|px)$/i
if(t.test(""+e))return R.some(parseInt(""+e,10))
return R.none()}
var lW=function(e){return d(e)?e+"px":e}
var fW=function(e,t,n){var r=t.filter((function(t){return e<t}))
var o=n.filter((function(t){return e>t}))
return r.or(o).getOr(e)}
var vW=function(e){var t=ek(e)
var n=rk(e)
var r=ak(e)
return sW(t).map((function(e){return fW(e,n,r)}))}
var dW=function(e){var t=vW(e)
return t.getOr(ek(e))}
var mW=function(e){var t=tk(e)
var n=nk(e)
var r=ok(e)
return sW(t).map((function(e){return fW(e,n,r)}))}
var gW=function(e){var t=mW(e)
return t.getOr(tk(e))}
var hW=function(e,t,n,r,o){var a=n.uiMothership,i=n.outerContainer
var u=LS.DOM
var c=kk(e)
var s=Ek(e)
var l=ok(e).or(mW(e))
var f=r.shared.header
var v=f.isPositionedAtTop
var d=gk(e)
var m=d===mk.sliding||d===mk.floating
var g=Kn(false)
var h=function(){return g.get()&&!e.removed}
var p=function(e){return m?e.fold((function(){return 0}),(function(e){return e.components().length>1?Sc(e.components()[1].element):0})):0}
var b=function(n){switch(bk(e)){case hk.auto:var r=UU.getToolbar(i)
var o=p(r)
var a=Sc(n.element)-o
var u=os(t)
var c=u.y>a
if(c)return"top"
var s=Ua(t)
var l=Math.max(s.dom.scrollHeight,Sc(s))
var f=u.bottom<l-a
if(f)return"bottom"
var v=is()
var d=v.bottom<u.bottom-a
return d?"bottom":"top"
case hk.bottom:return"bottom"
case hk.top:default:return"top"}}
var y=function(e){var t=o.get()
Uj.setModes(t,[e])
f.setDockingMode(e)
var n=v()?Hf.TopToBottom:Hf.BottomToTop
Si(t.element,Ff,n)}
var w=function(){var e=l.getOrThunk((function(){var e=sW(Ju(qu(),"margin-left")).getOr(0)
return Rc(qu())-Dc(t).left+e}))
Ku(o.get().element,"max-width",e+"px")}
var x=function(){var e=UU.getToolbar(i)
var n=p(e)
var r=os(t)
var a=v()?Math.max(r.y-Sc(o.get().element)+n,0):r.bottom
Zu(i.element,{position:"absolute",top:Math.round(a)+"px",left:Math.round(r.x)+"px"})}
var C=function(){a.broadcastOn([mm()],{})}
var S=function(e){void 0===e&&(e=false)
if(!h())return
c||w()
m&&UU.refreshToolbar(i)
c||x()
if(s){var t=o.get()
e?Uj.reset(t):Uj.refresh(t)}C()}
var k=function(e){void 0===e&&(e=true)
if(c||!s||!h())return
var t=f.getDockingMode()
var n=b(o.get())
if(n!==t){y(n)
e&&S(true)}}
var O=function(){g.set(true)
Ku(i.element,"display","flex")
u.addClass(e.getBody(),"mce-edit-focus")
rc(a.element,"display")
k(false)
S()}
var T=function(){g.set(false)
if(n.outerContainer){Ku(i.element,"display","none")
u.removeClass(e.getBody(),"mce-edit-focus")}Ku(a.element,"display","none")}
return{isVisible:h,isPositionedAtTop:v,show:O,hide:T,update:S,updateMode:k,repositionPopups:C}}
var pW=function(e,t){var n=os(e)
return{pos:t?n.y:n.bottom,bounds:n}}
var bW=function(e,t,n,r){var o=Kn(pW(t,n.isPositionedAtTop()))
var a=function(r){var a=pW(t,n.isPositionedAtTop()),i=a.pos,u=a.bounds
var c=o.get(),s=c.pos,l=c.bounds
var f=u.height!==l.height||u.width!==l.width
o.set({pos:i,bounds:u})
f&&eT(e,r)
if(n.isVisible())if(s!==i)n.update(true)
else if(f){n.updateMode()
n.repositionPopups()}}
if(!r){e.on("activate",n.show)
e.on("deactivate",n.hide)}e.on("SkinLoaded ResizeWindow",(function(){return n.update(true)}))
e.on("NodeChange keydown",(function(e){Kw.requestAnimationFrame((function(){return a(e)}))}))
e.on("ScrollWindow",(function(){return n.updateMode()}))
var i=CV()
i.set(mE(tr.fromDom(e.getBody()),"load",a))
e.on("remove",(function(){i.clear()}))}
var yW=function(e,t,n,r,o){var a=t.mothership,i=t.uiMothership,u=t.outerContainer
var c=Kn(null)
var s=tr.fromDom(o.targetNode)
var l=hW(e,s,t,r,c)
var f=Ck(e)
nW(e)
var v=function(){if(c.get()){l.show()
return}c.set(UU.getHeader(u).getOrDie())
var o=Ok(e)
Ud(o,a)
Ud(o,i)
rW(e,t,n,r)
UU.setMenubar(u,XU(e,n))
l.show()
bW(e,s,l,f)
e.nodeChanged()}
e.on("show",v)
e.on("hide",l.hide)
if(!f){e.on("focus",v)
e.on("blur",l.hide)}e.on("init",(function(){(e.hasFocus()||f)&&v()}))
jk(e,t)
var d={show:function(){l.show()},hide:function(){l.hide()},enable:function(){Vk(t,false)},disable:function(){Vk(t,true)},isDisabled:function(){return KS.isDisabled(u)}}
return{editorContainer:u.element.dom,api:d}}
var wW=Object.freeze({__proto__:null,render:yW})
var xW=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}]
BM.each(t,(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:kV(e,t.name)})}))
var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"}
e.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return e.execCommand(n.cmd)},icon:n.icon})}
var CW=function(e,t){nV(e,t)
sV(e,t)
MV(e,t)
LV(e,t)
bV(e,t)}
var SW=function(e,t){e.setDisabled(!t.queryCommandState("outdent"))
var n=function(){e.setDisabled(!t.queryCommandState("outdent"))}
t.on("NodeChange",n)
return function(){return t.off("NodeChange",n)}}
var kW=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return SW(t,e)},onAction:function(){return e.execCommand("outdent")}})
e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})}
var OW=function(e){kW(e)}
var TW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]}
var EW=(_W="[0-9]+",LW="[+-]?"+_W,DW="[eE]"+LW,AW="\\.",MW=function(e){return"(?:"+e+")?"},NW=["Infinity",_W+AW+MW(_W)+MW(DW),AW+_W+MW(DW),_W+MW(DW)].join("|"),RW="[+-]?(?:"+NW+")",new RegExp("^("+RW+")(.*)$"))
var _W,LW,DW,AW,MW,NW,RW
var zW=function(e,t){return V(t,(function(t){return V(TW[t],(function(t){return e===t}))}))}
var BW=function(e,t){var n=R.from(EW.exec(e))
return n.bind((function(e){var n=Number(e[1])
var r=e[2]
return zW(r,t)?R.some({value:n,unit:r}):R.none()}))}
var PW=function(e,t){return BW(e,t).map((function(e){var t=e.value,n=e.unit
return t+n}))}
var IW=function(e){return PW(e,["fixed","relative","empty"]).getOr(e)}
var HW=function(e){var t=ck(e)
var n=new Map
var r=xV()
var o=function(){var t=IW(e.queryCommandValue("LineHeight"))
R.from(n.get(t)).fold((function(){return r.clear()}),(function(e){r.set({destroy:function(){e.setActive(false)}})
e.setActive(true)}))}
e.on("nodeChange",o)
return W(t,(function(a,i){return{type:"togglemenuitem",text:a,onSetup:function(u){n.set(IW(a),u)
i+1===t.length&&o()
return function(){if(0===i){e.off("nodeChange",o)
r.clear()}}},onAction:function(){return e.execCommand("LineHeight",false,a)}}}))}
var FW=function(e){e.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return HW(e)}})}
var VW=function(e){e.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(t){return t(HW(e))}})}
var jW=function(e){FW(e)
VW(e)}
var UW=function(e,t){return function(){e.execCommand("mceToggleFormat",false,t)}}
var WW=function(e){BM.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:kV(e,t.name),onAction:UW(e,t.name)})}))
for(var t=1;t<=6;t++){var n="h"+t
e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:kV(e,n),onAction:UW(e,n)})}}
var qW=function(e){BM.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})}))}
var $W=function(e){BM.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:kV(e,t.name)})}))}
var GW=function(e){WW(e)
qW(e)
$W(e)}
var XW=function(e){BM.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})}))
e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:UW(e,"code")})}
var KW=function(e){GW(e)
XW(e)}
var ZW=function(e,t,n){var r=function(){return!!t.undoManager&&t.undoManager[n]()}
var o=function(){e.setDisabled(t.mode.isReadOnly()||!r())}
e.setDisabled(!r())
t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)
return function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}}
var YW=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return ZW(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}})
e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return ZW(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})}
var JW=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return ZW(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}})
e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return ZW(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})}
var QW=function(e){YW(e)
JW(e)}
var eq=function(e,t){e.setActive(t.hasVisual)
var n=function(t){e.setActive(t.hasVisual)}
t.on("VisualAid",n)
return function(){return t.off("VisualAid",n)}}
var tq=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return eq(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})}
var nq=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})}
var rq=function(e){nq(e)
tq(e)}
var oq=function(e,t){xW(e)
KW(e)
CW(e,t)
QW(e)
DT(e)
rq(e)
OW(e)
jW(e)}
var aq=function(e,t){return{anchor:"makeshift",x:e,y:t}}
var iq=function(e,t,n){return aq(e.x+t,e.y+n)}
var uq=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")}
var cq=function(e){if(uq(e)){var t=e.touches[0]
return aq(t.pageX,t.pageY)}return aq(e.pageX,e.pageY)}
var sq=function(e){if(uq(e)){var t=e.touches[0]
return aq(t.clientX,t.clientY)}return aq(e.clientX,e.clientY)}
var lq=function(e,t){var n=LS.DOM.getPos(e)
return iq(t,n.x,n.y)}
var fq=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?cq(t):lq(e.getContentAreaContainer(),sq(t)):vq(e)}
var vq=function(e){return{anchor:"selection",root:tr.fromDom(e.selection.getNode())}}
var dq=function(e){return{anchor:"node",node:R.some(tr.fromDom(e.selection.getNode())),root:tr.fromDom(e.getBody())}}
var mq=function(e,t,n,r,o,a){var i=n()
var u=a?dq(e):fq(e,t)
MR(i,uC.CLOSE_ON_EXECUTE,r,false).map((function(e){t.preventDefault()
Pw.showMenuAt(o,u,{menu:{markers:MC("normal")},data:e})}))}
var gq={onLtr:function(){return[yl,ml,gl,hl,pl,bl,Gw,Xw,qw,Uw,$w,Ww]},onRtl:function(){return[yl,gl,ml,pl,hl,bl,Gw,Xw,$w,Ww,qw,Uw]}}
var hq=12
var pq={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]}
var bq=function(e,t){var n=e.selection
if(n.isCollapsed()||t.touches.length<1)return false
var r=t.touches[0]
var o=n.getRng()
var a=rd(e.getWin(),Ev.domRange(o))
return a.exists((function(e){return e.left<=r.clientX&&e.right>=r.clientX&&e.top<=r.clientY&&e.bottom>=r.clientY}))}
var yq=function(e,t){return E({bubble:Rf(0,hq,pq),layouts:gq,overrides:{maxWidthFunction:fI(),maxHeightFunction:Lf()}},fq(e,t))}
var wq=function(e){var t=e.selection.getRng()
var n=function(){Kw.setEditorTimeout(e,(function(){e.selection.setRng(t)}),10)
a()}
e.once("touchend",n)
var r=function(e){e.preventDefault()
e.stopImmediatePropagation()}
e.on("mousedown",r,true)
var o=function(){return a()}
e.once("longpresscancel",o)
var a=function(){e.off("touchend",n)
e.off("longpresscancel",o)
e.off("mousedown",r)}}
var xq=function(e,t,n,r,o,a,i){var u=a?dq(e):yq(e,t)
MR(n,uC.CLOSE_ON_EXECUTE,r,true).map((function(n){t.preventDefault()
Pw.showMenuWithinBounds(o,u,{menu:{markers:MC("normal"),highlightImmediately:i},data:n,type:"horizontal"},(function(){return R.some(MF(e,r.shared))}))
e.fire(dI)}))}
var Cq=function(e,t,n,r,o,a){var i=Gr()
var u=i.os.isiOS()
var c=i.os.isOSX()
var s=i.os.isAndroid()
var l=i.deviceType.isTouch()
var f=function(){return!(s||u||c&&l)}
var v=function(){var i=n()
xq(e,t,i,r,o,a,f())}
if(!c&&!u||a){s&&!a&&e.selection.setCursorLocation(t.target,0)
v()}else{var d=function(){wq(e)
v()}
if(bq(e,t))d()
else{e.once("selectionchange",d)
e.once("touchend",(function(){return e.off("selectionchange",d)}))}}}
var Sq=function(e){return"string"===typeof e?e.split(/[ ,]/):e}
var kq=function(e){return e.getParam("contextmenu_never_use_native",false,"boolean")}
var Oq=function(e,t,n){var r=e.ui.registry.getAll().contextMenus
return R.from(e.getParam(t)).map(Sq).getOrThunk((function(){return X(Sq(n),(function(e){return Fe(r,e)}))}))}
var Tq=function(e){return false===e.getParam("contextmenu")}
var Eq=function(e){return Oq(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")}
var _q=function(e){return e.getParam("contextmenu_avoid_overlap","","string")}
var Lq=function(e){return a(e)?"|"===e:"separator"===e.type}
var Dq={type:"separator"}
var Aq=function(e){var t=function(e){return{text:e.text,icon:e.icon,disabled:e.disabled,shortcut:e.shortcut}}
if(a(e))return e
switch(e.type){case"separator":return Dq
case"submenu":return E(E({type:"nestedmenuitem"},t(e)),{getSubmenuItems:function(){var t=e.getSubmenuItems()
return a(t)?t:W(t,Aq)}})
default:return E(E({type:"menuitem"},t(e)),{onAction:h(e.onAction)})}}
var Mq=function(e,t){if(0===t.length)return e
var n=se(e).filter((function(e){return!Lq(e)}))
var r=n.fold((function(){return[]}),(function(e){return[Dq]}))
return e.concat(r).concat(t).concat([Dq])}
var Nq=function(e,t,n){var r=Z(t,(function(t,r){return He(e,r.toLowerCase()).map((function(e){var r=e.update(n)
if(a(r))return Mq(t,r.split(" "))
if(r.length>0){var o=W(r,Aq)
return Mq(t,o)}return t})).getOrThunk((function(){return t.concat([r])}))}),[])
r.length>0&&Lq(r[r.length-1])&&r.pop()
return r}
var Rq=function(e,t){return t.ctrlKey&&!kq(e)}
var zq=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)}
var Bq=function(e,t){return zq(e,t)?e.selection.getStart(true):t.target}
var Pq=function(e,t){var n=_q(e)
if(zq(e,t))return true
if(n){var r=Bq(e,t)
return hE(tr.fromDom(r),n)}return false}
var Iq=function(e,t,n){var r=Gr()
var o=r.deviceType.isTouch
var a=yc(Pw.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(true)},onHide:function(){return n.setContextMenuState(false)},fireDismissalEventInstead:{},inlineBehaviours:Hl([Sy("dismissContextMenu",[wa(na(),(function(t,n){vm.close(t)
e.focus()}))])])}))
var i=function(e){return Pw.hide(a)}
var u=function(t){kq(e)&&t.preventDefault()
if(Rq(e,t)||Tq(e))return
var r=Pq(e,t)
var i=function(){var n=Bq(e,t)
var r=e.ui.registry.getAll()
var o=Eq(e)
return Nq(r.contextMenus,o,n)}
var u=o()?Cq:mq
u(e,t,i,n,a,r)}
e.on("init",(function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow")
e.on(t,i)
e.on("longpress contextmenu",u)}))}
var Hq=Ue.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}])
var Fq=function(e){return function(t){return t.translate(-e.left,-e.top)}}
var Vq=function(e){return function(t){return t.translate(e.left,e.top)}}
var jq=function(e){return function(t,n){return Z(e,(function(e,t){return t(e)}),Ec(t,n))}}
var Uq=function(e,t,n){return e.fold(jq([Vq(n),Fq(t)]),jq([Fq(t)]),jq([]))}
var Wq=function(e,t,n){return e.fold(jq([Vq(n)]),jq([]),jq([Vq(t)]))}
var qq=function(e,t,n){return e.fold(jq([]),jq([Fq(n)]),jq([Vq(t),Fq(n)]))}
var $q=function(e,t,n,r,o,a){var i=Wq(e,o,a)
var u=Wq(t,o,a)
return Math.abs(i.left-u.left)<=n&&Math.abs(i.top-u.top)<=r}
var Gq=function(e,t,n,r,o,a){var i=Wq(e,o,a)
var u=Wq(t,o,a)
var c=Math.abs(i.left-u.left)
var s=Math.abs(i.top-u.top)
return Ec(c,s)}
var Xq=function(e,t,n){var r=e.fold((function(e,t){return{position:R.some("absolute"),left:R.some(e+"px"),top:R.some(t+"px")}}),(function(e,t){return{position:R.some("absolute"),left:R.some(e-n.left+"px"),top:R.some(t-n.top+"px")}}),(function(e,t){return{position:R.some("fixed"),left:R.some(e+"px"),top:R.some(t+"px")}}))
return E({right:R.none(),bottom:R.none()},r)}
var Kq=function(e,t,n){return e.fold((function(e,r){return Yq(e+t,r+n)}),(function(e,r){return Jq(e+t,r+n)}),(function(e,r){return Qq(e+t,r+n)}))}
var Zq=function(e,t,n,r){var o=function(e,o){return function(a,i){var u=e(t,n,r)
return o(a.getOr(u.left),i.getOr(u.top))}}
return e.fold(o(qq,Yq),o(Wq,Jq),o(Uq,Qq))}
var Yq=Hq.offset
var Jq=Hq.absolute
var Qq=Hq.fixed
var e$=function(e,t){var n=Oi(e,t)
return s(n)?NaN:parseInt(n,10)}
var t$=function(e,t){var n=e.element
var r=e$(n,t.leftAttr)
var o=e$(n,t.topAttr)
return isNaN(r)||isNaN(o)?R.none():R.some(Ec(r,o))}
var n$=function(e,t,n){var r=e.element
Si(r,t.leftAttr,n.left+"px")
Si(r,t.topAttr,n.top+"px")}
var r$=function(e,t){var n=e.element
_i(n,t.leftAttr)
_i(n,t.topAttr)}
var o$=function(e,t,n,r){return t$(e,t).fold((function(){return n}),(function(e){return Qq(e.left+r.left,e.top+r.top)}))}
var a$=function(e,t,n,r,o,a){var i=o$(e,t,n,r)
var u=t.mustSnap?c$(e,t,i,o,a):s$(e,t,i,o,a)
var c=Uq(i,o,a)
n$(e,t,c)
return u.fold((function(){return{coord:Qq(c.left,c.top),extra:R.none()}}),(function(e){return{coord:e.output,extra:e.extra}}))}
var i$=function(e,t){r$(e,t)}
var u$=function(e,t,n,r){return fe(e,(function(e){var o=e.sensor
var a=$q(t,o,e.range.left,e.range.top,n,r)
return a?R.some({output:Zq(e.output,t,n,r),extra:e.extra}):R.none()}))}
var c$=function(e,t,n,r,o){var a=t.getSnapPoints(e)
var i=u$(a,n,r,o)
return i.orThunk((function(){var e=Z(a,(function(e,t){var a=t.sensor
var i=Gq(n,a,t.range.left,t.range.top,r,o)
return e.deltas.fold((function(){return{deltas:R.some(i),snap:R.some(t)}}),(function(n){var r=(i.left+i.top)/2
var o=(n.left+n.top)/2
return r<=o?{deltas:R.some(i),snap:R.some(t)}:e}))}),{deltas:R.none(),snap:R.none()})
return e.snap.map((function(e){return{output:Zq(e.output,n,r,o),extra:e.extra}}))}))}
var s$=function(e,t,n,r,o){var a=t.getSnapPoints(e)
return u$(a,n,r,o)}
var l$=function(e,t,n){return{coord:Zq(e.output,e.output,t,n),extra:e.extra}}
var f$=function(e,t,n,r){var o=t.getTarget(e.element)
if(t.repositionTarget){var a=Va(e.element)
var i=Wc(a)
var u=vj(o)
var c=l$(r,i,u)
var s=Xq(c.coord,i,u)
Yu(o,s)}}
var v$=Object.freeze({__proto__:null,snapTo:f$})
var d$="data-initial-z-index"
var m$=function(e){qa(e.element).filter(Pa).each((function(e){Ti(e,d$).fold((function(){return rc(e,"z-index")}),(function(t){return Ku(e,"z-index",t)}))
_i(e,d$)}))}
var g$=function(e){qa(e.element).filter(Pa).each((function(t){ec(t,"z-index").each((function(e){Si(t,d$,e)}))
Ku(t,"z-index",Ju(e.element,"z-index"))}))}
var h$=function(e,t){e.getSystem().addToGui(t)
g$(t)}
var p$=function(e){m$(e)
e.getSystem().removeFromGui(e)}
var b$=function(e,t,n){return e.getSystem().build(WE.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))}
var y$=Bn("snaps",[yn("getSnapPoints"),Ps("onSensor"),yn("leftAttr"),yn("topAttr"),In("lazyViewport",is),In("mustSnap",false)])
var w$=[In("useFixed",k),yn("blockerClass"),In("getTarget",w),In("onDrag",g),In("repositionTarget",true),In("onDrop",g),Wn("getBounds",is),y$]
var x$=function(e){return fh(ec(e,"left"),ec(e,"top"),ec(e,"position"),(function(e,t,n){var r="fixed"===n?Qq:Yq
return r(parseInt(e,10),parseInt(t,10))})).getOrThunk((function(){var t=Dc(e)
return Jq(t.left,t.top)}))}
var C$=function(e,t,n,r,o){var a=o.bounds
var i=Wq(t,n,r)
var u=hf(i.left,a.x,a.x+a.width-o.width)
var c=hf(i.top,a.y,a.y+a.height-o.height)
var s=Jq(u,c)
return t.fold((function(){var e=qq(s,n,r)
return Yq(e.left,e.top)}),(function(){return s}),(function(){var e=Uq(s,n,r)
return Qq(e.left,e.top)}))}
var S$=function(e,t,n,r,o,a,i){var u=t.fold((function(){var e=Kq(n,a.left,a.top)
var t=Uq(e,r,o)
return Qq(t.left,t.top)}),(function(t){var i=a$(e,t,n,a,r,o)
i.extra.each((function(n){t.onSensor(e,n)}))
return i.coord}))
return C$(e,u,r,o,i)}
var k$=function(e,t,n,r){var o=t.getTarget(e.element)
if(t.repositionTarget){var a=Va(e.element)
var i=Wc(a)
var u=vj(o)
var c=x$(o)
var s=S$(e,t.snaps,c,i,u,r,n)
var l=Xq(s,i,u)
Yu(o,l)}t.onDrag(e,o,r)}
var O$=function(e,t){return{bounds:e.getBounds(),height:kc(t.element),width:zc(t.element)}}
var T$=function(e,t,n,r,o){var a=n.update(r,o)
var i=n.getStartData().getOrThunk((function(){return O$(t,e)}))
a.each((function(n){k$(e,t,i,n)}))}
var E$=function(e,t,n,r){t.each(p$)
n.snaps.each((function(t){i$(e,t)}))
var o=n.getTarget(e.element)
r.reset()
n.onDrop(e,o)}
var _$=function(e){return function(t,n){var r=function(e){n.setStartData(O$(t,e))}
return ha(L([wa(Jo(),(function(e){n.getStartData().each((function(){return r(e)}))}))],e(t,n,r)))}}
var L$=function(e){return ha([wa(So(),e.forceDrop),wa(To(),e.drop),wa(ko(),(function(t,n){e.move(n.event)})),wa(Oo(),e.delayDrop)])}
var D$=function(e){return R.from(Ec(e.x,e.y))}
var A$=function(e,t){return Ec(t.left-e.left,t.top-e.top)}
var M$=Object.freeze({__proto__:null,getData:D$,getDelta:A$})
var N$=function(e,t,n){return[wa(So(),(function(r,o){var a=o.event.raw
if(0!==a.button)return
o.stop()
var i=function(){return E$(r,R.some(s),e,t)}
var u=pE(i,200)
var c={drop:i,delayDrop:u.schedule,forceDrop:i,move:function(n){u.cancel()
T$(r,e,t,M$,n)}}
var s=b$(r,e.blockerClass,L$(c))
var l=function(){n(r)
h$(r,s)}
l()}))]}
var R$=L(w$,[Vs("dragger",{handlers:_$(N$)})])
var z$=function(e){return ha([wa(yo(),e.forceDrop),wa(xo(),e.drop),wa(Co(),e.drop),wa(wo(),(function(t,n){e.move(n.event)}))])}
var B$=function(e){var t=e[0]
return R.some(Ec(t.clientX,t.clientY))}
var P$=function(e){var t=e.raw
var n=t.touches
return 1===n.length?B$(n):R.none()}
var I$=function(e,t){return Ec(t.left-e.left,t.top-e.top)}
var H$=Object.freeze({__proto__:null,getData:P$,getDelta:I$})
var F$=function(e,t,n){var r=Kn(R.none())
return[wa(yo(),(function(o,a){a.stop()
var i=function(){E$(o,r.get(),e,t)
r.set(R.none())}
var u={drop:i,delayDrop:g,forceDrop:i,move:function(n){T$(o,e,t,H$,n)}}
var c=b$(o,e.blockerClass,z$(u))
r.set(R.some(c))
var s=function(){n(o)
h$(o,c)}
s()})),wa(wo(),(function(n,r){r.stop()
T$(n,e,t,H$,r.event)})),wa(xo(),(function(n,o){o.stop()
E$(n,r.get(),e,t)
r.set(R.none())})),wa(Co(),(function(n){E$(n,r.get(),e,t)
r.set(R.none())}))]}
var V$=L(w$,[Vs("dragger",{handlers:_$(F$)})])
var j$=function(e,t,n){return L(N$(e,t,n),F$(e,t,n))}
var U$=L(w$,[Vs("dragger",{handlers:_$(j$)})])
var W$=R$
var q$=V$
var $$=U$
var G$=Object.freeze({__proto__:null,mouse:W$,touch:q$,mouseOrTouch:$$})
var X$=function(){var e=R.none()
var t=R.none()
var n=function(){e=R.none()
t=R.none()}
var r=function(t,n){var r=e.map((function(e){return t.getDelta(e,n)}))
e=R.some(n)
return r}
var o=function(e,t){return e.getData(t).bind((function(t){return r(e,t)}))}
var a=function(e){t=R.some(e)}
var i=function(){return t}
var u=y({})
return ou({readState:u,reset:n,update:o,getStartData:i,setStartData:a})}
var K$=Object.freeze({__proto__:null,init:X$})
var Z$=Ul({branchKey:"mode",branches:G$,name:"dragging",active:{events:function(e,t){var n=e.dragger
return n.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:R.from(e.extra)}}},state:K$,apis:v$})
var Y$=40
var J$=Y$/2
var Q$=function(e,t,n,r,o,a){return e.fold((function(){return Z$.snap({sensor:Jq(n-J$,r-J$),range:Ec(o,a),output:Jq(R.some(n),R.some(r)),extra:{td:t}})}),(function(e){var o=n-J$
var a=r-J$
var i=Y$
var u=Y$
var c=e.element.dom.getBoundingClientRect()
return Z$.snap({sensor:Jq(o,a),range:Ec(i,u),output:Jq(R.some(n-c.width/2),R.some(r-c.height/2)),extra:{td:t}})}))}
var eG=function(e,t,n){var r=function(e,t){return e.exists((function(e){return oo(e,t)}))}
return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,o){var a=o.td
if(!r(t.get(),a)){t.set(R.some(a))
n(a)}},mustSnap:true}}
var tG=function(e){return Jw(Yw.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Hl([Z$.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),xL.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))}
var nG=function(e,t){var n=Kn([])
var r=Kn([])
var o=Kn(false)
var a=Kn(R.none())
var i=Kn(R.none())
var u=function(e){var n=as(e)
return Q$(d.getOpt(t),e,n.x,n.y,n.width,n.height)}
var c=function(){return W(n.get(),(function(e){return u(e)}))}
var s=function(e){var n=as(e)
return Q$(m.getOpt(t),e,n.right,n.bottom,n.width,n.height)}
var l=function(){return W(r.get(),(function(e){return s(e)}))}
var f=eG(c,a,(function(t){i.get().each((function(n){e.fire("TableSelectorChange",{start:t,finish:n})}))}))
var v=eG(l,i,(function(t){a.get().each((function(n){e.fire("TableSelectorChange",{start:n,finish:t})}))}))
var d=tG(f)
var m=tG(v)
var g=yc(d.asSpec())
var h=yc(m.asSpec())
var p=function(t,n,r,o){var a=n.dom.getBoundingClientRect()
rc(t.element,"display")
var i=Wa(tr.fromDom(e.getBody())).dom.innerHeight
var u=r(a)
var c=o(a,i);(u||c)&&Ku(t.element,"display","none")}
var b=function(e,t,n,r){var o=n(t)
Z$.snapTo(e,o)
var a=function(e){return e[r]<0}
var i=function(e,t){return e[r]>t}
p(e,t,a,i)}
var y=function(e){return b(g,e,u,"top")}
var w=function(){return a.get().each(y)}
var x=function(e){return b(h,e,s,"bottom")}
var C=function(){return i.get().each(x)}
if(Gr().deviceType.isTouch()){e.on("TableSelectionChange",(function(e){if(!o.get()){Id(t,g)
Id(t,h)
o.set(true)}a.set(R.some(e.start))
i.set(R.some(e.finish))
e.otherCells.each((function(t){n.set(t.upOrLeftCells)
r.set(t.downOrRightCells)
y(e.start)
x(e.finish)}))}))
e.on("ResizeEditor ResizeWindow ScrollContent",(function(){w()
C()}))
e.on("TableSelectionClear",(function(){if(o.get()){Vd(g)
Vd(h)
o.set(false)}a.set(R.none())
i.set(R.none())}))}}
var rG=function(e){if(1===e.nodeType){if("BR"===e.nodeName||!!e.getAttribute("data-mce-bogus"))return true
if("bookmark"===e.getAttribute("data-mce-type"))return true}return false}
var oG=function(e,t,n){t.delimiter||(t.delimiter="»")
var r=function(r){var o=r||[]
var a=W(o,(function(t,r){return Yw.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus()
e.selection.select(t.element)
e.nodeChanged()},buttonBehaviours:Hl([Xk.button(n.isDisabled),Uk()])})}))
var i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":true},innerHtml:" "+t.delimiter+" "}}
return Z(a.slice(1),(function(e,t){var n=e
n.push(i)
n.push(t)
return n}),[a[0]])}
var o=function(t){var n=[]
var r=t.length
while(r-- >0){var o=t[r]
if(1===o.nodeType&&!rG(o)){var a=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o})
a.isDefaultPrevented()||n.push({name:a.name,element:o})
if(a.isPropagationStopped())break}}return n}
return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Hl([fy.config({mode:"flow",selector:"div[role=button]"}),KS.config({disabled:n.isDisabled}),Uk(),e_.config({}),xy.config({}),Sy("elementPathEvents",[Da((function(t,n){e.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return fy.focusIn(t)}))
e.on("NodeChange",(function(e){var n=o(e.parents)
n.length>0?xy.set(t,r(n)):xy.set(t,[])}))}))])]),components:[]}}
var aG;(function(e){e[e["None"]=0]="None"
e[e["Both"]=1]="Both"
e[e["Vertical"]=2]="Vertical"})(aG||(aG={}))
var iG=function(e,t,n,r,o){var a={}
a.height=fW(r+t.top,rk(e),ak(e))
n===aG.Both&&(a.width=fW(o+t.left,nk(e),ok(e)))
return a}
var uG=function(e,t,n){var r=tr.fromDom(e.getContainer())
var o=iG(e,t,n,Sc(r),Rc(r))
De(o,(function(e,t){return Ku(r,t,lW(e))}))
QO(e)}
var cG=function(e){var t=!e.hasPlugin("autoresize")
var n=e.getParam("resize",t)
return false===n?aG.None:"both"===n?aG.Both:aG.Vertical}
var sG=function(e,t,n,r){var o=20
var a=Ec(n*o,r*o)
uG(e,a,t)
return R.some(true)}
var lG=function(e,t){var n=cG(e)
if(n===aG.None)return R.none()
return R.some({dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},innerHtml:ex("resize-handle",t.icons)},behaviours:Hl([Z$.config({mode:"mouse",repositionTarget:false,onDrag:function(t,r,o){return uG(e,o,n)},blockerClass:"tox-blocker"}),fy.config({mode:"special",onLeft:function(){return sG(e,n,-1,0)},onRight:function(){return sG(e,n,1,0)},onUp:function(){return sG(e,n,0,-1)},onDown:function(){return sG(e,n,0,1)}}),e_.config({}),My.config({})])})}
var fG=function(e,t){var n
var r=function(e,n,r){return xy.set(e,[hc(t.translate(["{0} "+r,n[r]]))])}
return Yw.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Hl([Xk.button(t.isDisabled),Uk(),e_.config({}),xy.config({}),Xm.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Sy("wordcount-events",[Na((function(e){var t=Xm.getValue(e)
var n="words"===t.mode?"characters":"words"
Xm.setValue(e,{mode:n,count:t.count})
r(e,t.count,n)})),Da((function(t){e.on("wordCountUpdate",(function(e){var n=Xm.getValue(t).mode
Xm.setValue(t,{mode:n,count:e.wordCount})
r(t,e.wordCount,n)}))}))])]),eventOrder:(n={},n[Uo()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})}
var vG=function(e,t){var n=function(){var e=DS.translate(["Powered by {0}","Tiny"])
var t='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>"
return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:t}}}
var r=function(){var r=[]
e.getParam("elementpath",true,"boolean")&&r.push(oG(e,{},t))
e.hasPlugin("wordcount")&&r.push(fG(e,t))
e.getParam("branding",true,"boolean")&&r.push(n())
if(r.length>0)return[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]
return[]}
var o=function(){var n=r()
var o=lG(e,t)
return n.concat(o.toArray())}
return{dom:{tag:"div",classes:["tox-statusbar"]},components:o()}}
var dG=function(e){var t
var n=e.inline
var r=n?wW:cW
var o=Ek(e)?oU:lj
var a=R.none()
var i=Gr()
var u=i.browser.isIE()
var c=u?["tox-platform-ie"]:[]
var s=i.deviceType.isTouch()
var l="tox-platform-touch"
var f=s?[l]:[]
var v=yk(e)
var d=Ok(e)
var m=DS.isRtl()?{attributes:{dir:"rtl"}}:{}
var h={attributes:(t={},t[Ff]=v?Hf.BottomToTop:Hf.TopToBottom,t)}
var p=function(){return a.bind(UU.getHeader)}
var b=function(){return o.isDocked(p)}
var y=function(){Ku(J.element,"width",document.body.clientWidth+"px")}
var w=function(){var e=oo(qu(),d)&&"grid"===Ju(d,"display")
var t={dom:E({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c).concat(f)},m),behaviours:Hl([Md.config({useFixed:function(){return b()}})])}
var n={dom:{styles:{width:document.body.clientWidth+"px"}},events:ha([wa(Qo(),y)])}
return Xe(t,e?n:{})}
var x=yc(w())
var C=function(){return ge.value(x)}
var S=Jw({dom:{tag:"div",classes:["tox-anchorbar"]}})
var k=function(){return a.bind((function(e){return S.getOpt(e)})).getOrDie("Could not find a anchor bar element")}
var O=function(){return a.bind((function(e){return UU.getToolbar(e)})).getOrDie("Could not find more toolbar element")}
var T=function(){return a.bind((function(e){return UU.getThrobber(e)})).getOrDie("Could not find throbber element")}
var _=lI(x,e,k)
var L=UU.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:_,onEscape:function(){e.focus()}})
var D=gk(e)
var A=UU.parts.toolbar(E({dom:{tag:"div",classes:["tox-toolbar"]},getSink:C,providers:_.shared.providers,onEscape:function(){e.focus()},type:D,lazyToolbar:O,lazyHeader:function(){return p().getOrDie("Could not find header element")}},h))
var M=UU.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:_.shared.providers,onEscape:function(){e.focus()},type:D})
var N=UU.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}})
var z=UU.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})
var B=UU.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:_})
var P=e.getParam("statusbar",true,"boolean")
var I=P&&!n?R.some(vG(e,_.shared.providers)):R.none()
var H={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[N,z]}
var F=dk(e)
var V=fk(e)
var j=lk(e)
var U=function(){return F?[M]:V?[A]:[]}
var W=UU.parts.header({dom:E({tag:"div",classes:["tox-editor-header"]},h),components:ee([j?[L]:[],U(),kk(e)?[]:[S.asSpec()]]),sticky:Ek(e),editor:e,sharedBackstage:_.shared})
var q=ee([v?[]:[W],n?[]:[H],v?[W]:[]])
var $={dom:{tag:"div",classes:["tox-editor-container"]},components:q}
var G=ee([[$],n?[]:I.toArray(),[B]])
var X=Tk(e)
var K=E(E({role:"application"},DS.isRtl()?{dir:"rtl"}:{}),X?{"aria-hidden":"true"}:{})
var Z=yc(UU.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(v?["tox-tinymce--toolbar-bottom"]:[]).concat(f).concat(c),styles:E({visibility:"hidden"},X?{opacity:"0",border:"0"}:{}),attributes:K},components:G,behaviours:Hl([Uk(),KS.config({disableClass:"tox-tinymce--disabled"}),fy.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}))
a=R.some(Z)
e.shortcuts.add("alt+F9","focus menubar",(function(){UU.focusMenubar(Z)}))
e.shortcuts.add("alt+F10","focus toolbar",(function(){UU.focusToolbar(Z)}))
e.addCommand("ToggleToolbarDrawer",(function(){UU.toggleToolbarDrawer(Z)}))
e.addQueryStateHandler("ToggleToolbarDrawer",(function(){return UU.isToolbarDrawerToggled(Z)}))
var Y=qE(Z)
var J=qE(x)
YV(e,Y,J)
var Q=function(){var e={broadcastAll:J.broadcast,broadcastOn:J.broadcastOn,register:g}
return{channels:e}}
var te=function(){var t=lW(dW(e))
var n=lW(gW(e))
if(!e.inline){nc("div","width",n)&&Ku(Z.element,"width",n)
nc("div","height",t)?Ku(Z.element,"height",t):Ku(Z.element,"height","200px")}return t}
var ne=function(){o.setup(e,_.shared,p)
oq(e,_)
Iq(e,C,_)
pU(e)
NU(e,T,_.shared)
Ae(pk(e),(function(t,n){e.ui.registry.addGroupToolbarButton(n,t)}))
var t=e.ui.registry.getAll(),n=t.buttons,a=t.menuItems,i=t.contextToolbars,u=t.sidebars
var c=vk(e)
var s={menuItems:a,menus:Lk(e),menubar:Dk(e),toolbar:c.getOrThunk((function(){return Ak(e)})),allowToolbarGroups:D===mk.floating,buttons:n,sidebar:u}
ZV(e,i,x,{backstage:_})
nG(e,x)
var l=e.getElement()
var f=te()
var v={mothership:Y,uiMothership:J,outerContainer:Z}
var d={targetNode:l,height:f}
return r.render(e,v,s,_,d)}
return{mothership:Y,uiMothership:J,backstage:_,renderUI:ne,getUi:Q}}
var mG=function(e,t){var n=R.from(Oi(e,"id")).fold((function(){var e=Pi("dialog-describe")
Si(t,"id",e)
return e}),w)
Si(e,"aria-describedby",n)}
var gG=function(e,t){var n=Ti(e,"id").fold((function(){var e=Pi("dialog-label")
Si(t,"id",e)
return e}),w)
Si(e,"aria-labelledby",n)}
var hG=y([yn("lazySink"),Dn("dragBlockClass"),Wn("getBounds",is),In("useTabstopAt",O),In("eventOrder",{}),Km("modalBehaviours",[fy]),Is("onExecute"),Fs("onEscape")])
var pG={sketch:w}
var bG=y([Lg({name:"draghandle",overrides:function(e,t){return{behaviours:Hl([Z$.config({mode:"mouse",getTarget:function(e){return vs(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Eg({schema:[yn("dom")],name:"title"}),Eg({factory:pG,schema:[yn("dom")],name:"close"}),Eg({factory:pG,schema:[yn("dom")],name:"body"}),Lg({factory:pG,schema:[yn("dom")],name:"footer"}),_g({factory:{sketch:function(e,t){return E(E({},e),{dom:t.dom,components:t.components})}},schema:[In("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),In("components",[])],name:"blocker"})])
var yG=function(e,t,n,r){Si(e.element,"aria-busy",true)
var o=t.getRoot(e).getOr(e)
var a=Hl([fy.config({mode:"special",onTab:function(){return R.some(true)},onShiftTab:function(){return R.some(true)}}),My.config({})])
var i=r(o,a)
var u=o.getSystem().build(i)
xy.append(o,wc(u))
u.hasConfigured(fy)&&fy.focusIn(u)
n.isBlocked()||t.onBlock(e)
n.blockWith((function(){return xy.remove(o,u)}))}
var wG=function(e,t,n){_i(e.element,"aria-busy")
n.isBlocked()&&t.onUnblock(e)
n.clear()}
var xG=Object.freeze({__proto__:null,block:yG,unblock:wG})
var CG=[Wn("getRoot",R.none),Ps("onBlock"),Ps("onUnblock")]
var SG=function(){var e=xV()
var t=function(t){e.set({destroy:t})}
return ou({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})}
var kG=Object.freeze({__proto__:null,init:SG})
var OG=Vl({fields:CG,name:"blocking",apis:xG,state:kG})
var TG=function(e,t,n,r){var o
var a=Kn(R.none())
var i=function(t){a.set(R.some(t))
var n=e.lazySink(t).getOrDie()
var o=r.blocker()
var i=n.getSystem().build(E(E({},o),{components:o.components.concat([wc(t)]),behaviours:Hl([My.config({}),Sy("dialog-blocker-events",[La(_o(),(function(){fy.focusIn(t)}))])])}))
Id(n,i)
fy.focusIn(t)}
var u=function(e){a.set(R.none())
qa(e.element).each((function(t){e.getSystem().getByDom(t).each((function(e){Vd(e)}))}))}
var c=function(t){return Ug(t,e,"body")}
var s=function(t){return Ug(t,e,"footer")}
var l=function(e,t){OG.block(e,t)}
var f=function(e){OG.unblock(e)}
var v=Pi("modal-events")
var d=E(E({},e.eventOrder),(o={},o[ea()]=[v].concat(e.eventOrder["alloy.system.attached"]||[]),o))
return{uid:e.uid,dom:e.dom,components:t,apis:{show:i,hide:u,getBody:c,getFooter:s,setIdle:f,setBusy:l},eventOrder:d,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ym(e.modalBehaviours,[xy.config({}),fy.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),OG.config({getRoot:a.get}),Sy(v,[Da((function(t){gG(t.element,Ug(t,e,"title").element)
mG(t.element,Ug(t,e,"body").element)}))])])}}
var EG=uh({name:"ModalDialog",configFields:hG(),partFields:bG(),factory:TG,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}})
var _G=It([Cn("type"),Cn("name")].concat(JC))
var LG=mn
var DG=[$t("name","name",nt((function(){return Pi("button-name")})),dn),Nn("icon"),jn("align","end",["start","end"]),Un("primary",false),Un("disabled",false)]
var AG=L(DG,[Cn("text")])
var MG=L([Sn("type",["submit","cancel","custom"])],AG)
var NG=L([Sn("type",["menu"]),Nn("text"),Nn("tooltip"),Nn("icon"),Ln("items",_G)],DG)
var RG=cn("type",{submit:MG,cancel:MG,custom:MG,menu:NG})
var zG=[Cn("type"),Cn("text"),Sn("level",["info","warn","error","success"]),Cn("icon"),In("url","")]
var BG=It(zG)
var PG=function(e){return[Cn("type"),e]}
var IG=[Cn("type"),Cn("text"),Un("disabled",false),Un("primary",false),$t("name","name",nt((function(){return Pi("button-name")})),dn),Nn("icon"),Un("borderless",false)]
var HG=It(IG)
var FG=[Cn("type"),Cn("name"),Cn("label"),Un("disabled",false)]
var VG=It(FG)
var jG=mn
var UG=[Cn("type"),Cn("name")]
var WG=UG.concat([Nn("label")])
var qG=WG.concat([In("columns","auto")])
var $G=It(qG)
var GG=Zt([Cn("value"),Cn("text"),Cn("icon")])
var XG=WG
var KG=It(XG)
var ZG=dn
var YG=WG
var JG=It(YG)
var QG=dn
var eX=UG.concat([Vn("tag","textarea"),Cn("scriptId"),Cn("scriptUrl"),qn("settings",void 0)])
var tX=UG.concat([Vn("tag","textarea"),On("init")])
var nX=Qt((function(e){return nn("customeditor.old",Pt(tX),e).orThunk((function(){return nn("customeditor.new",Pt(eX),e)}))}))
var rX=dn
var oX=WG
var aX=It(oX)
var iX=Yt()
var uX=function(e){return[Cn("type"),xn("columns"),e]}
var cX=[Cn("type"),Cn("html"),jn("presets","presentation",["presentation","document"])]
var sX=It(cX)
var lX=WG.concat([Un("sandboxed",true)])
var fX=It(lX)
var vX=dn
var dX=WG.concat([wn("currentState",It([yn("blob"),Cn("url")]))])
var mX=It(dX)
var gX=WG.concat([Nn("inputMode"),Nn("placeholder"),Un("maximized",false),Un("disabled",false)])
var hX=It(gX)
var pX=dn
var bX=function(e){return[Cn("type"),Cn("label"),e]}
var yX=[Cn("text"),Cn("value")]
var wX=[Cn("text"),Ln("items",sn("items",(function(){return xX})))]
var xX=Ft([It(yX),It(wX)])
var CX=WG.concat([Ln("items",xX),Un("disabled",false)])
var SX=It(CX)
var kX=dn
var OX=WG.concat([_n("items",[Cn("text"),Cn("value")]),Fn("size",1),Un("disabled",false)])
var TX=It(OX)
var EX=dn
var _X=WG.concat([Un("constrain",true),Un("disabled",false)])
var LX=It(_X)
var DX=It([Cn("width"),Cn("height")])
var AX=[Cn("type"),Ln("header",dn),Ln("cells",Ht(dn))]
var MX=It(AX)
var NX=WG.concat([Nn("placeholder"),Un("maximized",false),Un("disabled",false)])
var RX=It(NX)
var zX=dn
var BX=WG.concat([jn("filetype","file",["image","media","file"]),In("disabled",false)])
var PX=It(BX)
var IX=It([Cn("value"),In("meta",{})])
var HX=function(e){return $t("items","items",et(),Ht(Qt((function(t){return nn("Checking item of "+e,FX,t).fold((function(e){return ge.error(an(e))}),(function(e){return ge.value(e)}))}))))}
var FX=Jt((function(){return un("type",{alertbanner:BG,bar:It(PG(HX("bar"))),button:HG,checkbox:VG,colorinput:KG,colorpicker:JG,dropzone:aX,grid:It(uX(HX("grid"))),iframe:fX,input:hX,listbox:SX,selectbox:TX,sizeinput:LX,textarea:RX,urlinput:PX,customeditor:nX,htmlpanel:sX,imagetools:mX,collection:$G,label:It(bX(HX("label"))),table:MX,panel:jX})}))
var VX=[Cn("type"),In("classes",[]),Ln("items",FX)]
var jX=It(VX)
var UX=[$t("name","name",nt((function(){return Pi("tab-name")})),dn),Cn("title"),Ln("items",FX)]
var WX=[Cn("type"),_n("tabs",UX)]
var qX=It(WX)
var $X=AG
var GX=RG
var XX=It([Cn("title"),wn("body",un("type",{panel:jX,tabpanel:qX})),Vn("size","normal"),Ln("buttons",GX),In("initialData",{}),Wn("onAction",g),Wn("onChange",g),Wn("onSubmit",g),Wn("onClose",g),Wn("onCancel",g),In("onTabChange",g)])
var KX=function(e){return nn("dialog",XX,e)}
var ZX=It(L([Sn("type",["cancel","custom"])],$X))
var YX=It([Cn("title"),Cn("url"),Mn("height"),Mn("width"),zn("buttons",ZX),Wn("onAction",g),Wn("onCancel",g),Wn("onClose",g),Wn("onMessage",g)])
var JX=function(e){return nn("dialog",YX,e)}
var QX=function(e){return i(e)?[e].concat(te(Ie(e),QX)):u(e)?te(e,QX):[]}
var eK=function(e){return a(e.type)&&a(e.name)}
var tK={checkbox:jG,colorinput:ZG,colorpicker:QG,dropzone:iX,input:pX,iframe:vX,sizeinput:DX,selectbox:EX,listbox:kX,size:DX,textarea:zX,urlinput:IX,customeditor:rX,collection:GG,togglemenuitem:LG}
var nK=function(e){return R.from(tK[e.type])}
var rK=function(e){return X(QX(e),eK)}
var oK=function(e){var t=rK(e)
var n=te(t,(function(e){return nK(e).fold((function(){return[]}),(function(t){return[wn(e.name,t)]}))}))
return It(n)}
var aK=function(e){var t=rn(KX(e))
var n=oK(e)
var r=e.initialData
return{internalDialog:t,dataValidator:n,initialData:r}}
var iK={open:function(e,t){var n=aK(t)
return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){var n=rn(JX(t))
return e(n)},redial:function(e){return aK(e)}}
var uK=function(e){var t=[]
var n={}
De(e,(function(e,r){e.fold((function(){t.push(r)}),(function(e){n[r]=e}))}))
return t.length>0?ge.error(t):ge.value(n)}
var cK=function(e,t){var n=Jw(pM.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:W(e.items,(function(e){return GB(n,e,t)}))}})))
return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:Hl([fy.config({mode:"acyclic",useTabstopAt:C(tN)}),_M.memento(n),WM.memento(n,{postprocess:function(e){return uK(e).fold((function(e){console.error(e)
return{}}),(function(e){return e}))}})])}}
var sK=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:Qy(e.action),behaviours:Ym(e.tabButtonBehaviours,[My.config({}),fy.config({mode:"execution",useSpace:true,useEnter:true}),Xm.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}}
var lK=ih({name:"TabButton",configFields:[In("uid",void 0),yn("value"),$t("dom","dom",rt((function(){return{attributes:{role:"tab",id:Pi("aria"),"aria-selected":"false"}}})),ln()),Dn("action"),In("domModification",{}),Km("tabButtonBehaviours",[My,fy,Xm]),yn("view")],factory:sK})
var fK=y([yn("tabs"),yn("dom"),In("clickToDismiss",false),Km("tabbarBehaviours",[Ih,fy]),zs(["tabClass","selectedClass"])])
var vK=Dg({factory:lK,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){Ih.dehighlight(e,t)
fa(e,ua(),{tabbar:e,button:t})}
var n=function(e,t){Ih.highlight(e,t)
fa(e,ia(),{tabbar:e,button:t})}
return{action:function(r){var o=r.getSystem().getByUid(e.uid).getOrDie()
var a=Ih.isHighlighted(o,r)
var i=a&&e.clickToDismiss?t:a?g:n
i(o,r)},domModification:{classes:[e.markers.tabClass]}}}})
var dK=y([vK])
var mK=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ym(e.tabbarBehaviours,[Ih.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Si(t.element,"aria-selected","true")},onDehighlight:function(e,t){Si(t.element,"aria-selected","false")}}),fy.config({mode:"flow",getInitial:function(e){return Ih.getHighlighted(e).map((function(e){return e.element}))},selector:"."+e.markers.tabClass,executeOnMove:true})])}}
var gK=uh({name:"Tabbar",configFields:fK(),partFields:dK(),factory:mK})
var hK=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:Ym(e.tabviewBehaviours,[xy.config({})]),domModification:{attributes:{role:"tabpanel"}}}}
var pK=ih({name:"Tabview",configFields:[Km("tabviewBehaviours",[xy])],factory:hK})
var bK=y([In("selectFirst",true),Ps("onChangeTab"),Ps("onDismissTab"),In("tabs",[]),Km("tabSectionBehaviours",[])])
var yK=Eg({factory:gK,schema:[yn("dom"),En("markers",[yn("tabClass"),yn("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}})
var wK=Eg({factory:pK,name:"tabview"})
var xK=y([yK,wK])
var CK=function(e,t,n,r){var o=function(t){var n=Xm.getValue(t)
jg(t,e,"tabview").each((function(r){var o=J(e.tabs,(function(e){return e.value===n}))
o.each((function(n){var o=n.view()
Ti(t.element,"id").each((function(e){Si(r.element,"aria-labelledby",e)}))
xy.set(r,o)
e.onChangeTab(r,t,o)}))}))}
var a=function(t,n){jg(t,e,"tabbar").each((function(e){n(e).each(va)}))}
return{uid:e.uid,dom:e.dom,components:t,behaviours:Zm(e.tabSectionBehaviours),events:ha(ee([e.selectFirst?[Da((function(e,t){a(e,Ih.getFirst)}))]:[],[wa(ia(),(function(e,t){var n=t.event.button
o(n)})),wa(ua(),(function(t,n){var r=n.event.button
e.onDismissTab(t,r)}))]])),apis:{getViewItems:function(t){return jg(t,e,"tabview").map((function(e){return xy.contents(e)})).getOr([])},showTab:function(e,t){var n=function(e){var n=Ih.getCandidates(e)
var r=J(n,(function(e){return Xm.getValue(e)===t}))
return r.filter((function(t){return!Ih.isHighlighted(e,t)}))}
a(e,n)}}}}
var SK=uh({name:"TabSection",configFields:bK(),partFields:xK(),factory:CK,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}})
var kK=function(e,t,n){return W(e,(function(r,o){xy.set(n,e[o].view())
var a=t.dom.getBoundingClientRect()
xy.set(n,[])
return a.height}))}
var OK=function(e){return ce(ie(e,(function(e,t){return e>t?-1:e<t?1:0})))}
var TK=function(e,t,n){var r=Ua(e).dom
var o=vs(e,".tox-dialog-wrap").getOr(e)
var a="fixed"===Ju(o,"position")
var i
i=a?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight)
var u=Sc(t)
var c=t.dom.offsetLeft>=n.dom.offsetLeft+Rc(n)
var s=c?Math.max(Sc(n),u):u
var l=parseInt(Ju(e,"margin-top"),10)||0
var f=parseInt(Ju(e,"margin-bottom"),10)||0
var v=Sc(e)+l+f
var d=v-s
return i-d}
var EK=function(e,t){ce(e).each((function(e){return SK.showTab(t,e.value)}))}
var _K=function(e,t){Ku(e,"height",t+"px")
Gr().browser.isIE()?rc(e,"flex-basis"):Ku(e,"flex-basis",t+"px")}
var LK=function(e,t,n){vs(e,'[role="dialog"]').each((function(e){ds(e,'[role="tablist"]').each((function(r){n.get().map((function(n){Ku(t,"height","0")
Ku(t,"flex-basis","0")
return Math.min(n,TK(e,t,r))})).each((function(e){_K(t,e)}))}))}))}
var DK=function(e){return ds(e,'[role="tabpanel"]')}
var AK=function(e){var t=(n=Kn(R.none()),r=[Da((function(t){var r=t.element
DK(r).each((function(o){Ku(o,"visibility","hidden")
t.getSystem().getByDom(o).toOptional().each((function(t){var r=kK(e,o,t)
var a=OK(r)
n.set(a)}))
LK(r,o,n)
rc(o,"visibility")
EK(e,t)
Kw.requestAnimationFrame((function(){LK(r,o,n)}))}))})),wa(Qo(),(function(e){var t=e.element
DK(t).each((function(e){LK(t,e,n)}))})),wa(h_,(function(e,t){var r=e.element
DK(r).each((function(e){var t=Jl(ti(e))
Ku(e,"visibility","hidden")
var o=ec(e,"height").map((function(e){return parseInt(e,10)}))
rc(e,"height")
rc(e,"flex-basis")
var a=e.dom.getBoundingClientRect().height
var i=o.forall((function(e){return a>e}))
if(i){n.set(R.from(a))
LK(r,e,n)}else o.each((function(t){_K(e,t)}))
rc(e,"visibility")
t.each(Kl)}))}))],o=false,{extraEvents:r,selectFirst:o})
var n,r,o
var a=function(){var e=[]
var t=true
return{extraEvents:e,selectFirst:t}}()
return{smartTabHeight:t,naiveTabHeight:a}}
var MK="send-data-to-section"
var NK="send-data-to-view"
var RK=function(e,t){var n=Kn({})
var r=function(e){var t=Xm.getValue(e)
var r=uK(t).getOr({})
var o=n.get()
var a=Xe(o,r)
n.set(a)}
var o=function(e){var t=n.get()
Xm.setValue(e,t)}
var a=Kn(null)
var i=W(e.tabs,(function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[pM.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:W(e.items,(function(e){return GB(n,e,t)})),formBehaviours:Hl([fy.config({mode:"acyclic",useTabstopAt:C(tN)}),Sy("TabView.form.events",[Da(o),Aa(r)]),ql.config({channels:lt([{key:MK,value:{onReceive:r}},{key:NK,value:{onReceive:o}}])})])}}))]}}}))
var u=AK(i).smartTabHeight
return SK.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=Xm.getValue(t)
fa(e,g_,{name:r,oldName:a.get()})
a.set(r)},tabs:i,components:[SK.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[gK.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Hl([e_.config({})])}),SK.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:Hl([Sy("tabpanel",u.extraEvents),fy.config({mode:"acyclic"}),bh.config({find:function(e){return ce(SK.getViewItems(e))}}),Xm.config({store:{mode:"manual",getValue:function(e){e.getSystem().broadcastOn([MK],{})
return n.get()},setValue:function(e,t){n.set(t)
e.getSystem().broadcastOn([NK],{})}}})])})}
var zK=Pi("update-dialog")
var BK=Pi("update-title")
var PK=Pi("update-body")
var IK=Pi("update-footer")
var HK=Pi("body-send-message")
var FK=function(e,t,n,r){var o=function(e){switch(e.body.type){case"tabpanel":return[RK(e.body,n)]
default:return[cK(e.body,n)]}}
var a=function(e,t){return R.some({isTabPanel:function(){return"tabpanel"===t.body.type}})}
var i={"aria-live":"polite"}
return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:E(E({},t.map((function(e){return{id:e}})).getOr({})),r?i:{})},components:[],behaviours:Hl([_M.childAt(0),QH.config({channel:PK,updateState:a,renderComponents:o,initialData:e})])}}
var VK=function(e,t,n,r){return FK(e,R.some(t),n,r)}
var jK=function(e,t){var n=FK(e,R.none(),t,false)
return EG.parts.body(n)}
var UK=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[JM({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Hl([e_.config({}),My.config({})])})]}],behaviours:Hl([fy.config({mode:"acyclic",useTabstopAt:C(tN)})])}
return EG.parts.body(t)}
var WK=oO.deviceType.isTouch()
var qK=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}}
var $K=function(e,t){return EG.parts.close(Yw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Hl([e_.config({})])}))}
var GK=function(){return EG.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})}
var XK=function(e,t){return EG.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:LU("<p>"+t.translate(e)+"</p>")}]}]})}
var KK=function(e){return EG.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})}
var ZK=function(e,t){return[WE.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),WE.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]}
var YK=function(e){var t
var n="tox-dialog"
var r=n+"-wrap"
var o=r+"__backdrop"
var a=n+"__disable-scroll"
return EG.sketch({lazySink:e.lazySink,onEscape:function(t){e.onEscape(t)
return R.some(true)},useTabstopAt:function(e){return!tN(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:E({position:"relative"},e.extraStyles)},components:L([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:LU('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:WK?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:Hl(L([My.config({}),Sy("dialog-events",e.dialogEvents.concat([La(_o(),(function(e,t){fy.focusIn(e)}))])),Sy("scroll-lock",[Da((function(){Pu(qu(),a)})),Aa((function(){Hu(qu(),a)}))])],e.extraBehaviours)),eventOrder:E((t={},t[Uo()]=["dialog-events"],t[ea()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[ta()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})}
var JK=function(e){return Yw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ex("close",e.icons)}}],action:function(e){la(e,l_)}})}
var QK=function(e,t,n){var r=function(e){return[hc(n.translate(e.title))]}
return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:E({},t.map((function(e){return{id:e}})).getOr({}))},components:r(e),behaviours:Hl([QH.config({channel:BK,renderComponents:r})])}}
var eZ=function(){return{dom:LU('<div class="tox-dialog__draghandle"></div>')}}
var tZ=function(e,t,n){return WE.sketch({dom:LU('<div class="tox-dialog__header"></div>'),components:[QK(e,R.some(t),n),eZ(),JK(n)],containerBehaviours:Hl([Z$.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return ms(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})}
var nZ=function(e,t){var n=EG.parts.title(QK(e,R.none(),t))
var r=EG.parts.draghandle(eZ())
var o=EG.parts.close(JK(t))
var a=[n].concat(e.draggable?[r]:[]).concat([o])
return WE.sketch({dom:LU('<div class="tox-dialog__header"></div>'),components:a})}
var rZ=function(e,t){return nZ({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)}
var oZ=function(e,t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:t,components:[{dom:LU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}
var aZ=function(e,t,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){EG.setBusy(e(),(function(e,r){return oZ(n.message,r,t)}))},onUnblock:function(){EG.setIdle(e())}}}
var iZ=function(e,t,n,r){var o
var a=function(e,t){return R.some(t)}
return yc(YK(E(E({},e),{lazySink:r.shared.getSink,extraBehaviours:L([QH.config({channel:zK,updateState:a,initialData:t}),WM.memory({})],e.extraBehaviours),onEscape:function(e){la(e,l_)},dialogEvents:n,eventOrder:(o={},o[jo()]=[QH.name(),ql.name()],o[ea()]=["scroll-lock",QH.name(),"messages","dialog-events","alloy.base.behaviour"],o[ta()]=["alloy.base.behaviour","dialog-events","messages",QH.name(),"scroll-lock"],o)})))}
var uZ=function(e){var t=function(e){var t=W(e.items,(function(e){var t=Kn(false)
return E(E({},e),{storage:t})}))
return E(E({},e),{items:t})}
return W(e,(function(e){if("menu"===e.type)return t(e)
return e}))}
var cZ=function(e){return Z(e,(function(e,t){if("menu"===t.type){var n=t
return Z(n.items,(function(e,t){e[t.name]=t.storage
return e}),e)}return e}),{})}
var sZ=function(e,t){return[Ta(_o(),eN),e(s_,(function(e,n){t.onClose()
n.onClose()})),e(l_,(function(e,t,n,r){t.onCancel(e)
la(r,s_)})),wa(m_,(function(e,n){return t.onUnblock()})),wa(d_,(function(e,n){return t.onBlock(n.event)}))]}
var lZ=function(e,t){var n=function(t,n){return wa(t,(function(t,o){r(t,(function(r,a){n(e(),r,o.event,t)}))}))}
var r=function(e,t){QH.getState(e).get().each((function(n){t(n,e)}))}
return L(sZ(n,t),[n(f_,(function(e,t,n){t.onAction(e,{name:n.name})}))])}
var fZ=function(e,t,n){var r=function(t,n){return wa(t,(function(t,r){o(t,(function(o,a){n(e(),o,r.event,t)}))}))}
var o=function(e,t){QH.getState(e).get().each((function(n){t(n.internalDialog,e)}))}
return L(sZ(r,t),[r(v_,(function(e,t){return t.onSubmit(e)})),r(c_,(function(e,t,n){t.onChange(e,{name:n.name})})),r(f_,(function(e,t,r,o){var a=function(){return fy.focusIn(o)}
var i=function(e){return Ei(e,"disabled")||Ti(e,"aria-disabled").exists((function(e){return"true"===e}))}
var u=ti(o.element)
var c=Jl(u)
t.onAction(e,{name:r.name,value:r.value})
Jl(u).fold(a,(function(e){i(e)||c.exists((function(t){return uo(e,t)&&i(t)}))?a():n().toOptional().filter((function(t){return!uo(t.element,e)})).each(a)}))})),r(g_,(function(e,t,n){t.onTabChange(e,{newTabName:n.name,oldTabName:n.oldName})})),Aa((function(t){var n=e()
Xm.setValue(t,n.getData())}))])}
var vZ={initUrlDialog:lZ,initDialog:fZ}
var dZ=function(e,t){return WR(e,e.type,t)}
var mZ=function(e,t,n){return J(t,(function(e){return e.name===n})).bind((function(t){return t.memento.getOpt(e)}))}
var gZ=function(e,t){var n=t.map((function(e){return e.footerButtons})).getOr([])
var r=G(n,(function(e){return"start"===e.align}))
var o=function(e,t){return WE.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:W(t,(function(e){return e.memento.asSpec()}))})}
var a=o("start",r.pass)
var i=o("end",r.fail)
return[a,i]}
var hZ=function(e,t){var n=function(e,n){var r=W(n.buttons,(function(e){var n=Jw(dZ(e,t))
return{name:e.name,align:e.align,memento:n}}))
var o=function(e,t){return mZ(e,r,t)}
return R.some({lookupByName:o,footerButtons:r})}
return{dom:LU('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Hl([QH.config({channel:IK,initialData:e,updateState:n,renderComponents:gZ})])}}
var pZ=function(e,t){return hZ(e,t)}
var bZ=function(e,t){return EG.parts.footer(hZ(e,t))}
var yZ=function(e,t){var n=e.getRoot()
if(n.getSystem().isConnected()){var r=bh.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper())
return pM.getField(r,t).fold((function(){var n=e.getFooter()
var o=QH.getState(n)
return o.get().bind((function(e){return e.lookupByName(r,t)}))}),(function(e){return R.some(e)}))}return R.none()}
var wZ=function(e,t){var n=e.getRoot()
return QH.getState(n).get().map((function(e){return rn(nn("data",e.dataValidator,t))})).getOr(t)}
var xZ=function(e,t,n){var r=function(t){var n=e.getRoot()
n.getSystem().isConnected()&&t(n)}
var o=function(){var t=e.getRoot()
var r=t.getSystem().isConnected()?e.getFormWrapper():t
var o=Xm.getValue(r)
var a=Ae(n,(function(e){return e.get()}))
return E(E({},o),a)}
var i=function(t){r((function(r){var o=g.getData()
var a=E(E({},o),t)
var i=wZ(e,a)
var u=e.getFormWrapper()
Xm.setValue(u,i)
De(n,(function(e,t){Fe(a,t)&&e.set(a[t])}))}))}
var u=function(t){yZ(e,t).each(KS.disable)}
var c=function(t){yZ(e,t).each(KS.enable)}
var s=function(t){yZ(e,t).each(My.focus)}
var l=function(e){if(!a(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument")
r((function(t){fa(t,d_,{message:e})}))}
var f=function(){r((function(e){la(e,m_)}))}
var v=function(t){r((function(n){var r=e.getBody()
var o=QH.getState(r)
o.get().exists((function(e){return e.isTabPanel()}))&&bh.getCurrent(r).each((function(e){SK.showTab(e,t)}))}))}
var d=function(e){r((function(n){var r=t(e)
n.getSystem().broadcastOn([zK],r)
n.getSystem().broadcastOn([BK],r.internalDialog)
n.getSystem().broadcastOn([PK],r.internalDialog)
n.getSystem().broadcastOn([IK],r.internalDialog)
g.setData(r.initialData)}))}
var m=function(){r((function(e){la(e,s_)}))}
var g={getData:o,setData:i,disable:u,enable:c,focus:s,block:l,unblock:f,showTab:v,redial:d,close:m}
return g}
var CZ=function(e){switch(e){case"large":return["tox-dialog--width-lg"]
case"medium":return["tox-dialog--width-md"]
default:return[]}}
var SZ=function(e,t,n){var r=rZ(e.internalDialog.title,n)
var o=jK({body:e.internalDialog.body},n)
var a=uZ(e.internalDialog.buttons)
var i=cZ(a)
var u=bZ({buttons:a},n)
var c=vZ.initDialog((function(){return m}),aZ((function(){return f}),n.shared.providers,t),n.shared.getSink)
var s=CZ(e.internalDialog.size)
var l={header:r,body:o,footer:R.some(u),extraClasses:s,extraBehaviours:[],extraStyles:{}}
var f=iZ(l,e,c,n)
var v=(d=function(){var e=EG.getBody(f)
return bh.getCurrent(e).getOr(e)},{getRoot:function(){return f},getBody:function(){return EG.getBody(f)},getFooter:function(){return EG.getFooter(f)},getFormWrapper:d})
var d
var m=xZ(v,t.redial,i)
return{dialog:f,instanceApi:m}}
var kZ=function(e,t,n,r){var o,a
var i=Pi("dialog-label")
var u=Pi("dialog-content")
var c=function(e,t){return R.some(t)}
var s=Jw(tZ({title:e.internalDialog.title,draggable:true},i,n.shared.providers))
var l=Jw(VK({body:e.internalDialog.body},u,n,r))
var f=uZ(e.internalDialog.buttons)
var v=cZ(f)
var d=Jw(pZ({buttons:f},n))
var m=vZ.initDialog((function(){return h}),{onBlock:function(e){OG.block(g,(function(t,r){return oZ(e.message,r,n.shared.providers)}))},onUnblock:function(){OG.unblock(g)},onClose:function(){return t.closeWindow()}},n.shared.getSink)
var g=yc({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=i,o["aria-describedby"]=""+u,o)},eventOrder:(a={},a[jo()]=[QH.name(),ql.name()],a[Uo()]=["execute-on-form"],a[ea()]=["reflecting","execute-on-form"],a),behaviours:Hl([fy.config({mode:"cyclic",onEscape:function(e){la(e,s_)
return R.some(true)},useTabstopAt:function(e){return!tN(e)&&("button"!==Ra(e)||"disabled"!==Oi(e,"disabled"))}}),QH.config({channel:zK,updateState:c,initialData:e}),My.config({}),Sy("execute-on-form",m.concat([La(_o(),(function(e,t){fy.focusIn(e)}))])),OG.config({getRoot:function(){return R.some(g)}}),xy.config({}),WM.memory({})]),components:[s.asSpec(),l.asSpec(),d.asSpec()]})
var h=xZ({getRoot:function(){return g},getFooter:function(){return d.get(g)},getBody:function(){return l.get(g)},getFormWrapper:function(){var e=l.get(g)
return bh.getCurrent(e).getOr(e)}},t.redial,v)
return{dialog:g,instanceApi:h}}
var OZ=tinymce.util.Tools.resolve("tinymce.util.URI")
var TZ=function(e){var t=function(t){e.getSystem().isConnected()&&t(e)}
var n=function(e){if(!a(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument")
t((function(t){fa(t,d_,{message:e})}))}
var r=function(){t((function(e){la(e,m_)}))}
var o=function(){t((function(e){la(e,s_)}))}
var i=function(e){t((function(t){t.getSystem().broadcastOn([HK],e)}))}
return{block:n,unblock:r,close:o,sendMessage:i}}
var EZ=["insertContent","setContent","execCommand","close","block","unblock"]
var _Z=function(e){return i(e)&&-1!==EZ.indexOf(e.mceAction)}
var LZ=function(e){return!_Z(e)&&i(e)&&Fe(e,"mceAction")}
var DZ=function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content)
break
case"setContent":e.setContent(n.content)
break
case"execCommand":var r=!!c(n.ui)&&n.ui
e.execCommand(n.cmd,r,n.value)
break
case"close":t.close()
break
case"block":t.block(n.message)
break
case"unblock":t.unblock()}}
var AZ=function(e,t,n,r){var o
var a=rZ(e.title,r)
var i=UK(e)
var u=e.buttons.bind((function(e){return 0===e.length?R.none():R.some(bZ({buttons:e},r))}))
var c=vZ.initUrlDialog((function(){return p}),aZ((function(){return h}),r.shared.providers,t))
var s=E(E({},e.height.fold((function(){return{}}),(function(e){return{height:e+"px","max-height":e+"px"}}))),e.width.fold((function(){return{}}),(function(e){return{width:e+"px","max-width":e+"px"}})))
var l=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[]
var f=new OZ(e.url,{base_uri:new OZ(window.location.href)})
var v=f.protocol+"://"+f.host+(f.port?":"+f.port:"")
var d=Kn(R.none())
var m=[Sy("messages",[Da((function(){var t=dE(tr.fromDom(window),"message",(function(t){if(f.isSameOrigin(new OZ(t.raw.origin))){var r=t.raw.data
_Z(r)?DZ(n,p,r):LZ(r)&&e.onMessage(p,r)}}))
d.set(R.some(t))})),Aa((function(){d.get().each((function(e){return e.unbind()}))}))]),ql.config({channels:(o={},o[HK]={onReceive:function(e,t){ds(e.element,"iframe").each((function(e){var n=e.dom.contentWindow
n.postMessage(t,v)}))}},o)})]
var g={header:a,body:i,footer:u,extraClasses:l,extraBehaviours:m,extraStyles:s}
var h=iZ(g,e,c,r)
var p=TZ(h)
return{dialog:h,instanceApi:p}}
var MZ=function(e){var t=e.backstage.shared
var n=function(n,r){var o=function(){EG.hide(c)
r()}
var a=Jw(WR({name:"close-alert",text:"OK",primary:true,align:"end",disabled:false,icon:R.none()},"cancel",e.backstage))
var i=GK()
var u=$K(o,t.providers)
var c=yc(YK({lazySink:function(){return t.getSink()},header:qK(i,u),body:XK(n,t.providers),footer:R.some(KK(ZK([],[a.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[wa(l_,o)],eventOrder:{}}))
EG.show(c)
var s=a.get(c)
My.focus(s)}
return{open:n}}
var NZ=function(e){var t=e.backstage.shared
var n=function(n,r){var o=function(e){EG.hide(s)
r(e)}
var a=Jw(WR({name:"yes",text:"Yes",primary:true,align:"end",disabled:false,icon:R.none()},"submit",e.backstage))
var i=WR({name:"no",text:"No",primary:false,align:"end",disabled:false,icon:R.none()},"cancel",e.backstage)
var u=GK()
var c=$K((function(){return o(false)}),t.providers)
var s=yc(YK({lazySink:function(){return t.getSink()},header:qK(u,c),body:XK(n,t.providers),footer:R.some(KK(ZK([],[i,a.asSpec()]))),onEscape:function(){return o(false)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[wa(l_,(function(){return o(false)})),wa(v_,(function(){return o(true)}))],eventOrder:{}}))
EG.show(s)
var l=a.get(s)
My.focus(l)}
return{open:n}}
var RZ=function(e,t){return rn(nn("data",t,e))}
var zZ=function(e){return hE(e,".tox-alert-dialog")||hE(e,".tox-confirm-dialog")}
var BZ=function(e,t,n){return t&&n?[]:[Uj.config({contextual:{lazyContext:function(){return R.some(os(tr.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]}
var PZ=function(e){var t=e.backstage
var n=e.editor
var r=Ek(n)
var o=MZ(e)
var a=NZ(e)
var i=function(e,n,r){return void 0!==n&&"toolbar"===n.inline?l(e,t.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?l(e,t.shared.anchors.cursor(),r,n.ariaAttrs):s(e,r)}
var u=function(e,t){return c(e,t)}
var c=function(e,r){var o=function(e){var o=AZ(e,{closeWindow:function(){EG.hide(o.dialog)
r(o.instanceApi)}},n,t)
EG.show(o.dialog)
return o.instanceApi}
return iK.openUrl(o,e)}
var s=function(e,n){var r=function(e,r,o){var a=r
var i={dataValidator:o,initialData:a,internalDialog:e}
var u=SZ(i,{redial:iK.redial,closeWindow:function(){EG.hide(u.dialog)
n(u.instanceApi)}},t)
EG.show(u.dialog)
u.instanceApi.setData(a)
return u.instanceApi}
return iK.open(r,e)}
var l=function(e,o,a,i){var u=function(e,u,c){var s=RZ(u,c)
var l=SV()
var f=t.shared.header.isPositionedAtTop()
var v={dataValidator:c,initialData:s,internalDialog:e}
var d=function(){return l.on((function(e){Pw.reposition(e)
Uj.refresh(e)}))}
var m=kZ(v,{redial:iK.redial,closeWindow:function(){l.on(Pw.hide)
n.off("ResizeEditor",d)
l.clear()
a(m.instanceApi)}},t,i)
var g=yc(Pw.sketch(E(E({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},f?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Hl(L([Sy("window-manager-inline-events",[wa(na(),(function(e,t){la(m.dialog,l_)}))])],BZ(n,r,f))),isExtraPart:function(e,t){return zZ(t)}})))
l.set(g)
Pw.showWithin(g,o,wc(m.dialog),R.some(qu()))
if(!r||!f){Uj.refresh(g)
n.on("ResizeEditor",d)}m.instanceApi.setData(s)
fy.focusIn(m.dialog)
return m.instanceApi}
return iK.open(u,e)}
var f=function(e,t){a.open(e,(function(e){t(e)}))}
var v=function(e,t){o.open(e,(function(){t()}))}
var d=function(e){e.close()}
return{open:i,openUrl:u,alert:v,close:d,confirm:f}}
function IZ(){T.add("silver",(function(e){var t=dG(e),n=t.uiMothership,r=t.backstage,o=t.renderUI,a=t.getUi
fE.register(e,r.shared)
var i=PZ({editor:e,backstage:r})
return{renderUI:o,getWindowManagerImpl:y(i),getNotificationManagerImpl:function(){return ix(e,{backstage:r},n)},ui:a()}}))}IZ()})()}).call(this,n("yLpj"))},Gy1R:function(e,t){(function(){"use strict"
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var t=function(e){return e}
var n=function(){n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n]
for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}
return n.apply(this,arguments)}
var r="\ufeff"
var o=function(e){return e.replace(/\uFEFF/g,"")}
var a=function(e,t){var n=e.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=e[o]
r[o]=t(a,o)}return r}
var i="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"
var u={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:i}
var c={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13}
var s=[new RegExp(u.aletter),new RegExp(u.midnumlet),new RegExp(u.midletter),new RegExp(u.midnum),new RegExp(u.numeric),new RegExp(u.cr),new RegExp(u.lf),new RegExp(u.newline),new RegExp(u.extend),new RegExp(u.format),new RegExp(u.katakana),new RegExp(u.extendnumlet),new RegExp("@")]
var l=""
var f=new RegExp("^"+u.punctuation+"$")
var v=/^\s+$/
var d=s
var m=c.OTHER
var g=function(e){var t=m
var n=d.length
for(var r=0;r<n;++r){var o=d[r]
if(o&&o.test(e)){t=r
break}}return t}
var h=function(e){var t={}
return function(n){if(t[n])return t[n]
var r=e(n)
t[n]=r
return r}}
var p=function(e){var t=h(g)
return a(e,t)}
var b=function(e,t){var n=e[t]
var r=e[t+1]
if(t<0||t>e.length-1&&0!==t)return false
if(n===c.ALETTER&&r===c.ALETTER)return false
var o=e[t+2]
if(n===c.ALETTER&&(r===c.MIDLETTER||r===c.MIDNUMLET||r===c.AT)&&o===c.ALETTER)return false
var a=e[t-1]
if((n===c.MIDLETTER||n===c.MIDNUMLET||r===c.AT)&&r===c.ALETTER&&a===c.ALETTER)return false
if((n===c.NUMERIC||n===c.ALETTER)&&(r===c.NUMERIC||r===c.ALETTER))return false
if((n===c.MIDNUM||n===c.MIDNUMLET)&&r===c.NUMERIC&&a===c.NUMERIC)return false
if(n===c.NUMERIC&&(r===c.MIDNUM||r===c.MIDNUMLET)&&o===c.NUMERIC)return false
if(n===c.EXTEND||n===c.FORMAT||a===c.EXTEND||a===c.FORMAT||r===c.EXTEND||r===c.FORMAT)return false
if(n===c.CR&&r===c.LF)return false
if(n===c.NEWLINE||n===c.CR||n===c.LF)return true
if(r===c.NEWLINE||r===c.CR||r===c.LF)return true
if(n===c.KATAKANA&&r===c.KATAKANA)return false
if(r===c.EXTENDNUMLET&&(n===c.ALETTER||n===c.NUMERIC||n===c.KATAKANA||n===c.EXTENDNUMLET))return false
if(n===c.EXTENDNUMLET&&(r===c.ALETTER||r===c.NUMERIC||r===c.KATAKANA))return false
if(n===c.AT)return false
return true}
var y=l
var w=v
var x=f
var C=function(e){return"http"===e||"https"===e}
var S=function(e,t){var n
for(n=t;n<e.length;n++)if(w.test(e[n]))break
return n}
var k=function(e,t){var n=S(e,t+1)
var r=e.slice(t+1,n).join(y)
return"://"===r.substr(0,3)?n:t}
var O=function(e,t,n,r){var o=[]
var a=[]
for(var i=0;i<n.length;++i){a.push(e[i])
if(b(n,i)){var u=t[i]
if((r.includeWhitespace||!w.test(u))&&(r.includePunctuation||!x.test(u))){var c=i-a.length+1
var s=i+1
var l=t.slice(c,s).join(y)
if(C(l)){var f=k(t,i)
var v=e.slice(s,f)
Array.prototype.push.apply(a,v)
i=f}o.push(a)}a=[]}}return o}
var T=function(){return{includeWhitespace:false,includePunctuation:false}}
var E=function(e,t,o){o=n(n({},T()),o)
var a=[]
var i=[]
for(var u=0;u<e.length;u++){var c=t(e[u])
if(c!==r){a.push(e[u])
i.push(c)}}var s=p(i)
return O(a,i,s,o)}
var _=E
var L=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var D=function(e,t){var n=t.getBlockElements()
var r=t.getShortEndedElements()
var a=function(e){return n[e.nodeName]||r[e.nodeName]}
var i=[]
var u=""
var c=new L(e,e)
while(e=c.next())if(3===e.nodeType)u+=o(e.data)
else if(a(e)&&u.length){i.push(u)
u=""}u.length&&i.push(u)
return i}
var A=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}
var M=function(e,n){var r=D(e,n).join("\n")
return _(r.split(""),t).length}
var N=function(e,t){var n=D(e,t).join("")
return A(n)}
var R=function(e,t){var n=D(e,t).join("").replace(/\s/g,"")
return A(n)}
var z=function(e,t){return function(){return t(e.getBody(),e.schema)}}
var B=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}}
var P=function(e){return z(e,M)}
var I=function(e){return{body:{getWordCount:P(e),getCharacterCount:z(e,N),getCharacterCountWithoutSpaces:z(e,R)},selection:{getWordCount:B(e,M),getCharacterCount:B(e,N),getCharacterCountWithoutSpaces:B(e,R)},getCount:P(e)}}
var H=tinymce.util.Tools.resolve("tinymce.util.Delay")
var F=function(e,t){e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})}
var V=function(e,t){F(e,t)}
var j=function(e,t,n){var r=H.debounce((function(){return V(e,t)}),n)
e.on("init",(function(){V(e,t)
H.setEditorTimeout(e,(function(){e.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))}
var U=function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:true}]})}
var W=function(e,t){e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return U(e,t)}})
e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return U(e,t)}})}
function q(t){void 0===t&&(t=300)
e.add("wordcount",(function(e){var n=I(e)
W(e,n)
j(e,n,t)
return n}))}q()})()},HF4P:function(e,t){(function(){"use strict"
var e=function(e){var t=e
var n=function(){return t}
var r=function(e){t=e}
return{get:n,set:r}}
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=function(e){if(e.hasPlugin("powerpaste",true)){"undefined"!==typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")
return true}return false}
var r=function(e,t){return{clipboard:e,quirks:t}}
var o=function(e){return function(t){return typeof t===e}}
var a=function(e){return null===e||void 0===e}
var i=function(e){return!a(e)}
var u=o("function")
var c=function(){}
var s=function(e){return function(){return e}}
var l=s(false)
var f=s(true)
var v=function(){return d}
var d=(m=function(e){return e.isNone()},g=function(e){return e()},h=function(e){return e},p={fold:function(e,t){return e()},is:l,isSome:l,isNone:f,getOr:h,getOrThunk:g,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:h,orThunk:g,map:v,each:c,bind:v,exists:l,forall:f,filter:v,equals:m,equals_:m,toArray:function(){return[]},toString:s("none()")},p)
var m,g,h,p
var b=function(e){var t=s(e)
var n=function(){return o}
var r=function(t){return t(e)}
var o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:f,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(l,(function(t){return n(e,t)}))}}
return o}
var y=function(e){return null===e||void 0===e?d:b(e)}
var w={some:b,none:v,from:y}
var x=Array.prototype.slice
var C=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
if(t(o,n))return true}return false}
var S=function(e,t){var n=e.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=e[o]
r[o]=t(a,o)}return r}
var k=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
t(o,n)}}
var O=function(e,t){var n=[]
for(var r=0,o=e.length;r<o;r++){var a=e[r]
t(a,r)&&n.push(a)}return n}
var T=function(e,t,n){k(e,(function(e){n=t(n,e)}))
return n}
var E=u(Array.from)?Array.from:function(e){return x.call(e)}
var _=function(){var t=e(w.none())
var n=function(){return t.set(w.none())}
var r=function(e){return t.set(w.some(e))}
var o=function(){return t.get().isSome()}
var a=function(e){return t.get().each(e)}
return{clear:n,set:r,isSet:o,on:a}}
var L=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}
var D=function(e,t){return L(e,t,0)}
var A=function(e,t){return L(e,t,e.length-t.length)}
var M=function(e,t){return t<=0?"":new Array(t+1).join(e)}
var N=tinymce.util.Tools.resolve("tinymce.Env")
var R=tinymce.util.Tools.resolve("tinymce.util.Delay")
var z=tinymce.util.Tools.resolve("tinymce.util.Promise")
var B=tinymce.util.Tools.resolve("tinymce.util.VK")
var P=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})}
var I=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})}
var H=function(e,t){return e.fire("PastePlainTextToggle",{state:t})}
var F=function(e,t){return e.fire("paste",{ieFake:t})}
var V=tinymce.util.Tools.resolve("tinymce.util.Tools")
var j=function(e){return e.getParam("paste_block_drop",false)}
var U=function(e){return e.getParam("paste_data_images",false)}
var W=function(e){return e.getParam("paste_filter_drop",true)}
var q=function(e){return e.getParam("paste_preprocess")}
var $=function(e){return e.getParam("paste_postprocess")}
var G=function(e){return e.getParam("paste_webkit_styles")}
var X=function(e){return e.getParam("paste_remove_styles_if_webkit",true)}
var K=function(e){return e.getParam("paste_merge_formats",true)}
var Z=function(e){return e.getParam("smart_paste",true)}
var Y=function(e){return e.getParam("paste_as_text",false)}
var J=function(e){return e.getParam("paste_retain_style_properties")}
var Q=function(e){var t="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"
return e.getParam("paste_word_valid_elements",t)}
var ee=function(e){return e.getParam("paste_convert_word_fake_lists",true)}
var te=function(e){return e.getParam("paste_enable_default_filters",true)}
var ne=function(e){return e.getParam("validate")}
var re=function(e){return e.getParam("allow_html_data_urls",false,"boolean")}
var oe=function(e){return e.getParam("paste_data_images",false,"boolean")}
var ae=function(e){return e.getParam("images_dataimg_filter")}
var ie=function(e){return e.getParam("images_reuse_filename")}
var ue=function(e){return e.getParam("forced_root_block")}
var ce=function(e){return e.getParam("forced_root_block_attrs")}
var se=function(e){return e.getParam("paste_tab_spaces",4,"number")}
var le=function(e){var t="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"
return V.explode(e.getParam("images_file_types",t,"string"))}
var fe="x-tinymce/html"
var ve="\x3c!-- "+fe+" --\x3e"
var de=function(e){return ve+e}
var me=function(e){return e.replace(ve,"")}
var ge=function(e){return-1!==e.indexOf(ve)}
var he=function(){return fe}
var pe=tinymce.util.Tools.resolve("tinymce.html.Entities")
var be=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)}
var ye=function(e){return e.replace(/\r?\n/g,"<br>")}
var we=function(e,t){var n
var r=[]
var o="<"+e
if("object"===typeof t){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+pe.encodeAllRaw(t[n])+'"')
r.length&&(o+=" "+r.join(" "))}return o+">"}
var xe=function(e,t,n){var r=e.split(/\n\n/)
var o=we(t,n)
var a="</"+t+">"
var i=V.map(r,(function(e){return e.split(/\n/).join("<br />")}))
var u=function(e){return o+e+a}
return 1===i.length?i[0]:V.map(i,u).join("")}
var Ce=function(e,t,n){return t?xe(e,true===t?"p":t,n):ye(e)}
var Se=tinymce.util.Tools.resolve("tinymce.html.DomParser")
var ke=tinymce.util.Tools.resolve("tinymce.html.Serializer")
var Oe=" "
var Te=tinymce.util.Tools.resolve("tinymce.html.Node")
var Ee=tinymce.util.Tools.resolve("tinymce.html.Schema")
var _e=function(e,t){V.each(t,(function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])}))
return e}
var Le=function(e){var t=Ee()
var n=Se({},t)
var r=""
var o=t.getShortEndedElements()
var a=V.makeMap("script noscript style textarea video audio iframe object"," ")
var i=t.getBlockElements()
var u=function(e){var t=e.name,n=e
if("br"===t){r+="\n"
return}if("wbr"===t)return
o[t]&&(r+=" ")
if(a[t]){r+=" "
return}3===e.type&&(r+=e.value)
if(!e.shortEnded&&(e=e.firstChild))do{u(e)}while(e=e.next)
if(i[t]&&n.next){r+="\n"
"p"===t&&(r+="\n")}}
e=_e(e,[/<!\[[^\]]+\]>/g])
u(n.parse(e))
return r}
var De=function(e){var t=function(e,t,n){if(!t&&!n)return" "
return Oe}
e=_e(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i])
return e}
var Ae=function(e){var t=0
return function(){return e+t++}}
var Me=function(e){var t=e.toLowerCase()
var n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"}
return V.hasOwn(n,t)?"image/"+n[t]:"image/"+t}
var Ne=function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}
var Re=function(e){var t
var n=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/]
e=e.replace(/^[\u00a0 ]+/,"")
V.each(n,(function(n){if(n.test(e)){t=true
return false}}))
return t}
var ze=function(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}
var Be=function(e){var t,n,r=1
var o=function(e){var t=""
if(3===e.type)return e.value
if(e=e.firstChild)do{t+=o(e)}while(e=e.next)
return t}
var a=function(e,t){if(3===e.type&&t.test(e.value)){e.value=e.value.replace(t,"")
return false}if(e=e.firstChild)do{if(!a(e,t))return false}while(e=e.next)
return true}
var i=function(e){if(e._listIgnore){e.remove()
return}if(e=e.firstChild)do{i(e)}while(e=e.next)}
var u=function(e,o,u){var c=e._listLevel||r
if(c!==r)if(c<r)t&&(t=t.parent.parent)
else{n=t
t=null}if(t&&t.name===o)t.append(e)
else{n=n||t
t=new Te(o,1)
u>1&&t.attr("start",""+u)
e.wrap(t)}e.name="li"
c>r&&n&&n.lastChild.append(t)
r=c
i(e)
a(e,/^\u00a0+/)
a(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/)
a(e,/^\u00a0+/)}
var c=[]
var s=e.firstChild
while("undefined"!==typeof s&&null!==s){c.push(s)
s=s.walk()
if(null!==s)while("undefined"!==typeof s&&s.parent!==e)s=s.walk()}for(var l=0;l<c.length;l++){e=c[l]
if("p"===e.name&&e.firstChild){var f=o(e)
if(ze(f)){u(e,"ul")
continue}if(Re(f)){var v=/([0-9]+)\./.exec(f)
var d=1
v&&(d=parseInt(v[1],10))
u(e,"ol",d)
continue}if(e._listLevel){u(e,"ul",1)
continue}t=null}else{n=t
t=null}}}
var Pe=function(e,t,n,r){var o,a={}
var i=e.dom.parseStyle(r)
V.each(i,(function(i,u){switch(u){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(r)
o&&(n._listLevel=parseInt(o[1],10))
if(/Ignore/i.test(i)&&n.firstChild){n._listIgnore=true
n.firstChild._listIgnore=true}break
case"horiz-align":u="text-align"
break
case"vert-align":u="vertical-align"
break
case"font-color":case"mso-foreground":u="color"
break
case"mso-background":case"mso-highlight":u="background"
break
case"font-weight":case"font-style":"normal"!==i&&(a[u]=i)
return
case"mso-element":if(/^(comment|comment-list)$/i.test(i)){n.remove()
return}}if(0===u.indexOf("mso-comment")){n.remove()
return}if(0===u.indexOf("mso-"))return;("all"===J(e)||t&&t[u])&&(a[u]=i)}))
if(/(bold)/i.test(a["font-weight"])){delete a["font-weight"]
n.wrap(new Te("b",1))}if(/(italic)/i.test(a["font-style"])){delete a["font-style"]
n.wrap(new Te("i",1))}a=e.dom.serializeStyle(a,n.name)
if(a)return a
return null}
var Ie=function(e,t){var n
var r=J(e)
r&&(n=V.makeMap(r.split(/[, ]/)))
t=_e(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Oe],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(Oe):""}]])
var o=Q(e)
var a=Ee({valid_elements:o,valid_children:"-li[p]"})
V.each(a.elements,(function(e){if(!e.attributes.class){e.attributes.class={}
e.attributesOrder.push("class")}if(!e.attributes.style){e.attributes.style={}
e.attributesOrder.push("style")}}))
var i=Se({},a)
i.addAttributeFilter("style",(function(t){var r,o=t.length
while(o--){r=t[o]
r.attr("style",Pe(e,n,r,r.attr("style")))
"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()}}))
i.addAttributeFilter("class",(function(e){var t,n,r=e.length
while(r--){t=e[r]
n=t.attr("class");/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove()
t.attr("class",null)}}))
i.addNodeFilter("del",(function(e){var t=e.length
while(t--)e[t].remove()}))
i.addNodeFilter("a",(function(e){var t,n,r,o=e.length
while(o--){t=e[o]
n=t.attr("href")
r=t.attr("name")
if(n&&-1!==n.indexOf("#_msocom_")){t.remove()
continue}if(n&&0===n.indexOf("file://")){n=n.split("#")[1]
n&&(n="#"+n)}if(n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap()
continue}t.attr({href:n,name:r})}else t.unwrap()}}))
var u=i.parse(t)
ee(e)&&Be(u)
t=ke({validate:ne(e)},a).serialize(u)
return t}
var He=function(e,t){return te(e)?Ie(e,t):t}
var Fe=function(e,t){var n=Se({},e.schema)
n.addNodeFilter("meta",(function(e){V.each(e,(function(e){e.remove()}))}))
var r=n.parse(t,{forced_root_block:false,isRootContent:true})
return ke({validate:ne(e)},e.schema).serialize(r)}
var Ve=function(e,t){return{content:e,cancelled:t}}
var je=function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t)
var a=I(e,o,n,r)
return Ve(a.node.innerHTML,a.isDefaultPrevented())}
var Ue=function(e,t,n,r){var o=P(e,t,n,r)
var a=Fe(e,o.content)
return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?je(e,a,n,r):Ve(a,o.isDefaultPrevented())}
var We=function(e,t,n){var r=Ne(t)
var o=r?He(e,t):t
return Ue(e,o,n,r)}
var qe=function(e,t){e.insertContent(t,{merge:K(e),paste:true})
return true}
var $e=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)}
var Ge=function(e,t){return $e(t)&&C(le(e),(function(e){return A(t.toLowerCase(),"."+e.toLowerCase())}))}
var Xe=function(e,t,n){e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')}))
return true}
var Ke=function(e,t,n){e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",false,t)}))
return true}
var Ze=function(e,t,n){return!(false!==e.selection.isCollapsed()||!$e(t))&&Ke(e,t,n)}
var Ye=function(e,t,n){return!!Ge(e,t)&&Xe(e,t,n)}
var Je=function(e,t){V.each([Ze,Ye,qe],(function(n){return true!==n(e,t,qe)}))}
var Qe=function(e,t,n){n||false===Z(e)?qe(e,t):Je(e,t)}
var et=function(e){return-1!==" \f\t\v".indexOf(e)}
var tt=function(e){return"\n"===e||"\r"===e}
var nt=function(e,t){return t<e.length&&t>=0&&tt(e[t])}
var rt=function(e,t){var n=M(" ",se(e))
var r=t.replace(/\t/g,n)
var o=T(r,(function(e,t){return et(t)||t===Oe?e.pcIsSpace||""===e.str||e.str.length===r.length-1||nt(r,e.str.length+1)?{pcIsSpace:false,str:e.str+Oe}:{pcIsSpace:true,str:e.str+" "}:{pcIsSpace:tt(t),str:e.str+t}}),{pcIsSpace:false,str:""})
return o.str}
var ot=function(e,t,n,r){var o=We(e,t,n)
false===o.cancelled&&Qe(e,o.content,r)}
var at=function(e,t,n){var r=n||ge(t)
ot(e,me(t),r,false)}
var it=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n")
var r=rt(e,n)
var o=Ce(r,ue(e),ce(e))
ot(e,o,false,true)}
var ut=function(e){var t={}
var n="data:text/mce-internal,"
if(e){if(e.getData){var r=e.getData("Text")
r&&r.length>0&&-1===r.indexOf(n)&&(t["text/plain"]=r)}if(e.types)for(var o=0;o<e.types.length;o++){var a=e.types[o]
try{t[a]=e.getData(a)}catch(e){t[a]=""}}}return t}
var ct=function(e,t){return ut(t.clipboardData||e.getDoc().dataTransfer)}
var st=function(e,t){return t in e&&e[t].length>0}
var lt=function(e){return st(e,"text/html")||st(e,"text/plain")}
var ft=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e)
return t?{type:t[1],data:decodeURIComponent(t[2])}:{type:null,data:null}}
var vt=function(e,t){var n=ae(e)
return!n||n(t)}
var dt=function(e,t){var n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i)
return i(n)?e.dom.encode(n[1]):null}
var mt=Ae("mceclip")
var gt=function(e,t){var n=ft(t.uri),r=n.data,o=n.type
var a=mt()
var u=t.blob
var c=new Image
c.src=t.uri
if(vt(e,c)){var s=e.editorUpload.blobCache
var l=void 0
var f=s.getByData(r,o)
if(f)l=f
else{var v=ie(e)&&i(u.name)
var d=v?dt(e,u.name):a
var m=v?u.name:void 0
l=s.create(a,u,r,d,m)
s.add(l)}at(e,'<img src="'+l.blobUri()+'">',false)}else at(e,'<img src="'+t.uri+'">',false)}
var ht=function(e){return"paste"===e.type}
var pt=function(e){return i(e.getAsFile)}
var bt=function(e){return z.all(S(e,(function(e){return new z((function(t){var n=pt(e)?e.getAsFile():e
var r=new window.FileReader
r.onload=function(){t({blob:n,uri:r.result})}
r.readAsDataURL(n)}))})))}
var yt=function(e){var t=le(e)
return function(e){return D(e.type,"image/")&&C(t,(function(t){return Me(t)===e.type}))}}
var wt=function(e,t){var n=t.items?S(E(t.items),(function(e){return e.getAsFile()})):[]
var r=t.files?E(t.files):[]
return O(n.length>0?n:r,yt(e))}
var xt=function(e,t,n){var r=ht(t)?t.clipboardData:t.dataTransfer
if(oe(e)&&r){var o=wt(e,r)
if(o.length>0){t.preventDefault()
bt(o).then((function(t){n&&e.selection.setRng(n)
k(t,(function(t){gt(e,t)}))}))
return true}}return false}
var Ct=function(e){var t=e.clipboardData
return-1!==navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length}
var St=function(e){return B.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode}
var kt=function(e,t,n){var r=_()
var o=_()
var a
e.on("keyup",o.clear)
e.on("keydown",(function(n){var i=function(e){St(e)&&!e.isDefaultPrevented()&&t.remove()}
if(St(n)&&!n.isDefaultPrevented()){a=n.shiftKey&&86===n.keyCode
if(a&&N.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return
n.stopImmediatePropagation()
r.set(n)
o.set(true)
if(N.ie&&a){n.preventDefault()
F(e,true)
return}t.remove()
t.create()
e.once("keyup",i)
e.once("paste",(function(){e.off("keyup",i)}))}}))
var i=function(e,n,r,o,a){var i
if(st(n,"text/html"))i=n["text/html"]
else{i=t.getHtml()
a=a||ge(i)
t.isDefaultContent(i)&&(o=true)}i=De(i)
t.remove()
var u=false===a&&be(i)
var c=$e(i);(!i.length||u&&!c)&&(o=true);(o||c)&&(i=st(n,"text/plain")&&u?n["text/plain"]:Le(i))
if(t.isDefaultContent(i)){r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")
return}o?it(e,i):at(e,i,a)}
var u=function(){return t.getLastRng()||e.selection.getRng()}
e.on("paste",(function(c){var s=r.isSet()||o.isSet()
s&&r.clear()
var l=ct(e,c)
var f="text"===n.get()||a
var v=st(l,he())
a=false
if(c.isDefaultPrevented()||Ct(c)){t.remove()
return}if(!lt(l)&&xt(e,c,u())){t.remove()
return}s||c.preventDefault()
if(N.ie&&(!s||c.ieFake)&&!st(l,"text/html")){t.create()
e.dom.bind(t.getEl(),"paste",(function(e){e.stopPropagation()}))
e.getDoc().execCommand("Paste",false,null)
l["text/html"]=t.getHtml()}if(st(l,"text/html")){c.preventDefault()
v||(v=ge(l["text/html"]))
i(e,l,s,f,v)}else R.setEditorTimeout(e,(function(){i(e,l,s,f,v)}),0)}))}
var Ot=function(e,t,n){kt(e,t,n)
var r
e.parser.addNodeFilter("img",(function(t,n,o){var a=function(e){return e.data&&true===e.data.paste}
var i=function(e){e.attr("data-mce-object")||r===N.transparentSrc||e.remove()}
var u=function(e){return 0===e.indexOf("webkit-fake-url")}
var c=function(e){return 0===e.indexOf("data:")}
if(!oe(e)&&a(o)){var s=t.length
while(s--){r=t[s].attr("src")
if(!r)continue;(u(r)||!re(e)&&c(r))&&i(t[s])}}}))}
var Tt=function(e){return N.ie&&e.inline?document.body:e.getBody()}
var Et=function(e){return Tt(e)!==e.getBody()}
var _t=function(e,t,n){Et(e)&&e.dom.bind(t,"paste keyup",(function(t){Bt(e,n)||e.fire("paste")}))}
var Lt=function(e,t,n){var r=e.dom,o=e.getBody()
t.set(e.selection.getRng())
var a=e.dom.add(Tt(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:true,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(N.ie||N.gecko)&&r.setStyle(a,"left","rtl"===r.getStyle(o,"direction",true)?65535:-65535)
r.bind(a,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()}))
_t(e,a,n)
a.focus()
e.selection.select(a,true)}
var Dt=function(e,t){if(At(e)){var n=void 0
var r=t.get()
while(n=e.dom.get("mcepastebin")){e.dom.remove(n)
e.dom.unbind(n)}r&&e.selection.setRng(r)}t.set(null)}
var At=function(e){return e.dom.get("mcepastebin")}
var Mt=function(e){var t=function(t,n){t.appendChild(n)
e.dom.remove(n,true)}
var n=V.grep(Tt(e).childNodes,(function(e){return"mcepastebin"===e.id}))
var r=n.shift()
V.each(n,(function(e){t(r,e)}))
var o=e.dom.select("div[id=mcepastebin]",r)
for(var a=o.length-1;a>=0;a--){var i=e.dom.create("div")
r.insertBefore(i,o[a])
t(i,o[a])}return r?r.innerHTML:""}
var Nt=function(e){return e.get()}
var Rt=function(e,t){return t===e}
var zt=function(e){return e&&"mcepastebin"===e.id}
var Bt=function(e,t){var n=At(e)
return zt(n)&&Rt(t,n.innerHTML)}
var Pt=function(t){var n=e(null)
var r="%MCEPASTEBIN%"
return{create:function(){return Lt(t,n,r)},remove:function(){return Dt(t,n)},getEl:function(){return At(t)},getHtml:function(){return Mt(t)},getLastRng:function(){return Nt(n)},isDefault:function(){return Bt(t,r)},isDefaultContent:function(e){return Rt(r,e)}}}
var It=function(e,t){var n=Pt(e)
e.on("PreInit",(function(){return Ot(e,n,t)}))
return{pasteFormat:t,pasteHtml:function(t,n){return at(e,t,n)},pasteText:function(t){return it(e,t)},pasteImageData:function(t,n){return xt(e,t,n)},getDataTransferItems:ut,hasHtmlOrText:lt,hasContentType:st}}
var Ht=function(e,t){if("text"===t.pasteFormat.get()){t.pasteFormat.set("html")
H(e,false)}else{t.pasteFormat.set("text")
H(e,true)}e.focus()}
var Ft=function(e,t){e.addCommand("mceTogglePlainTextPaste",(function(){Ht(e,t)}))
e.addCommand("mceInsertClipboardContent",(function(e,n){n.content&&t.pasteHtml(n.content,n.internal)
n.text&&t.pasteText(n.text)}))}
var Vt=function(e){return false===N.iOS&&"function"===typeof(null===e||void 0===e?void 0:e.setData)}
var jt=function(e,t,n){if(!Vt(e))return false
try{e.clearData()
e.setData("text/html",t)
e.setData("text/plain",n)
e.setData(he(),t)
return true}catch(e){return false}}
var Ut=function(e,t,n,r){if(jt(e.clipboardData,t.html,t.text)){e.preventDefault()
r()}else n(t.html,r)}
var Wt=function(e){return function(t,n){var r=de(t)
var o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"})
var a=e.dom.create("div",{contenteditable:"true"},r)
e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"})
o.appendChild(a)
e.dom.add(e.getBody(),o)
var i=e.selection.getRng()
a.focus()
var u=e.dom.createRng()
u.selectNodeContents(a)
e.selection.setRng(u)
R.setTimeout((function(){e.selection.setRng(i)
o.parentNode.removeChild(o)
n()}),0)}}
var qt=function(e){return{html:e.selection.getContent({contextual:true}),text:e.selection.getContent({format:"text"})}}
var $t=function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())}
var Gt=function(e){return!e.selection.isCollapsed()||$t(e)}
var Xt=function(e){return function(t){Gt(e)&&Ut(t,qt(e),Wt(e),(function(){if(N.browser.isChrome()||N.browser.isFirefox()){var t=e.selection.getRng()
R.setEditorTimeout(e,(function(){e.selection.setRng(t)
e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))}}
var Kt=function(e){return function(t){Gt(e)&&Ut(t,qt(e),Wt(e),c)}}
var Zt=function(e){e.on("cut",Xt(e))
e.on("copy",Kt(e))}
var Yt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils")
var Jt=function(e,t){return Yt.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())}
var Qt=function(e){var t=e["text/plain"]
return!!t&&0===t.indexOf("file://")}
var en=function(e,t){e.focus()
e.selection.setRng(t)}
var tn=function(e,t,n){j(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault()
e.stopPropagation()}))
U(e)||e.on("drop",(function(e){var t=e.dataTransfer
t&&t.files&&t.files.length>0&&e.preventDefault()}))
e.on("drop",(function(r){var o=Jt(e,r)
if(r.isDefaultPrevented()||n.get())return
var a=t.getDataTransferItems(r.dataTransfer)
var i=t.hasContentType(a,he())
if((!t.hasHtmlOrText(a)||Qt(a))&&t.pasteImageData(r,o))return
if(o&&W(e)){var u=a["mce-internal"]||a["text/html"]||a["text/plain"]
if(u){r.preventDefault()
R.setEditorTimeout(e,(function(){e.undoManager.transact((function(){a["mce-internal"]&&e.execCommand("Delete")
en(e,o)
u=De(u)
a["text/html"]?t.pasteHtml(u,i):t.pasteText(u)}))}))}}}))
e.on("dragstart",(function(e){n.set(true)}))
e.on("dragover dragend",(function(t){if(U(e)&&false===n.get()){t.preventDefault()
en(e,Jt(e,t))}"dragend"===t.type&&n.set(false)}))}
var nn=function(e){var t=e.plugins.paste
var n=q(e)
n&&e.on("PastePreProcess",(function(e){n.call(t,t,e)}))
var r=$(e)
r&&e.on("PastePostProcess",(function(e){r.call(t,t,e)}))}
var rn=function(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))}
var on=function(e,t){e.on("PastePostProcess",(function(n){t(e,n.node)}))}
var an=function(e,t){if(!Ne(t))return t
var n=[]
V.each(e.schema.getBlockElements(),(function(e,t){n.push(t)}))
var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g")
t=_e(t,[[r,"$1"]])
t=_e(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])
return t}
var un=function(e,t,n,r){if(r||n)return t
var o=G(e)
var a
if(false===X(e)||"all"===o)return t
o&&(a=o.split(/[, ]/))
if(a){var i=e.dom,u=e.selection.getNode()
t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,r){var o=i.parseStyle(i.decode(n))
var c={}
if("none"===a)return t+r
for(var s=0;s<a.length;s++){var l=o[a[s]],f=i.getStyle(u,a[s],true)
if(/color/.test(a[s])){l=i.toHex(l)
f=i.toHex(f)}f!==l&&(c[a[s]]=l)}c=i.serializeStyle(c,"span")
if(c)return t+' style="'+c+'"'+r
return t+r}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")
t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,r){return t+' style="'+n+'"'+r}))
return t}
var cn=function(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,true)}))}
var sn=function(e){N.webkit&&rn(e,un)
if(N.ie){rn(e,an)
on(e,cn)}}
var ln=function(e,t){return function(n){n.setActive("text"===t.pasteFormat.get())
var r=function(e){return n.setActive(e.state)}
e.on("PastePlainTextToggle",r)
return function(){return e.off("PastePlainTextToggle",r)}}}
var fn=function(e,t){e.ui.registry.addToggleButton("pastetext",{active:false,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:ln(e,t)})
e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return e.execCommand("mceTogglePlainTextPaste")},onSetup:ln(e,t)})}
function vn(){t.add("paste",(function(t){if(false===n(t)){var o=e(false)
var a=e(Y(t)?"text":"html")
var i=It(t,a)
var u=sn(t)
fn(t,i)
Ft(t,i)
nn(t)
Zt(t)
tn(t,i,o)
return r(i,u)}}))}vn()})()},"I9W/":function(e,t){(function(){"use strict"
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var t=function(e){var t=typeof e
return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}
var n=function(e){return function(n){return t(n)===e}}
var r=function(e){return function(t){return typeof t===e}}
var o=n("string")
var a=n("object")
var i=n("array")
var u=r("boolean")
var c=r("function")
var s=r("number")
var l=function(){}
var f=function(e){return function(){return e}}
var v=function(e){return function(t){return!e(t)}}
var d=f(false)
var m=f(true)
var g=function(){return h}
var h=function(){var e=function(e){return e.isNone()}
var t=function(e){return e()}
var n=function(e){return e}
var r={fold:function(e,t){return e()},is:d,isSome:d,isNone:m,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:n,orThunk:t,map:g,each:l,bind:g,exists:d,forall:m,filter:g,equals:e,equals_:e,toArray:function(){return[]},toString:f("none()")}
return r}()
var p=function(e){var t=f(e)
var n=function(){return o}
var r=function(t){return t(e)}
var o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:m,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return p(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:h},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(d,(function(t){return n(e,t)}))}}
return o}
var b=function(e){return null===e||void 0===e?h:p(e)}
var y={some:p,none:g,from:b}
var w=Array.prototype.slice
var x=Array.prototype.push
var C=function(e,t){var n=e.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=e[o]
r[o]=t(a,o)}return r}
var S=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
t(o,n)}}
var k=function(e,t){var n=[]
for(var r=0,o=e.length;r<o;r++){var a=e[r]
t(a,r)&&n.push(a)}return n}
var O=function(e,t){if(0===e.length)return[]
var n=t(e[0])
var r=[]
var o=[]
for(var a=0,i=e.length;a<i;a++){var u=e[a]
var c=t(u)
if(c!==n){r.push(o)
o=[]}n=c
o.push(u)}0!==o.length&&r.push(o)
return r}
var T=function(e,t,n){S(e,(function(e){n=t(n,e)}))
return n}
var E=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r]
if(t(a,r))return y.some(a)
if(n(a,r))break}return y.none()}
var _=function(e,t){return E(e,t,d)}
var L=function(e){var t=[]
for(var n=0,r=e.length;n<r;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)
x.apply(t,e[n])}return t}
var D=function(e,t){return L(C(e,t))}
var A=function(e){var t=w.call(e,0)
t.reverse()
return t}
var M=function(e,t){return t>=0&&t<e.length?y.some(e[t]):y.none()}
var N=function(e){return M(e,0)}
var R=function(e){return M(e,e.length-1)}
var z=function(){z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n]
for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}
return z.apply(this,arguments)}
function B(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length
var r=Array(e),o=0
for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var P=function(e){var t=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!t){t=true
n=e.apply(null,r)}return n}}
var I=function(e,t,n,r){var o=e.isiOS()&&true===/ipad/i.test(n)
var a=e.isiOS()&&!o
var i=e.isiOS()||e.isAndroid()
var u=i||r("(pointer:coarse)")
var c=o||!a&&i&&r("(min-device-width:768px)")
var s=a||i&&!c
var l=t.isSafari()&&e.isiOS()&&false===/safari/i.test(n)
var v=!s&&!c&&!l
return{isiPad:f(o),isiPhone:f(a),isTablet:f(c),isPhone:f(s),isTouch:f(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:f(l),isDesktop:f(v)}}
var H=function(e,t){for(var n=0;n<e.length;n++){var r=e[n]
if(r.test(t))return r}return}
var F=function(e,t){var n=H(e,t)
if(!n)return{major:0,minor:0}
var r=function(e){return Number(t.replace(n,"$"+e))}
return U(r(1),r(2))}
var V=function(e,t){var n=String(t).toLowerCase()
if(0===e.length)return j()
return F(e,n)}
var j=function(){return U(0,0)}
var U=function(e,t){return{major:e,minor:t}}
var W={nu:U,detect:V,unknown:j}
var q=function(e,t){var n=String(t).toLowerCase()
return _(e,(function(e){return e.search(n)}))}
var $=function(e,t){return q(e,t).map((function(e){var n=W.detect(e.versionRegexes,t)
return{current:e.name,version:n}}))}
var G=function(e,t){return q(e,t).map((function(e){var n=W.detect(e.versionRegexes,t)
return{current:e.name,version:n}}))}
var X={detectBrowser:$,detectOs:G}
var K=function(e,t){return-1!==e.indexOf(t)}
var Z=function(e){return function(t){return t.replace(e,"")}}
var Y=Z(/^\s+|\s+$/g)
var J=function(e){return e.length>0}
var Q=function(e){return!J(e)}
var ee=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var te=function(e){return function(t){return K(t,e)}}
var ne=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return K(e,"edge/")&&K(e,"chrome")&&K(e,"safari")&&K(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ee],search:function(e){return K(e,"chrome")&&!K(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return K(e,"msie")||K(e,"trident")}},{name:"Opera",versionRegexes:[ee,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:te("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:te("firefox")},{name:"Safari",versionRegexes:[ee,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(K(e,"safari")||K(e,"mobile/"))&&K(e,"applewebkit")}}]
var re=[{name:"Windows",search:te("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return K(e,"iphone")||K(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:te("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:te("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:te("linux"),versionRegexes:[]},{name:"Solaris",search:te("sunos"),versionRegexes:[]},{name:"FreeBSD",search:te("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:te("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var oe={browsers:f(ne),oses:f(re)}
var ae="Edge"
var ie="Chrome"
var ue="IE"
var ce="Opera"
var se="Firefox"
var le="Safari"
var fe=function(){return ve({current:void 0,version:W.unknown()})}
var ve=function(e){var t=e.current
var n=e.version
var r=function(e){return function(){return t===e}}
return{current:t,version:n,isEdge:r(ae),isChrome:r(ie),isIE:r(ue),isOpera:r(ce),isFirefox:r(se),isSafari:r(le)}}
var de={unknown:fe,nu:ve,edge:f(ae),chrome:f(ie),ie:f(ue),opera:f(ce),firefox:f(se),safari:f(le)}
var me="Windows"
var ge="iOS"
var he="Android"
var pe="Linux"
var be="OSX"
var ye="Solaris"
var we="FreeBSD"
var xe="ChromeOS"
var Ce=function(){return Se({current:void 0,version:W.unknown()})}
var Se=function(e){var t=e.current
var n=e.version
var r=function(e){return function(){return t===e}}
return{current:t,version:n,isWindows:r(me),isiOS:r(ge),isAndroid:r(he),isOSX:r(be),isLinux:r(pe),isSolaris:r(ye),isFreeBSD:r(we),isChromeOS:r(xe)}}
var ke={unknown:Ce,nu:Se,windows:f(me),ios:f(ge),android:f(he),linux:f(pe),osx:f(be),solaris:f(ye),freebsd:f(we),chromeos:f(xe)}
var Oe=function(e,t){var n=oe.browsers()
var r=oe.oses()
var o=X.detectBrowser(n,e).fold(de.unknown,de.nu)
var a=X.detectOs(r,e).fold(ke.unknown,ke.nu)
var i=I(a,o,e,t)
return{browser:o,os:a,deviceType:i}}
var Te={detect:Oe}
var Ee=function(e){return window.matchMedia(e).matches}
var _e=P((function(){return Te.detect(navigator.userAgent,Ee)}))
var Le=function(){return _e()}
var De=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)}
var Ae=function(e,t){return De(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Me=1
var Ne=function(e,t){var n=t||document
var r=n.createElement("div")
r.innerHTML=e
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e)
throw new Error("HTML must have a single root node")}return Be(r.childNodes[0])}
var Re=function(e,t){var n=t||document
var r=n.createElement(e)
return Be(r)}
var ze=function(e,t){var n=t||document
var r=n.createTextNode(e)
return Be(r)}
var Be=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined")
return{dom:e}}
var Pe=function(e,t,n){return y.from(e.dom.elementFromPoint(t,n)).map(Be)}
var Ie={fromHtml:Ne,fromTag:Re,fromText:ze,fromDom:Be,fromPoint:Pe}
var He=function(e,t){var n=e.dom
if(n.nodeType!==Me)return false
var r=n
if(void 0!==r.matches)return r.matches(t)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t)
throw new Error("Browser lacks native selectors")}
var Fe=function(e,t){return e.dom===t.dom}
var Ve=function(e,t){var n=e.dom
var r=t.dom
return n!==r&&n.contains(r)}
var je=function(e,t){return Ae(e.dom,t.dom)}
var Ue=function(e,t){return Le().browser.isIE()?je(e,t):Ve(e,t)}
var We=He
var qe=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils")
var $e=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var Ge=tinymce.util.Tools.resolve("tinymce.util.VK")
var Xe=Object.keys
var Ke=function(e,t){var n=Xe(e)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=e[a]
t(i,a)}}
var Ze=function(e){return function(t,n){e[n]=t}}
var Ye=function(e,t,n,r){var o={}
Ke(e,(function(e,o){(t(e,o)?n:r)(e,o)}))
return o}
var Je=function(e,t){var n={}
Ye(e,t,Ze(n),l)
return n}
"undefined"!==typeof window?window:Function("return this;")()
var Qe=function(e){var t=e.dom.nodeName
return t.toLowerCase()}
var et=function(e){return e.dom.nodeType}
var tt=function(e){return function(t){return et(t)===e}}
var nt=tt(Me)
var rt=function(e,t,n){if(!(o(n)||u(n)||s(n))){console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e)
throw new Error("Attribute value was not simple")}e.setAttribute(t,n+"")}
var ot=function(e,t){var n=e.dom
Ke(t,(function(e,t){rt(n,t,e)}))}
var at=function(e){return T(e.dom.attributes,(function(e,t){e[t.name]=t.value
return e}),{})}
var it=function(e){return y.from(e.dom.parentNode).map(Ie.fromDom)}
var ut=function(e){return C(e.dom.childNodes,Ie.fromDom)}
var ct=function(e,t){var n=e.dom.childNodes
return y.from(n[t]).map(Ie.fromDom)}
var st=function(e){return ct(e,0)}
var lt=function(e){return ct(e,e.dom.childNodes.length-1)}
var ft=function(e,t){var n=it(e)
n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}
var vt=function(e,t){e.dom.appendChild(t.dom)}
var dt=function(e,t){S(t,(function(t){ft(e,t)}))}
var mt=function(e,t){S(t,(function(t){vt(e,t)}))}
var gt=function(e){var t=e.dom
null!==t.parentNode&&t.parentNode.removeChild(t)}
var ht=function(e,t){return Ie.fromDom(e.dom.cloneNode(t))}
var pt=function(e){return ht(e,true)}
var bt=function(e,t){var n=Ie.fromTag(t)
var r=at(e)
ot(n,r)
return n}
var yt=function(e,t){var n=bt(e,t)
ft(e,n)
var r=ut(e)
mt(n,r)
gt(e)
return n}
var wt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var xt=tinymce.util.Tools.resolve("tinymce.util.Tools")
var Ct=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}}
var St=function(e){return function(t){return t&&e.test(t.nodeName)}}
var kt=function(e){return e&&3===e.nodeType}
var Ot=St(/^(OL|UL|DL)$/)
var Tt=St(/^(OL|UL)$/)
var Et=Ct("ol")
var _t=St(/^(LI|DT|DD)$/)
var Lt=St(/^(DT|DD)$/)
var Dt=St(/^(TH|TD)$/)
var At=Ct("br")
var Mt=function(e){return e.parentNode.firstChild===e}
var Nt=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]}
var Rt=function(e,t){return e&&e.nodeName in t}
var zt=function(e,t){if(!At(t))return false
return e.isBlock(t.nextSibling)&&!At(t.previousSibling)}
var Bt=function(e,t,n){var r=e.isEmpty(t)
if(n&&e.select("span[data-mce-type=bookmark]",t).length>0)return false
return r}
var Pt=function(e,t){return e.isChildOf(t,e.getRoot())}
var It=function(e){return e.getParam("lists_indent_on_tab",true)}
var Ht=function(e){var t=e.getParam("forced_root_block","p")
return false===t?"":true===t?"p":t}
var Ft=function(e){return e.getParam("forced_root_block_attrs",{})}
var Vt=function(e,t){var n=e.dom
var r=e.schema.getBlockElements()
var o=n.createFragment()
var a=Ht(e)
var i,u,c
if(a){u=n.create(a)
u.tagName===a.toUpperCase()&&n.setAttribs(u,Ft(e))
Rt(t.firstChild,r)||o.appendChild(u)}if(t)while(i=t.firstChild){var s=i.nodeName
c||"SPAN"===s&&"bookmark"===i.getAttribute("data-mce-type")||(c=true)
if(Rt(i,r)){o.appendChild(i)
u=null}else if(a){if(!u){u=n.create(a)
o.appendChild(u)}u.appendChild(i)}else o.appendChild(i)}a?c||u.appendChild(n.create("br",{"data-mce-bogus":"1"})):o.appendChild(n.create("br"))
return o}
var jt=wt.DOM
var Ut=function(e,t,n){var r=function(e){xt.each(o,(function(t){e.parentNode.insertBefore(t,n.parentNode)}))
jt.remove(e)}
var o=jt.select('span[data-mce-type="bookmark"]',t)
var a=Vt(e,n)
var i=jt.createRng()
i.setStartAfter(n)
i.setEndAfter(t)
var u=i.extractContents()
for(var c=u.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&e.dom.isEmpty(c)){jt.remove(c)
break}e.dom.isEmpty(u)||jt.insertAfter(u,t)
jt.insertAfter(a,t)
Bt(e.dom,n.parentNode)&&r(n.parentNode)
jt.remove(n)
Bt(e.dom,t)&&jt.remove(t)}
var Wt=function(e,t){We(t,"dd")?yt(t,"dt"):We(t,"dt")&&it(t).each((function(n){return Ut(e,n.dom,t.dom)}))}
var qt=function(e){We(e,"dt")&&yt(e,"dd")}
var $t=function(e,t,n){S(n,"Indent"===t?qt:function(t){return Wt(e,t)})}
var Gt=function(e,t){if(kt(e))return{container:e,offset:t}
var n=qe.getNode(e,t)
if(kt(n))return{container:n,offset:t>=e.childNodes.length?n.data.length:0}
if(n.previousSibling&&kt(n.previousSibling))return{container:n.previousSibling,offset:n.previousSibling.data.length}
if(n.nextSibling&&kt(n.nextSibling))return{container:n.nextSibling,offset:0}
return{container:e,offset:t}}
var Xt=function(e){var t=e.cloneRange()
var n=Gt(e.startContainer,e.startOffset)
t.setStart(n.container,n.offset)
var r=Gt(e.endContainer,e.endOffset)
t.setEnd(r.container,r.offset)
return t}
var Kt=tinymce.util.Tools.resolve("tinymce.dom.DomQuery")
var Zt=function(e,t){var n=t||e.selection.getStart(true)
return e.dom.getParent(n,"OL,UL,DL",rn(e,n))}
var Yt=function(e,t){return e&&1===t.length&&t[0]===e}
var Jt=function(e){return xt.grep(e.querySelectorAll("ol,ul,dl"),(function(e){return Ot(e)}))}
var Qt=function(e){var t=Zt(e)
var n=e.selection.getSelectedBlocks()
return Yt(t,n)?Jt(t):xt.grep(n,(function(e){return Ot(e)&&t!==e}))}
var en=function(e,t){var n=xt.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",rn(e,t))
return n||t}))
return Kt.unique(n)}
var tn=function(e){var t=e.selection.getSelectedBlocks()
return xt.grep(en(e,t),(function(e){return _t(e)}))}
var nn=function(e){return k(tn(e),Lt)}
var rn=function(e,t){var n=e.dom.getParents(t,"TD,TH")
var r=n.length>0?n[0]:e.getBody()
return r}
var on=function(e,t){var n=e.dom.getParents(t,"ol,ul",rn(e,t))
return R(n)}
var an=function(e){var t=on(e,e.selection.getStart())
var n=k(e.selection.getSelectedBlocks(),Tt)
return t.toArray().concat(n)}
var un=function(e){var t=an(e)
return cn(e,t)}
var cn=function(e,t){var n=C(t,(function(t){return on(e,t).getOr(t)}))
return Kt.unique(n)}
var sn=function(e,t,n){return e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none()}
var ln=function(e,t){var n=t||document
var r=n.createDocumentFragment()
S(e,(function(e){r.appendChild(e.dom)}))
return Ie.fromDom(r)}
var fn=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})}
var vn=function(e){return void 0!==e.style&&c(e.style.getPropertyValue)}
var dn=function(e,t,n){if(!o(n)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e)
throw new Error("CSS value must be a string: "+n)}vn(e)&&e.style.setProperty(t,n)}
var mn=function(e,t,n){var r=e.dom
dn(r,t,n)}
var gn=function(e,t){vt(e.item,t.list)}
var hn=function(e){for(var t=1;t<e.length;t++)gn(e[t-1],e[t])}
var pn=function(e,t){sn(R(e),N(t),gn)}
var bn=function(e,t){var n={list:Ie.fromTag(t,e),item:Ie.fromTag("li",e)}
vt(n.list,n.item)
return n}
var yn=function(e,t,n){var r=[]
for(var o=0;o<n;o++)r.push(bn(e,t.listType))
return r}
var wn=function(e,t){for(var n=0;n<e.length-1;n++)mn(e[n].item,"list-style-type","none")
R(e).each((function(e){ot(e.list,t.listAttributes)
ot(e.item,t.itemAttributes)
mt(e.item,t.content)}))}
var xn=function(e,t){Qe(e.list)!==t.listType&&(e.list=yt(e.list,t.listType))
ot(e.list,t.listAttributes)}
var Cn=function(e,t,n){var r=Ie.fromTag("li",e)
ot(r,t)
mt(r,n)
return r}
var Sn=function(e,t){vt(e.list,t)
e.item=t}
var kn=function(e,t,n){var r=t.slice(0,n.depth)
R(r).each((function(t){var r=Cn(e,n.itemAttributes,n.content)
Sn(t,r)
xn(t,n)}))
return r}
var On=function(e,t,n){var r=yn(e,n,n.depth-t.length)
hn(r)
wn(r,n)
pn(t,r)
return t.concat(r)}
var Tn=function(e,t){var n=T(t,(function(t,n){return n.depth>t.length?On(e,t,n):kn(e,t,n)}),[])
return N(n).map((function(e){return e.list}))}
var En=function(e){return We(e,"OL,UL")}
var _n=function(e){return st(e).map(En).getOr(false)}
var Ln=function(e){return lt(e).map(En).getOr(false)}
var Dn=function(e){return e.depth>0}
var An=function(e){return e.isSelected}
var Mn=function(e){var t=ut(e)
var n=Ln(e)?t.slice(0,-1):t
return C(n,pt)}
var Nn=function(e,t,n){return it(e).filter(nt).map((function(r){return{depth:t,dirty:false,isSelected:n,content:Mn(e),itemAttributes:at(e),listAttributes:at(r),listType:Qe(r)}}))}
var Rn=function(e,t){switch(e){case"Indent":t.depth++
break
case"Outdent":t.depth--
break
case"Flatten":t.depth=0}t.dirty=true}
var zn=function(e,t){e.listType=t.listType
e.listAttributes=z({},t.listAttributes)}
var Bn=function(e){e.listAttributes=Je(e.listAttributes,(function(e,t){return"start"!==t}))}
var Pn=function(e,t){var n=e[t].depth
var r=function(e){return e.depth===n&&!e.dirty}
var o=function(e){return e.depth<n}
return E(A(e.slice(0,t)),r,o).orThunk((function(){return E(e.slice(t+1),r,o)}))}
var In=function(e){S(e,(function(t,n){Pn(e,n).fold((function(){t.dirty&&Bn(t)}),(function(e){return zn(t,e)}))}))
return e}
var Hn=function(e){var t=e
var n=function(){return t}
var r=function(e){t=e}
return{get:n,set:r}}
var Fn=function(e,t,n,r){return st(r).filter(En).fold((function(){t.each((function(e){Fe(e.start,r)&&n.set(true)}))
var o=Nn(r,e,n.get())
t.each((function(e){Fe(e.end,r)&&n.set(false)}))
var a=lt(r).filter(En).map((function(r){return Vn(e,t,n,r)})).getOr([])
return o.toArray().concat(a)}),(function(r){return Vn(e,t,n,r)}))}
var Vn=function(e,t,n,r){return D(ut(r),(function(r){var o=En(r)?Vn:Fn
var a=e+1
return o(a,t,n,r)}))}
var jn=function(e,t){var n=Hn(false)
var r=0
return C(e,(function(e){return{sourceList:e,entries:Vn(r,t,n,e)}}))}
var Un=function(e,t){var n=In(t)
return C(n,(function(t){var n=ln(t.content)
return Ie.fromDom(Vt(e,n.dom))}))}
var Wn=function(e,t){var n=In(t)
return Tn(e.contentDocument,n).toArray()}
var qn=function(e,t){return D(O(t,Dn),(function(t){var n=N(t).map(Dn).getOr(false)
return n?Wn(e,t):Un(e,t)}))}
var $n=function(e,t){S(k(e,An),(function(e){return Rn(t,e)}))}
var Gn=function(e){var t=C(tn(e),Ie.fromDom)
return sn(_(t,v(_n)),_(A(t),v(_n)),(function(e,t){return{start:e,end:t}}))}
var Xn=function(e,t,n){var r=jn(t,Gn(e))
S(r,(function(t){$n(t.entries,n)
var r=qn(e,t.entries)
S(r,(function(t){fn(e,"Indent"===n?"IndentList":"OutdentList",t.dom)}))
dt(t.sourceList,r)
gt(t.sourceList)}))}
var Kn=function(e,t){var n=C(un(e),Ie.fromDom)
var r=C(nn(e),Ie.fromDom)
var o=false
if(n.length||r.length){var a=e.selection.getBookmark()
Xn(e,n,t)
$t(e,t,r)
e.selection.moveToBookmark(a)
e.selection.setRng(Xt(e.selection.getRng()))
e.nodeChanged()
o=true}return o}
var Zn=function(e){return Kn(e,"Indent")}
var Yn=function(e){return Kn(e,"Outdent")}
var Jn=function(e){return Kn(e,"Flatten")}
var Qn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager")
var er=wt.DOM
var tr=function(e){var t={}
var n=function(n){var r,o,a
o=e[n?"startContainer":"endContainer"]
a=e[n?"startOffset":"endOffset"]
if(1===o.nodeType){r=er.create("span",{"data-mce-type":"bookmark"})
if(o.hasChildNodes()){a=Math.min(a,o.childNodes.length-1)
n?o.insertBefore(r,o.childNodes[a]):er.insertAfter(r,o.childNodes[a])}else o.appendChild(r)
o=r
a=0}t[n?"startContainer":"endContainer"]=o
t[n?"startOffset":"endOffset"]=a}
n(true)
e.collapsed||n()
return t}
var nr=function(e){var t=function(t){var n,r,o
var a=function(e){var t=e.parentNode.firstChild,n=0
while(t){if(t===e)return n
1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++
t=t.nextSibling}return-1}
n=o=e[t?"startContainer":"endContainer"]
r=e[t?"startOffset":"endOffset"]
if(!n)return
if(1===n.nodeType){r=a(n)
n=n.parentNode
er.remove(o)
!n.hasChildNodes()&&er.isBlock(n)&&n.appendChild(er.create("br"))}e[t?"startContainer":"endContainer"]=n
e[t?"startOffset":"endOffset"]=r}
t(true)
t()
var n=er.createRng()
n.setStart(e.startContainer,e.startOffset)
e.endContainer&&n.setEnd(e.endContainer,e.endOffset)
return Xt(n)}
var rr=function(e){switch(e){case"UL":return"ToggleUlList"
case"OL":return"ToggleOlList"
case"DL":return"ToggleDLList"}}
var or=function(e){return/\btox\-/.test(e.className)}
var ar=function(e,t,n){var r=function(e){var r=E(e.parents,Ot,Dt).filter((function(e){return e.nodeName===t&&!or(e)})).isSome()
n(r)}
var o=e.dom.getParents(e.selection.getNode())
r({parents:o})
e.on("NodeChange",r)
return function(){return e.off("NodeChange",r)}}
var ir=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null
e.setStyle(t,"list-style-type",r)}
var ur=function(e,t){xt.each(t,(function(t,n){e.setAttribute(n,t)}))}
var cr=function(e,t,n){ur(t,n["list-attributes"])
xt.each(e.select("li",t),(function(e){ur(e,n["list-item-attributes"])}))}
var sr=function(e,t,n){ir(e,t,n)
cr(e,t,n)}
var lr=function(e,t,n){xt.each(n,(function(n){var r
return e.setStyle(t,(r={},r[n]="",r))}))}
var fr=function(e,t,n,r){var o=t[n?"startContainer":"endContainer"]
var a=t[n?"startOffset":"endOffset"]
1===o.nodeType&&(o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o)
!n&&At(o.nextSibling)&&(o=o.nextSibling)
while(o.parentNode!==r){if(Nt(e,o))return o
if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o
o=o.parentNode}return o}
var vr=function(e,t,n){var r=[],o=e.dom
var a=fr(e,t,true,n)
var i=fr(e,t,false,n)
var u
var c=[]
for(var s=a;s;s=s.nextSibling){c.push(s)
if(s===i)break}xt.each(c,(function(t){if(Nt(e,t)){r.push(t)
u=null
return}if(o.isBlock(t)||At(t)){At(t)&&o.remove(t)
u=null
return}var a=t.nextSibling
if(Qn.isBookmarkNode(t)&&(Ot(a)||Nt(e,a)||!a&&t.parentNode===n)){u=null
return}if(!u){u=o.create("p")
t.parentNode.insertBefore(u,t)
r.push(u)}u.appendChild(t)}))
return r}
var dr=function(e,t,n){var r=e.getStyle(t,"list-style-type")
var o=n?n["list-style-type"]:""
o=null===o?"":o
return r===o}
var mr=function(e,t,n){var r=e.selection.getRng()
var o="LI"
var a=rn(e,e.selection.getStart(true))
var i=e.dom
if("false"===i.getContentEditable(e.selection.getNode()))return
t=t.toUpperCase()
"DL"===t&&(o="DT")
var u=tr(r)
var c=vr(e,r,a)
xt.each(c,(function(r){var a
var u=r.previousSibling
var c=r.parentNode
if(!_t(c)){if(u&&Ot(u)&&u.nodeName===t&&dr(i,u,n)){a=u
r=i.rename(r,o)
u.appendChild(r)}else{a=i.create(t)
r.parentNode.insertBefore(a,r)
a.appendChild(r)
r=i.rename(r,o)}lr(i,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"])
sr(i,a,n)
yr(e.dom,a)}}))
e.selection.setRng(nr(u))}
var gr=function(e,t){return e&&t&&Ot(e)&&e.nodeName===t.nodeName}
var hr=function(e,t,n){var r=e.getStyle(t,"list-style-type",true)
var o=e.getStyle(n,"list-style-type",true)
return r===o}
var pr=function(e,t){return e.className===t.className}
var br=function(e,t,n){return gr(t,n)&&hr(e,t,n)&&pr(t,n)}
var yr=function(e,t){var n,r
n=t.nextSibling
if(br(e,t,n)){while(r=n.firstChild)t.appendChild(r)
e.remove(n)}n=t.previousSibling
if(br(e,t,n)){while(r=n.lastChild)t.insertBefore(r,t.firstChild)
e.remove(n)}}
var wr=function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n)
sr(e.dom,o,r)
fn(e,rr(n),o)}else{sr(e.dom,t,r)
fn(e,rr(n),t)}}
var xr=function(e,t,n,r,o){var a=Ot(t)
if(a&&t.nodeName===r&&!Cr(o))Jn(e)
else{mr(e,r,o)
var i=tr(e.selection.getRng(true))
var u=a?B([t],n):n
xt.each(u,(function(t){wr(e,t,r,o)}))
e.selection.setRng(nr(i))}}
var Cr=function(e){return"list-style-type"in e}
var Sr=function(e,t,n,r){if(t===e.getBody())return
if(t)if(t.nodeName!==n||Cr(r)||or(t)){var o=tr(e.selection.getRng(true))
sr(e.dom,t,r)
var a=e.dom.rename(t,n)
yr(e.dom,a)
e.selection.setRng(nr(o))
mr(e,n,r)
fn(e,rr(n),a)}else Jn(e)
else{mr(e,n,r)
fn(e,rr(n),t)}}
var kr=function(e,t,n){var r=Zt(e)
var o=Qt(e)
var i=a(n)?n:{}
o.length>0?xr(e,r,o,t,i):Sr(e,r,t,i)}
var Or=wt.DOM
var Tr=function(e,t){var n
var r=t.parentNode
if("LI"===r.nodeName&&r.firstChild===t){n=r.previousSibling
if(n&&"LI"===n.nodeName){n.appendChild(t)
Bt(e,r)&&Or.remove(r)}else Or.setStyle(r,"listStyleType","none")}if(Ot(r)){n=r.previousSibling
n&&"LI"===n.nodeName&&n.appendChild(t)}}
var Er=function(e,t){xt.each(xt.grep(e.select("ol,ul",t)),(function(t){Tr(e,t)}))}
var _r=function(e,t,n,r){var o=t.startContainer
var a=t.startOffset
if(kt(o)&&(n?a<o.data.length:a>0))return o
var i=e.schema.getNonEmptyElements()
1===o.nodeType&&(o=qe.getNode(o,a))
var u=new $e(o,r)
n&&zt(e.dom,o)&&u.next()
while(o=u[n?"next":"prev2"]()){if("LI"===o.nodeName&&!o.hasChildNodes())return o
if(i[o.nodeName])return o
if(kt(o)&&o.data.length>0)return o}}
var Lr=function(e,t){var n=t.childNodes
return 1===n.length&&!Ot(n[0])&&e.isBlock(n[0])}
var Dr=function(e,t){Lr(e,t)&&e.remove(t.firstChild,true)}
var Ar=function(e,t,n){var r
var o=Lr(e,n)?n.firstChild:n
Dr(e,t)
if(!Bt(e,t,true))while(r=t.firstChild)o.appendChild(r)}
var Mr=function(e,t,n){var r
var o=t.parentNode
if(!Pt(e,t)||!Pt(e,n))return
Ot(n.lastChild)&&(r=n.lastChild)
o===n.lastChild&&At(o.previousSibling)&&e.remove(o.previousSibling)
var a=n.lastChild
a&&At(a)&&t.hasChildNodes()&&e.remove(a)
Bt(e,n,true)&&e.$(n).empty()
Ar(e,t,n)
r&&n.appendChild(r)
var i=Ue(Ie.fromDom(n),Ie.fromDom(t))
var u=i?e.getParents(t,Ot,n):[]
e.remove(t)
S(u,(function(t){Bt(e,t)&&t!==e.getRoot()&&e.remove(t)}))}
var Nr=function(e,t,n){e.dom.$(n).empty()
Mr(e.dom,t,n)
e.selection.setCursorLocation(n,0)}
var Rr=function(e,t,n,r){var o=e.dom
if(o.isEmpty(r))Nr(e,n,r)
else{var a=tr(t)
Mr(o,n,r)
e.selection.setRng(nr(a))}}
var zr=function(e,t,n,r){var o=tr(t)
Mr(e.dom,n,r)
var a=nr(o)
e.selection.setRng(a)}
var Br=function(e,t){var n=e.dom,r=e.selection
var o=r.getStart()
var a=rn(e,o)
var i=n.getParent(r.getStart(),"LI",a)
if(i){var u=i.parentNode
if(u===e.getBody()&&Bt(n,u))return true
var c=Xt(r.getRng())
var s=n.getParent(_r(e,c,t,a),"LI",a)
if(s&&s!==i){e.undoManager.transact((function(){t?Rr(e,c,s,i):Mt(i)?Yn(e):zr(e,c,i,s)}))
return true}if(!s&&!t&&0===c.startOffset&&0===c.endOffset){e.undoManager.transact((function(){Jn(e)}))
return true}}return false}
var Pr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n)
e.remove(t)
r&&e.isEmpty(r)&&e.remove(r)}
var Ir=function(e,t){var n=e.dom
var r=e.selection.getStart()
var o=rn(e,r)
var a=n.getParent(r,n.isBlock,o)
if(a&&n.isEmpty(a)){var i=Xt(e.selection.getRng())
var u=n.getParent(_r(e,i,t,o),"LI",o)
if(u){e.undoManager.transact((function(){Pr(n,a,o)
yr(n,u.parentNode)
e.selection.select(u,true)
e.selection.collapse(t)}))
return true}}return false}
var Hr=function(e,t){return Br(e,t)||Ir(e,t)}
var Fr=function(e){var t=e.selection.getStart()
var n=rn(e,t)
var r=e.dom.getParent(t,"LI,DT,DD",n)
if(r||tn(e).length>0){e.undoManager.transact((function(){e.execCommand("Delete")
Er(e.dom,e.getBody())}))
return true}return false}
var Vr=function(e,t){return e.selection.isCollapsed()?Hr(e,t):Fr(e)}
var jr=function(e){e.on("keydown",(function(t){t.keyCode===Ge.BACKSPACE?Vr(e,false)&&t.preventDefault():t.keyCode===Ge.DELETE&&Vr(e,true)&&t.preventDefault()}))}
var Ur=function(e){return{backspaceDelete:function(t){Vr(e,t)}}}
var Wr=function(e,t){var n=Zt(e)
e.undoManager.transact((function(){a(t.styles)&&e.dom.setStyles(n,t.styles)
a(t.attrs)&&Ke(t.attrs,(function(t,r){return e.dom.setAttrib(n,r,t)}))}))}
var qr=function(e){var t=A(Y(e).split(""))
var n=C(t,(function(e,t){var n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1
return Math.pow(26,t)*n}))
return T(n,(function(e,t){return e+t}),0)}
var $r=function(e){e--
if(e<0)return""
var t=e%26
var n=Math.floor(e/26)
var r=$r(n)
var o=String.fromCharCode("A".charCodeAt(0)+t)
return r+o}
var Gr=function(e){return/^[A-Z]+$/.test(e)}
var Xr=function(e){return/^[a-z]+$/.test(e)}
var Kr=function(e){return/^[0-9]+$/.test(e)}
var Zr=function(e){return Kr(e)?2:Gr(e)?0:Xr(e)?1:Q(e)?3:4}
var Yr=function(e){switch(Zr(e)){case 2:return y.some({listStyleType:y.none(),start:e})
case 0:return y.some({listStyleType:y.some("upper-alpha"),start:qr(e).toString()})
case 1:return y.some({listStyleType:y.some("lower-alpha"),start:qr(e).toString()})
case 3:return y.some({listStyleType:y.none(),start:""})
case 4:return y.none()}}
var Jr=function(e){var t=parseInt(e.start,10)
return e.listStyleType.is("upper-alpha")?$r(t):e.listStyleType.is("lower-alpha")?$r(t).toLowerCase():e.start}
var Qr=function(e){var t=Zt(e)
if(!Et(t))return
e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Jr({start:e.dom.getAttrib(t,"start","1"),listStyleType:y.some(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:function(t){var n=t.getData()
Yr(n.start).each((function(t){e.execCommand("mceListUpdate",false,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})}))
t.close()}})}
var eo=function(e,t){return function(){var n=Zt(e)
return n&&n.nodeName===t}}
var to=function(e){e.addCommand("mceListProps",(function(){Qr(e)}))}
var no=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase()
"indent"===n?Zn(e):"outdent"===n&&Yn(e)}))
e.addCommand("InsertUnorderedList",(function(t,n){kr(e,"UL",n)}))
e.addCommand("InsertOrderedList",(function(t,n){kr(e,"OL",n)}))
e.addCommand("InsertDefinitionList",(function(t,n){kr(e,"DL",n)}))
e.addCommand("RemoveList",(function(){Jn(e)}))
to(e)
e.addCommand("mceListUpdate",(function(t,n){a(n)&&Wr(e,n)}))
e.addQueryStateHandler("InsertUnorderedList",eo(e,"UL"))
e.addQueryStateHandler("InsertOrderedList",eo(e,"OL"))
e.addQueryStateHandler("InsertDefinitionList",eo(e,"DL"))}
var ro=function(e){e.on("keydown",(function(t){if(t.keyCode!==Ge.TAB||Ge.metaKeyPressed(t))return
e.undoManager.transact((function(){(t.shiftKey?Yn(e):Zn(e))&&t.preventDefault()}))}))}
var oo=function(e){It(e)&&ro(e)
jr(e)}
var ao=function(e){var t=function(t){return function(){return e.execCommand(t)}}
if(!e.hasPlugin("advlist")){e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:false,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return ar(e,"OL",t.setActive)}})
e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:false,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return ar(e,"UL",t.setActive)}})}}
var io=function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return e.execCommand("mceListProps")},onSetup:function(t){return ar(e,"OL",(function(e){return t.setDisabled(!e)}))}}
e.ui.registry.addMenuItem("listprops",t)
e.ui.registry.addContextMenu("lists",{update:function(t){var n=Zt(e,t)
return Et(n)?["listprops"]:[]}})}
function uo(){e.add("lists",(function(e){if(false===e.hasPlugin("rtc",true)){oo(e)
no(e)}else to(e)
ao(e)
io(e)
return Ur(e)}))}uo()})()},LCgA:function(e,t){(function(){"use strict"
var e=function(e){var t=e
var n=function(){return t}
var r=function(e){t=e}
return{get:n,set:r}}
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=tinymce.util.Tools.resolve("tinymce.Env")
var r=tinymce.util.Tools.resolve("tinymce.util.Delay")
var o=function(e){return e.fire("ResizeEditor")}
var a=function(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")}
var i=function(e){return e.getParam("max_height",0,"number")}
var u=function(e){return e.getParam("autoresize_overflow_padding",1,"number")}
var c=function(e){return e.getParam("autoresize_bottom_margin",50,"number")}
var s=function(e){return e.getParam("autoresize_on_init",true,"boolean")}
var l=function(e){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()}
var f=function(e,t,n,o,a){r.setEditorTimeout(e,(function(){m(e,t)
n--?f(e,t,n,o,a):a&&a()}),o)}
var v=function(e,t){var n=e.getBody()
if(n){n.style.overflowY=t?"":"hidden"
t||(n.scrollTop=0)}}
var d=function(e,t,n,r){var o=parseInt(e.getStyle(t,n,r),10)
return isNaN(o)?0:o}
var m=function(e,t){var r=e.dom
var u=e.getDoc()
if(!u)return
if(l(e)){v(e,true)
return}var s=u.documentElement
var f=c(e)
var g=a(e)
var h=d(r,s,"margin-top",true)
var p=d(r,s,"margin-bottom",true)
var b=s.offsetHeight+h+p+f
b<0&&(b=0)
var y=e.getContainer().offsetHeight
var w=e.getContentAreaContainer().offsetHeight
var x=y-w
b+x>a(e)&&(g=b+x)
var C=i(e)
if(C&&g>C){g=C
v(e,true)}else v(e,false)
if(g!==t.get()){var S=g-t.get()
r.setStyle(e.getContainer(),"height",g+"px")
t.set(g)
o(e)
if(n.browser.isSafari()&&n.mac){var k=e.getWin()
k.scrollTo(k.pageXOffset,k.pageYOffset)}e.hasFocus()&&e.selection.scrollIntoView(e.selection.getNode())
n.webkit&&S<0&&m(e,t)}}
var g=function(e,t){e.on("init",(function(){var t=u(e)
var n=e.dom
n.setStyles(e.getDoc().documentElement,{height:"auto"})
n.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0})}))
e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(function(){m(e,t)}))
s(e)&&e.on("init",(function(){f(e,t,20,100,(function(){f(e,t,5,1e3)}))}))}
var h=function(e,t){e.addCommand("mceAutoResize",(function(){m(e,t)}))}
function p(){t.add("autoresize",(function(t){t.settings.hasOwnProperty("resize")||(t.settings.resize=false)
if(!t.inline){var n=e(0)
h(t,n)
g(t,n)}}))}p()})()},NVgN:function(e,t,n){"use strict"
n.r(t)
n.d(t,"default",(function(){return c}))
var r=n("q1tI")
var o=n.n(r)
var a=n("17x9")
var i=n("WEeK")
var u=n("NFDp")
function c({fileUrl:e,setFileUrl:t}){return o.a.createElement(o.a.Fragment,null,o.a.createElement(i["a"],{name:"file-url",renderLabel:Object(u["a"])("File URL"),type:"url",value:e,onChange:(e,n)=>t(n)}))}c.propTypes={fileUrl:a["string"].isRequired,setFileUrl:a["func"].isRequired}},NhbT:function(e,t,n){n("rU96")},Rwab:function(e,t){(function(){"use strict"
var e=function(e){var t=e
var n=function(){return t}
var r=function(e){t=e}
return{get:n,set:r}}
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=function(e){return{isFullscreen:function(){return null!==e.get()}}}
var r=function(e){var t=typeof e
return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}
var o=function(e){return function(t){return r(t)===e}}
var a=function(e){return function(t){return typeof t===e}}
var i=o("string")
var u=o("array")
var c=a("boolean")
var s=function(e){return null===e||void 0===e}
var l=function(e){return!s(e)}
var f=a("function")
var v=a("number")
var d=function(){}
var m=function(e,t){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return e(t.apply(null,n))}}
var g=function(e,t){return function(n){return e(t(n))}}
var h=function(e){return function(){return e}}
function p(e){var t=[]
for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=t.concat(n)
return e.apply(null,o)}}var b=h(false)
var y=h(true)
var w=function(){return x}
var x=function(){var e=function(e){return e.isNone()}
var t=function(e){return e()}
var n=function(e){return e}
var r={fold:function(e,t){return e()},is:b,isSome:b,isNone:y,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:h(null),getOrUndefined:h(void 0),or:n,orThunk:t,map:w,each:d,bind:w,exists:b,forall:y,filter:w,equals:e,equals_:e,toArray:function(){return[]},toString:h("none()")}
return r}()
var C=function(e){var t=h(e)
var n=function(){return o}
var r=function(t){return t(e)}
var o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:y,isNone:b,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return C(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:x},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(b,(function(t){return n(e,t)}))}}
return o}
var S=function(e){return null===e||void 0===e?x:C(e)}
var k={some:C,none:w,from:S}
var O=function(t){var n=e(k.none())
var r=function(){return n.get().each(t)}
var o=function(){r()
n.set(k.none())}
var a=function(){return n.get().isSome()}
var i=function(e){r()
n.set(k.some(e))}
return{clear:o,isSet:a,set:i}}
var T=function(){return O((function(e){return e.unbind()}))}
var E=function(){var t=e(k.none())
var n=function(){return t.set(k.none())}
var r=function(e){return t.set(k.some(e))}
var o=function(){return t.get().isSome()}
var a=function(e){return t.get().each(e)}
return{clear:n,set:r,isSet:o,on:a}}
var _=Array.prototype.push
var L=function(e,t){var n=e.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=e[o]
r[o]=t(a,o)}return r}
var D=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
t(o,n)}}
var A=function(e,t){var n=[]
for(var r=0,o=e.length;r<o;r++){var a=e[r]
t(a,r)&&n.push(a)}return n}
var M=function(e){var t=[]
for(var n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)
_.apply(t,e[n])}return t}
var N=function(e,t){return M(L(e,t))}
var R=function(e,t){return t>=0&&t<e.length?k.some(e[t]):k.none()}
var z=function(e){return R(e,0)}
var B=Object.keys
var P=function(e,t){var n=B(e)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=e[a]
t(i,a)}}
var I=function(e){return void 0!==e.style&&f(e.style.getPropertyValue)}
var H=function(e,t){var n=t||document
var r=n.createElement("div")
r.innerHTML=e
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e)
throw new Error("HTML must have a single root node")}return j(r.childNodes[0])}
var F=function(e,t){var n=t||document
var r=n.createElement(e)
return j(r)}
var V=function(e,t){var n=t||document
var r=n.createTextNode(e)
return j(r)}
var j=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined")
return{dom:e}}
var U=function(e,t,n){return k.from(e.dom.elementFromPoint(t,n)).map(j)}
var W={fromHtml:H,fromTag:F,fromText:V,fromDom:j,fromPoint:U}
"undefined"!==typeof window?window:Function("return this;")()
var q=9
var $=11
var G=1
var X=3
var K=function(e){return e.dom.nodeType}
var Z=function(e){return function(t){return K(t)===e}}
var Y=Z(G)
var J=Z(X)
var Q=Z(q)
var ee=Z($)
var te=function(e,t){var n=e.dom
if(n.nodeType!==G)return false
var r=n
if(void 0!==r.matches)return r.matches(t)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t)
throw new Error("Browser lacks native selectors")}
var ne=function(e){return e.nodeType!==G&&e.nodeType!==q&&e.nodeType!==$||0===e.childElementCount}
var re=function(e,t){var n=void 0===t?document:t.dom
return ne(n)?[]:L(n.querySelectorAll(e),W.fromDom)}
var oe=function(e,t){return e.dom===t.dom}
var ae=function(e){return W.fromDom(e.dom.ownerDocument)}
var ie=function(e){return Q(e)?e:ae(e)}
var ue=function(e){return k.from(e.dom.parentNode).map(W.fromDom)}
var ce=function(e,t){var n=f(t)?t:b
var r=e.dom
var o=[]
while(null!==r.parentNode&&void 0!==r.parentNode){var a=r.parentNode
var i=W.fromDom(a)
o.push(i)
if(true===n(i))break
r=a}return o}
var se=function(e){var t=function(t){return A(t,(function(t){return!oe(e,t)}))}
return ue(e).map(le).map(t).getOr([])}
var le=function(e){return L(e.dom.childNodes,W.fromDom)}
var fe=function(e){return ee(e)&&l(e.dom.host)}
var ve=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode)
var de=h(ve)
var me=ve?function(e){return W.fromDom(e.dom.getRootNode())}:ie
var ge=function(e){var t=me(e)
return fe(t)?k.some(t):k.none()}
var he=function(e){return W.fromDom(e.dom.host)}
var pe=function(e){if(de()&&l(e.target)){var t=W.fromDom(e.target)
if(Y(t)&&be(t)&&e.composed&&e.composedPath){var n=e.composedPath()
if(n)return z(n)}}return k.from(e.target)}
var be=function(e){return l(e.dom.shadowRoot)}
var ye=function(e){var t=J(e)?e.dom.parentNode:e.dom
if(void 0===t||null===t||null===t.ownerDocument)return false
var n=t.ownerDocument
return ge(W.fromDom(t)).fold((function(){return n.body.contains(t)}),g(ye,he))}
var we=function(e){var t=e.dom.body
if(null===t||void 0===t)throw new Error("Body is not available yet")
return W.fromDom(t)}
var xe=function(e,t,n){if(!(i(n)||c(n)||v(n))){console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e)
throw new Error("Attribute value was not simple")}e.setAttribute(t,n+"")}
var Ce=function(e,t,n){xe(e.dom,t,n)}
var Se=function(e,t){var n=e.dom.getAttribute(t)
return null===n?void 0:n}
var ke=function(e,t){e.dom.removeAttribute(t)}
var Oe=function(e,t,n){if(!i(n)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e)
throw new Error("CSS value must be a string: "+n)}I(e)&&e.style.setProperty(t,n)}
var Te=function(e,t){var n=e.dom
P(t,(function(e,t){Oe(n,t,e)}))}
var Ee=function(e,t){var n=e.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(t)
return""!==o||ye(e)?o:_e(n,t)}
var _e=function(e,t){return I(e)?e.style.getPropertyValue(t):""}
var Le=function(e,t,n,r,o,a,i){return{target:e,x:t,y:n,stop:r,prevent:o,kill:a,raw:i}}
var De=function(e){var t=W.fromDom(pe(e).getOr(e.target))
var n=function(){return e.stopPropagation()}
var r=function(){return e.preventDefault()}
var o=m(r,n)
return Le(t,e.clientX,e.clientY,n,r,o,e)}
var Ae=function(e,t){return function(n){e(n)&&t(De(n))}}
var Me=function(e,t,n,r,o){var a=Ae(n,r)
e.dom.addEventListener(t,a,o)
return{unbind:p(Re,e,t,a,o)}}
var Ne=function(e,t,n,r){return Me(e,t,n,r,false)}
var Re=function(e,t,n,r){e.dom.removeEventListener(t,n,r)}
var ze=y
var Be=function(e,t,n){return Ne(e,t,ze,n)}
var Pe=function(e,t){var n=function(n,r){return Pe(e+n,t+r)}
return{left:e,top:t,translate:n}}
var Ie=Pe
var He=function(e){var t=void 0!==e?e.dom:document
var n=t.body.scrollLeft||t.documentElement.scrollLeft
var r=t.body.scrollTop||t.documentElement.scrollTop
return Ie(n,r)}
var Fe=function(e){var t=void 0===e?window:e
return k.from(t["visualViewport"])}
var Ve=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}}
var je=function(e){var t=void 0===e?window:e
var n=t.document
var r=He(W.fromDom(n))
return Fe(t).fold((function(){var e=t.document.documentElement
var n=e.clientWidth
var o=e.clientHeight
return Ve(r.left,r.top,n,o)}),(function(e){return Ve(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)}))}
var Ue=function(e,t,n){return Fe(n).map((function(n){var r=function(e){return t(De(e))}
n.addEventListener(e,r)
return{unbind:function(){return n.removeEventListener(e,r)}}})).getOrThunk((function(){return{unbind:d}}))}
var We=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var qe=tinymce.util.Tools.resolve("tinymce.Env")
var $e=tinymce.util.Tools.resolve("tinymce.util.Delay")
var Ge=function(e,t){e.fire("FullscreenStateChanged",{state:t})}
var Xe=function(e){return e.getParam("fullscreen_native",false,"boolean")}
var Ke=function(e){var t=W.fromDom(e.getElement())
return ge(t).map(he).getOrThunk((function(){return we(ae(t))}))}
var Ze=function(e){return void 0!==e.fullscreenElement?e.fullscreenElement:void 0!==e.msFullscreenElement?e.msFullscreenElement:void 0!==e.webkitFullscreenElement?e.webkitFullscreenElement:null}
var Ye=function(){return void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange"}
var Je=function(e){var t=e.dom
t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()}
var Qe=function(e){var t=e.dom
t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()}
var et=function(e){return e.dom===Ze(ae(e).dom)}
var tt=function(e,t,n){return A(ce(e,n),t)}
var nt=function(e,t){return A(se(e),t)}
var rt=function(e){return re(e)}
var ot=function(e,t,n){return tt(e,(function(e){return te(e,t)}),n)}
var at=function(e,t){return nt(e,(function(e){return te(e,t)}))}
var it="data-ephox-mobile-fullscreen-style"
var ut="display:none!important;"
var ct="position:absolute!important;"
var st="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;"
var lt="background-color:rgb(255,255,255)!important;"
var ft=qe.os.isAndroid()
var vt=function(e){var t=Ee(e,"background-color")
return void 0!==t&&""!==t?"background-color:"+t+"!important":lt}
var dt=function(e,t,n){var r=function(e){return at(e,"*:not(.tox-silver-sink)")}
var o=function(t){return function(n){var r=Se(n,"style")
var o=void 0===r?"no-styles":r.trim()
if(o===t)return
Ce(n,it,o)
Te(n,e.parseStyle(t))}}
var a=ot(t,"*")
var i=N(a,r)
var u=vt(n)
D(i,o(ut))
D(a,o(ct+st+u))
var c=true===ft?"":ct
o(c+st+u)(t)}
var mt=function(e){var t=rt("["+it+"]")
D(t,(function(t){var n=Se(t,it)
"no-styles"!==n?Te(t,e.parseStyle(n)):ke(t,"style")
ke(t,it)}))}
var gt=We.DOM
var ht=function(){var e=je(window)
return{x:e.x,y:e.y}}
var pt=function(e){window.scrollTo(e.x,e.y)}
var bt=Fe().fold((function(){return{bind:d,unbind:d}}),(function(e){var t=E()
var n=T()
var r=T()
var o=function(){document.body.scrollTop=0
document.documentElement.scrollTop=0}
var a=function(){window.requestAnimationFrame((function(){t.on((function(t){return Te(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})}))}))}
var i=$e.throttle((function(){o()
a()}),50)
var u=function(e){t.set(e)
i()
n.set(Ue("resize",i))
r.set(Ue("scroll",i))}
var c=function(){t.on((function(){n.clear()
r.clear()}))
t.clear()}
return{bind:u,unbind:c}}))
var yt=function(e,t){var n=document.body
var r=document.documentElement
var o=e.getContainer()
var a=W.fromDom(o)
var i=Ke(e)
var u=t.get()
var c=W.fromDom(e.getBody())
var s=qe.deviceType.isTouch()
var l=o.style
var f=e.iframeElement
var v=f.style
var d=function(e){e(n,"tox-fullscreen")
e(r,"tox-fullscreen")
e(o,"tox-fullscreen")
ge(a).map((function(e){return he(e).dom})).each((function(t){e(t,"tox-fullscreen")
e(t,"tox-shadowhost")}))}
var m=function(){s&&mt(e.dom)
d(gt.removeClass)
bt.unbind()
k.from(t.get()).each((function(e){return e.fullscreenChangeHandler.unbind()}))}
if(u){u.fullscreenChangeHandler.unbind()
Xe(e)&&et(i)&&Qe(ae(i))
v.width=u.iframeWidth
v.height=u.iframeHeight
l.width=u.containerWidth
l.height=u.containerHeight
l.top=u.containerTop
l.left=u.containerLeft
pt(u.scrollPos)
t.set(null)
Ge(e,false)
m()
e.off("remove",m)}else{var g=Be(ae(i),Ye(),(function(n){Xe(e)&&(et(i)||null===t.get()||yt(e,t))}))
var h={scrollPos:ht(),containerWidth:l.width,containerHeight:l.height,containerTop:l.top,containerLeft:l.left,iframeWidth:v.width,iframeHeight:v.height,fullscreenChangeHandler:g}
s&&dt(e.dom,a,c)
v.width=v.height="100%"
l.width=l.height=""
d(gt.addClass)
bt.bind(a)
e.on("remove",m)
t.set(h)
Xe(e)&&Je(i)
Ge(e,true)}}
var wt=function(e,t){e.addCommand("mceFullScreen",(function(){yt(e,t)}))}
var xt=function(e,t){return function(n){n.setActive(null!==t.get())
var r=function(e){return n.setActive(e.state)}
e.on("FullscreenStateChanged",r)
return function(){return e.off("FullscreenStateChanged",r)}}}
var Ct=function(e,t){e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:xt(e,t)})
e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:xt(e,t)})}
function St(){t.add("fullscreen",(function(t){var r=e(null)
if(t.inline)return n(r)
wt(t,r)
Ct(t,r)
t.addShortcut("Meta+Shift+F","","mceFullScreen")
return n(r)}))}St()})()},URgk:function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window
var o=Function.prototype.apply
t.setTimeout=function(){return new a(o.call(setTimeout,r,arguments),clearTimeout)}
t.setInterval=function(){return new a(o.call(setInterval,r,arguments),clearInterval)}
t.clearTimeout=t.clearInterval=function(e){e&&e.close()}
function a(e,t){this._id=e
this._clearFn=t}a.prototype.unref=a.prototype.ref=function(){}
a.prototype.close=function(){this._clearFn.call(r,this._id)}
t.enroll=function(e,t){clearTimeout(e._idleTimeoutId)
e._idleTimeout=t}
t.unenroll=function(e){clearTimeout(e._idleTimeoutId)
e._idleTimeout=-1}
t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId)
var t=e._idleTimeout
t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))}
n("YBdB")
t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate
t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},Xg8j:function(e,t){(function(){"use strict"
var e=function(e){var t=typeof e
return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}
var t=function(t){return function(n){return e(n)===t}}
var n=function(e){return function(t){return typeof t===e}}
var r=function(e){return function(t){return e===t}}
var o=t("string")
var a=t("object")
var i=t("array")
var u=n("boolean")
var c=r(void 0)
var s=function(e){return null===e||void 0===e}
var l=function(e){return!s(e)}
var f=n("function")
var v=n("number")
var d=function(){}
var m=function(e,t){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return e(t.apply(null,n))}}
var g=function(e,t){return function(n){return e(t(n))}}
var h=function(e){return function(){return e}}
var p=function(e){return e}
function b(e){var t=[]
for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=t.concat(n)
return e.apply(null,o)}}var y=function(e){return function(t){return!e(t)}}
var w=function(e){return function(){throw new Error(e)}}
var x=h(false)
var C=h(true)
var S=function(){return k}
var k=function(){var e=function(e){return e.isNone()}
var t=function(e){return e()}
var n=function(e){return e}
var r={fold:function(e,t){return e()},is:x,isSome:x,isNone:C,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:h(null),getOrUndefined:h(void 0),or:n,orThunk:t,map:S,each:d,bind:S,exists:x,forall:C,filter:S,equals:e,equals_:e,toArray:function(){return[]},toString:h("none()")}
return r}()
var O=function(e){var t=h(e)
var n=function(){return o}
var r=function(t){return t(e)}
var o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:C,isNone:x,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return O(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:k},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(x,(function(t){return n(e,t)}))}}
return o}
var T=function(e){return null===e||void 0===e?k:O(e)}
var E={some:O,none:S,from:T}
var _=Array.prototype.slice
var L=Array.prototype.indexOf
var D=Array.prototype.push
var A=function(e,t){return L.call(e,t)}
var M=function(e,t){return A(e,t)>-1}
var N=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
if(t(o,n))return true}return false}
var R=function(e,t){var n=[]
for(var r=0;r<e;r++)n.push(t(r))
return n}
var z=function(e,t){var n=e.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=e[o]
r[o]=t(a,o)}return r}
var B=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
t(o,n)}}
var P=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n]
t(r,n)}}
var I=function(e,t){var n=[]
var r=[]
for(var o=0,a=e.length;o<a;o++){var i=e[o]
var u=t(i,o)?n:r
u.push(i)}return{pass:n,fail:r}}
var H=function(e,t){var n=[]
for(var r=0,o=e.length;r<o;r++){var a=e[r]
t(a,r)&&n.push(a)}return n}
var F=function(e,t,n){P(e,(function(e){n=t(n,e)}))
return n}
var V=function(e,t,n){B(e,(function(e){n=t(n,e)}))
return n}
var j=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r]
if(t(a,r))return E.some(a)
if(n(a,r))break}return E.none()}
var U=function(e,t){return j(e,t,x)}
var W=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
if(t(o,n))return E.some(n)}return E.none()}
var q=function(e){var t=[]
for(var n=0,r=e.length;n<r;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)
D.apply(t,e[n])}return t}
var $=function(e,t){return q(z(e,t))}
var G=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n]
if(true!==t(o,n))return false}return true}
var X=function(e){var t=_.call(e,0)
t.reverse()
return t}
var K=function(e,t){var n={}
for(var r=0,o=e.length;r<o;r++){var a=e[r]
n[String(a)]=t(a,r)}return n}
var Z=function(e){return[e]}
var Y=function(e,t){var n=_.call(e,0)
n.sort(t)
return n}
var J=function(e,t){return t>=0&&t<e.length?E.some(e[t]):E.none()}
var Q=function(e){return J(e,0)}
var ee=function(e){return J(e,e.length-1)}
var te=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n)
if(r.isSome())return r}return E.none()}
var ne=function(){ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n]
for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}
return ne.apply(this,arguments)}
function re(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length
var r=Array(e),o=0
for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var oe=function(e){var t=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!t){t=true
n=e.apply(null,r)}return n}}
var ae=function(e,t,n,r){var o=e.isiOS()&&true===/ipad/i.test(n)
var a=e.isiOS()&&!o
var i=e.isiOS()||e.isAndroid()
var u=i||r("(pointer:coarse)")
var c=o||!a&&i&&r("(min-device-width:768px)")
var s=a||i&&!c
var l=t.isSafari()&&e.isiOS()&&false===/safari/i.test(n)
var f=!s&&!c&&!l
return{isiPad:h(o),isiPhone:h(a),isTablet:h(c),isPhone:h(s),isTouch:h(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:h(l),isDesktop:h(f)}}
var ie=function(e,t){for(var n=0;n<e.length;n++){var r=e[n]
if(r.test(t))return r}return}
var ue=function(e,t){var n=ie(e,t)
if(!n)return{major:0,minor:0}
var r=function(e){return Number(t.replace(n,"$"+e))}
return le(r(1),r(2))}
var ce=function(e,t){var n=String(t).toLowerCase()
if(0===e.length)return se()
return ue(e,n)}
var se=function(){return le(0,0)}
var le=function(e,t){return{major:e,minor:t}}
var fe={nu:le,detect:ce,unknown:se}
var ve=function(e,t){var n=String(t).toLowerCase()
return U(e,(function(e){return e.search(n)}))}
var de=function(e,t){return ve(e,t).map((function(e){var n=fe.detect(e.versionRegexes,t)
return{current:e.name,version:n}}))}
var me=function(e,t){return ve(e,t).map((function(e){var n=fe.detect(e.versionRegexes,t)
return{current:e.name,version:n}}))}
var ge={detectBrowser:de,detectOs:me}
var he=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}
var pe=function(e,t){return-1!==e.indexOf(t)}
var be=function(e,t){return he(e,t,0)}
var ye=function(e,t){return he(e,t,e.length-t.length)}
var we=function(e){return function(t){return t.replace(e,"")}}
var xe=we(/^\s+|\s+$/g)
var Ce=function(e){return e.length>0}
var Se=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var ke=function(e){return function(t){return pe(t,e)}}
var Oe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return pe(e,"edge/")&&pe(e,"chrome")&&pe(e,"safari")&&pe(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Se],search:function(e){return pe(e,"chrome")&&!pe(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return pe(e,"msie")||pe(e,"trident")}},{name:"Opera",versionRegexes:[Se,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ke("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ke("firefox")},{name:"Safari",versionRegexes:[Se,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(pe(e,"safari")||pe(e,"mobile/"))&&pe(e,"applewebkit")}}]
var Te=[{name:"Windows",search:ke("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return pe(e,"iphone")||pe(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ke("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ke("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ke("linux"),versionRegexes:[]},{name:"Solaris",search:ke("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ke("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ke("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var Ee={browsers:h(Oe),oses:h(Te)}
var _e="Edge"
var Le="Chrome"
var De="IE"
var Ae="Opera"
var Me="Firefox"
var Ne="Safari"
var Re=function(){return ze({current:void 0,version:fe.unknown()})}
var ze=function(e){var t=e.current
var n=e.version
var r=function(e){return function(){return t===e}}
return{current:t,version:n,isEdge:r(_e),isChrome:r(Le),isIE:r(De),isOpera:r(Ae),isFirefox:r(Me),isSafari:r(Ne)}}
var Be={unknown:Re,nu:ze,edge:h(_e),chrome:h(Le),ie:h(De),opera:h(Ae),firefox:h(Me),safari:h(Ne)}
var Pe="Windows"
var Ie="iOS"
var He="Android"
var Fe="Linux"
var Ve="OSX"
var je="Solaris"
var Ue="FreeBSD"
var We="ChromeOS"
var qe=function(){return $e({current:void 0,version:fe.unknown()})}
var $e=function(e){var t=e.current
var n=e.version
var r=function(e){return function(){return t===e}}
return{current:t,version:n,isWindows:r(Pe),isiOS:r(Ie),isAndroid:r(He),isOSX:r(Ve),isLinux:r(Fe),isSolaris:r(je),isFreeBSD:r(Ue),isChromeOS:r(We)}}
var Ge={unknown:qe,nu:$e,windows:h(Pe),ios:h(Ie),android:h(He),linux:h(Fe),osx:h(Ve),solaris:h(je),freebsd:h(Ue),chromeos:h(We)}
var Xe=function(e,t){var n=Ee.browsers()
var r=Ee.oses()
var o=ge.detectBrowser(n,e).fold(Be.unknown,Be.nu)
var a=ge.detectOs(r,e).fold(Ge.unknown,Ge.nu)
var i=ae(a,o,e,t)
return{browser:o,os:a,deviceType:i}}
var Ke={detect:Xe}
var Ze=function(e){return window.matchMedia(e).matches}
var Ye=oe((function(){return Ke.detect(navigator.userAgent,Ze)}))
var Je=function(){return Ye()}
var Qe=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)}
var et=function(e,t){return Qe(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var tt=8
var nt=9
var rt=11
var ot=1
var at=3
var it=function(e,t){var n=t||document
var r=n.createElement("div")
r.innerHTML=e
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e)
throw new Error("HTML must have a single root node")}return st(r.childNodes[0])}
var ut=function(e,t){var n=t||document
var r=n.createElement(e)
return st(r)}
var ct=function(e,t){var n=t||document
var r=n.createTextNode(e)
return st(r)}
var st=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined")
return{dom:e}}
var lt=function(e,t,n){return E.from(e.dom.elementFromPoint(t,n)).map(st)}
var ft={fromHtml:it,fromTag:ut,fromText:ct,fromDom:st,fromPoint:lt}
var vt=function(e,t){var n=e.dom
if(n.nodeType!==ot)return false
var r=n
if(void 0!==r.matches)return r.matches(t)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t)
throw new Error("Browser lacks native selectors")}
var dt=function(e){return e.nodeType!==ot&&e.nodeType!==nt&&e.nodeType!==rt||0===e.childElementCount}
var mt=function(e,t){var n=void 0===t?document:t.dom
return dt(n)?[]:z(n.querySelectorAll(e),ft.fromDom)}
var gt=function(e,t){var n=void 0===t?document:t.dom
return dt(n)?E.none():E.from(n.querySelector(e)).map(ft.fromDom)}
var ht=function(e,t){return e.dom===t.dom}
var pt=function(e,t){var n=e.dom
var r=t.dom
return n!==r&&n.contains(r)}
var bt=function(e,t){return et(e.dom,t.dom)}
var yt=function(e,t){return Je().browser.isIE()?bt(e,t):pt(e,t)}
var wt=vt
var xt=Object.keys
var Ct=Object.hasOwnProperty
var St=function(e,t){var n=xt(e)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=e[a]
t(i,a)}}
var kt=function(e,t){return Ot(e,(function(e,n){return{k:n,v:t(e,n)}}))}
var Ot=function(e,t){var n={}
St(e,(function(e,r){var o=t(e,r)
n[o.k]=o.v}))
return n}
var Tt=function(e){return function(t,n){e[n]=t}}
var Et=function(e,t,n,r){var o={}
St(e,(function(e,o){(t(e,o)?n:r)(e,o)}))
return o}
var _t=function(e,t){var n={}
Et(e,t,Tt(n),d)
return n}
var Lt=function(e,t){var n=[]
St(e,(function(e,r){n.push(t(e,r))}))
return n}
var Dt=function(e){return Lt(e,(function(e){return e}))}
var At=function(e){return xt(e).length}
var Mt=function(e,t){return Nt(e,t)?E.from(e[t]):E.none()}
var Nt=function(e,t){return Ct.call(e,t)}
var Rt=function(e,t){return Nt(e,t)&&void 0!==e[t]&&null!==e[t]}
var zt=function(e){for(var t in e)if(Ct.call(e,t))return false
return true}
var Bt=["tfoot","thead","tbody","colgroup"]
var Pt=function(e){return M(Bt,e)}
var It=function(e,t){return{rows:e,columns:t}}
var Ht=function(e,t){return{row:e,column:t}}
var Ft=function(e,t,n){return{element:e,rowspan:t,colspan:n}}
var Vt=function(e,t,n,r){return{element:e,rowspan:t,colspan:n,isNew:r}}
var jt=function(e,t,n,r,o,a){return{element:e,rowspan:t,colspan:n,row:r,column:o,isLocked:a}}
var Ut=function(e,t,n){return{element:e,cells:t,section:n}}
var Wt=function(e,t,n){return{element:e,isNew:t,isLocked:n}}
var qt=function(e,t,n,r){return{element:e,cells:t,section:n,isNew:r}}
var $t=function(e,t){return{cells:e,section:t}}
var Gt=function(e,t){return{details:e,section:t}}
var Xt=function(e,t,n,r){return{startRow:e,startCol:t,finishRow:n,finishCol:r}}
var Kt=function(e,t,n){return{element:e,colspan:t,column:n}}
"undefined"!==typeof window?window:Function("return this;")()
var Zt=function(e){var t=e.dom.nodeName
return t.toLowerCase()}
var Yt=function(e){return e.dom.nodeType}
var Jt=function(e){return function(t){return Yt(t)===e}}
var Qt=function(e){return Yt(e)===tt||"#comment"===Zt(e)}
var en=Jt(ot)
var tn=Jt(at)
var nn=Jt(nt)
var rn=Jt(rt)
var on=function(e){return function(t){return en(t)&&Zt(t)===e}}
var an=function(e){return ft.fromDom(e.dom.ownerDocument)}
var un=function(e){return nn(e)?e:an(e)}
var cn=function(e){return ft.fromDom(un(e).dom.defaultView)}
var sn=function(e){return E.from(e.dom.parentNode).map(ft.fromDom)}
var ln=function(e,t){var n=f(t)?t:x
var r=e.dom
var o=[]
while(null!==r.parentNode&&void 0!==r.parentNode){var a=r.parentNode
var i=ft.fromDom(a)
o.push(i)
if(true===n(i))break
r=a}return o}
var fn=function(e){return E.from(e.dom.offsetParent).map(ft.fromDom)}
var vn=function(e){return E.from(e.dom.previousSibling).map(ft.fromDom)}
var dn=function(e){return E.from(e.dom.nextSibling).map(ft.fromDom)}
var mn=function(e){return z(e.dom.childNodes,ft.fromDom)}
var gn=function(e,t){var n=e.dom.childNodes
return E.from(n[t]).map(ft.fromDom)}
var hn=function(e){return gn(e,0)}
var pn=function(e){return rn(e)&&l(e.dom.host)}
var bn=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode)
var yn=h(bn)
var wn=bn?function(e){return ft.fromDom(e.dom.getRootNode())}:un
var xn=function(e){var t=wn(e)
return pn(t)?E.some(t):E.none()}
var Cn=function(e){return ft.fromDom(e.dom.host)}
var Sn=function(e){if(yn()&&l(e.target)){var t=ft.fromDom(e.target)
if(en(t)&&kn(t)&&e.composed&&e.composedPath){var n=e.composedPath()
if(n)return Q(n)}}return E.from(e.target)}
var kn=function(e){return l(e.dom.shadowRoot)}
var On=function(e){var t=tn(e)?e.dom.parentNode:e.dom
if(void 0===t||null===t||null===t.ownerDocument)return false
var n=t.ownerDocument
return xn(ft.fromDom(t)).fold((function(){return n.body.contains(t)}),g(On,Cn))}
var Tn=function(){return En(ft.fromDom(document))}
var En=function(e){var t=e.dom.body
if(null===t||void 0===t)throw new Error("Body is not available yet")
return ft.fromDom(t)}
var _n=function(e,t,n){return H(ln(e,n),t)}
var Ln=function(e,t){return H(mn(e),t)}
var Dn=function(e,t){var n=[]
B(mn(e),(function(e){t(e)&&(n=n.concat([e]))
n=n.concat(Dn(e,t))}))
return n}
var An=function(e,t,n){return _n(e,(function(e){return vt(e,t)}),n)}
var Mn=function(e,t){return Ln(e,(function(e){return vt(e,t)}))}
var Nn=function(e,t){return mt(t,e)}
function Rn(e,t,n,r,o){return e(n,r)?E.some(n):f(o)&&o(n)?E.none():t(n,r,o)}var zn=function(e,t,n){var r=e.dom
var o=f(n)?n:x
while(r.parentNode){r=r.parentNode
var a=ft.fromDom(r)
if(t(a))return E.some(a)
if(o(a))break}return E.none()}
var Bn=function(e,t,n){var r=function(e,t){return t(e)}
return Rn(r,zn,e,t,n)}
var Pn=function(e,t){var n=function(e){return t(ft.fromDom(e))}
var r=U(e.dom.childNodes,n)
return r.map(ft.fromDom)}
var In=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=ft.fromDom(e.childNodes[r])
if(t(o))return E.some(o)
var a=n(e.childNodes[r])
if(a.isSome())return a}return E.none()}
return n(e.dom)}
var Hn=function(e,t,n){return zn(e,(function(e){return vt(e,t)}),n)}
var Fn=function(e,t){return Pn(e,(function(e){return vt(e,t)}))}
var Vn=function(e,t){return gt(t,e)}
var jn=function(e,t,n){var r=function(e,t){return vt(e,t)}
return Rn(r,Hn,e,t,n)}
var Un=function(e,t,n){if(!(o(n)||u(n)||v(n))){console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e)
throw new Error("Attribute value was not simple")}e.setAttribute(t,n+"")}
var Wn=function(e,t,n){Un(e.dom,t,n)}
var qn=function(e,t){var n=e.dom
St(t,(function(e,t){Un(n,t,e)}))}
var $n=function(e,t){var n=e.dom.getAttribute(t)
return null===n?void 0:n}
var Gn=function(e,t){return E.from($n(e,t))}
var Xn=function(e,t){e.dom.removeAttribute(t)}
var Kn=function(e){return V(e.dom.attributes,(function(e,t){e[t.name]=t.value
return e}),{})}
var Zn=function(e){return void 0!==e.style&&f(e.style.getPropertyValue)}
var Yn=function(e,t,n){if(!o(n)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e)
throw new Error("CSS value must be a string: "+n)}Zn(e)&&e.style.setProperty(t,n)}
var Jn=function(e,t){Zn(e)&&e.style.removeProperty(t)}
var Qn=function(e,t,n){var r=e.dom
Yn(r,t,n)}
var er=function(e,t){var n=e.dom
St(t,(function(e,t){Yn(n,t,e)}))}
var tr=function(e,t){var n=e.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(t)
return""!==o||On(e)?o:nr(n,t)}
var nr=function(e,t){return Zn(e)?e.style.getPropertyValue(t):""}
var rr=function(e,t){var n=e.dom
var r=nr(n,t)
return E.from(r).filter((function(e){return e.length>0}))}
var or=function(e,t){var n=e.dom
Jn(n,t)
Gn(e,"style").map(xe).is("")&&Xn(e,"style")}
var ar=function(e,t){var n=e.dom
var r=t.dom
Zn(n)&&Zn(r)&&(r.style.cssText=n.style.cssText)}
var ir=function(e,t,n){void 0===n&&(n=0)
return Gn(e,t).map((function(e){return parseInt(e,10)})).getOr(n)}
var ur=function(e,t){return ir(e,t,1)}
var cr=function(e){return ur(e,"colspan")>1}
var sr=function(e){return ur(e,"rowspan")>1}
var lr=function(e,t){return parseInt(tr(e,t),10)}
var fr=h(10)
var vr=h(10)
var dr=function(e,t){return mr(e,t,C)}
var mr=function(e,t,n){return $(mn(e),(function(e){return vt(e,t)?n(e)?[e]:[]:mr(e,t,n)}))}
var gr=function(e,t,n){void 0===n&&(n=x)
if(n(t))return E.none()
if(M(e,Zt(t)))return E.some(t)
var r=function(e){return vt(e,"table")||n(e)}
return Hn(t,e.join(","),r)}
var hr=function(e,t){return gr(["td","th"],e,t)}
var pr=function(e){return dr(e,"th,td")}
var br=function(e){return vt(e,"colgroup")?Mn(e,"col"):$(xr(e),(function(e){return Mn(e,"col")}))}
var yr=function(e,t){return jn(e,"table",t)}
var wr=function(e){return dr(e,"tr")}
var xr=function(e){return yr(e).fold(h([]),(function(e){return Mn(e,"colgroup")}))}
var Cr=function(e,t){return z(e,(function(e){if("colgroup"===Zt(e)){var n=z(br(e),(function(e){var t=ir(e,"span",1)
return Ft(e,1,t)}))
return Ut(e,n,"colgroup")}n=z(pr(e),(function(e){var t=ir(e,"rowspan",1)
var n=ir(e,"colspan",1)
return Ft(e,t,n)}))
return Ut(e,n,t(e))}))}
var Sr=function(e){return sn(e).map((function(e){var t=Zt(e)
return Pt(t)?t:"tbody"})).getOr("tbody")}
var kr=function(e){var t=wr(e)
var n=xr(e)
var r=re(n,t)
return Cr(r,Sr)}
var Or=function(e,t){return Cr(e,(function(){return t}))}
var Tr=function(e,t,n){var r=e.cells
var o=r.slice(0,t)
var a=r.slice(t)
var i=o.concat(n).concat(a)
return Lr(e,i)}
var Er=function(e,t,n){return Tr(e,t,[n])}
var _r=function(e,t,n){var r=e.cells
r[t]=n}
var Lr=function(e,t){return $t(t,e.section)}
var Dr=function(e,t){var n=e.cells
var r=z(n,t)
return $t(r,e.section)}
var Ar=function(e,t){return e.cells[t]}
var Mr=function(e,t){return Ar(e,t).element}
var Nr=function(e){return e.cells.length}
var Rr=function(e){var t=I(e,(function(e){return"colgroup"===e.section}))
return{rows:t.fail,cols:t.pass}}
var zr="data-snooker-locked-cols"
var Br=function(e){return Gn(e,zr).bind((function(e){return E.from(e.match(/\d+/g))})).map((function(e){return K(e,C)}))}
var Pr=function(e){var t=V(Rr(e).rows,(function(e,t){B(t.cells,(function(t,n){t.isLocked&&(e[n]=true)}))
return e}),{})
var n=Lt(t,(function(e,t){return parseInt(t,10)}))
return Y(n)}
var Ir=function(e,t){return e+","+t}
var Hr=function(e,t,n){var r=e.access[Ir(t,n)]
return void 0!==r?E.some(r):E.none()}
var Fr=function(e,t,n){var r=Vr(e,(function(e){return n(t,e.element)}))
return r.length>0?E.some(r[0]):E.none()}
var Vr=function(e,t){var n=$(e.all,(function(e){return e.cells}))
return H(n,t)}
var jr=function(e){var t={}
var n=0
B(e.cells,(function(e){var r=e.colspan
R(r,(function(o){var a=n+o
t[a]=Kt(e.element,r,a)}))
n+=r}))
return t}
var Ur=function(e){var t={}
var n=[]
var r={}
var o=Q(e).map((function(e){return e.element})).bind(yr)
var a=o.bind(Br).getOr({})
var i=0
var u=0
var c=0
B(e,(function(e){if("colgroup"===e.section)r=jr(e)
else{var o=[]
B(e.cells,(function(e){var n=0
while(void 0!==t[Ir(c,n)])n++
var r=Rt(a,n.toString())
var i=jt(e.element,e.rowspan,e.colspan,c,n,r)
for(var s=0;s<e.colspan;s++)for(var l=0;l<e.rowspan;l++){var f=c+l
var v=n+s
var d=Ir(f,v)
t[d]=i
u=Math.max(u,v+1)}o.push(i)}))
i++
n.push(Ut(e.element,o,e.section))
c++}}))
var s=It(i,u)
return{grid:s,access:t,all:n,columns:r}}
var Wr=function(e){var t=kr(e)
return Ur(t)}
var qr=function(e){return $(e.all,(function(e){return e.cells}))}
var $r=function(e){return Dt(e.columns)}
var Gr=function(e){return xt(e.columns).length>0}
var Xr=function(e,t){return E.from(e.columns[t])}
var Kr={fromTable:Wr,generate:Ur,getAt:Hr,findItem:Fr,filterItems:Vr,justCells:qr,justColumns:$r,hasColumns:Gr,getColumnAt:Xr}
var Zr=function(e,t){var n=t.column
var r=t.column+t.colspan-1
var o=t.row
var a=t.row+t.rowspan-1
return n<=e.finishCol&&r>=e.startCol&&o<=e.finishRow&&a>=e.startRow}
var Yr=function(e,t){return t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow}
var Jr=function(e,t){var n=true
var r=b(Yr,t)
for(var o=t.startRow;o<=t.finishRow;o++)for(var a=t.startCol;a<=t.finishCol;a++)n=n&&Kr.getAt(e,o,a).exists(r)
return n?E.some(t):E.none()}
var Qr=function(e,t){return Xt(Math.min(e.row,t.row),Math.min(e.column,t.column),Math.max(e.row+e.rowspan-1,t.row+t.rowspan-1),Math.max(e.column+e.colspan-1,t.column+t.colspan-1))}
var eo=function(e,t,n){var r=Kr.findItem(e,t,ht)
var o=Kr.findItem(e,n,ht)
return r.bind((function(e){return o.map((function(t){return Qr(e,t)}))}))}
var to=function(e,t,n){return eo(e,t,n).bind((function(t){return Jr(e,t)}))}
var no=function(e,t,n,r){return Kr.findItem(e,t,ht).bind((function(t){var o=n>0?t.row+t.rowspan-1:t.row
var a=r>0?t.column+t.colspan-1:t.column
var i=Kr.getAt(e,o+n,a+r)
return i.map((function(e){return e.element}))}))}
var ro=function(e,t,n){return eo(e,t,n).map((function(t){var n=Kr.filterItems(e,b(Zr,t))
return z(n,(function(e){return e.element}))}))}
var oo=function(e,t){var n=function(e,t){return yt(t,e)}
return Kr.findItem(e,t,n).map((function(e){return e.element}))}
var ao=function(e,t,n){return yr(e).bind((function(r){var o=so(r)
return no(o,e,t,n)}))}
var io=function(e,t,n){var r=so(e)
return ro(r,t,n)}
var uo=function(e,t,n,r,o){var a=so(e)
var i=ht(e,n)?E.some(t):oo(a,t)
var u=ht(e,o)?E.some(r):oo(a,r)
return i.bind((function(e){return u.bind((function(t){return ro(a,e,t)}))}))}
var co=function(e,t,n){var r=so(e)
return to(r,t,n)}
var so=Kr.fromTable
var lo=function(e,t){var n=sn(e)
n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))}
var fo=function(e,t){var n=dn(e)
n.fold((function(){var n=sn(e)
n.each((function(e){mo(e,t)}))}),(function(e){lo(e,t)}))}
var vo=function(e,t){var n=hn(e)
n.fold((function(){mo(e,t)}),(function(n){e.dom.insertBefore(t.dom,n.dom)}))}
var mo=function(e,t){e.dom.appendChild(t.dom)}
var go=function(e,t){lo(e,t)
mo(t,e)}
var ho=function(e,t){B(t,(function(t){lo(e,t)}))}
var po=function(e,t){B(t,(function(n,r){var o=0===r?e:t[r-1]
fo(o,n)}))}
var bo=function(e,t){B(t,(function(t){mo(e,t)}))}
var yo=function(e){e.dom.textContent=""
B(mn(e),(function(e){wo(e)}))}
var wo=function(e){var t=e.dom
null!==t.parentNode&&t.parentNode.removeChild(t)}
var xo=function(e){var t=mn(e)
t.length>0&&ho(e,t)
wo(e)}
var Co=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node")
return r(n).getOr("")}
var r=function(t){return e(t)?E.from(t.dom.nodeValue):E.none()}
var o=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node")
n.dom.nodeValue=r}
return{get:n,getOption:r,set:o}}
var So=Co(tn,"text")
var ko=function(e){return So.get(e)}
var Oo=function(e){return So.getOption(e)}
var To=function(e,t){return So.set(e,t)}
var Eo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]
function _o(){var e=function(e){return ft.fromDom(e.dom.cloneNode(false))}
var t=function(e){return un(e).dom}
var n=function(e){if(!en(e))return false
if("body"===Zt(e))return true
return M(Eo,Zt(e))}
var r=function(e){if(!en(e))return false
return M(["br","img","hr","input"],Zt(e))}
var o=function(e){return en(e)&&"false"===$n(e,"contenteditable")}
var a=function(e,t){return e.dom.compareDocumentPosition(t.dom)}
var i=function(e,t){var n=Kn(e)
qn(t,n)}
var u=function(e){var t=Zt(e)
return M(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)}
return{up:h({selector:Hn,closest:jn,predicate:zn,all:ln}),down:h({selector:Nn,predicate:Dn}),styles:h({get:tr,getRaw:rr,set:Qn,remove:or}),attrs:h({get:$n,set:Wn,remove:Xn,copyTo:i}),insert:h({before:lo,after:fo,afterAll:po,append:mo,appendAll:bo,prepend:vo,wrap:go}),remove:h({unwrap:xo,remove:wo}),create:h({nu:ft.fromTag,clone:e,text:ft.fromText}),query:h({comparePosition:a,prevSibling:vn,nextSibling:dn}),property:h({children:mn,name:Zt,parent:sn,document:t,isText:tn,isComment:Qt,isElement:en,isSpecial:u,getText:ko,setText:To,isBoundary:n,isEmptyTag:r,isNonEditable:o}),eq:ht,is:wt}}var Lo=function(e,t,n,r){var o=n[0]
var a=n.slice(1)
return r(e,t,o,a)}
var Do=function(e,t,n){return n.length>0?Lo(e,t,n,Ao):E.none()}
var Ao=function(e,t,n,r){var o=t(e,n)
return F(r,(function(n,r){var o=t(e,r)
return Mo(e,n,o)}),o)}
var Mo=function(e,t,n){return t.bind((function(t){return n.filter(b(e.eq,t))}))}
var No=function(e,t){return b(e.eq,t)}
var Ro=function(e,t,n,r){void 0===r&&(r=x)
var o=[t].concat(e.up().all(t))
var a=[n].concat(e.up().all(n))
var i=function(e){var t=W(e,r)
return t.fold((function(){return e}),(function(t){return e.slice(0,t+1)}))}
var u=i(o)
var c=i(a)
var s=U(u,(function(t){return N(c,No(e,t))}))
return{firstpath:u,secondpath:c,shared:s}}
var zo=Do
var Bo=Ro
var Po=_o()
var Io=function(e,t){return zo(Po,(function(t,n){return e(n)}),t)}
var Ho=function(e,t,n){return Bo(Po,e,t,n)}
var Fo=function(e){return Hn(e,"table")}
var Vo=function(e,t,n){var r=function(e){return function(t){return void 0!==n&&n(t)||ht(t,e)}}
return ht(e,t)?E.some({boxes:E.some([e]),start:e,finish:t}):Fo(e).bind((function(o){return Fo(t).bind((function(a){if(ht(o,a))return E.some({boxes:io(o,e,t),start:e,finish:t})
if(yt(o,a)){var i=An(t,"td,th",r(o))
var u=i.length>0?i[i.length-1]:t
return E.some({boxes:uo(o,e,o,t,a),start:e,finish:u})}if(yt(a,o)){i=An(e,"td,th",r(a))
var c=i.length>0?i[i.length-1]:e
return E.some({boxes:uo(a,e,o,t,a),start:e,finish:c})}return Ho(e,t).shared.bind((function(i){return jn(i,"table",n).bind((function(n){var i=An(t,"td,th",r(n))
var u=i.length>0?i[i.length-1]:t
var c=An(e,"td,th",r(n))
var s=c.length>0?c[c.length-1]:e
return E.some({boxes:uo(n,e,o,t,a),start:s,finish:u})}))}))}))}))}
var jo=function(e,t){var n=Nn(e,t)
return n.length>0?E.some(n):E.none()}
var Uo=function(e,t){return U(e,(function(e){return vt(e,t)}))}
var Wo=function(e,t,n){return Vn(e,t).bind((function(t){return Vn(e,n).bind((function(e){return Io(Fo,[t,e]).map((function(n){return{first:t,last:e,table:n}}))}))}))}
var qo=function(e,t){return Hn(e,"table").bind((function(n){return Vn(n,t).bind((function(t){return Vo(t,e).bind((function(e){return e.boxes.map((function(t){return{boxes:t,start:e.start,finish:e.finish}}))}))}))}))}
var $o=function(e,t,n,r,o){return Uo(e,o).bind((function(e){return ao(e,t,n).bind((function(e){return qo(e,r)}))}))}
var Go=function(e,t){return jo(e,t)}
var Xo=function(e,t,n){return Wo(e,t,n).bind((function(t){var n=function(t){return ht(e,t)}
var r="thead,tfoot,tbody,table"
var o=Hn(t.first,r,n)
var a=Hn(t.last,r,n)
return o.bind((function(e){return a.bind((function(n){return ht(e,n)?co(t.table,t.first,t.last):E.none()}))}))}))}
var Ko=function(e){if(!i(e))throw new Error("cases must be an array")
if(0===e.length)throw new Error("there must be at least one case")
var t=[]
var n={}
B(e,(function(r,o){var a=xt(r)
if(1!==a.length)throw new Error("one and only one name per case")
var u=a[0]
var c=r[u]
if(void 0!==n[u])throw new Error("duplicate key detected:"+u)
if("cata"===u)throw new Error("cannot have a case named cata (sorry)")
if(!i(c))throw new Error("case arguments must be an array")
t.push(u)
n[u]=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var a=n.length
if(a!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+a)
var i=function(e){var r=xt(e)
if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","))
var o=G(t,(function(e){return M(r,e)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "))
return e[u].apply(null,n)}
return{fold:function(){var t=[]
for(var r=0;r<arguments.length;r++)t[r]=arguments[r]
if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)
var a=t[o]
return a.apply(null,n)},match:i,log:function(e){console.log(e,{constructors:t,constructor:u,params:n})}}}}))
return n}
var Zo={generate:Ko}
var Yo=Zo.generate([{none:[]},{multiple:["elements"]},{single:["element"]}])
var Jo=function(e,t,n,r){return e.fold(t,n,r)}
var Qo=Yo.none
var ea=Yo.multiple
var ta=Yo.single
var na=function(e,t,n){var r=function(){return Go(e(),n).fold((function(){return t().map(ta).getOrThunk(Qo)}),(function(e){return ea(e)}))}
return{get:r}}
var ra=tinymce.util.Tools.resolve("tinymce.PluginManager")
var oa=function(e,t){return ft.fromDom(e.dom.cloneNode(t))}
var aa=function(e){return oa(e,false)}
var ia=function(e){return oa(e,true)}
var ua=function(e,t){var n=ft.fromTag(t)
var r=Kn(e)
qn(n,r)
return n}
var ca=function(e,t){var n=ua(e,t)
var r=mn(ia(e))
bo(n,r)
return n}
var sa=function(e){var t=[]
var n=function(e){t.push(e)}
for(var r=0;r<e.length;r++)e[r].each(n)
return t}
var la=function(e,t,n){return e.isSome()&&t.isSome()?E.some(n(e.getOrDie(),t.getOrDie())):E.none()}
var fa=function(e,t){return void 0!==e&&null!==e?t(e):E.none()}
var va=function(e,t){return e?E.some(t):E.none()}
var da=function(e,t){var n=function(t,n){if(!v(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n)
var r=t.dom
Zn(r)&&(r.style[e]=n+"px")}
var r=function(n){var r=t(n)
if(r<=0||null===r){var o=tr(n,e)
return parseFloat(o)||0}return r}
var o=r
var a=function(e,t){return V(t,(function(t,n){var r=tr(e,n)
var o=void 0===r?0:parseInt(r,10)
return isNaN(o)?t:t+o}),0)}
var i=function(e,t,n){var r=a(e,n)
var o=t>r?t-r:0
return o}
return{set:n,get:r,getOuter:o,aggregate:a,max:i}}
var ma=da("width",(function(e){return e.dom.offsetWidth}))
var ga=function(e){return ma.get(e)}
var ha=function(e){return ma.getOuter(e)}
var pa=function(e,t){void 0===t&&(t=C)
var n=e.grid
var r=R(n.columns,p)
var o=R(n.rows,p)
return z(r,(function(n){var r=function(){return $(o,(function(t){return Kr.getAt(e,t,n).filter((function(e){return e.column===n})).toArray()}))}
var a=function(e){return 1===e.colspan&&t(e.element)}
var i=function(){return Kr.getAt(e,0,n)}
return ba(r,a,i)}))}
var ba=function(e,t,n){var r=e()
var o=U(r,t)
var a=o.orThunk((function(){return E.from(r[0]).orThunk(n)}))
return a.map((function(e){return e.element}))}
var ya=function(e){var t=e.grid
var n=R(t.rows,p)
var r=R(t.columns,p)
return z(n,(function(t){var n=function(){return $(r,(function(n){return Kr.getAt(e,t,n).filter((function(e){return e.row===t})).fold(h([]),(function(e){return[e]}))}))}
var o=function(e){return 1===e.rowspan}
var a=function(){return Kr.getAt(e,t,0)}
return ba(n,o,a)}))}
var wa=function(e,t){if(t<0||t>=e.length-1)return E.none()
var n=e[t].fold((function(){var n=X(e.slice(0,t))
return te(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return E.some({value:e,delta:0})}))
var r=e[t+1].fold((function(){var n=e.slice(t+1)
return te(n,(function(e,t){return e.map((function(e){return{value:e,delta:t+1}}))}))}),(function(e){return E.some({value:e,delta:1})}))
return n.bind((function(e){return r.map((function(t){var n=t.delta+e.delta
return Math.abs(t.value-e.value)/n}))}))}
var xa=function(e,t){return function(n){return"rtl"===Ca(n)?t:e}}
var Ca=function(e){return"rtl"===tr(e,"direction")?"rtl":"ltr"}
var Sa=da("height",(function(e){var t=e.dom
return On(e)?t.getBoundingClientRect().height:t.offsetHeight}))
var ka=function(e){return Sa.get(e)}
var Oa=function(e){return Sa.getOuter(e)}
var Ta=function(e,t){var n=function(n,r){return Ta(e+n,t+r)}
return{left:e,top:t,translate:n}}
var Ea=Ta
var _a=function(e){var t=e.getBoundingClientRect()
return Ea(t.left,t.top)}
var La=function(e,t){return void 0!==e?e:void 0!==t?t:0}
var Da=function(e){var t=e.dom.ownerDocument
var n=t.body
var r=t.defaultView
var o=t.documentElement
if(n===e.dom)return Ea(n.offsetLeft,n.offsetTop)
var a=La(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop)
var i=La(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft)
var u=La(o.clientTop,n.clientTop)
var c=La(o.clientLeft,n.clientLeft)
return Aa(e).translate(i-c,a-u)}
var Aa=function(e){var t=e.dom
var n=t.ownerDocument
var r=n.body
if(r===t)return Ea(r.offsetLeft,r.offsetTop)
if(!On(e))return Ea(0,0)
return _a(t)}
var Ma=function(e,t){return{row:e,y:t}}
var Na=function(e,t){return{col:e,x:t}}
var Ra=function(e){var t=Da(e)
return t.left+ha(e)}
var za=function(e){return Da(e).left}
var Ba=function(e,t){return Na(e,za(t))}
var Pa=function(e,t){return Na(e,Ra(t))}
var Ia=function(e){return Da(e).top}
var Ha=function(e,t){return Ma(e,Ia(t))}
var Fa=function(e,t){return Ma(e,Ia(t)+Oa(t))}
var Va=function(e,t,n){if(0===n.length)return[]
var r=z(n.slice(1),(function(t,n){return t.map((function(t){return e(n,t)}))}))
var o=n[n.length-1].map((function(e){return t(n.length-1,e)}))
return r.concat([o])}
var ja=function(e){return-e}
var Ua={delta:p,positions:function(e){return Va(Ha,Fa,e)},edge:Ia}
var Wa={delta:p,edge:za,positions:function(e){return Va(Ba,Pa,e)}}
var qa={delta:ja,edge:Ra,positions:function(e){return Va(Pa,Ba,e)}}
var $a=xa(Wa,qa)
var Ga={delta:function(e,t){return $a(t).delta(e,t)},positions:function(e,t){return $a(t).positions(e,t)},edge:function(e){return $a(e).edge(e)}}
var Xa={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]}
var Ka=(Za="[0-9]+",Ya="[+-]?"+Za,Ja="[eE]"+Ya,Qa="\\.",ei=function(e){return"(?:"+e+")?"},ti=["Infinity",Za+Qa+ei(Za)+ei(Ja),Qa+Za+ei(Ja),Za+ei(Ja)].join("|"),ni="[+-]?(?:"+ti+")",new RegExp("^("+ni+")(.*)$"))
var Za,Ya,Ja,Qa,ei,ti,ni
var ri=function(e,t){return N(t,(function(t){return N(Xa[t],(function(t){return e===t}))}))}
var oi=function(e,t){var n=E.from(Ka.exec(e))
return n.bind((function(e){var n=Number(e[1])
var r=e[2]
return ri(r,t)?E.some({value:n,unit:r}):E.none()}))}
var ai=function(){var e=Je().browser
return e.isIE()||e.isEdge()}
var ii=function(e,t){var n=parseFloat(e)
return isNaN(n)?t:n}
var ui=function(e,t,n){return ii(tr(e,t),n)}
var ci=function(e){var t=e.dom.getBoundingClientRect().height
var n=tr(e,"box-sizing")
if("border-box"===n)return t
var r=ui(e,"padding-top",0)
var o=ui(e,"padding-bottom",0)
var a=ui(e,"border-top-width",0)
var i=ui(e,"border-bottom-width",0)
var u=a+i
return t-r-o-u}
var si=function(e){var t=e.dom.getBoundingClientRect().width
var n=tr(e,"box-sizing")
if("border-box"===n)return t
var r=ui(e,"padding-left",0)
var o=ui(e,"padding-right",0)
var a=ui(e,"border-left-width",0)
var i=ui(e,"border-right-width",0)
var u=a+i
return t-r-o-u}
var li=function(e){return ai()?ci(e):ui(e,"height",ka(e))}
var fi=function(e){return ai()?si(e):ui(e,"width",ga(e))}
var vi=/(\d+(\.\d+)?)%/
var di=/(\d+(\.\d+)?)px|em/
var mi=function(e,t){var n=fn(e).getOr(En(an(e)))
return t(e)/t(n)*100}
var gi=function(e,t){Qn(e,"width",t+"px")}
var hi=function(e,t){Qn(e,"width",t+"%")}
var pi=function(e,t){Qn(e,"height",t+"px")}
var bi=function(e){return rr(e,"height").getOrThunk((function(){return li(e)+"px"}))}
var yi=function(e,t,n,r){var o=yr(e).map((function(e){var r=n(e)
return Math.floor(t/100*r)})).getOr(t)
r(e,o)
return o}
var wi=function(e,t,n,r){var o=parseInt(e,10)
return ye(e,"%")&&"table"!==Zt(t)?yi(t,o,n,r):o}
var xi=function(e){var t=bi(e)
if(!t)return ka(e)
return wi(t,e,ka,pi)}
var Ci=function(e,t,n){var r=n(e)
var o=ur(e,t)
return r/o}
var Si=function(e){var t=rr(e,"width")
return t.fold((function(){return E.from($n(e,"width"))}),(function(e){return E.some(e)}))}
var ki=function(e,t){return e/t.pixelWidth()*100}
var Oi=function(e,t,n){var r=vi.exec(t)
if(null!==r)return parseFloat(r[1])
var o=fi(e)
return ki(o,n)}
var Ti=function(e,t){var n=Si(e)
return n.fold((function(){var n=ga(e)
return ki(n,t)}),(function(n){return Oi(e,n,t)}))}
var Ei=function(e,t){return e/100*t.pixelWidth()}
var _i=function(e,t,n){var r=di.exec(t)
if(null!==r)return parseInt(r[1],10)
var o=vi.exec(t)
if(null!==o){var a=parseFloat(o[1])
return Ei(a,n)}return fi(e)}
var Li=function(e,t){var n=Si(e)
return n.fold((function(){return fi(e)}),(function(n){return _i(e,n,t)}))}
var Di=function(e){return Ci(e,"rowspan",xi)}
var Ai=function(e){var t=Si(e)
return t.bind((function(e){return oi(e,["fixed","relative","empty"])}))}
var Mi=function(e,t,n){Qn(e,"width",t+n)}
var Ni=function(e){return ga(e)+"px"}
var Ri=function(e){return mi(e,ga)+"%"}
var zi=function(e){return Si(e).exists((function(e){return vi.test(e)}))}
var Bi=function(e){return Si(e).exists((function(e){return di.test(e)}))}
var Pi=function(e){return Si(e).isNone()}
var Ii=h(vi)
var Hi=h(di)
var Fi=on("col")
var Vi=function(e,t,n){return rr(e,t).fold((function(){return n(e)+"px"}),(function(e){return e}))}
var ji=function(e,t){var n=function(e){return Fi(e)?ga(e):Li(e,t)}
return Vi(e,"width",n)}
var Ui=function(e){return Vi(e,"height",Di)}
var Wi=function(e){return z(Kr.justColumns(e),(function(e){return E.from(e.element)}))}
var qi=function(e,t){return rr(e,t).isSome()}
var $i=function(e){return!Fi(e)||qi(e,"width")}
var Gi=function(e,t,n,r,o,a){return e.filter(r).fold((function(){return a(wa(n,t))}),(function(e){return o(e)}))}
var Xi=function(e,t,n,r,o){var a=pa(e,(function(e){return qi(e,"width")}))
var i=Kr.hasColumns(e)?Wi(e):a
var u=[E.some(Ga.edge(t))].concat(z(Ga.positions(a,t),(function(e){return e.map((function(e){return e.x}))})))
var c=y(cr)
return z(i,(function(e,t){return Gi(e,t,u,c,(function(e){if($i(e))return n(e,o)
var i=fa(a[t],p)
return Gi(i,t,u,c,(function(e){return r(E.some(ga(e)))}),r)}),r)}))}
var Ki=function(e){return e.map((function(e){return e+"px"})).getOr("")}
var Zi=function(e,t,n){return Xi(e,t,ji,Ki,n)}
var Yi=function(e,t,n){return Xi(e,t,Ti,(function(e){return e.fold((function(){return n.minCellWidth()}),(function(e){return e/n.pixelWidth()*100}))}),n)}
var Ji=function(e,t,n){return Xi(e,t,Li,(function(e){return e.getOrThunk(n.minCellWidth)}),n)}
var Qi=function(e,t,n,r,o){var a=ya(e)
var i=[E.some(n.edge(t))].concat(z(n.positions(a,t),(function(e){return e.map((function(e){return e.y}))})))
return z(a,(function(e,t){return Gi(e,t,i,y(sr),r,o)}))}
var eu=function(e,t,n){return Qi(e,t,n,Di,(function(e){return e.getOrThunk(vr)}))}
var tu=function(e,t,n){return Qi(e,t,n,Ui,Ki)}
var nu=function(e){var t=e
var n=function(){return t}
var r=function(e){t=e}
return{get:n,set:r}}
var ru=function(e){var t=function(){return ga(e)}
var n=h(0)
var r=function(t,n){return Ji(t,e,n)}
return{width:t,pixelWidth:t,getWidths:r,getCellDelta:n,singleColumnWidth:h([0]),minCellWidth:n,setElementWidth:d,adjustTableWidth:d,isRelative:true,label:"none"}}
var ou=function(e,t){var n=nu(parseFloat(e))
var r=nu(ga(t))
var o=function(e){return e/r.get()*100}
var a=function(e,t){return[100-e]}
var i=function(){return fr()/r.get()*100}
var u=function(e){var o=n.get()
var a=e/100*o
var i=o+a
hi(t,i)
n.set(i)
r.set(ga(t))}
var c=function(e,n){return Yi(e,t,n)}
return{width:n.get,pixelWidth:r.get,getWidths:c,getCellDelta:o,singleColumnWidth:a,minCellWidth:i,setElementWidth:hi,adjustTableWidth:u,isRelative:true,label:"percent"}}
var au=function(e,t){var n=nu(e)
var r=n.get
var o=p
var a=function(e,t){var n=Math.max(fr(),e+t)
return[n-e]}
var i=function(e){var o=r()+e
gi(t,o)
n.set(o)}
var u=function(e,n){return Ji(e,t,n)}
return{width:r,pixelWidth:r,getWidths:u,getCellDelta:o,singleColumnWidth:a,minCellWidth:fr,setElementWidth:gi,adjustTableWidth:i,isRelative:false,label:"pixel"}}
var iu=function(e,t){var n=Ii().exec(t)
if(null!==n)return ou(n[1],e)
var r=Hi().exec(t)
if(null!==r){var o=parseInt(r[1],10)
return au(o,e)}var a=ga(e)
return au(a,e)}
var uu=function(e){var t=Si(e)
return t.fold((function(){return ru(e)}),(function(t){return iu(e,t)}))}
var cu={getTableSize:uu,pixelSize:au,percentageSize:ou,noneSize:ru}
var su=function(e,t,n,r,o,a){return{minRow:e,minCol:t,maxRow:n,maxCol:r,allCells:o,selectedCells:a}}
var lu=function(e,t){var n=e.grid.columns
var r=e.grid.rows
var o=r
var a=n
var i=0
var u=0
var c=[]
var s=[]
St(e.access,(function(e){c.push(e)
if(t(e)){s.push(e)
var n=e.row
var r=n+e.rowspan-1
var l=e.column
var f=l+e.colspan-1
n<o?o=n:r>i&&(i=r)
l<a?a=l:f>u&&(u=f)}}))
return su(o,a,i,u,c,s)}
var fu=function(e,t,n){var r=e[n].element
var o=ft.fromTag("td")
mo(o,ft.fromTag("br"))
var a=t?mo:vo
a(r,o)}
var vu=function(e,t,n,r){var o=t.grid.columns
var a=t.grid.rows
for(var i=0;i<a;i++){var u=false
for(var c=0;c<o;c++)if(!(i<n.minRow||i>n.maxRow||c<n.minCol||c>n.maxCol)){var s=Kr.getAt(t,i,c).filter(r).isNone()
s?fu(e,u,i):u=true}}}
var du=function(e,t,n,r){St(n.columns,(function(e){(e.column<t.minCol||e.column>t.maxCol)&&wo(e.element)}))
var o=H(dr(e,"tr"),(function(e){return 0===e.dom.childElementCount}))
B(o,wo)
t.minCol!==t.maxCol&&t.minRow!==t.maxRow||B(dr(e,"th,td"),(function(e){Xn(e,"rowspan")
Xn(e,"colspan")}))
Xn(e,zr)
Xn(e,"data-snooker-col-series")
var a=cu.getTableSize(e)
a.adjustTableWidth(r)}
var mu=function(e,t,n,r){if(0===r.minCol&&t.grid.columns===r.maxCol+1)return 0
var o=Ji(t,e,n)
var a=V(o,(function(e,t){return e+t}),0)
var i=V(o.slice(r.minCol,r.maxCol+1),(function(e,t){return e+t}),0)
var u=i/a*n.pixelWidth()
var c=u-n.pixelWidth()
return n.getCellDelta(c)}
var gu=function(e,t){var n=function(e){return vt(e.element,t)}
var r=ia(e)
var o=kr(r)
var a=cu.getTableSize(e)
var i=Kr.generate(o)
var u=lu(i,n)
var c="th:not("+t+"),td:not("+t+")"
var s=mr(r,"th,td",(function(e){return vt(e,c)}))
B(s,wo)
vu(o,i,u,n)
var l=Kr.fromTable(e)
var f=mu(e,l,a,u)
du(r,u,i,f)
return r}
var hu=" "
var pu=function(e){return"img"===Zt(e)?1:Oo(e).fold((function(){return mn(e).length}),(function(e){return e.length}))}
var bu=function(e){return Oo(e).filter((function(e){return 0!==e.trim().length||e.indexOf(hu)>-1})).isSome()}
var yu=["img","br"]
var wu=function(e){var t=bu(e)
return t||M(yu,Zt(e))}
var xu=function(e){return In(e,wu)}
var Cu=function(e){return Su(e,wu)}
var Su=function(e,t){var n=function(e){var r=mn(e)
for(var o=r.length-1;o>=0;o--){var a=r[o]
if(t(a))return E.some(a)
var i=n(a)
if(i.isSome())return i}return E.none()}
return n(e)}
var ku={scope:["row","col"]}
var Ou=function(){var e=ft.fromTag("td")
mo(e,ft.fromTag("br"))
return e}
var Tu=function(){return ft.fromTag("col")}
var Eu=function(){return ft.fromTag("colgroup")}
var _u=function(e,t,n){var r=ca(e,t)
St(n,(function(e,t){null===e?Xn(r,t):Wn(r,t,e)}))
return r}
var Lu=function(e){return e}
var Du=function(e){return function(){return ft.fromTag("tr",e.dom)}}
var Au=function(e,t,n){var r=xu(e)
return r.map((function(r){var o=n.join(",")
var a=An(r,o,(function(t){return ht(t,e)}))
return F(a,(function(e,t){var n=aa(t)
Xn(n,"contenteditable")
mo(e,n)
return n}),t)})).getOr(t)}
var Mu=function(e,t){St(ku,(function(n,r){return Gn(e,r).filter((function(e){return M(n,e)})).each((function(e){return Wn(t,r,e)}))}))}
var Nu=function(e,t,n){var r=function(e,t){ar(e.element,t)
or(t,"height")
1!==e.colspan&&or(t,"width")}
var o=function(t){var o=an(t.element)
var a=ft.fromTag(Zt(t.element),o.dom)
var i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"])
var u=i.length>0?Au(t.element,a,i):a
mo(u,ft.fromTag("br"))
r(t,a)
Mu(t.element,a)
e(t.element,a)
return a}
var a=function(t){var n=an(t.element)
var o=ft.fromTag(Zt(t.element),n.dom)
r(t,o)
e(t.element,o)
return o}
return{col:a,colgroup:Eu,row:Du(t),cell:o,replace:_u,gap:Ou}}
var Ru=function(e){return{col:Tu,colgroup:Eu,row:Du(e),cell:Ou,replace:Lu,gap:Ou}}
var zu=function(e,t){var n=t||document
var r=n.createElement("div")
r.innerHTML=e
return mn(ft.fromDom(r))}
var Bu=function(e){return z(e,ft.fromDom)}
var Pu=function(e){return e.nodeName.toLowerCase()}
var Iu=function(e){return ft.fromDom(e.getBody())}
var Hu=function(e){return e.getBoundingClientRect().width}
var Fu=function(e){return e.getBoundingClientRect().height}
var Vu=function(e){return function(t){return ht(t,Iu(e))}}
var ju=function(e){return e?e.replace(/px$/,""):""}
var Uu=function(e){return/^\d+(\.\d+)?$/.test(e)?e+"px":e}
var Wu=function(e){Xn(e,"data-mce-style")
var t=function(e){return Xn(e,"data-mce-style")}
B(pr(e),t)
B(br(e),t)}
var qu=function(e,t){var n=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width")
return E.from(n).filter(Ce)}
var $u=function(e){return/^(\d+(\.\d+)?)%$/.test(e)}
var Gu=function(e){return/^(\d+(\.\d+)?)px$/.test(e)}
var Xu=function(e){return ft.fromDom(e.selection.getStart())}
var Ku=function(e){return Jo(e.get(),h([]),p,Z)}
var Zu=function(e){var t=function(e,t){return Gn(e,t).exists((function(e){return parseInt(e,10)>1}))}
var n=function(e){return t(e,"rowspan")||t(e,"colspan")}
var r=Ku(e)
return r.length>0&&G(r,n)?E.some(r):E.none()}
var Yu=function(e,t,n){return Jo(t.get(),E.none,(function(t){return t.length<=1?E.none():Xo(e,n.firstSelectedSelector,n.lastSelectedSelector).map((function(e){return{bounds:e,cells:t}}))}),E.none)}
var Ju="data-mce-selected"
var Qu="td["+Ju+"],th["+Ju+"]"
var ec="["+Ju+"]"
var tc="data-mce-first-selected"
var nc="td["+tc+"],th["+tc+"]"
var rc="data-mce-last-selected"
var oc="td["+rc+"],th["+rc+"]"
var ac=ec
var ic={selected:Ju,selectedSelector:Qu,firstSelected:tc,firstSelectedSelector:nc,lastSelected:rc,lastSelectedSelector:oc}
var uc=function(e){return{element:e,mergable:E.none(),unmergable:E.none(),selection:[e]}}
var cc=function(e,t,n){return{element:n,mergable:Yu(t,e,ic),unmergable:Zu(e),selection:Ku(e)}}
var sc=function(e,t,n){return{element:e,clipboard:t,generators:n}}
var lc=function(e,t,n,r){return{selection:Ku(e),clipboard:n,generators:r}}
var fc=function(e){return yr(e[0]).map((function(e){var t=gu(e,ac)
Wu(t)
return[t]}))}
var vc=function(e,t){return z(t,(function(t){return e.selection.serializer.serialize(t.dom,{})})).join("")}
var dc=function(e){return z(e,(function(e){return e.dom.innerText})).join("")}
var mc=function(e,t,n,r){e.on("BeforeGetContent",(function(n){var r=function(t){n.preventDefault()
fc(t).each((function(t){n.content="text"===n.format?dc(t):vc(e,t)}))}
true===n.selection&&Jo(t.get(),d,r,d)}))
e.on("BeforeSetContent",(function(t){if(true===t.selection&&true===t.paste){var o=E.from(e.dom.getParent(e.selection.getStart(),"th,td"))
o.each((function(o){var a=ft.fromDom(o)
yr(a).each((function(o){var i=H(zu(t.content),(function(e){return"meta"!==Zt(e)}))
var u=function(e){return"table"===Zt(e)}
if(1===i.length&&u(i[0])){t.preventDefault()
var c=ft.fromDom(e.getDoc())
var s=Ru(c)
var l=sc(a,i[0],s)
n.pasteCells(o,l).each((function(t){e.selection.setRng(t.rng)
e.focus()
r.clear(o)}))}}))}))}}))}
var gc=Zo.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])
var hc=ne({},gc)
var pc=function(e,t){if(0===e.length)return hc.none()
if(1===e.length)return hc.only(0)
if(0===t)return hc.left(0,1)
if(t===e.length-1)return hc.right(t-1,t)
if(t>0&&t<e.length-1)return hc.middle(t-1,t,t+1)
return hc.none()}
var bc=function(e,t,n,r,o){var a=e.slice(0)
var i=pc(e,t)
var u=h(z(a,h(0)))
var c=function(e){return r.singleColumnWidth(a[e],n)}
var s=function(e,t){return o.calcLeftEdgeDeltas(a,e,t,n,r.minCellWidth(),r.isRelative)}
var l=function(e,t,i){return o.calcMiddleDeltas(a,e,t,i,n,r.minCellWidth(),r.isRelative)}
var f=function(e,t){return o.calcRightEdgeDeltas(a,e,t,n,r.minCellWidth(),r.isRelative)}
return i.fold(u,c,s,l,f)}
var yc=function(e,t,n){var r=0
for(var o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0
return r}
var wc=function(e,t){var n=Kr.justCells(e)
return z(n,(function(e){var n=yc(e.column,e.column+e.colspan,t)
return{element:e.element,width:n,colspan:e.colspan}}))}
var xc=function(e,t){var n=Kr.justColumns(e)
return z(n,(function(e,n){return{element:e.element,width:t[n],colspan:e.colspan}}))}
var Cc=function(e,t){var n=Kr.justCells(e)
return z(n,(function(e){var n=yc(e.row,e.row+e.rowspan,t)
return{element:e.element,height:n,rowspan:e.rowspan}}))}
var Sc=function(e,t){return z(e.all,(function(e,n){return{element:e.element,height:t[n]}}))}
var kc=function(e){return F(e,(function(e,t){return e+t}),0)}
var Oc=function(e,t){return Kr.hasColumns(e)?xc(e,t):wc(e,t)}
var Tc=function(e,t,n){var r=Oc(e,t)
B(r,(function(e){n.setElementWidth(e.element,e.width)}))}
var Ec=function(e,t,n,r,o){var a=Kr.fromTable(e)
var i=o.getCellDelta(t)
var u=o.getWidths(a,o)
var c=n===a.grid.columns-1
var s=r.clampTableDelta(u,n,i,o.minCellWidth(),c)
var l=bc(u,n,s,o,r)
var f=z(l,(function(e,t){return e+u[t]}))
Tc(a,f,o)
r.resizeTable(o.adjustTableWidth,s,c)}
var _c=function(e,t,n,r){var o=Kr.fromTable(e)
var a=eu(o,e,r)
var i=z(a,(function(e,r){return n===r?Math.max(t+e,vr()):e}))
var u=Cc(o,i)
var c=Sc(o,i)
B(c,(function(e){pi(e.element,e.height)}))
B(u,(function(e){pi(e.element,e.height)}))
var s=kc(i)
pi(e,s)}
var Lc=function(e,t,n,r,o){var a=Kr.generate(t)
var i=r.getWidths(a,r)
var u=r.pixelWidth()
var c=o.calcRedestributedWidths(i,u,n.pixelDelta,r.isRelative),s=c.newSizes,l=c.delta
Tc(a,s,r)
r.adjustTableWidth(l)}
var Dc=function(e,t,n,r){var o=Kr.generate(t)
var a=r.getWidths(o,r)
Tc(o,a,r)}
var Ac=function(e){return z(e,h(0))}
var Mc=function(e,t,n,r,o){return o(e.slice(0,t)).concat(r).concat(o(e.slice(n)))}
var Nc=function(e){return function(t,n,r,o){if(e(r)){var a=Math.max(o,t[n]-Math.abs(r))
var i=Math.abs(a-t[n])
return r>=0?i:-i}return r}}
var Rc=Nc((function(e){return e<0}))
var zc=Nc(C)
var Bc=function(){var e=function(e,t,n,r,o){var a=Rc(e,t,r,o)
return Mc(e,t,n+1,[a,0],Ac)}
var t=function(e,t,n,r){var o=(100+n)/100
var a=Math.max(r,(e[t]+n)/o)
return z(e,(function(e,n){var r=n===t?a:e/o
return r-e}))}
var n=function(n,r,o,a,i,u){return u?t(n,r,a,i):e(n,r,o,a,i)}
var r=function(e,t,r,o,a,i,u){return n(e,r,o,a,i,u)}
var o=function(e,t){return e(t)}
var a=function(e,n,r,o,a,i){if(i)return t(e,r,o,a)
var u=Rc(e,r,o,a)
return Ac(e.slice(0,r)).concat([u])}
var i=function(e,t,n,r){if(r){var o=t+n
var a=o/t
var i=z(e,(function(e){return e/a}))
return{delta:100*a-100,newSizes:i}}return{delta:n,newSizes:e}}
return{resizeTable:o,clampTableDelta:Rc,calcLeftEdgeDeltas:n,calcMiddleDeltas:r,calcRightEdgeDeltas:a,calcRedestributedWidths:i}}
var Pc=function(){var e=function(e,t,n,r,o){var a=r>=0?n:t
var i=zc(e,a,r,o)
return Mc(e,t,n+1,[i,-i],Ac)}
var t=function(t,n,r,o,a,i){return e(t,r,o,a,i)}
var n=function(e,t,n){n&&e(t)}
var r=function(e,t,n,r,o,a){if(a)return Ac(e)
var i=r/e.length
return z(e,h(i))}
var o=function(e,t,n,r,o){if(o){if(n>=0)return n
var a=V(e,(function(e,t){return e+t-r}),0)
return Math.max(-a,n)}return Rc(e,t,n,r)}
var a=function(e,t,n,r){return{delta:0,newSizes:e}}
return{resizeTable:n,clampTableDelta:o,calcLeftEdgeDeltas:e,calcMiddleDeltas:t,calcRightEdgeDeltas:r,calcRedestributedWidths:a}}
var Ic=function(e,t){var n=E.from(e.dom.documentElement).map(ft.fromDom).getOr(e)
return{parent:h(n),view:h(e),origin:h(Ea(0,0)),isResizable:t}}
var Hc=function(e,t,n){var r=function(){return Da(t)}
return{parent:h(t),view:h(e),origin:r,isResizable:n}}
var Fc=function(e,t,n){return{parent:h(t),view:h(e),origin:h(Ea(0,0)),isResizable:n}}
var Vc={only:Ic,detached:Hc,body:Fc}
var jc=Zo.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}])
var Uc=function(e,t,n){var r=n.substring(0,n.length-e.length)
var o=parseFloat(r)
return r===o.toString()?t(o):jc.invalid(n)}
var Wc=function(e){if(ye(e,"%"))return Uc("%",jc.percent,e)
if(ye(e,"px"))return Uc("px",jc.pixels,e)
return jc.invalid(e)}
var qc=ne(ne({},jc),{from:Wc})
var $c=function(e,t){return z(e,(function(e){var n=qc.from(e)
return n.fold((function(){return e}),(function(e){var n=e/t*100
return n+"%"}),(function(e){return e+"%"}))}))}
var Gc=function(e,t,n){var r=n/t
return z(e,(function(e){var t=qc.from(e)
return t.fold((function(){return e}),(function(e){return e*r+"px"}),(function(e){return e/100*n+"px"}))}))}
var Xc=function(e,t){var n=e.fold((function(){return h("")}),(function(e){var n=e/t
return h(n+"px")}),(function(){var e=100/t
return h(e+"%")}))
return R(t,n)}
var Kc=function(e,t,n){return e.fold((function(){return t}),(function(e){return Gc(t,n,e)}),(function(e){return $c(t,n)}))}
var Zc=function(e,t,n){var r=qc.from(n)
var o=G(e,(function(e){return"0px"===e}))?Xc(r,e.length):Kc(r,e,t)
return es(o)}
var Yc=function(e,t){if(0===e.length)return t
return F(e,(function(e,t){return qc.from(t).fold(h(0),p,p)+e}),0)}
var Jc=function(e,t){var n=Math.floor(e)
return{value:n+t,remainder:e-n}}
var Qc=function(e,t){return qc.from(e).fold(h(e),(function(e){return e+t+"px"}),(function(e){return e+t+"%"}))}
var es=function(e){if(0===e.length)return e
var t=F(e,(function(e,t){var n=qc.from(t).fold((function(){return{value:t,remainder:0}}),(function(e){return Jc(e,"px")}),(function(e){return{value:e+"%",remainder:0}}))
return{output:[n.value].concat(e.output),remainder:e.remainder+n.remainder}}),{output:[],remainder:0})
var n=t.output
return n.slice(0,n.length-1).concat([Qc(n[n.length-1],Math.round(t.remainder))])}
var ts=qc.from
var ns=function(e,t,n){B(t,(function(t){var r=e.slice(t.column,t.colspan+t.column)
var o=Yc(r,fr())
Qn(t.element,"width",o+n)}))}
var rs=function(e,t,n){B(t,(function(t,r){var o=Yc([e[r]],fr())
Qn(t.element,"width",o+n)}))}
var os=function(e,t,n,r){B(n,(function(t){var n=e.slice(t.row,t.rowspan+t.row)
var o=Yc(n,vr())
Qn(t.element,"height",o+r)}))
B(t,(function(t,n){Qn(t.element,"height",e[n])}))}
var as=function(e){return ts(e).fold(h("px"),h("px"),h("%"))}
var is=function(e,t,n,r){var o=Kr.fromTable(e)
var a=o.all
var i=Kr.justCells(o)
var u=Kr.justColumns(o)
t.each((function(t){var n=as(t)
var a=ga(e)
var c=Zi(o,e,r)
var s=Zc(c,a,t)
Kr.hasColumns(o)?rs(s,u,n):ns(s,i,n)
Qn(e,"width",t)}))
n.each((function(t){var n=as(t)
var r=ka(e)
var u=tu(o,e,Ua)
var c=Zc(u,r,t)
os(c,a,i,n)
Qn(e,"height",t)}))}
var us=zi
var cs=Bi
var ss=Pi
var ls=Ri
var fs=function(e){var t=Kr.fromTable(e)
return t.grid}
var vs=function(e){var t=[]
var n=function(e){if(void 0===e)throw new Error("Event bind error: undefined handler")
t.push(e)}
var r=function(e){t=H(t,(function(t){return t!==e}))}
var o=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o={}
B(e,(function(e,t){o[e]=n[t]}))
B(t,(function(e){e(o)}))}
return{bind:n,unbind:r,trigger:o}}
var ds=function(e){var t=kt(e,(function(e){return{bind:e.bind,unbind:e.unbind}}))
var n=kt(e,(function(e){return e.trigger}))
return{registry:t,trigger:n}}
var ms=function(e,t){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null!==n&&clearTimeout(n)
n=setTimeout((function(){e.apply(null,r)
n=null}),t)}
return{cancel:r,throttle:o}}
var gs=function(e){return e.slice(0).sort()}
var hs=function(e,t){throw new Error("All required keys ("+gs(e).join(", ")+") were not specified. Specified keys were: "+gs(t).join(", ")+".")}
var ps=function(e){throw new Error("Unsupported keys for object: "+gs(e).join(", "))}
var bs=function(e,t){if(!i(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".")
B(t,(function(t){if(!o(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")}))}
var ys=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+gs(e).join(", ")+") were not.")}
var ws=function(e){var t=gs(e)
var n=U(t,(function(e,n){return n<t.length-1&&e===t[n+1]}))
n.each((function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")}))}
var xs=function(e,t){return Cs(e,t,{validate:f,label:"function"})}
var Cs=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.")
bs("required",t)
ws(t)
return function(r){var o=xt(r)
var a=G(t,(function(e){return M(o,e)}))
a||hs(t,o)
e(t,o)
var i=H(t,(function(e){return!n.validate(r[e],e)}))
i.length>0&&ys(i,n.label)
return r}}
var Ss=function(e,t){var n=H(t,(function(t){return!M(e,t)}))
n.length>0&&ps(n)}
var ks=function(e){return xs(Ss,e)}
var Os=ks(["compare","extract","mutate","sink"])
var Ts=ks(["element","start","stop","destroy"])
var Es=ks(["forceDrop","drop","move","delayDrop"])
var _s=function(){var e=E.none()
var t=function(){e=E.none()}
var n=function(t,n){var r=e.map((function(e){return t.compare(e,n)}))
e=E.some(n)
return r}
var r=function(e,t){var r=t.extract(e)
r.each((function(e){var r=n(t,e)
r.each((function(e){o.trigger.move(e)}))}))}
var o=ds({move:vs(["info"])})
return{onEvent:r,reset:t,events:o.registry}}
var Ls=function(){var e=ds({move:vs(["info"])})
return{onEvent:d,reset:d,events:e.registry}}
var Ds=function(){var e=Ls()
var t=_s()
var n=e
var r=function(){n.reset()
n=t}
var o=function(){n.reset()
n=e}
var a=function(e,t){n.onEvent(e,t)}
var i=function(){return n===t}
return{on:r,off:o,isOn:i,onEvent:a,events:t.events}}
var As=function(e,t,n){var r=false
var o=ds({start:vs([]),stop:vs([])})
var a=Ds()
var i=function(){d.stop()
if(a.isOn()){a.off()
o.trigger.stop()}}
var u=ms(i,200)
var c=function(e){d.start(e)
a.on()
o.trigger.start()}
var s=function(e){u.cancel()
a.onEvent(e,t)}
a.events.move.bind((function(n){t.mutate(e,n.info)}))
var l=function(){r=true}
var f=function(){r=false}
var v=function(e){return function(){var t=[]
for(var n=0;n<arguments.length;n++)t[n]=arguments[n]
r&&e.apply(null,t)}}
var d=t.sink(Es({forceDrop:i,drop:v(i),move:v(s),delayDrop:v(u.throttle)}),n)
var m=function(){d.destroy()}
return{element:d.element,go:c,on:l,off:f,destroy:m,events:o.registry}}
var Ms=function(e,t,n,r,o,a,i){return{target:e,x:t,y:n,stop:r,prevent:o,kill:a,raw:i}}
var Ns=function(e){var t=ft.fromDom(Sn(e).getOr(e.target))
var n=function(){return e.stopPropagation()}
var r=function(){return e.preventDefault()}
var o=m(r,n)
return Ms(t,e.clientX,e.clientY,n,r,o,e)}
var Rs=function(e,t){return function(n){e(n)&&t(Ns(n))}}
var zs=function(e,t,n,r,o){var a=Rs(n,r)
e.dom.addEventListener(t,a,o)
return{unbind:b(Ps,e,t,a,o)}}
var Bs=function(e,t,n,r){return zs(e,t,n,r,false)}
var Ps=function(e,t,n,r){e.dom.removeEventListener(t,n,r)}
var Is=C
var Hs=function(e,t,n){return Bs(e,t,Is,n)}
var Fs=Ns
var Vs=function(e,t){var n=$n(e,t)
return void 0===n||""===n?[]:n.split(" ")}
var js=function(e,t,n){var r=Vs(e,t)
var o=r.concat([n])
Wn(e,t,o.join(" "))
return true}
var Us=function(e,t,n){var r=H(Vs(e,t),(function(e){return e!==n}))
r.length>0?Wn(e,t,r.join(" ")):Xn(e,t)
return false}
var Ws=function(e){return void 0!==e.dom.classList}
var qs=function(e){return Vs(e,"class")}
var $s=function(e,t){return js(e,"class",t)}
var Gs=function(e,t){return Us(e,"class",t)}
var Xs=function(e,t){Ws(e)?e.dom.classList.add(t):$s(e,t)}
var Ks=function(e){var t=Ws(e)?e.dom.classList:qs(e)
0===t.length&&Xn(e,"class")}
var Zs=function(e,t){if(Ws(e)){var n=e.dom.classList
n.remove(t)}else Gs(e,t)
Ks(e)}
var Ys=function(e,t){return Ws(e)&&e.dom.classList.contains(t)}
var Js=function(e){var t=e.replace(/\./g,"-")
var n=function(e){return t+"-"+e}
return{resolve:n}}
var Qs=Js("ephox-dragster")
var el=Qs.resolve
var tl=function(e){var t=ne({layerClass:el("blocker")},e)
var n=ft.fromTag("div")
Wn(n,"role","presentation")
er(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"})
Xs(n,el("blocker"))
Xs(n,t.layerClass)
var r=function(){return n}
var o=function(){wo(n)}
return{element:r,destroy:o}}
var nl=function(e,t){return Ea(t.left-e.left,t.top-e.top)}
var rl=function(e){return E.some(Ea(e.x,e.y))}
var ol=function(e,t){e.mutate(t.left,t.top)}
var al=function(e,t){var n=tl(t)
var r=Hs(n.element(),"mousedown",e.forceDrop)
var o=Hs(n.element(),"mouseup",e.drop)
var a=Hs(n.element(),"mousemove",e.move)
var i=Hs(n.element(),"mouseout",e.delayDrop)
var u=function(){n.destroy()
o.unbind()
a.unbind()
i.unbind()
r.unbind()}
var c=function(e){mo(e,n.element())}
var s=function(){wo(n.element())}
return Ts({element:n.element,start:c,stop:s,destroy:u})}
var il=Os({compare:nl,extract:rl,sink:al,mutate:ol})
var ul=function(e,t){void 0===t&&(t={})
var n=void 0!==t.mode?t.mode:il
return As(e,n,t)}
var cl=function(e){return"true"===$n(e,"contenteditable")}
var sl=function(e,t){return jn(e,"[contenteditable]",t)}
var ll=Js("ephox-snooker")
var fl=ll.resolve
var vl=function(){var e=ds({drag:vs(["xDelta","yDelta"])})
var t=function(t,n){e.trigger.drag(t,n)}
return{mutate:t,events:e.registry}}
var dl=function(){var e=ds({drag:vs(["xDelta","yDelta","target"])})
var t=E.none()
var n=vl()
n.events.drag.bind((function(n){t.each((function(t){e.trigger.drag(n.xDelta,n.yDelta,t)}))}))
var r=function(e){t=E.some(e)}
var o=function(){return t}
return{assign:r,get:o,mutate:n.mutate,events:e.registry}}
var ml=function(e,t,n,r,o){var a=ft.fromTag("div")
er(a,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"})
qn(a,{"data-column":e,role:"presentation"})
return a}
var gl=function(e,t,n,r,o){var a=ft.fromTag("div")
er(a,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"})
qn(a,{"data-row":e,role:"presentation"})
return a}
var hl=fl("resizer-bar")
var pl=fl("resizer-rows")
var bl=fl("resizer-cols")
var yl=7
var wl=function(e,t){return $(e.all,(function(e,n){return t(e.element)?[n]:[]}))}
var xl=function(e,t){var n=[]
R(e.grid.columns,(function(r){var o=Kr.getColumnAt(e,r).map((function(e){return e.element}))
o.forall(t)&&n.push(r)}))
return H(n,(function(n){var r=Kr.filterItems(e,(function(e){return e.column===n}))
return G(r,(function(e){return t(e.element)}))}))}
var Cl=function(e){var t=Nn(e.parent(),"."+hl)
B(t,wo)}
var Sl=function(e,t,n){var r=e.origin()
B(t,(function(t){t.each((function(t){var o=n(r,t)
Xs(o,hl)
mo(e.parent(),o)}))}))}
var kl=function(e,t,n,r){Sl(e,t,(function(e,t){var o=ml(t.col,t.x-e.left,n.top-e.top,yl,r)
Xs(o,bl)
return o}))}
var Ol=function(e,t,n,r){Sl(e,t,(function(e,t){var o=gl(t.row,n.left-e.left,t.y-e.top,r,yl)
Xs(o,pl)
return o}))}
var Tl=function(e,t,n,r,o){var a=Da(n)
var i=t.isResizable
var u=r.length>0?Ua.positions(r,n):[]
var c=u.length>0?wl(e,i):[]
var s=H(u,(function(e,t){return N(c,(function(e){return t===e}))}))
Ol(t,s,a,ha(n))
var l=o.length>0?Ga.positions(o,n):[]
var f=l.length>0?xl(e,i):[]
var v=H(l,(function(e,t){return N(f,(function(e){return t===e}))}))
kl(t,v,a,Oa(n))}
var El=function(e,t){Cl(e)
if(e.isResizable(t)){var n=Kr.fromTable(t)
var r=ya(n)
var o=pa(n)
Tl(n,e,t,r,o)}}
var _l=function(e,t){var n=Nn(e.parent(),"."+hl)
B(n,t)}
var Ll=function(e){_l(e,(function(e){Qn(e,"display","none")}))}
var Dl=function(e){_l(e,(function(e){Qn(e,"display","block")}))}
var Al=function(e){return Ys(e,pl)}
var Ml=function(e){return Ys(e,bl)}
var Nl=fl("resizer-bar-dragging")
var Rl=function(e){var t=dl()
var n=ul(t,{})
var r=E.none()
var o=function(e,t){return E.from($n(e,t))}
t.events.drag.bind((function(e){o(e.target,"data-row").each((function(t){var n=lr(e.target,"top")
Qn(e.target,"top",n+e.yDelta+"px")}))
o(e.target,"data-column").each((function(t){var n=lr(e.target,"left")
Qn(e.target,"left",n+e.xDelta+"px")}))}))
var a=function(e,t){var n=lr(e,t)
var r=ir(e,"data-initial-"+t,0)
return n-r}
n.events.stop.bind((function(){t.get().each((function(t){r.each((function(n){o(t,"data-row").each((function(e){var r=a(t,"top")
Xn(t,"data-initial-top")
d.trigger.adjustHeight(n,r,parseInt(e,10))}))
o(t,"data-column").each((function(e){var r=a(t,"left")
Xn(t,"data-initial-left")
d.trigger.adjustWidth(n,r,parseInt(e,10))}))
El(e,n)}))}))}))
var i=function(r,o){d.trigger.startAdjust()
t.assign(r)
Wn(r,"data-initial-"+o,lr(r,o))
Xs(r,Nl)
Qn(r,"opacity","0.2")
n.go(e.parent())}
var u=Hs(e.parent(),"mousedown",(function(e){Al(e.target)&&i(e.target,"top")
Ml(e.target)&&i(e.target,"left")}))
var c=function(t){return ht(t,e.view())}
var s=function(e){return jn(e,"table",c).filter((function(e){return sl(e,c).exists(cl)}))}
var l=Hs(e.view(),"mouseover",(function(t){s(t.target).fold((function(){On(t.target)&&Cl(e)}),(function(t){r=E.some(t)
El(e,t)}))}))
var f=function(){u.unbind()
l.unbind()
n.destroy()
Cl(e)}
var v=function(t){El(e,t)}
var d=ds({adjustHeight:vs(["table","delta","row"]),adjustWidth:vs(["table","delta","column"]),startAdjust:vs([])})
return{destroy:f,refresh:v,on:n.on,off:n.off,hideBars:b(Ll,e),showBars:b(Dl,e),events:d.registry}}
var zl=function(e,t,n){var r=Ua
var o=Ga
var a=Rl(e)
var i=ds({beforeResize:vs(["table","type"]),afterResize:vs(["table","type"]),startDrag:vs([])})
a.events.adjustHeight.bind((function(e){var t=e.table
i.trigger.beforeResize(t,"row")
var n=r.delta(e.delta,t)
_c(t,n,e.row,r)
i.trigger.afterResize(t,"row")}))
a.events.startAdjust.bind((function(e){i.trigger.startDrag()}))
a.events.adjustWidth.bind((function(e){var r=e.table
i.trigger.beforeResize(r,"col")
var a=o.delta(e.delta,r)
var u=n(r)
Ec(r,a,e.column,t,u)
i.trigger.afterResize(r,"col")}))
return{on:a.on,off:a.off,hideBars:a.hideBars,showBars:a.showBars,destroy:a.destroy,events:i.registry}}
var Bl={create:zl}
var Pl=function(e,t){return e.fire("newrow",{node:t})}
var Il=function(e,t){return e.fire("newcell",{node:t})}
var Hl=function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})}
var Fl=function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})}
var Vl=function(e,t,n,r,o){e.fire("TableSelectionChange",{cells:t,start:n,finish:r,otherCells:o})}
var jl=function(e){e.fire("TableSelectionClear")}
var Ul=function(e,t,n){e.fire("TableModified",ne(ne({},n),{table:t}))}
var Wl={structure:false,style:true}
var ql={structure:true,style:false}
var $l="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"
var Gl={"border-collapse":"collapse",width:"100%"}
var Xl=function(e){if(mf(e)){var t=e.getBody().offsetWidth
return ne(ne({},Gl),{width:t+"px"})}return gf(e)?_t(Gl,(function(e,t){return"width"!==t})):Gl}
var Kl={border:"1"}
var Zl="preservetable"
var Yl=function(e){return e.getParam("table_sizing_mode","auto")}
var Jl=function(e){return e.getParam("table_responsive_width")}
var Ql=function(e){return e.getParam("table_default_attributes",Kl,"object")}
var ef=function(e){return e.getParam("table_default_styles",Xl(e),"object")}
var tf=function(e){return e.getParam("table_resize_bars",true,"boolean")}
var nf=function(e){return e.getParam("table_tab_navigation",true,"boolean")}
var rf=function(e){return e.getParam("table_cell_advtab",true,"boolean")}
var of=function(e){return e.getParam("table_row_advtab",true,"boolean")}
var af=function(e){return e.getParam("table_advtab",true,"boolean")}
var uf=function(e){return e.getParam("table_appearance_options",true,"boolean")}
var cf=function(e){return e.getParam("table_grid",true,"boolean")}
var sf=function(e){return e.getParam("table_style_by_css",false,"boolean")}
var lf=function(e){return e.getParam("table_cell_class_list",[],"array")}
var ff=function(e){return e.getParam("table_row_class_list",[],"array")}
var vf=function(e){return e.getParam("table_class_list",[],"array")}
var df=function(e){return"relative"===Yl(e)||true===Jl(e)}
var mf=function(e){return"fixed"===Yl(e)||false===Jl(e)}
var gf=function(e){return"responsive"===Yl(e)}
var hf=function(e){return e.getParam("table_toolbar",$l)}
var pf=function(e){return e.getParam("table_use_colgroups",false,"boolean")}
var bf=function(e){var t="section"
var n=e.getParam("table_header_type",t,"string")
var r=["section","cells","sectionCells","auto"]
return M(r,n)?n:t}
var yf=function(e){var t=["preservetable","resizetable"]
var n=e.getParam("table_column_resizing",Zl,"string")
return U(t,(function(e){return e===n})).getOr(Zl)}
var wf=function(e){return"preservetable"===yf(e)}
var xf=function(e){return"resizetable"===yf(e)}
var Cf=function(e){var t=e.getParam("table_clone_elements")
return o(t)?E.some(t.split(/[ ,]/)):Array.isArray(t)?E.some(t):E.none()}
var Sf=function(e){var t=e.getParam("object_resizing",true)
return o(t)?"table"===t:t}
var kf=function(e,t){if(df(e)){var n=qu(e,t.dom).filter($u).getOrThunk((function(){return ls(t)}))
return cu.percentageSize(n,t)}return mf(e)?cu.pixelSize(ga(t),t):cu.getTableSize(t)}
var Of=function(e){Xn(e,"width")}
var Tf=function(e,t){var n=Ri(e)
is(e,E.some(n),E.none(),t)
Of(e)}
var Ef=function(e,t){var n=Ni(e)
is(e,E.some(n),E.none(),t)
Of(e)}
var _f=function(e){or(e,"width")
var t=br(e)
var n=t.length>0?t:pr(e)
B(n,(function(e){or(e,"width")
Of(e)}))
Of(e)}
var Lf=function(e,t){var n=kf(e,t)
Tf(t,n)}
var Df=function(e,t){var n=kf(e,t)
Ef(t,n)}
var Af=_f
var Mf=function(e){var t=Kr.fromTable(e)
Kr.hasColumns(t)||B(pr(e),(function(e){var t=tr(e,"width")
Qn(e,"width",t)
Xn(e,"width")}))}
var Nf=function(){var e=ft.fromTag("div")
er(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"})
mo(Tn(),e)
return e}
var Rf=function(e,t){return e.inline?Vc.body(Iu(e),Nf(),t):Vc.only(ft.fromDom(e.getDoc()),t)}
var zf=function(e,t){e.inline&&wo(t.parent())}
var Bf="bar-"
var Pf=function(e){return"false"!==$n(e,"data-mce-resize")}
var If=function(e){var t=E.none()
var n=E.none()
var r=E.none()
var o
var a
var i=function(e){return"TABLE"===e.nodeName}
var u=function(){return n}
var c=function(){return r.getOr(Vc.only(ft.fromDom(e.getBody()),Pf))}
var s=function(t){return kf(e,t)}
var l=function(){return wf(e)?Pc():Bc()}
var f=function(e){return fs(e).columns}
var v=function(t,n,r){var i=ye(n,"e")
""===a&&Lf(e,t)
if(r!==o&&""!==a){Qn(t,"width",a)
var u=l()
var c=s(t)
var v=wf(e)||i?f(t)-1:0
Ec(t,r-o,v,u,c)}else if($u(a)){var d=parseFloat(a.replace("%",""))
var m=r*d/o
Qn(t,"width",m+"%")}Gu(a)&&Mf(t)}
var d=function(){n.each((function(e){e.destroy()}))
r.each((function(t){zf(e,t)}))}
e.on("init",(function(){var o=Rf(e,Pf)
r=E.some(o)
if(Sf(e)&&tf(e)){var a=l()
var i=Bl.create(o,a,s)
i.on()
i.events.startDrag.bind((function(n){t=E.some(e.selection.getRng())}))
i.events.beforeResize.bind((function(t){var n=t.table.dom
Hl(e,n,Hu(n),Fu(n),Bf+t.type)}))
i.events.afterResize.bind((function(n){var r=n.table
var o=r.dom
Wu(r)
t.each((function(t){e.selection.setRng(t)
e.focus()}))
Fl(e,o,Hu(o),Fu(o),Bf+n.type)
e.undoManager.add()}))
n=E.some(i)}}))
e.on("ObjectResizeStart",(function(t){var n=t.target
if(i(n)){var r=ft.fromDom(n)
B(e.dom.select(".mce-clonedresizable"),(function(t){e.dom.addClass(t,"mce-"+yf(e)+"-columns")}))
!cs(r)&&mf(e)?Df(e,r):!us(r)&&df(e)&&Lf(e,r)
ss(r)&&be(t.origin,Bf)&&Lf(e,r)
o=t.width
a=gf(e)?"":qu(e,n).getOr("")}}))
e.on("ObjectResized",(function(t){var n=t.target
if(i(n)){var r=ft.fromDom(n)
var o=t.origin
be(o,"corner-")&&v(r,o,t.width)
Wu(r)
Ul(e,r.dom,Wl)}}))
e.on("SwitchMode",(function(){u().each((function(t){e.mode.isReadOnly()?t.hideBars():t.showBars()}))}))
return{lazyResize:u,lazyWire:c,destroy:d}}
var Hf=function(e,t){return{element:e,offset:t}}
var Ff=function(e,t,n){return e.property().isText(t)&&0===e.property().getText(t).trim().length||e.property().isComment(t)?n(t).bind((function(t){return Ff(e,t,n).orThunk((function(){return E.some(t)}))})):E.none()}
var Vf=function(e,t){if(e.property().isText(t))return e.property().getText(t).length
var n=e.property().children(t)
return n.length}
var jf=function(e,t){var n=Ff(e,t,e.query().prevSibling).getOr(t)
if(e.property().isText(n))return Hf(n,Vf(e,n))
var r=e.property().children(n)
return r.length>0?jf(e,r[r.length-1]):Hf(n,Vf(e,n))}
var Uf=jf
var Wf=_o()
var qf=function(e){return Uf(Wf,e)}
var $f=function(e,t){var n=ur(e,"colspan")
if(1===n){var r=Ai(e)
r.each((function(n){var r=n.value/2
Mi(e,r,n.unit)
Mi(t,r,n.unit)}))}}
var Gf=function(e,t,n,r){n===r?Xn(e,t):Wn(e,t,n)}
var Xf=function(e,t,n){ee(Mn(e,t)).fold((function(){return vo(e,n)}),(function(e){return fo(e,n)}))}
var Kf=function(e,t){var n=Fn(e,t).getOrThunk((function(){var n=ft.fromTag(t,an(e).dom)
"thead"===t?Xf(e,"caption,colgroup",n):"colgroup"===t?Xf(e,"caption",n):mo(e,n)
return n}))
yo(n)
return n}
var Zf=function(e,t){var n=[]
var r=[]
var o=function(e){return z(e,(function(e){e.isNew&&n.push(e.element)
var t=e.element
yo(t)
B(e.cells,(function(e){e.isNew&&r.push(e.element)
Gf(e.element,"colspan",e.colspan,1)
Gf(e.element,"rowspan",e.rowspan,1)
mo(t,e.element)}))
return t}))}
var a=function(e){return $(e,(function(e){return z(e.cells,(function(e){Gf(e.element,"span",e.colspan,1)
return e.element}))}))}
var i=function(t,n){var r=Kf(e,n)
var i="colgroup"===n?a:o
var u=i(t)
bo(r,u)}
var u=function(t){Fn(e,t).each(wo)}
var c=function(e,t){e.length>0?i(e,t):u(t)}
var s=[]
var l=[]
var f=[]
var v=[]
B(t,(function(e){switch(e.section){case"thead":s.push(e)
break
case"tbody":l.push(e)
break
case"tfoot":f.push(e)
break
case"colgroup":v.push(e)}}))
c(v,"colgroup")
c(s,"thead")
c(l,"tbody")
c(f,"tfoot")
return{newRows:n,newCells:r}}
var Yf=function(e){return z(e,(function(e){var t=aa(e.element)
B(e.cells,(function(e){var n=ia(e.element)
Gf(n,"colspan",e.colspan,1)
Gf(n,"rowspan",e.rowspan,1)
mo(t,n)}))
return t}))}
var Jf=function(e,t){return z(e,(function(e){return Ar(e,t)}))}
var Qf=function(e,t){return e[t]}
var ev=function(e,t){if(0===e.length)return 0
var n=e[0]
var r=W(e,(function(e){return!t(n.element,e.element)}))
return r.fold((function(){return e.length}),(function(e){return e}))}
var tv=function(e,t,n,r){var o=Qf(e,t).cells.slice(n)
var a=ev(o,r)
var i=Jf(e,n).slice(t)
var u=ev(i,r)
return{colspan:a,rowspan:u}}
var nv=function(e,t){var n=z(e,(function(e){return z(e.cells,x)}))
var r=function(e,t,r,o){for(var a=e;a<e+r;a++)for(var i=t;i<t+o;i++)n[a][i]=true}
return z(e,(function(o,a){var i=$(o.cells,(function(o,i){if(false===n[a][i]){var u=tv(e,a,i,t)
r(a,i,u.rowspan,u.colspan)
return[Vt(o.element,u.rowspan,u.colspan,o.isNew)]}return[]}))
return Gt(i,o.section)}))}
var rv=function(e,t,n){var r=[]
if(Kr.hasColumns(e)){var o=z(Kr.justColumns(e),(function(e){return Wt(e.element,n,false)}))
r.push($t(o,"colgroup"))}for(var a=0;a<e.grid.rows;a++){var i=[]
for(var u=0;u<e.grid.columns;u++){var c=Kr.getAt(e,a,u).map((function(e){return Wt(e.element,n,e.isLocked)})).getOrThunk((function(){return Wt(t.gap(),true,false)}))
i.push(c)}var s=$t(i,e.all[a].section)
r.push(s)}return r}
var ov=function(e,t){return rv(e,t,false)}
var av=function(e,t){var n=function(e){var n=te(e,(function(e){return sn(e.element).map((function(e){var t=sn(e).isNone()
return Wt(e,t,false)}))}))
return n.getOrThunk((function(){return Wt(t.row(),true,false)}))}
return z(e,(function(e){var t=n(e.details)
return qt(t.element,e.details,e.section,t.isNew)}))}
var iv=function(e,t){var n=nv(e,ht)
return av(n,t)}
var uv=function(e,t){return te(e.all,(function(e){return U(e.cells,(function(e){return ht(t,e.element)}))}))}
var cv=function(e,t,n){var r=z(t.selection,(function(t){return hr(t).bind((function(t){return uv(e,t)})).filter(n)}))
var o=sa(r)
return va(o.length>0,o)}
var sv=function(e,t,n,r,o){return function(a,i,u,c,s,l){var f=Kr.fromTable(i)
var v=t(f,u).map((function(t){var n=ov(f,c)
var r=e(n,t,ht,o(c))
var a=Pr(r.grid)
var i=iv(r.grid,c)
return{info:t,grid:i,cursor:r.cursor,lockedColumns:a}}))
return v.bind((function(e){var t=Zf(i,e.grid)
var o=E.from(s).getOrThunk((function(){return cu.getTableSize(i)}))
var u=E.from(l).getOrThunk(Pc)
n(i,e.grid,e.info,o,u)
r(i)
El(a,i)
Xn(i,zr)
e.lockedColumns.length>0&&Wn(i,zr,e.lockedColumns.join(","))
return E.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})}))}}
var lv=function(e,t){return hr(t.element).bind((function(t){return uv(e,t)}))}
var fv=function(e,t){return hr(t.element).bind((function(n){return uv(e,n).map((function(e){var n=ne(ne({},e),{generators:t.generators,clipboard:t.clipboard})
return n}))}))}
var vv=function(e,t){return cv(e,t,C).map((function(e){return{cells:e,generators:t.generators,clipboard:t.clipboard}}))}
var dv=function(e,t){return t.mergable}
var mv=function(e,t){return t.unmergable}
var gv=function(e,t){return cv(e,t,C)}
var hv=function(e,t){return lv(e,t).filter((function(e){return!e.isLocked}))}
var pv=function(e,t){return cv(e,t,(function(e){return!e.isLocked}))}
var bv=function(e,t){return uv(e,t).exists((function(e){return!e.isLocked}))}
var yv=function(e,t){return G(t,(function(t){return bv(e,t)}))}
var wv=function(e,t){return dv(e,t).filter((function(t){return yv(e,t.cells)}))}
var xv=function(e,t){return mv(e,t).filter((function(t){return yv(e,t)}))}
var Cv=function(e,t,n,r){var o=Rr(e).rows
if(0===o.length)return e
for(var a=t.startRow;a<=t.finishRow;a++)for(var i=t.startCol;i<=t.finishCol;i++){var u=o[a]
var c=Ar(u,i).isLocked
_r(u,i,Wt(r(),false,c))}return e}
var Sv=function(e,t,n,r){var o=Rr(e).rows
var a=true
for(var i=0;i<o.length;i++)for(var u=0;u<Nr(o[0]);u++){var c=o[i]
var s=Ar(c,u)
var l=s.element
var f=n(l,t)
true===f&&false===a?_r(c,u,Wt(r(),true,s.isLocked)):true===f&&(a=false)}return e}
var kv=function(e,t){return V(e,(function(e,n){return N(e,(function(e){return t(e.element,n.element)}))?e:e.concat([n])}),[])}
var Ov=function(e,t,n,r){t>0&&t<e[0].cells.length&&B(e,(function(e){var o=e.cells[t-1]
var a=e.cells[t]
var i=n(a.element,o.element)
i&&_r(e,t,Wt(r(),true,a.isLocked))}))
return e}
var Tv=function(e,t,n,r){var o=Rr(e).rows
if(t>0&&t<o.length){var a=o[t-1].cells
var i=kv(a,n)
B(i,(function(e){var a=E.none()
for(var i=t;i<o.length;i++){var u=function(t){var u=o[i]
var c=Ar(u,t)
var s=n(c.element,e.element)
if(s){a.isNone()&&(a=E.some(r()))
a.each((function(e){_r(u,t,Wt(e,true,c.isLocked))}))}}
for(var c=0;c<Nr(o[0]);c++)u(c)}}))}return e}
var Ev=function(e){var t=function(t){return e===t}
var n=function(t){return Ev(e)}
var r=function(t){return Ev(e)}
var o=function(t){return Ev(t(e))}
var a=function(t){return Ev(e)}
var i=function(t){t(e)}
var u=function(t){return t(e)}
var c=function(t,n){return n(e)}
var s=function(t){return t(e)}
var l=function(t){return t(e)}
var f=function(){return E.some(e)}
return{is:t,isValue:C,isError:x,getOr:h(e),getOrThunk:h(e),getOrDie:h(e),or:n,orThunk:r,fold:c,map:o,mapError:a,each:i,bind:u,exists:s,forall:l,toOptional:f}}
var _v=function(e){var t=function(e){return e()}
var n=function(){return w(String(e))()}
var r=function(e){return e}
var o=function(e){return e()}
var a=function(t){return _v(e)}
var i=function(t){return _v(t(e))}
var u=function(t){return _v(e)}
var c=function(t,n){return t(e)}
return{is:x,isValue:x,isError:C,getOr:p,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:d,bind:u,exists:x,forall:C,toOptional:E.none}}
var Lv=function(e,t){return e.fold((function(){return _v(t)}),Ev)}
var Dv={value:Ev,error:_v,fromOption:Lv}
var Av=function(e,t,n){if(e.row>=t.length||e.column>Nr(t[0]))return Dv.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column)
var r=t.slice(e.row)
var o=r[0].cells.slice(e.column)
var a=Nr(n[0])
var i=n.length
return Dv.value({rowDelta:r.length-i,colDelta:o.length-a})}
var Mv=function(e,t){var n=Nr(e[0])
var r=Nr(t[0])
return{rowDelta:0,colDelta:n-r}}
var Nv=function(e,t){var n=e.length
var r=t.length
return{rowDelta:n-r,colDelta:0}}
var Rv=function(e,t,n,r){var o="colgroup"===t.section?n.col:n.cell
return R(e,(function(e){return Wt(o(),true,r(e))}))}
var zv=function(e,t,n,r){return e.concat(R(t,(function(){var t=e[e.length-1]
var o=Rv(t.cells.length,t,n,(function(e){return Nt(r,e.toString())}))
return Lr(t,o)})))}
var Bv=function(e,t,n,r){return z(e,(function(e){var o=Rv(t,e,n,x)
return Tr(e,r,o)}))}
var Pv=function(e,t,n){return z(e,(function(e){return V(n,(function(n,r){var o=Rv(1,e,t,C)[0]
return Er(n,r,o)}),e)}))}
var Iv=function(e,t,n){var r=t.colDelta<0?Bv:p
var o=t.rowDelta<0?zv:p
var a=Pr(e)
var i=Nr(e[0])
var u=N(a,(function(e){return e===i-1}))
var c=r(e,Math.abs(t.colDelta),n,u?i-1:i)
var s=Pr(c)
return o(c,Math.abs(t.rowDelta),n,K(s,C))}
var Hv=function(e,t,n,r){var o=Ar(e[t],n)
var a=b(r,o.element)
var i=e[t]
return e.length>1&&Nr(i)>1&&(n>0&&a(Mr(i,n-1))||n<i.cells.length-1&&a(Mr(i,n+1))||t>0&&a(Mr(e[t-1],n))||t<e.length-1&&a(Mr(e[t+1],n)))}
var Fv=function(e,t,n,r,o,a){var i=e.row
var u=e.column
var c=n.length
var s=Nr(n[0])
var l=i+c
var f=u+s+a.length
var v=K(a,C)
for(var d=i;d<l;d++){var m=0
for(var g=u;g<f;g++){if(v[g]){m++
continue}Hv(t,d,g,o)&&Sv(t,Mr(t[d],g),o,r.cell)
var h=g-u-m
var p=Ar(n[d-i],h)
var b=p.element
var y=r.replace(b)
_r(t[d],g,Wt(y,true,p.isLocked))}}return t}
var Vv=function(e,t,n){var r=Nr(t[0])
var o=R(r-e.column,(function(t){return t+e.column}))
var a=U(o,(function(e){return G(n,(function(t){return t!==e}))})).getOr(r-1)
return ne(ne({},e),{column:a})}
var jv=function(e,t,n){return H(n,(function(n){return n>=e.column&&n<=Nr(t[0])+e.column}))}
var Uv=function(e,t,n,r,o){var a=Pr(t)
var i=Vv(e,t,a)
var u=jv(i,n,a)
var c=Av(i,t,n)
return c.map((function(e){var a=ne(ne({},e),{colDelta:e.colDelta-u.length})
var c=Iv(t,a,r)
var s=Pr(c)
var l=jv(i,n,s)
return Fv(i,c,n,r,o,l)}))}
var Wv=function(e,t,n,r,o){Ov(t,e,o,r.cell)
var a=Nv(n,t)
var i=Iv(n,a,r)
var u=Nv(t,i)
var c=Iv(t,u,r)
return z(c,(function(t,n){return Tr(t,e,i[n].cells)}))}
var qv=function(e,t,n,r,o){Tv(t,e,o,r.cell)
var a=Pr(t)
var i=Mv(t,n)
var u=ne(ne({},i),{colDelta:i.colDelta-a.length})
var c=Iv(t,u,r)
var s=Rr(c),l=s.cols,f=s.rows
var v=Pr(c)
var d=Mv(n,t)
var m=ne(ne({},d),{colDelta:d.colDelta+v.length})
var g=Pv(n,r,v)
var h=Iv(g,m,r)
return l.concat(f.slice(0,e)).concat(h).concat(f.slice(e,f.length))}
var $v=function(e,t,n,r,o){var a=Rr(e),i=a.rows,u=a.cols
var c=i.slice(0,t)
var s=i.slice(t)
var l=Dr(i[n],(function(e,n){var a=t>0&&t<i.length&&r(Mr(i[t-1],n),Mr(i[t],n))
var u=a?Ar(i[t],n):Wt(o(e.element,r),true,e.isLocked)
return u}))
return u.concat(c).concat([l]).concat(s)}
var Gv=function(e,t,n,r,o,a,i){if("colgroup"!==n&&r)return Ar(e,t)
var u=Ar(e,o)
return Wt(i(u.element,a),true,false)}
var Xv=function(e,t,n,r,o){return z(e,(function(e){var a=t>0&&t<Nr(e)&&r(Mr(e,t-1),Mr(e,t))
var i=Gv(e,t,e.section,a,n,r,o)
return Er(e,t,i)}))}
var Kv=function(e,t){return $(e,(function(e){var n=e.cells
var r=F(t,(function(e,t){return t>=0&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e}),n)
return r.length>0?[$t(r,e.section)]:[]}))}
var Zv=function(e,t,n){var r=Rr(e),o=r.rows,a=r.cols
return a.concat(o.slice(0,t)).concat(o.slice(n+1))}
var Yv=function(e,t,n,r){var o=function(e){return N(t,(function(t){return n(e.element,t.element)}))}
return z(e,(function(e){return Dr(e,(function(e){return o(e)?Wt(r(e.element,n),true,e.isLocked):e}))}))}
var Jv=function(e,t,n,r){return void 0!==Mr(e[t],n)&&t>0&&r(Mr(e[t-1],n),Mr(e[t],n))}
var Qv=function(e,t,n){return t>0&&n(Mr(e,t-1),Mr(e,t))}
var ed=function(e,t,n,r){var o=Rr(e).rows
var a=$(o,(function(r,o){var a=Jv(e,o,t,n)||Qv(r,t,n)
return a?[]:[Ar(r,t)]}))
return Yv(e,a,n,r)}
var td=function(e,t,n,r){var o=Rr(e).rows
var a=o[t]
var i=$(a.cells,(function(e,r){var i=Jv(o,t,r,n)||Qv(a,r,n)
return i?[]:[e]}))
return Yv(e,i,n,r)}
var nd=function(e){var t=function(e,t){var n=N(e,(function(e){return e.column===t.column}))
return n?e:e.concat([t])}
return V(e,t,[]).sort((function(e,t){return e.column-t.column}))}
var rd=function(e){var t=ir(e,"colspan",1)
var n=ir(e,"rowspan",1)
return{element:e,colspan:t,rowspan:n}}
var od=function(e,t){void 0===t&&(t=rd)
var n=nu(E.none())
var r=function(t){switch(Zt(t.element)){case"col":return e.col(t)
default:return e.cell(t)}}
var o=function(e){var n=t(e)
return r(n)}
var a=function(e){var t=o(e)
n.get().isNone()&&n.set(E.some(t))
i=E.some({item:e,replacement:t})
return t}
var i=E.none()
var u=function(e,t){return i.fold((function(){return a(e)}),(function(n){return t(e,n.item)?n.replacement:a(e)}))}
return{getOrInit:u,cursor:n.get}}
var ad=function(e,t){return function(n){var r=nu(E.none())
var o=[]
var a=function(e,t){return U(o,(function(n){return t(n.item,e)}))}
var i=function(a){var i={scope:e}
var u=n.replace(a,t,i)
o.push({item:a,sub:u})
r.get().isNone()&&r.set(E.some(u))
return u}
var u=function(e,t){return"col"===Zt(e)?e:a(e,t).fold((function(){return i(e)}),(function(n){return t(e,n.item)?n.sub:i(e)}))}
return{replaceOrInit:u,cursor:r.get}}}
var id=function(e){return Gn(e,"scope").map((function(e){return e.substr(0,3)}))}
var ud=function(e){var t=nu(E.none())
var n=function(n){t.get().isNone()&&t.set(E.some(n))
var r=id(n)
r.each((function(e){return Wn(n,"scope",e)}))
return function(){var t=e.cell({element:n,colspan:1,rowspan:1})
or(t,"width")
or(n,"width")
r.each((function(e){return Wn(t,"scope",e)}))
return t}}
var r=function(e){var t=function(){var t=sa(z(e,id))
if(0===t.length)return E.none()
var n=t[0]
var r=["row","col"]
var o=N(t,(function(e){return e!==n&&M(r,e)}))
return o?E.none():E.from(n)}
or(e[0],"width")
t().fold((function(){return Xn(e[0],"scope")}),(function(t){return Wn(e[0],"scope",t+"group")}))
return h(e[0])}
return{unmerge:n,merge:r,cursor:t.get}}
var cd={modification:od,transform:ad,merging:ud}
var sd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]
var ld=function(e,t){var n=e.property().name(t)
return M(["ol","ul"],n)}
var fd=function(e,t){var n=e.property().name(t)
return M(sd,n)}
var vd=function(e,t){return M(["br","img","hr","input"],e.property().name(t))}
var dd=_o()
var md=function(e){return fd(dd,e)}
var gd=function(e){return ld(dd,e)}
var hd=function(e){return vd(dd,e)}
var pd=function(e){var t=function(e){return"br"===Zt(e)}
var n=function(e){return G(e,(function(e){return t(e)||tn(e)&&0===ko(e).trim().length}))}
var r=function(e){return"li"===Zt(e)||zn(e,gd).isSome()}
var o=function(e){return dn(e).map((function(e){if(md(e))return true
if(hd(e))return"img"!==Zt(e)
return false})).getOr(false)}
var a=function(e){return Cu(e).bind((function(n){var a=o(n)
return sn(n).map((function(o){return true===a||r(o)||t(n)||md(o)&&!ht(e,o)?[]:[ft.fromTag("br")]}))})).getOr([])}
var i=function(){var t=$(e,(function(e){var t=mn(e)
return n(t)?[]:t.concat(a(e))}))
return 0===t.length?[ft.fromTag("br")]:t}
var u=i()
yo(e[0])
bo(e[0],u)}
var bd=function(e){var t=pr(e)
0===t.length&&wo(e)}
var yd=function(e,t){return{grid:e,cursor:t}}
var wd=function(e,t,n){var r=Rr(e).rows
return xd(r,t,n).orThunk((function(){return xd(r,0,0)}))}
var xd=function(e,t,n){return E.from(e[t]).bind((function(e){return E.from(e.cells[n]).bind((function(e){return E.from(e.element)}))}))}
var Cd=function(e,t,n){var r=Rr(e).rows
return yd(e,xd(r,t,n))}
var Sd=function(e){var t=function(e,t){var n=N(e,(function(e){return e.row===t.row}))
return n?e:e.concat([t])}
return V(e,t,[]).sort((function(e,t){return e.row-t.row}))}
var kd=function(e,t,n,r){var o=t[0].row
var a=Sd(t)
var i=F(a,(function(e,t){var a=$v(e.grid,o,t.row+e.delta,n,r.getOrInit)
return{grid:a,delta:e.delta+1}}),{grid:e,delta:0}).grid
return Cd(i,o,t[0].column)}
var Od=function(e,t,n,r){var o=Sd(t)
var a=o[o.length-1]
var i=a.row+a.rowspan
var u=F(o,(function(e,t){return $v(e,i,t.row,n,r.getOrInit)}),e)
return Cd(u,i,t[0].column)}
var Td=function(e,t,n,r){var o=t.details
var a=nd(o)
var i=a[0].column
var u=F(a,(function(e,t){var o=Xv(e.grid,i,t.column+e.delta,n,r.getOrInit)
return{grid:o,delta:e.delta+1}}),{grid:e,delta:0}).grid
return Cd(u,o[0].row,i)}
var Ed=function(e,t,n,r){var o=t.details
var a=o[o.length-1]
var i=a.column+a.colspan
var u=nd(o)
var c=F(u,(function(e,t){return Xv(e,i,t.column,n,r.getOrInit)}),e)
return Cd(c,o[0].row,i)}
var _d=function(e,t,n,r){var o=td(e,t.row,n,r.replaceOrInit)
return Cd(o,t.row,t.column)}
var Ld=function(e,t,n,r){var o=Sd(t)
var a=function(e,t){return td(e,t.row,n,r.replaceOrInit)}
var i=V(o,a,e)
return Cd(i,t[0].row,t[0].column)}
var Dd=function(e,t,n,r){var o=ed(e,t.column,n,r.replaceOrInit)
return Cd(o,t.row,t.column)}
var Ad=function(e,t,n,r){var o=nd(t)
var a=function(e,t){return ed(e,t.column,n,r.replaceOrInit)}
var i=V(o,a,e)
return Cd(i,t[0].row,t[0].column)}
var Md=function(e,t,n,r){var o=td(e,t.row,n,r.replaceOrInit)
return Cd(o,t.row,t.column)}
var Nd=function(e,t,n,r){var o=Sd(t)
var a=function(e,t){return td(e,t.row,n,r.replaceOrInit)}
var i=V(o,a,e)
return Cd(i,t[0].row,t[0].column)}
var Rd=function(e,t,n,r){var o=ed(e,t.column,n,r.replaceOrInit)
return Cd(o,t.row,t.column)}
var zd=function(e,t,n,r){var o=nd(t)
var a=function(e,t){return ed(e,t.column,n,r.replaceOrInit)}
var i=V(o,a,e)
return Cd(i,t[0].row,t[0].column)}
var Bd=function(e,t,n,r){var o=nd(t.details)
var a=Kv(e,z(o,(function(e){return e.column})))
var i=wd(a,o[0].row,o[0].column)
return yd(a,i)}
var Pd=function(e,t,n,r){var o=Sd(t)
var a=Zv(e,o[0].row,o[o.length-1].row)
var i=wd(a,t[0].row,t[0].column)
return yd(a,i)}
var Id=function(e,t,n,r){var o=t.cells
pd(o)
var a=Cv(e,t.bounds,n,r.merge(o))
return yd(a,E.from(o[0]))}
var Hd=function(e,t,n,r){var o=function(e,t){return Sv(e,t,n,r.unmerge(t))}
var a=F(t,o,e)
return yd(a,E.from(t[0]))}
var Fd=function(e,t,n,r){var o=function(e,t){var n=Kr.fromTable(e)
return rv(n,t,true)}
var a=o(t.clipboard,t.generators)
var i=Ht(t.row,t.column)
var u=Uv(i,e,a,t.generators,n)
return u.fold((function(){return yd(e,E.some(t.element))}),(function(e){var n=wd(e,t.row,t.column)
return yd(e,n)}))}
var Vd=function(e,t,n){var r=Or(e,n.section)
var o=Kr.generate(r)
return rv(o,t,true)}
var jd=function(e,t,n,r){var o=Rr(e).rows
var a=t.cells[0].column
var i=o[t.cells[0].row]
var u=Vd(t.clipboard,t.generators,i)
var c=Wv(a,e,u,t.generators,n)
var s=wd(c,t.cells[0].row,t.cells[0].column)
return yd(c,s)}
var Ud=function(e,t,n,r){var o=Rr(e).rows
var a=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan
var i=o[t.cells[0].row]
var u=Vd(t.clipboard,t.generators,i)
var c=Wv(a,e,u,t.generators,n)
var s=wd(c,t.cells[0].row,t.cells[0].column)
return yd(c,s)}
var Wd=function(e,t,n,r){var o=Rr(e).rows
var a=t.cells[0].row
var i=o[a]
var u=Vd(t.clipboard,t.generators,i)
var c=qv(a,e,u,t.generators,n)
var s=wd(c,t.cells[0].row,t.cells[0].column)
return yd(c,s)}
var qd=function(e,t,n,r){var o=Rr(e).rows
var a=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan
var i=o[t.cells[0].row]
var u=Vd(t.clipboard,t.generators,i)
var c=qv(a,e,u,t.generators,n)
var s=wd(c,t.cells[0].row,t.cells[0].column)
return yd(c,s)}
var $d=function(e,t){var n=Kr.fromTable(e)
var r=gv(n,t)
return r.bind((function(e){var t=e[e.length-1]
var r=e[0].column
var o=t.column+t.colspan
var a=q(z(n.all,(function(e){return H(e.cells,(function(e){return e.column>=r&&e.column<o}))})))
return Gd(a,(function(e){return"th"===Zt(e.element)}))})).getOr("")}
var Gd=function(e,t){var n=H(e,t)
return 0===n.length?E.some("td"):n.length===e.length?E.some("th"):E.none()}
var Xd=Dc
var Kd=Lc
var Zd=function(e,t){return N(t,(function(e){return 0===e.column&&e.isLocked}))}
var Yd=function(e,t){return N(t,(function(t){return t.column+t.colspan>=e.grid.columns&&t.isLocked}))}
var Jd=function(e,t){var n=pa(e)
var r=nd(t)
return V(r,(function(e,t){var r=n[t.column]
var o=r.map(ha).getOr(0)
return e+o}),0)}
var Qd=function(e){return function(t,n){return gv(t,n).filter((function(n){var r=e?Zd:Yd
return!r(t,n)})).map((function(e){return{details:e,pixelDelta:Jd(t,e)}}))}}
var em=function(e,t){return pv(e,t).map((function(t){return{details:t,pixelDelta:-Jd(e,t)}}))}
var tm=function(e){return function(t,n){return vv(t,n).filter((function(n){var r=e?Zd:Yd
return!r(t,n.cells)}))}}
var nm=sv(kd,gv,d,d,cd.modification)
var rm=sv(Od,gv,d,d,cd.modification)
var om=sv(Td,Qd(true),Kd,d,cd.modification)
var am=sv(Ed,Qd(false),Kd,d,cd.modification)
var im=sv(Bd,em,Kd,bd,cd.modification)
var um=sv(Pd,gv,d,bd,cd.modification)
sv(Dd,hv,d,d,cd.transform("row","th"))
var cm=sv(Ad,pv,d,d,cd.transform("row","th"))
sv(Rd,hv,d,d,cd.transform(null,"td"))
var sm=sv(zd,pv,d,d,cd.transform(null,"td"))
sv(_d,lv,d,d,cd.transform("col","th"))
sv(Ld,gv,d,d,cd.transform("col","th"))
sv(Md,lv,d,d,cd.transform(null,"td"))
sv(Nd,gv,d,d,cd.transform(null,"td"))
var lm=sv(Id,wv,Xd,d,cd.merging)
var fm=sv(Hd,xv,Xd,d,cd.merging)
var vm=sv(Fd,fv,Xd,d,cd.modification)
var dm=sv(jd,tm(true),d,d,cd.modification)
var mm=sv(Ud,tm(false),d,d,cd.modification)
var gm=sv(Wd,vv,d,d,cd.modification)
var hm=sv(qd,vv,d,d,cd.modification)
var pm=$d
var bm=function(e){return Pu(e.parentNode)}
var ym=function(e){return"thead"===e?"header":"tfoot"===e?"footer":"body"}
var wm=function(e,t){var n="thead"===bm(t)
var r=!N(t.cells,(function(e){return"th"!==Pu(e)}))
return n||r?E.some({thead:n,ths:r}):E.none()}
var xm=function(e,t){return ym(wm(e,t).fold((function(){return bm(t)}),(function(e){return"thead"})))}
var Cm=function(e,t,n){var r=e.getParent(t,"table")
var o=t.parentNode
var a=Pu(o)
if(n!==a){var i=e.select(n,r)[0]
if(!i){i=e.create(n)
var u=r.firstChild
"thead"===n?ee(Mn(ft.fromDom(r),"caption,colgroup")).fold((function(){return r.insertBefore(i,u)}),(function(t){return e.insertAfter(i,t.dom)})):r.appendChild(i)}"tbody"===n&&"thead"===a&&i.firstChild?i.insertBefore(t,i.firstChild):i.appendChild(t)
o.hasChildNodes()||e.remove(o)}}
var Sm=function(e,t,n){if(l(n)&&Pu(t)!==n){var r=e.dom.rename(t,n)
Il(e,r)
return r}return t}
var km=function(e,t,n,r){var o=e.dom
var a=Sm(e,t,n)
c(r)||o.setAttrib(a,"scope",r)
return a}
var Om=function(e,t,n,r){return B(t,(function(t){return km(e,t,n,r)}))}
var Tm=function(e,t,n){var r=function(){var n=yr(ft.fromDom(t.cells[0])).map((function(e){return wr(e)})).getOr([])
return te(n,(function(t){return wm(e,t.dom)})).map((function(e){return e.thead&&e.ths?"sectionCells":e.thead?"section":"cells"})).getOr("section")}
var o=e.dom
if("header"===n){var a=bf(e)
var i="auto"===a?r():a
Om(e,t.cells,"section"===i?"td":"th","col")
Cm(o,t,"cells"===i?"tbody":"thead")}else{Om(e,t.cells,"td",null)
Cm(o,t,"footer"===n?"tfoot":"tbody")}}
var Em=function(e){return yr(e).bind((function(e){return Go(e,ic.firstSelectedSelector)})).fold((function(){return e}),(function(e){return e[0]}))}
var _m=function(e){return function(t,n){var r=Zt(t)
var o="col"===r||"colgroup"===r?Em(t):t
return jn(o,e,n)}}
var Lm=_m("th,td")
var Dm=_m("th,td,caption")
var Am=function(e,t,n){return Lm(e,n).map((function(e){return Ku(t)})).getOr([])}
var Mm=function(e,t){var n=Lm(e)
var r=n.bind((function(e){return yr(e)})).map((function(e){return wr(e)}))
return la(n,r,(function(e,n){return H(n,(function(n){return N(Bu(n.dom.cells),(function(n){return"1"===$n(n,t)||ht(n,e)}))}))})).getOr([])}
var Nm=function(e,t,n){var r=function(e){return"table"===Zt(Iu(e))}
var o=function(t){return false===r(e)||fs(t).rows>1}
var a=function(t){return false===r(e)||fs(t).columns>1}
var i=Cf(e)
var u=xf(e)?d:$f
var c=function(t,n,r,o,a){return function(u,c){Wu(u)
var s=o()
var l=ft.fromDom(e.getDoc())
var f=Nu(r,l,i)
var v=kf(e,u)
var d=xf(e)?Bc():Pc()
return n(u)?t(s,u,c,f,v,d).bind((function(t){B(t.newRows,(function(t){Pl(e,t.dom)}))
B(t.newCells,(function(t){Il(e,t.dom)}))
return t.cursor.map((function(t){var n=qf(t)
var r=e.dom.createRng()
r.setStart(n.element.dom,n.offset)
r.setEnd(n.element.dom,n.offset)
return{rng:r,effect:a}}))})):E.none()}}
var s=c(um,o,d,t,ql)
var l=c(im,a,d,t,ql)
var f=c(nm,C,d,t,ql)
var v=c(rm,C,d,t,ql)
var m=c(om,C,u,t,ql)
var g=c(am,C,u,t,ql)
var h=c(lm,C,d,t,ql)
var p=c(fm,C,d,t,ql)
var b=c(dm,C,d,t,ql)
var y=c(mm,C,d,t,ql)
var w=c(gm,C,d,t,ql)
var x=c(hm,C,d,t,ql)
var S=c(vm,C,d,t,ql)
var k=function(e,t){return Mt(e,"type").filter((function(e){return M(t,e)}))}
var O=function(e,t){return k(t,["td","th"]).each((function(t){var r=z(Am(Xu(e),n),(function(e){return e.dom}))
Om(e,r,t,null)}))}
var T=function(e,t){return k(t,["header","body","footer"]).each((function(t){z(Mm(Xu(e),ic.selected),(function(n){return Tm(e,n.dom,t)}))}))}
var _=c(cm,C,d,t,ql)
var L=c(sm,C,d,t,ql)
var D=function(e){var t=Mm(Xu(e),ic.selected)
if(t.length>0){var n=z(t,(function(t){return xm(e,t.dom)}))
var r=M(n,"header")
var o=M(n,"footer")
if(r||o){var a=M(n,"body")
return!r||a||o?r||a||!o?"":"footer":"header"}return"body"}}
var A=function(e){return Gd(Am(Xu(e),n),(function(e){return"th"===Zt(e)})).getOr("")}
var N=pm
return{deleteRow:s,deleteColumn:l,insertRowsBefore:f,insertRowsAfter:v,insertColumnsBefore:m,insertColumnsAfter:g,mergeCells:h,unmergeCells:p,pasteColsBefore:b,pasteColsAfter:y,pasteRowsBefore:w,pasteRowsAfter:x,pasteCells:S,setTableCellType:O,setTableRowType:T,makeColumnsHeader:_,unmakeColumnsHeader:L,getTableRowType:D,getTableCellType:A,getTableColType:N}}
var Rm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:false}
var zm=function(){return ft.fromTag("th")}
var Bm=function(){return ft.fromTag("td")}
var Pm=function(){return ft.fromTag("col")}
var Im=function(e,t,n,r){var o=ft.fromTag("tr")
for(var a=0;a<e;a++){var i=r<t||a<n?zm():Bm()
a<n&&Wn(i,"scope","row")
r<t&&Wn(i,"scope","col")
mo(i,ft.fromTag("br"))
mo(o,i)}return o}
var Hm=function(e){var t=ft.fromTag("colgroup")
R(e,(function(){return mo(t,Pm())}))
return t}
var Fm=function(e,t,n,r){return R(e,(function(e){return Im(t,n,r,e)}))}
var Vm=function(e,t,n,r,o,a){void 0===a&&(a=Rm)
var i=ft.fromTag("table")
var u="cells"!==o
er(i,a.styles)
qn(i,a.attributes)
a.colGroups&&mo(i,Hm(t))
var c=Math.min(e,n)
if(u&&n>0){var s=ft.fromTag("thead")
mo(i,s)
var l="sectionCells"===o?c:0
var f=Fm(n,t,l,r)
bo(s,f)}var v=ft.fromTag("tbody")
mo(i,v)
var d=u?e-c:e
var m=u?0:n
var g=Fm(d,t,m,r)
bo(v,g)
return i}
var jm=function(e){return e.dom.innerHTML}
var Um=function(e){var t=ft.fromTag("div")
var n=ft.fromDom(e.dom.cloneNode(true))
mo(t,n)
return jm(t)}
var Wm=function(e,t){e.selection.select(t.dom,true)
e.selection.collapse(true)}
var qm=function(e,t){Vn(t,"td,th").each(b(Wm,e))}
var $m=function(e,t){B(Nn(t,"tr"),(function(t){Pl(e,t.dom)
B(Nn(t,"th,td"),(function(t){Il(e,t.dom)}))}))}
var Gm=function(e){return o(e)&&-1!==e.indexOf("%")}
var Xm=function(e,t,n,r,o){var a=ef(e)
var i={styles:a,attributes:Ql(e),colGroups:pf(e)}
e.undoManager.ignore((function(){var a=Vm(n,t,o,r,bf(e),i)
Wn(a,"data-mce-id","__mce")
var u=Um(a)
e.insertContent(u)
e.addVisual()}))
return Vn(Iu(e),'table[data-mce-id="__mce"]').map((function(t){mf(e)?Df(e,t):gf(e)?Af(t):(df(e)||Gm(a.width))&&Lf(e,t)
Wu(t)
Xn(t,"data-mce-id")
$m(e,t)
qm(e,t)
return t.dom})).getOr(null)}
var Km=function(e,t,n,r,o){void 0===r&&(r={})
var a=function(e){return v(e)&&e>0}
if(a(t)&&a(n)){var i=r.headerRows||0
var u=r.headerColumns||0
return Xm(e,n,t,u,i)}console.error(o)
return null}
var Zm=function(e){return function(){return e().fold((function(){return[]}),(function(e){return z(e,(function(e){return e.dom}))}))}}
var Ym=function(e){return function(t){var n=t.length>0?E.some(Bu(t)):E.none()
e(n)}}
var Jm=function(e){return function(t,n,r){void 0===r&&(r={})
var o=Km(e,n,t,r,"Invalid values for insertTable - rows and columns values are required to insert a table.")
e.undoManager.add()
return o}}
var Qm=function(e,t,n,r){return{insertTable:Jm(e),setClipboardRows:Ym(t.setRows),getClipboardRows:Zm(t.getRows),setClipboardCols:Ym(t.setColumns),getClipboardCols:Zm(t.getColumns),resizeHandler:n,selectionTargets:r}}
var eg=function(e,t,n){var r=ir(e,t,1)
1===n||r<=1?Xn(e,t):Wn(e,t,Math.min(n,r))}
var tg=function(e,t,n){if(Kr.hasColumns(e)){var r=H(Kr.justColumns(e),(function(e){return e.column>=t&&e.column<n}))
var o=z(r,(function(e){var r=ia(e.element)
eg(r,"span",n-t)
return r}))
var a=ft.fromTag("colgroup")
bo(a,o)
return[a]}return[]}
var ng=function(e,t,n){return z(e.all,(function(e){var r=H(e.cells,(function(e){return e.column>=t&&e.column<n}))
var o=z(r,(function(e){var r=ia(e.element)
eg(r,"colspan",n-t)
return r}))
var a=ft.fromTag("tr")
bo(a,o)
return a}))}
var rg=function(e,t){var n=Kr.fromTable(e)
var r=pv(n,t)
return r.map((function(e){var t=e[e.length-1]
var r=e[0].column
var o=t.column+t.colspan
var a=tg(n,r,o)
var i=ng(n,r,o)
return re(a,i)}))}
var og=function(e,t,n){var r=Kr.fromTable(e)
var o=gv(r,t)
return o.bind((function(e){var t=rv(r,n,false)
var o=Rr(t).rows
var a=o.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan)
var i=$(a,(function(e){var t=H(e.cells,(function(e){return!e.isLocked}))
return t.length>0?[ne(ne({},e),{cells:t})]:[]}))
var u=iv(i,n)
return va(u.length>0,u)})).map((function(e){return Yf(e)}))}
var ag=tinymce.util.Tools.resolve("tinymce.util.Tools")
var ig=function(e,t,n){var r=e.select("td,th",t)
var o
var a=function(t,r){for(var o=0;o<r.length;o++){var a=e.getStyle(r[o],n)
"undefined"===typeof t&&(t=a)
if(t!==a)return""}return t}
return a(o,r)}
var ug=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)}
var cg=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)}
var sg=function(e,t){ag.each("left center right".split(" "),(function(n){e.formatter.remove("align"+n,{},t)}))}
var lg=function(e,t){ag.each("top middle bottom".split(" "),(function(n){e.formatter.remove("valign"+n,{},t)}))}
var fg=function(e){return Rt(e,"menu")}
var vg=function(e,t){var n=function(e,t){return t.concat(z(e,(function(e){var t=e.text||e.title
return fg(e)?{text:t,items:vg(e.menu)}:{text:t,value:e.value}})))}
return n(e,t||[])}
var dg=function(e){return function(t){return be(t,"rgb")?e.toHex(t):t}}
var mg=function(e,t){var n=ft.fromDom(t)
return{borderwidth:rr(n,"border-width").getOr(""),borderstyle:rr(n,"border-style").getOr(""),bordercolor:rr(n,"border-color").map(dg(e)).getOr(""),backgroundcolor:rr(n,"background-color").map(dg(e)).getOr("")}}
var gg=function(e){var t=e[0]
var n=e.slice(1)
B(n,(function(e){B(xt(t),(function(n){St(e,(function(e,r){var o=t[n]
""!==o&&n===r&&o!==e&&(t[n]="")}))}))}))
return t}
var hg=function(e){var t=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}]
var n={name:"borderwidth",type:"input",label:"Border width"}
var r="cell"===e?[n].concat(t):t
return{title:"Advanced",name:"advanced",items:r}}
var pg=function(e,t,n,r){return U(e,(function(e){return n.formatter.matchNode(r,t+e)})).getOr("")}
var bg=b(pg,["left","center","right"],"align")
var yg=b(pg,["top","middle","bottom"],"valign")
var wg=function(e,t){var n=ef(e)
var r=Ql(e)
var o=function(e){return{borderstyle:Mt(n,"border-style").getOr(""),bordercolor:dg(e)(Mt(n,"border-color").getOr("")),backgroundcolor:dg(e)(Mt(n,"background-color").getOr(""))}}
var a={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:false,class:"",align:"",border:""}
var i=function(){var t=n["border-width"]
if(sf(e)&&t)return{border:t}
return Mt(r,"border").fold((function(){return{}}),(function(e){return{border:e}}))}
var u=t?o(e.dom):{}
var c=function(){var e=Mt(n,"border-spacing").or(Mt(r,"cellspacing")).fold((function(){return{}}),(function(e){return{cellspacing:e}}))
var t=Mt(n,"border-padding").or(Mt(r,"cellpadding")).fold((function(){return{}}),(function(e){return{cellpadding:e}}))
return ne(ne({},e),t)}
var s=ne(ne(ne(ne(ne(ne({},a),n),r),u),i()),c())
return s}
var xg=function(e,t,n){var r=function(t,n){var r=rr(ft.fromDom(n),"border-width")
if(sf(e)&&r.isSome())return r.getOr("")
return t.getAttrib(n,"border")||ig(e.dom,n,"border-width")||ig(e.dom,n,"border")}
var o=e.dom
return ne({width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"),cellpadding:o.getAttrib(t,"cellpadding")||ig(e.dom,t,"padding"),border:r(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:bg(e,t)},n?mg(o,t):{})}
var Cg=function(e,t,n){var r=e.dom
return ne({height:r.getStyle(t,"height")||r.getAttrib(t,"height"),class:r.getAttrib(t,"class",""),type:xm(e,t),align:bg(e,t)},n?mg(r,t):{})}
var Sg=function(e,t,n,r){var o=e.dom
var a=r.getOr(t)
var i=function(e,t){return o.getStyle(e,t)||o.getAttrib(e,t)}
return ne({width:i(a,"width"),height:i(t,"height"),scope:o.getAttrib(t,"scope"),celltype:Pu(t),class:o.getAttrib(t,"class",""),halign:bg(e,t),valign:yg(e,t)},n?mg(o,t):{})}
var kg=function(e){var t=vg(lf(e))
if(t.length>0)return E.some({name:"class",type:"listbox",label:"Class",items:t})
return E.none()}
var Og=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]
var Tg=function(e){return Og.concat(kg(e).toArray())}
var Eg=function(e){return function(t,n){var r=t.dom
var o=function(t,o){e&&!o||r.setAttrib(n,t,o)}
var a=function(t,o){e&&!o||r.setStyle(n,t,o)}
var i=function(r,o){e&&!o||(""===o?t.formatter.remove(r,{value:null},n,true):t.formatter.apply(r,{value:o},n))}
return{setAttrib:o,setStyle:a,setFormat:i}}}
var _g={normal:Eg(false),ifTruthy:Eg(true)}
var Lg=function(e){return yr(e[0]).map((function(t){var n=Kr.fromTable(t)
var r=Kr.justCells(n)
var o=H(r,(function(t){return N(e,(function(e){return ht(t.element,e)}))}))
return z(o,(function(e){return{element:e.element.dom,column:Kr.getColumnAt(n,e.column).map((function(e){return e.element.dom}))}}))}))}
var Dg=function(e,t,n){e.setAttrib("scope",n.scope)
e.setAttrib("class",n.class)
e.setStyle("height",Uu(n.height))
t.setStyle("width",Uu(n.width))}
var Ag=function(e,t){e.setFormat("tablecellbackgroundcolor",t.backgroundcolor)
e.setFormat("tablecellbordercolor",t.bordercolor)
e.setFormat("tablecellborderstyle",t.borderstyle)
e.setFormat("tablecellborderwidth",Uu(t.borderwidth))}
var Mg=function(e,t,n,r){var o=1===t.length
var a=_t(r,(function(e,t){return n[t]!==e}))
if(At(a)>0&&t.length>=1){var i=yr(t[0])
Lg(t).each((function(t){B(t,(function(t){var n=km(e,t.element,r.celltype)
var a=o?_g.normal(e,n):_g.ifTruthy(e,n)
var i=t.column.map((function(t){return o?_g.normal(e,t):_g.ifTruthy(e,t)})).getOr(a)
Dg(a,i,r)
rf(e)&&Ag(a,r)
if(o){sg(e,n)
lg(e,n)}r.halign&&ug(e,n,r.halign)
r.valign&&cg(e,n,r.valign)}))}))
var u=At(_t(a,(function(e,t){return"scope"!==t&&"celltype"!==t})))>0
i.each((function(t){return Ul(e,t.dom,{structure:Nt(a,"celltype"),style:u})}))}}
var Ng=function(e,t,n,r){var o=r.getData()
r.close()
e.undoManager.transact((function(){Mg(e,t,n,o)
e.focus()}))}
var Rg=function(e,t){var n=Lg(t).map((function(t){return z(t,(function(t){return Sg(e,t.element,rf(e),t.column)}))}))
return gg(n.getOrDie())}
var zg=function(e,t){var n=Am(Xu(e),t)
if(0===n.length)return
var r=Rg(e,n)
var o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Tg(e)},hg("cell")]}
var a={type:"panel",items:[{type:"grid",columns:2,items:Tg(e)}]}
e.windowManager.open({title:"Cell Properties",size:"normal",body:rf(e)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:r,onSubmit:b(Ng,e,n,r)})}
var Bg=function(e){var t=vg(ff(e))
if(t.length>0)return E.some({name:"class",type:"listbox",label:"Class",items:t})
return E.none()}
var Pg=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}]
var Ig=function(e){return Pg.concat(Bg(e).toArray())}
var Hg=function(e,t){e.setAttrib("class",t.class)
e.setStyle("height",Uu(t.height))}
var Fg=function(e,t){e.setStyle("background-color",t.backgroundcolor)
e.setStyle("border-color",t.bordercolor)
e.setStyle("border-style",t.borderstyle)}
var Vg=function(e,t,n,r){var o=1===t.length
var a=_t(r,(function(e,t){return n[t]!==e}))
if(At(a)>0){B(t,(function(t){r.type!==Pu(t.parentNode)&&Tm(e,t,r.type)
var a=o?_g.normal(e,t):_g.ifTruthy(e,t)
Hg(a,r)
of(e)&&Fg(a,r)
if(r.align!==n.align){sg(e,t)
ug(e,t,r.align)}}))
var i=Nt(a,"type")
var u=!i||At(a)>1
yr(ft.fromDom(t[0])).each((function(t){return Ul(e,t.dom,{structure:i,style:u})}))}}
var jg=function(e,t,n,r){var o=r.getData()
r.close()
e.undoManager.transact((function(){Vg(e,t,n,o)
e.focus()}))}
var Ug=function(e){var t=Mm(Xu(e),ic.selected)
if(0===t.length)return
var n=z(t,(function(t){return Cg(e,t.dom,of(e))}))
var r=gg(n)
var o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ig(e)},hg("row")]}
var a={type:"panel",items:[{type:"grid",columns:2,items:Ig(e)}]}
e.windowManager.open({title:"Row Properties",size:"normal",body:of(e)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:r,onSubmit:b(jg,e,z(t,(function(e){return e.dom})),r)})}
var Wg=tinymce.util.Tools.resolve("tinymce.Env")
var qg=function(e,t,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[]
var o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]
var a=uf(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]
var i=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]
var u=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[]
return r.concat(o).concat(a).concat(i).concat(u)}
var $g=function(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)o(n)?e.setStyle(t,n,r):e.setStyle(t,n)
else if(t.children)for(var a=0;a<t.children.length;a++)$g(e,t.children[a],n,r)}
var Gg=function(e,t,n){var r=e.dom
var o={}
var a={}
o.class=n.class
a.height=Uu(n.height)
r.getAttrib(t,"width")&&!sf(e)?o.width=ju(n.width):a.width=Uu(n.width)
if(sf(e)){a["border-width"]=Uu(n.border)
a["border-spacing"]=Uu(n.cellspacing)}else{o.border=n.border
o.cellpadding=n.cellpadding
o.cellspacing=n.cellspacing}if(sf(e)&&t.children)for(var i=0;i<t.children.length;i++){$g(r,t.children[i],{"border-width":Uu(n.border),padding:Uu(n.cellpadding)})
af(e)&&$g(r,t.children[i],{"border-color":n.bordercolor})}if(af(e)){a["background-color"]=n.backgroundcolor
a["border-color"]=n.bordercolor
a["border-style"]=n.borderstyle}o.style=r.serializeStyle(ne(ne({},ef(e)),a))
r.setAttribs(t,ne(ne({},Ql(e)),o))}
var Xg=function(e,t,n,r){var o=e.dom
var a
var i=r.getData()
var u=_t(i,(function(e,t){return n[t]!==e}))
r.close()
""===i.class&&delete i.class
e.undoManager.transact((function(){if(!t){var n=parseInt(i.cols,10)||1
var r=parseInt(i.rows,10)||1
t=Xm(e,n,r,0,0)}if(At(u)>0){Gg(e,t,i)
a=o.select("caption",t)[0]
a&&!i.caption&&o.remove(a)
if(!a&&i.caption){a=o.create("caption")
a.innerHTML=Wg.ie?hu:'<br data-mce-bogus="1"/>'
t.insertBefore(a,t.firstChild)}""===i.align?sg(e,t):ug(e,t,i.align)}e.focus()
e.addVisual()
if(At(u)>0){var c=Nt(u,"caption")
var s=!c||At(u)>1
Ul(e,t,{structure:c,style:s})}}))}
var Kg=function(e,t){var n=e.dom
var r
var o=wg(e,af(e))
if(false===t){r=n.getParent(e.selection.getStart(),"table",e.getBody())
if(r)o=xg(e,r,af(e))
else if(af(e)){o.borderstyle=""
o.bordercolor=""
o.backgroundcolor=""}}else{o.cols="1"
o.rows="1"
if(af(e)){o.borderstyle=""
o.bordercolor=""
o.backgroundcolor=""}}var a=vg(vf(e))
a.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""))
var i={type:"grid",columns:2,items:qg(e,a,t)}
var u=function(){return{type:"panel",items:[i]}}
var c=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[i]},hg("table")]}}
var s=af(e)?c():u()
e.windowManager.open({title:"Table Properties",size:"normal",body:s,onSubmit:b(Xg,e,r,o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:o})}
var Zg=function(e){return Dm(Xu(e),Vu(e))}
var Yg=function(e){return Lm(Xu(e),Vu(e))}
var Jg=function(e,t,n,r,i){var u=Vu(e)
var c=function(){return Zg(e).each((function(t){yr(t,u).filter(y(u)).each((function(t){var n=ft.fromText("")
fo(t,n)
wo(t)
if(e.dom.isEmpty(e.getBody())){e.setContent("")
e.selection.setCursorLocation()}else{var r=e.dom.createRng()
r.setStart(n.dom,0)
r.setEnd(n.dom,0)
e.selection.setRng(r)
e.nodeChanged()}}))}))}
var s=function(t){return Zg(e).each((function(n){var r=gf(e)||mf(e)||df(e)
r||yr(n,u).each((function(n){"relative"!==t||us(n)?"fixed"!==t||cs(n)?"responsive"!==t||ss(n)||Af(n):Df(e,n):Lf(e,n)
Wu(n)
Ul(e,n.dom,ql)}))}))}
var l=function(e){return yr(e,u)}
var f=function(t){return function(r){e.selection.setRng(r.rng)
e.focus()
n.clear(t)
Wu(t)
Ul(e,t.dom,r.effect)}}
var v=function(t){return Yg(e).each((function(e){l(e).each((function(n){var o=cc(r,n,e)
t(n,o).each(f(n))}))}))}
var m=function(){return Yg(e).map((function(t){return l(t).bind((function(n){var o=cc(r,n,t)
var a=Nu(d,ft.fromDom(e.getDoc()),E.none())
return og(n,o,a)}))}))}
var g=function(){return Yg(e).map((function(e){return l(e).bind((function(t){var n=cc(r,t,e)
return rg(t,n)}))}))}
var h=function(t,n){return n().each((function(n){var o=z(n,(function(e){return ia(e)}))
Yg(e).each((function(n){return l(n).each((function(a){var i=Ru(ft.fromDom(e.getDoc()))
var u=lc(r,n,o,i)
t(a,u).each(f(a))}))}))}))}
St({mceTableSplitCells:function(){return v(t.unmergeCells)},mceTableMergeCells:function(){return v(t.mergeCells)},mceTableInsertRowBefore:function(){return v(t.insertRowsBefore)},mceTableInsertRowAfter:function(){return v(t.insertRowsAfter)},mceTableInsertColBefore:function(){return v(t.insertColumnsBefore)},mceTableInsertColAfter:function(){return v(t.insertColumnsAfter)},mceTableDeleteCol:function(){return v(t.deleteColumn)},mceTableDeleteRow:function(){return v(t.deleteRow)},mceTableCutCol:function(e){return g().each((function(e){i.setColumns(e)
v(t.deleteColumn)}))},mceTableCutRow:function(e){return m().each((function(e){i.setRows(e)
v(t.deleteRow)}))},mceTableCopyCol:function(e){return g().each((function(e){return i.setColumns(e)}))},mceTableCopyRow:function(e){return m().each((function(e){return i.setRows(e)}))},mceTablePasteColBefore:function(e){return h(t.pasteColsBefore,i.getColumns)},mceTablePasteColAfter:function(e){return h(t.pasteColsAfter,i.getColumns)},mceTablePasteRowBefore:function(e){return h(t.pasteRowsBefore,i.getRows)},mceTablePasteRowAfter:function(e){return h(t.pasteRowsAfter,i.getRows)},mceTableDelete:c,mceTableSizingMode:function(e,t){return s(t)}},(function(t,n){return e.addCommand(n,t)}))
var p=function(e,t){t.each((function(t){Ul(e,t.dom,ql)}))}
St({mceTableCellType:function(n,r){var o=yr(Xu(e),u)
t.setTableCellType(e,r)
p(e,o)},mceTableRowType:function(n,r){var o=yr(Xu(e),u)
t.setTableRowType(e,r)
p(e,o)}},(function(t,n){return e.addCommand(n,t)}))
e.addCommand("mceTableColType",(function(e,n){return Mt(n,"type").each((function(e){return v("th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader)}))}))
St({mceTableProps:b(Kg,e,false),mceTableRowProps:b(Ug,e),mceTableCellProps:b(zg,e,r)},(function(t,n){return e.addCommand(n,(function(){return t()}))}))
e.addCommand("mceInsertTable",(function(t,n){a(n)&&xt(n).length>0?Km(e,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Kg(e,true)}))
e.addCommand("mceTableApplyCellStyle",(function(t,n){var i=function(e){return"tablecell"+e.toLowerCase().replace("-","")}
if(!a(n))return
var c=Am(Xu(e),r,u)
if(0===c.length)return
var s=_t(n,(function(t,n){return e.formatter.has(i(n))&&o(t)}))
if(zt(s))return
St(s,(function(t,n){B(c,(function(r){_g.normal(e,r.dom).setFormat(i(n),t)}))}))
l(c[0]).each((function(t){return Ul(e,t.dom,Wl)}))}))}
var Qg=function(e,t,n){var r=Vu(e)
var o=function(e){return yr(e,r)}
St({mceTableRowType:function(){return t.getTableRowType(e)},mceTableCellType:function(){return t.getTableCellType(e)},mceTableColType:function(){return Lm(Xu(e)).bind((function(e){return o(e).map((function(r){var o=cc(n,r,e)
return t.getTableColType(r,o)}))})).getOr("")}},(function(t,n){return e.addQueryValueHandler(n,t)}))}
var eh=function(){var e=nu(E.none())
var t=nu(E.none())
var n=function(e){e.set(E.none())}
return{getRows:e.get,setRows:function(r){e.set(r)
n(t)},clearRows:function(){return n(e)},getColumns:t.get,setColumns:function(r){t.set(r)
n(e)},clearColumns:function(){return n(t)}}}
var th={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:true},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:true},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:true},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:true}}
var nh=function(e){e.formatter.register(th)}
var rh=Zo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}])
var oh=function(e){void 0===e&&(e=void 0)
return rh.none(e)}
var ah=ne(ne({},rh),{none:oh})
var ih=function(e,t){return yr(e,t).bind((function(t){var n=pr(t)
var r=W(n,(function(t){return ht(e,t)}))
return r.map((function(e){return{index:e,all:n}}))}))}
var uh=function(e,t){var n=ih(e,t)
return n.fold((function(){return ah.none(e)}),(function(t){return t.index+1<t.all.length?ah.middle(e,t.all[t.index+1]):ah.last(e)}))}
var ch=function(e,t){var n=ih(e,t)
return n.fold((function(){return ah.none()}),(function(t){return t.index-1>=0?ah.middle(e,t.all[t.index-1]):ah.first(e)}))}
var sh=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}}
var lh={create:sh}
var fh=Zo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var vh=function(e,t,n,r){return e.fold(t,n,r)}
var dh=function(e){return e.fold(p,p,p)}
var mh=fh.before
var gh=fh.on
var hh=fh.after
var ph={before:mh,on:gh,after:hh,cata:vh,getStart:dh}
var bh=Zo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var yh=function(e){return bh.exact(e.start,e.soffset,e.finish,e.foffset)}
var wh=function(e){return e.match({domRange:function(e){return ft.fromDom(e.startContainer)},relative:function(e,t){return ph.getStart(e)},exact:function(e,t,n,r){return e}})}
var xh=bh.domRange
var Ch=bh.relative
var Sh=bh.exact
var kh=function(e){var t=wh(e)
return cn(t)}
var Oh=lh.create
var Th={domRange:xh,relative:Ch,exact:Sh,exactFromRange:yh,getWin:kh,range:Oh}
var Eh=function(e,t){var n=e.document.createRange()
_h(n,t)
return n}
var _h=function(e,t){return e.selectNodeContents(t.dom)}
var Lh=function(e,t){t.fold((function(t){e.setStartBefore(t.dom)}),(function(t,n){e.setStart(t.dom,n)}),(function(t){e.setStartAfter(t.dom)}))}
var Dh=function(e,t){t.fold((function(t){e.setEndBefore(t.dom)}),(function(t,n){e.setEnd(t.dom,n)}),(function(t){e.setEndAfter(t.dom)}))}
var Ah=function(e,t,n){var r=e.document.createRange()
Lh(r,t)
Dh(r,n)
return r}
var Mh=function(e,t,n,r,o){var a=e.document.createRange()
a.setStart(t.dom,n)
a.setEnd(r.dom,o)
return a}
var Nh=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}
var Rh=function(e){var t=e.getClientRects()
var n=t.length>0?t[0]:e.getBoundingClientRect()
return n.width>0||n.height>0?E.some(n).map(Nh):E.none()}
var zh=Zo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}])
var Bh=function(e,t,n){return t(ft.fromDom(n.startContainer),n.startOffset,ft.fromDom(n.endContainer),n.endOffset)}
var Ph=function(e,t){return t.match({domRange:function(e){return{ltr:h(e),rtl:E.none}},relative:function(t,n){return{ltr:oe((function(){return Ah(e,t,n)})),rtl:oe((function(){return E.some(Ah(e,n,t))}))}},exact:function(t,n,r,o){return{ltr:oe((function(){return Mh(e,t,n,r,o)})),rtl:oe((function(){return E.some(Mh(e,r,o,t,n))}))}}})}
var Ih=function(e,t){var n=t.ltr()
if(n.collapsed){var r=t.rtl().filter((function(e){return false===e.collapsed}))
return r.map((function(e){return zh.rtl(ft.fromDom(e.endContainer),e.endOffset,ft.fromDom(e.startContainer),e.startOffset)})).getOrThunk((function(){return Bh(e,zh.ltr,n)}))}return Bh(e,zh.ltr,n)}
var Hh=function(e,t){var n=Ph(e,t)
return Ih(e,n)}
var Fh=function(e,t){var n=Hh(e,t)
return n.match({ltr:function(t,n,r,o){var a=e.document.createRange()
a.setStart(t.dom,n)
a.setEnd(r.dom,o)
return a},rtl:function(t,n,r,o){var a=e.document.createRange()
a.setStart(r.dom,o)
a.setEnd(t.dom,n)
return a}})}
zh.ltr
zh.rtl
var Vh=function(e,t,n,r,o){if(0===o)return 0
if(t===r)return o-1
var a=r
for(var i=1;i<o;i++){var u=e(i)
var c=Math.abs(t-u.left)
if(n<=u.bottom){if(n<u.top||c>a)return i-1
a=c}}return 0}
var jh=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}
var Uh=function(e,t,n,r,o){var a=function(n){var r=e.dom.createRange()
r.setStart(t.dom,n)
r.collapse(true)
return r}
var i=function(e){var t=a(e)
return t.getBoundingClientRect()}
var u=ko(t).length
var c=Vh(i,n,r,o.right,u)
return a(c)}
var Wh=function(e,t,n,r){var o=e.dom.createRange()
o.selectNode(t.dom)
var a=o.getClientRects()
var i=te(a,(function(e){return jh(e,n,r)?E.some(e):E.none()}))
return i.map((function(o){return Uh(e,t,n,r,o)}))}
var qh=function(e,t,n,r){var o=e.dom.createRange()
var a=mn(t)
return te(a,(function(t){o.selectNode(t.dom)
return jh(o.getBoundingClientRect(),n,r)?$h(e,t,n,r):E.none()}))}
var $h=function(e,t,n,r){return tn(t)?Wh(e,t,n,r):qh(e,t,n,r)}
var Gh=function(e,t,n,r){var o=e.dom.createRange()
o.selectNode(t.dom)
var a=o.getBoundingClientRect()
var i=Math.max(a.left,Math.min(a.right,n))
var u=Math.max(a.top,Math.min(a.bottom,r))
return $h(e,t,i,u)}
var Xh=true
var Kh=false
var Zh=function(e,t){return t-e.left<e.right-t?Xh:Kh}
var Yh=function(e,t,n){var r=e.dom.createRange()
r.selectNode(t.dom)
r.collapse(n)
return r}
var Jh=function(e,t,n){var r=e.dom.createRange()
r.selectNode(t.dom)
var o=r.getBoundingClientRect()
var a=Zh(o,n)
var i=a===Xh?xu:Cu
return i(t).map((function(t){return Yh(e,t,a)}))}
var Qh=function(e,t,n){var r=t.dom.getBoundingClientRect()
var o=Zh(r,n)
return E.some(Yh(e,t,o))}
var ep=function(e,t,n){var r=0===mn(t).length?Qh:Jh
return r(e,t,n)}
var tp=function(e,t,n){return E.from(e.dom.caretPositionFromPoint(t,n)).bind((function(t){if(null===t.offsetNode)return E.none()
var n=e.dom.createRange()
n.setStart(t.offsetNode,t.offset)
n.collapse()
return E.some(n)}))}
var np=function(e,t,n){return E.from(e.dom.caretRangeFromPoint(t,n))}
var rp=function(e,t,n,r){var o=e.dom.createRange()
o.selectNode(t.dom)
var a=o.getBoundingClientRect()
var i=Math.max(a.left,Math.min(a.right,n))
var u=Math.max(a.top,Math.min(a.bottom,r))
return Gh(e,t,i,u)}
var op=function(e,t,n){return ft.fromPoint(e,t,n).bind((function(r){var o=function(){return ep(e,r,t)}
return 0===mn(r).length?o():rp(e,r,t,n).orThunk(o)}))}
var ap=document.caretPositionFromPoint?tp:document.caretRangeFromPoint?np:op
var ip=function(e,t,n){var r=ft.fromDom(e.document)
return ap(r,t,n).map((function(e){return lh.create(ft.fromDom(e.startContainer),e.startOffset,ft.fromDom(e.endContainer),e.endOffset)}))}
var up=function(e,t){var n=Zt(e)
return"input"===n?ph.after(e):M(["br","img"],n)?0===t?ph.before(e):ph.after(e):ph.on(e,t)}
var cp=function(e,t){var n=e.fold(ph.before,up,ph.after)
var r=t.fold(ph.before,up,ph.after)
return Th.relative(n,r)}
var sp=function(e,t,n,r){var o=up(e,t)
var a=up(n,r)
return Th.relative(o,a)}
var lp=function(e){return e.match({domRange:function(e){var t=ft.fromDom(e.startContainer)
var n=ft.fromDom(e.endContainer)
return sp(t,e.startOffset,n,e.endOffset)},relative:cp,exact:sp})}
var fp=function(e,t,n,r){var o=an(e)
var a=o.dom.createRange()
a.setStart(e.dom,t)
a.setEnd(n.dom,r)
return a}
var vp=function(e,t,n,r){var o=fp(e,t,n,r)
var a=ht(e,n)&&t===r
return o.collapsed&&!a}
var dp=function(e){return E.from(e.getSelection())}
var mp=function(e,t){dp(e).each((function(e){e.removeAllRanges()
e.addRange(t)}))}
var gp=function(e,t,n,r,o){var a=Mh(e,t,n,r,o)
mp(e,a)}
var hp=function(e,t,n,r,o,a){t.collapse(n.dom,r)
t.extend(o.dom,a)}
var pp=function(e,t){return Hh(e,t).match({ltr:function(t,n,r,o){gp(e,t,n,r,o)},rtl:function(t,n,r,o){dp(e).each((function(a){if(a.setBaseAndExtent)a.setBaseAndExtent(t.dom,n,r.dom,o)
else if(a.extend)try{hp(e,a,t,n,r,o)}catch(a){gp(e,r,o,t,n)}else gp(e,r,o,t,n)}))}})}
var bp=function(e,t,n,r,o){var a=sp(t,n,r,o)
pp(e,a)}
var yp=function(e,t,n){var r=cp(t,n)
pp(e,r)}
var wp=function(e){var t=Th.getWin(e).dom
var n=function(e,n,r,o){return Mh(t,e,n,r,o)}
var r=lp(e)
return Hh(t,r).match({ltr:n,rtl:n})}
var xp=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0)
var n=e.getRangeAt(e.rangeCount-1)
return E.some(lh.create(ft.fromDom(t.startContainer),t.startOffset,ft.fromDom(n.endContainer),n.endOffset))}return E.none()}
var Cp=function(e){if(null===e.anchorNode||null===e.focusNode)return xp(e)
var t=ft.fromDom(e.anchorNode)
var n=ft.fromDom(e.focusNode)
return vp(t,e.anchorOffset,n,e.focusOffset)?E.some(lh.create(t,e.anchorOffset,n,e.focusOffset)):xp(e)}
var Sp=function(e,t){var n=Eh(e,t)
mp(e,n)}
var kp=function(e){return dp(e).filter((function(e){return e.rangeCount>0})).bind(Cp)}
var Op=function(e){return kp(e).map((function(e){return Th.exact(e.start,e.soffset,e.finish,e.foffset)}))}
var Tp=function(e,t){var n=Fh(e,t)
return Rh(n)}
var Ep=function(e,t,n){return ip(e,t,n)}
var _p=function(e){dp(e).each((function(e){return e.removeAllRanges()}))}
var Lp=tinymce.util.Tools.resolve("tinymce.util.VK")
var Dp=function(e,t,n){return Rp(e,t,uh(n))}
var Ap=function(e,t,n){return Rp(e,t,ch(n))}
var Mp=function(e,t){var n=Th.exact(t,0,t,0)
return wp(n)}
var Np=function(e,t){var n=Nn(t,"tr")
return ee(n).bind((function(t){return Vn(t,"td,th").map((function(t){return Mp(e,t)}))}))}
var Rp=function(e,t,n){return n.fold(E.none,E.none,(function(t,n){return xu(n).map((function(t){return Mp(e,t)}))}),(function(n){return yr(n,t).bind((function(t){e.execCommand("mceTableInsertRowAfter")
return Np(e,t)}))}))}
var zp=["table","li","dl"]
var Bp=function(e,t,n){if(e.keyCode===Lp.TAB){var r=Iu(t)
var o=function(e){var t=Zt(e)
return ht(e,r)||M(zp,t)}
var a=t.selection.getRng()
var i=ft.fromDom(e.shiftKey?a.startContainer:a.endContainer)
hr(i,o).each((function(r){e.preventDefault()
yr(r,o).each(n.clear)
t.selection.collapse(e.shiftKey)
var a=e.shiftKey?Ap:Dp
var i=a(t,o,r)
i.each((function(e){t.selection.setRng(e)}))}))}}
var Pp=function(e,t){return{selection:e,kill:t}}
var Ip={create:Pp}
var Hp=function(e,t,n,r){return{start:ph.on(e,t),finish:ph.on(n,r)}}
var Fp={create:Hp}
var Vp=function(e,t){var n=Fh(e,t)
return lh.create(ft.fromDom(n.startContainer),n.startOffset,ft.fromDom(n.endContainer),n.endOffset)}
var jp=Fp.create
var Up=function(e,t,n,r,o,a,i){return ht(n,o)&&r===a?E.none():jn(n,"td,th",t).bind((function(n){return jn(o,"td,th",t).bind((function(r){return Wp(e,t,n,r,i)}))}))}
var Wp=function(e,t,n,r,o){return ht(n,r)?E.none():Vo(n,r,t).bind((function(t){var r=t.boxes.getOr([])
if(r.length>0){o(e,r,t.start,t.finish)
return E.some(Ip.create(E.some(jp(n,0,n,pu(n))),true))}return E.none()}))}
var qp=function(e,t,n,r,o){var a=function(e){o.clearBeforeUpdate(n)
o.selectRange(n,e.boxes,e.start,e.finish)
return e.boxes}
return $o(r,e,t,o.firstSelectedSelector,o.lastSelectedSelector).map(a)}
var $p=function(e,t){return{item:e,mode:t}}
var Gp=function(e,t,n,r){void 0===r&&(r=Xp)
return e.property().parent(t).map((function(e){return $p(e,r)}))}
var Xp=function(e,t,n,r){void 0===r&&(r=Kp)
return n.sibling(e,t).map((function(e){return $p(e,r)}))}
var Kp=function(e,t,n,r){void 0===r&&(r=Kp)
var o=e.property().children(t)
var a=n.first(o)
return a.map((function(e){return $p(e,r)}))}
var Zp=[{current:Gp,next:Xp,fallback:E.none()},{current:Xp,next:Kp,fallback:E.some(Gp)},{current:Kp,next:Kp,fallback:E.some(Xp)}]
var Yp=function(e,t,n,r,o){void 0===o&&(o=Zp)
var a=U(o,(function(e){return e.current===n}))
return a.bind((function(n){return n.current(e,t,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return Yp(e,t,n,r)}))}))}))}
var Jp=function(){var e=function(e,t){return e.query().prevSibling(t)}
var t=function(e){return e.length>0?E.some(e[e.length-1]):E.none()}
return{sibling:e,first:t}}
var Qp=function(){var e=function(e,t){return e.query().nextSibling(t)}
var t=function(e){return e.length>0?E.some(e[0]):E.none()}
return{sibling:e,first:t}}
var eb={left:Jp,right:Qp}
var tb=function(e,t,n,r,o,a){var i=Yp(e,t,r,o)
return i.bind((function(t){return a(t.item)?E.none():n(t.item)?E.some(t.item):tb(e,t.item,n,t.mode,o,a)}))}
var nb=function(e,t,n,r){return tb(e,t,n,Xp,eb.left(),r)}
var rb=function(e,t,n,r){return tb(e,t,n,Xp,eb.right(),r)}
var ob=function(e){return function(t){return 0===e.property().children(t).length}}
var ab=function(e,t,n){return ub(e,t,ob(e),n)}
var ib=function(e,t,n){return cb(e,t,ob(e),n)}
var ub=nb
var cb=rb
var sb=_o()
var lb=function(e,t){return ab(sb,e,t)}
var fb=function(e,t){return ib(sb,e,t)}
var vb=function(e,t,n){return ub(sb,e,t,n)}
var db=function(e,t,n){return cb(sb,e,t,n)}
var mb=function(e,t,n){return zn(e,t,n).isSome()}
var gb=Zo.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}])
var hb=function(e,t,n){var r=e.getRect(t)
var o=e.getRect(n)
return o.right>r.left&&o.left<r.right}
var pb=function(e){return jn(e,"tr")}
var bb=function(e,t,n,r,o,a,i){return jn(r,"td,th",i).bind((function(n){return jn(t,"td,th",i).map((function(t){return ht(n,t)?ht(r,n)&&pu(n)===o?a(t):gb.none("in same cell"):Io(pb,[n,t]).fold((function(){return hb(e,t,n)?gb.success():a(t)}),(function(e){return a(t)}))}))})).getOr(gb.none("default"))}
var yb=function(e,t,n,r,o){return e.fold(t,n,r,o)}
var wb=ne(ne({},gb),{verify:bb,cata:yb})
var xb=function(e,t,n,r){return{parent:e,children:t,element:n,index:r}}
var Cb=function(e){return sn(e).bind((function(t){var n=mn(t)
return Sb(n,e).map((function(r){return xb(t,n,e,r)}))}))}
var Sb=function(e,t){return W(e,b(ht,t))}
var kb=function(e){return"br"===Zt(e)}
var Ob=function(e,t,n){return t(e,n).bind((function(e){return tn(e)&&0===ko(e).trim().length?Ob(e,t,n):E.some(e)}))}
var Tb=function(e,t,n){return n.traverse(t).orThunk((function(){return Ob(t,n.gather,e)})).map(n.relative)}
var Eb=function(e,t){return gn(e,t).filter(kb).orThunk((function(){return gn(e,t-1).filter(kb)}))}
var _b=function(e,t,n,r){return Eb(t,n).bind((function(t){return r.traverse(t).fold((function(){return Ob(t,r.gather,e).map(r.relative)}),(function(e){return Cb(e).map((function(e){return ph.on(e.parent,e.index)}))}))}))}
var Lb=function(e,t,n,r){var o=kb(t)?Tb(e,t,r):_b(e,t,n,r)
return o.map((function(e){return{start:e,finish:e}}))}
var Db=function(e){return wb.cata(e,(function(e){return E.none()}),(function(){return E.none()}),(function(e){return E.some(Hf(e,0))}),(function(e){return E.some(Hf(e,pu(e)))}))}
var Ab=function(e,t){return{left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}}
var Mb=function(e,t){return{left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}}
var Nb=function(e,t,n){return{left:e.left+t,top:e.top+n,right:e.right+t,bottom:e.bottom+n}}
var Rb=function(e){return e.top}
var zb=function(e){return e.bottom}
var Bb=function(e,t,n){if(n>=0&&n<pu(t))return e.getRangedRect(t,n,t,n+1)
if(n>0)return e.getRangedRect(t,n-1,t,n)
return E.none()}
var Pb=function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}
var Ib=function(e,t){return E.some(e.getRect(t))}
var Hb=function(e,t,n){return en(t)?Ib(e,t).map(Pb):tn(t)?Bb(e,t,n).map(Pb):E.none()}
var Fb=function(e,t){return en(t)?Ib(e,t).map(Pb):tn(t)?e.getRangedRect(t,0,t,pu(t)).map(Pb):E.none()}
var Vb=5
var jb=100
var Ub=Zo.generate([{none:[]},{retry:["caret"]}])
var Wb=function(e,t){return e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right}
var qb=function(e,t,n){return Bn(t,md).fold(x,(function(t){return Fb(e,t).exists((function(e){return Wb(n,e)}))}))}
var $b=function(e,t,n,r,o){var a=Ab(o,Vb)
return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?Ub.retry(a):n.top===o.bottom?Ub.retry(Ab(o,1)):qb(e,t,o)?Ub.retry(Nb(a,Vb,0)):Ub.none()}
var Gb=function(e,t,n,r,o){var a=Mb(o,Vb)
return Math.abs(n.top-r.top)<1||n.bottom<o.top?Ub.retry(a):n.bottom===o.top?Ub.retry(Mb(o,1)):qb(e,t,o)?Ub.retry(Nb(a,Vb,0)):Ub.none()}
var Xb={point:Rb,adjuster:Gb,move:Mb,gather:lb}
var Kb={point:zb,adjuster:$b,move:Ab,gather:fb}
var Zb=function(e,t,n){return e.elementFromPoint(t,n).filter((function(e){return"table"===Zt(e)})).isSome()}
var Yb=function(e,t,n,r,o){return Jb(e,t,n,t.move(r,Vb),o)}
var Jb=function(e,t,n,r,o){if(0===o)return E.some(r)
if(Zb(e,r.left,t.point(r)))return Yb(e,t,n,r,o-1)
return e.situsFromPoint(r.left,t.point(r)).bind((function(a){return a.start.fold(E.none,(function(a){return Fb(e,a).bind((function(i){return t.adjuster(e,a,i,n,r).fold(E.none,(function(r){return Jb(e,t,n,r,o-1)}))})).orThunk((function(){return E.some(r)}))}),E.none)}))}
var Qb=function(e,t){return e.situsFromPoint(t.left,t.bottom+Vb)}
var ey=function(e,t){return e.situsFromPoint(t.left,t.top-Vb)}
var ty=function(e,t,n){return e.point(t)>n.getInnerHeight()?E.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?E.some(-e.point(t)):E.none()}
var ny=function(e,t,n){var r=e.move(n,Vb)
var o=Jb(t,e,n,r,jb).getOr(r)
return ty(e,o,t).fold((function(){return t.situsFromPoint(o.left,e.point(o))}),(function(n){t.scrollBy(0,n)
return t.situsFromPoint(o.left,e.point(o)-n)}))}
var ry={tryUp:b(ny,Xb),tryDown:b(ny,Kb),ieTryUp:ey,ieTryDown:Qb,getJumpSize:h(Vb)}
var oy=20
var ay=function(e,t,n){return e.getSelection().bind((function(r){return Lb(t,r.finish,r.foffset,n).fold((function(){return E.some(Hf(r.finish,r.foffset))}),(function(o){var a=e.fromSitus(o)
var i=wb.verify(e,r.finish,r.foffset,a.finish,a.foffset,n.failure,t)
return Db(i)}))}))}
var iy=function(e,t,n,r,o,a){if(0===a)return E.none()
return sy(e,t,n,r,o).bind((function(i){var u=e.fromSitus(i)
var c=wb.verify(e,n,r,u.finish,u.foffset,o.failure,t)
return wb.cata(c,(function(){return E.none()}),(function(){return E.some(i)}),(function(i){return ht(n,i)&&0===r?uy(e,n,r,Mb,o):iy(e,t,i,0,o,a-1)}),(function(i){return ht(n,i)&&r===pu(i)?uy(e,n,r,Ab,o):iy(e,t,i,pu(i),o,a-1)}))}))}
var uy=function(e,t,n,r,o){return Hb(e,t,n).bind((function(t){return cy(e,o,r(t,ry.getJumpSize()))}))}
var cy=function(e,t,n){var r=Je().browser
return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?t.otherRetry(e,n):r.isIE()?t.ieRetry(e,n):E.none()}
var sy=function(e,t,n,r,o){return Hb(e,n,r).bind((function(t){return cy(e,o,t)}))}
var ly=function(e,t,n){return ay(e,t,n).bind((function(r){return iy(e,t,r.element,r.offset,n,oy).map(e.fromSitus)}))}
var fy=function(e,t){return mb(e,(function(e){return sn(e).exists((function(e){return ht(e,t)}))}))}
var vy=function(e,t,n,r,o){return jn(r,"td,th",t).bind((function(r){return jn(r,"table",t).bind((function(a){if(!fy(o,a))return E.none()
return ly(e,t,n).bind((function(e){return jn(e.finish,"td,th",t).map((function(t){return{start:r,finish:t,range:e}}))}))}))}))}
var dy=function(e,t,n,r,o,a){return Je().browser.isIE()?E.none():a(r,t).orThunk((function(){return vy(e,t,n,r,o).map((function(e){var t=e.range
return Ip.create(E.some(jp(t.start,t.soffset,t.finish,t.foffset)),true)}))}))}
var my=function(e,t){return jn(e,"tr",t).bind((function(e){return jn(e,"table",t).bind((function(n){var r=Nn(n,"tr")
return ht(e,r[0])?vb(n,(function(e){return Cu(e).isSome()}),t).map((function(e){var t=pu(e)
return Ip.create(E.some(jp(e,t,e,t)),true)})):E.none()}))}))}
var gy=function(e,t){return jn(e,"tr",t).bind((function(e){return jn(e,"table",t).bind((function(n){var r=Nn(n,"tr")
return ht(e,r[r.length-1])?db(n,(function(e){return xu(e).isSome()}),t).map((function(e){return Ip.create(E.some(jp(e,0,e,0)),true)})):E.none()}))}))}
var hy=function(e,t,n,r,o,a,i){return vy(e,n,r,o,a).bind((function(e){return Wp(t,n,e.start,e.finish,i)}))}
var py=function(){var e=nu(E.none())
var t=function(){return e.set(E.none())}
var n=function(t){return e.set(E.some(t))}
var r=function(){return e.get().isSome()}
var o=function(t){return e.get().each(t)}
return{clear:t,set:n,isSet:r,on:o}}
var by=function(e,t){return jn(e,"td,th",t)}
var yy=function(e,t,n,r){var o=py()
var a=o.clear
var i=function(a){o.on((function(o){r.clearBeforeUpdate(t)
by(a.target,n).each((function(a){Vo(o,a,n).each((function(n){var i=n.boxes.getOr([])
if(i.length>1||1===i.length&&!ht(o,a)){r.selectRange(t,i,n.start,n.finish)
e.selectContents(a)}}))}))}))}
var u=function(e){r.clear(t)
by(e.target,n).each(o.set)}
var c=function(e){i(e)}
var s=function(e){i(e)
a()}
return{clearstate:a,mousedown:u,mouseover:c,mouseup:s}}
var wy={traverse:dn,gather:fb,relative:ph.before,otherRetry:ry.tryDown,ieRetry:ry.ieTryDown,failure:wb.failedDown}
var xy={traverse:vn,gather:lb,relative:ph.before,otherRetry:ry.tryUp,ieRetry:ry.ieTryUp,failure:wb.failedUp}
var Cy=function(e){return function(t){return t===e}}
var Sy=Cy(38)
var ky=Cy(40)
var Oy=function(e){return e>=37&&e<=40}
var Ty={isBackward:Cy(37),isForward:Cy(39)}
var Ey={isBackward:Cy(39),isForward:Cy(37)}
var _y=function(e){var t=void 0!==e?e.dom:document
var n=t.body.scrollLeft||t.documentElement.scrollLeft
var r=t.body.scrollTop||t.documentElement.scrollTop
return Ea(n,r)}
var Ly=function(e,t,n){var r=void 0!==n?n.dom:document
var o=r.defaultView
o&&o.scrollBy(e,t)}
var Dy=function(e){var t=function(t,n){return ft.fromPoint(ft.fromDom(e.document),t,n)}
var n=function(e){return e.dom.getBoundingClientRect()}
var r=function(t,n,r,o){var a=Th.exact(t,n,r,o)
return Tp(e,a)}
var o=function(){return Op(e).map((function(t){return Vp(e,t)}))}
var a=function(t){var n=Th.relative(t.start,t.finish)
return Vp(e,n)}
var i=function(t,n){return Ep(e,t,n).map((function(e){return Fp.create(e.start,e.soffset,e.finish,e.foffset)}))}
var u=function(){_p(e)}
var c=function(t){void 0===t&&(t=false)
Op(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var o=t?n:r
yp(e,o,o)}),(function(n,r,o,a){var i=t?n:o
var u=t?r:a
bp(e,i,u,i,u)}))}))}
var s=function(t){Sp(e,t)}
var l=function(t){bp(e,t.start,t.soffset,t.finish,t.foffset)}
var f=function(t,n){yp(e,t,n)}
var v=function(){return e.innerHeight}
var d=function(){var t=_y(ft.fromDom(e.document))
return t.top}
var m=function(t,n){Ly(t,n,ft.fromDom(e.document))}
return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:o,fromSitus:a,situsFromPoint:i,clearSelection:u,collapseSelection:c,setSelection:l,setRelativeSelection:f,selectContents:s,getInnerHeight:v,getScrollY:d,scrollBy:m}}
var Ay=function(e,t){return{rows:e,cols:t}}
var My=function(e,t,n,r){var o=Dy(e)
var a=yy(o,t,n,r)
return{clearstate:a.clearstate,mousedown:a.mousedown,mouseover:a.mouseover,mouseup:a.mouseup}}
var Ny=function(e,t,n,r){var o=Dy(e)
var a=function(){r.clear(t)
return E.none()}
var i=function(e,i,u,c,s,l){var f=e.raw
var v=f.which
var d=true===f.shiftKey
var m=jo(t,r.selectedSelector).fold((function(){return ky(v)&&d?b(hy,o,t,n,wy,c,i,r.selectRange):Sy(v)&&d?b(hy,o,t,n,xy,c,i,r.selectRange):ky(v)?b(dy,o,n,wy,c,i,gy):Sy(v)?b(dy,o,n,xy,c,i,my):E.none}),(function(e){var n=function(n){return function(){var a=te(n,(function(n){return qp(n.rows,n.cols,t,e,r)}))
return a.fold((function(){return Wo(t,r.firstSelectedSelector,r.lastSelectedSelector).map((function(e){var n=ky(v)||l.isForward(v)?ph.after:ph.before
o.setRelativeSelection(ph.on(e.first,0),n(e.table))
r.clear(t)
return Ip.create(E.none(),true)}))}),(function(e){return E.some(Ip.create(E.none(),true))}))}}
return ky(v)&&d?n([Ay(1,0)]):Sy(v)&&d?n([Ay(-1,0)]):l.isBackward(v)&&d?n([Ay(0,-1),Ay(-1,0)]):l.isForward(v)&&d?n([Ay(0,1),Ay(1,0)]):Oy(v)&&false===d?a:E.none}))
return m()}
var u=function(e,o,a,i,u){return jo(t,r.selectedSelector).fold((function(){var c=e.raw
var s=c.which
var l=true===c.shiftKey
if(false===l)return E.none()
return Oy(s)?Up(t,n,o,a,i,u,r.selectRange):E.none()}),E.none)}
return{keydown:i,keyup:u}}
var Ry=function(e,t,n,r){var o=Dy(e)
return function(e,a){r.clearBeforeUpdate(t)
Vo(e,a,n).each((function(e){var n=e.boxes.getOr([])
r.selectRange(t,n,e.start,e.finish)
o.selectContents(a)
o.collapseSelection()}))}}
var zy=function(e,t){B(t,(function(t){Zs(e,t)}))}
var By=function(e){return function(t){Xs(t,e)}}
var Py=function(e){return function(t){zy(t,e)}}
var Iy=function(e){var t=By(e.selected)
var n=Py([e.selected,e.lastSelected,e.firstSelected])
var r=function(t){var r=Nn(t,e.selectedSelector)
B(r,n)}
var o=function(n,o,a,i){r(n)
B(o,t)
Xs(a,e.firstSelected)
Xs(i,e.lastSelected)}
return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}}
var Hy=function(e,t,n){var r=function(t){Xn(t,e.selected)
Xn(t,e.firstSelected)
Xn(t,e.lastSelected)}
var o=function(t){Wn(t,e.selected,"1")}
var a=function(e){i(e)
n()}
var i=function(t){var n=Nn(t,e.selectedSelector)
B(n,r)}
var u=function(n,r,i,u){a(n)
B(r,o)
Wn(i,e.firstSelected,"1")
Wn(u,e.lastSelected,"1")
t(r,i,u)}
return{clearBeforeUpdate:i,clear:a,selectRange:u,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}}
var Fy={byClass:Iy,byAttr:Hy}
var Vy=function(e,t,n){var r=e.slice(0,t[t.length-1].row+1)
var o=iv(r,n)
return $(o,(function(e){var n=e.cells.slice(0,t[t.length-1].column+1)
return z(n,(function(e){return e.element}))}))}
var jy=function(e,t,n){var r=e.slice(t[0].row+t[0].rowspan-1,e.length)
var o=iv(r,n)
return $(o,(function(e){var n=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length)
return z(n,(function(e){return e.element}))}))}
var Uy=function(e,t,n){var r=Kr.fromTable(e)
var o=gv(r,t)
return o.map((function(e){var t=rv(r,n,false)
var o=Vy(t,e,n)
var a=jy(t,e,n)
return{upOrLeftCells:o,downOrRightCells:a}}))}
var Wy=function(e){return false===Ys(ft.fromDom(e.target),"ephox-snooker-resizer-bar")}
function qy(e,t,n){var r=function(t,r,o){n.targets().each((function(n){var a=yr(r)
a.each((function(a){var i=Cf(e)
var u=Nu(d,ft.fromDom(e.getDoc()),i)
var c=Uy(a,n,u)
Vl(e,t,r,o,c)}))}))}
var o=function(){return jl(e)}
var a=Fy.byAttr(ic,r,o)
e.on("init",(function(n){var r=e.getWin()
var o=Iu(e)
var i=Vu(e)
var u=function(){var t=e.selection
var n=ft.fromDom(t.getStart())
var r=ft.fromDom(t.getEnd())
var i=Io(yr,[n,r])
i.fold((function(){return a.clear(o)}),d)}
var c=My(r,o,i,a)
var s=Ny(r,o,i,a)
var l=Ry(r,o,i,a)
var f=function(e){return true===e.raw.shiftKey}
e.on("TableSelectorChange",(function(e){return l(e.start,e.finish)}))
var v=function(t,n){if(!f(t))return
n.kill&&t.kill()
n.selection.each((function(t){var n=Th.relative(t.start,t.finish)
var o=Fh(r,n)
e.selection.setRng(o)}))}
var m=function(t){var n=Fs(t)
if(n.raw.shiftKey&&Oy(n.raw.which)){var r=e.selection.getRng()
var o=ft.fromDom(r.startContainer)
var a=ft.fromDom(r.endContainer)
s.keyup(n,o,r.startOffset,a,r.endOffset).each((function(e){v(n,e)}))}}
var g=function(n){var r=Fs(n)
t().each((function(e){return e.hideBars()}))
var o=e.selection.getRng()
var a=ft.fromDom(o.startContainer)
var i=ft.fromDom(o.endContainer)
var u=xa(Ty,Ey)(ft.fromDom(e.selection.getStart()))
s.keydown(r,a,o.startOffset,i,o.endOffset,u).each((function(e){v(r,e)}))
t().each((function(e){return e.showBars()}))}
var h=function(e){return 0===e.button}
var p=function(e){if(void 0===e.buttons)return true
if(Wg.browser.isEdge()&&0===e.buttons)return true
return 0!==(1&e.buttons)}
var b=function(e){c.clearstate()}
var y=function(e){h(e)&&Wy(e)&&c.mousedown(Fs(e))}
var w=function(e){p(e)&&Wy(e)&&c.mouseover(Fs(e))}
var x=function(e){h(e)&&Wy(e)&&c.mouseup(Fs(e))}
var C=function(){var e=nu(ft.fromDom(o))
var t=nu(0)
var n=function(n){var r=ft.fromDom(n.target)
if("td"===Zt(r)||"th"===Zt(r)){var o=e.get()
var a=t.get()
if(ht(o,r)&&n.timeStamp-a<300){n.preventDefault()
l(r,r)}}e.set(r)
t.set(n.timeStamp)}
return{touchEnd:n}}
var S=C()
e.on("dragstart",b)
e.on("mousedown",y)
e.on("mouseover",w)
e.on("mouseup",x)
e.on("touchend",S.touchEnd)
e.on("keyup",m)
e.on("keydown",g)
e.on("NodeChange",u)}))
return{clear:a.clear}}var $y=function(e,t){var n=nu(E.none())
var r=nu([])
var o=E.none()
var a=on("caption")
var i=function(e){return o.forall((function(t){return!t[e]}))}
var u=function(){return Dm(Xu(e),Vu(e)).bind((function(e){var n=yr(e)
return n.map((function(n){return a(e)?uc(e):cc(t,n,e)}))}))}
var c=function(e){var t=yr(e.element)
return t.map((function(t){var n=Kr.fromTable(t)
var r=gv(n,e).getOr([])
var o=V(r,(function(e,t){if(t.isLocked){e.onAny=true
0===t.column?e.onFirst=true:t.column+t.colspan>=n.grid.columns&&(e.onLast=true)}return e}),{onAny:false,onFirst:false,onLast:false})
return{mergeable:wv(n,e).isSome(),unmergeable:xv(n,e).isSome(),locked:o}}))}
var s=function(){n.set(oe(u)())
o=n.get().bind(c)
B(r.get(),(function(e){return e()}))}
var l=function(e,t){var o=function(){return n.get().fold((function(){e.setDisabled(true)}),(function(n){e.setDisabled(t(n))}))}
o()
r.set(r.get().concat([o]))
return function(){r.set(H(r.get(),(function(e){return e!==o})))}}
var f=function(e){return o.exists((function(t){return t.locked[e]}))}
var v=function(e){return l(e,(function(e){return false}))}
var d=function(e){return l(e,(function(e){return a(e.element)}))}
var m=function(e){return function(t){return l(t,(function(t){return a(t.element)||f(e)}))}}
var g=function(e){return function(t){return l(t,(function(t){return a(t.element)||e().isNone()}))}}
var h=function(e,t){return function(n){return l(n,(function(n){return a(n.element)||e().isNone()||f(t)}))}}
var p=function(e){return l(e,(function(e){return i("mergeable")}))}
var b=function(e){return l(e,(function(e){return i("unmergeable")}))}
e.on("NodeChange ExecCommand TableSelectorChange",s)
return{onSetupTable:v,onSetupCellOrRow:d,onSetupColumn:m,onSetupPasteable:g,onSetupPasteableColumn:h,onSetupMergeable:p,onSetupUnmergeable:b,resetTargets:s,targets:function(){return n.get()}}}
var Gy=function(e,t,n){e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(e){return e("inserttable | cell row column | advtablesort | tableprops deletetable")}})
var r=function(t){return function(){return e.execCommand(t)}}
e.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:t.onSetupTable})
e.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:t.onSetupTable})
e.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:t.onSetupCellOrRow})
e.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:t.onSetupMergeable})
e.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:t.onSetupUnmergeable})
e.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow})
e.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow})
e.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:t.onSetupCellOrRow})
e.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:t.onSetupCellOrRow})
e.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")})
e.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")})
e.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")})
e.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow})
e.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow})
e.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)})
e.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)})
e.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupColumn("onAny")})
e.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupColumn("onAny")})
e.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onFirst")})
e.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onLast")})
e.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})}
var Xy=function(e){var t=function(t){return e.dom.is(t,"table")&&e.getBody().contains(t)}
var n=hf(e)
n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})}
var Ky=function(e,t,n){var r=function(t){return function(){return e.execCommand(t)}}
var o=function(t){e.execCommand("mceInsertTable",false,{rows:t.numRows,columns:t.numColumns})}
var a={text:"Table properties",onSetup:t.onSetupTable,onAction:r("mceTableProps")}
var i={text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,onAction:r("mceTableDelete")}
e.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:t.onSetupCellOrRow})
e.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:t.onSetupCellOrRow})
e.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:t.onSetupCellOrRow})
e.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:t.onSetupCellOrRow})
e.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:t.onSetupCellOrRow})
e.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:t.onSetupCellOrRow})
e.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:t.onSetupPasteable(n.getRows)})
e.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:t.onSetupPasteable(n.getRows)})
var u={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}}
e.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:t.onSetupColumn("onFirst")})
e.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:t.onSetupColumn("onLast")})
e.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:t.onSetupColumn("onAny")})
e.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:t.onSetupColumn("onAny")})
e.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:t.onSetupColumn("onAny")})
e.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onFirst")})
e.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:t.onSetupPasteableColumn(n.getColumns,"onLast")})
var c={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}}
e.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:t.onSetupCellOrRow})
e.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:t.onSetupMergeable})
e.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:t.onSetupUnmergeable})
var s={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}}
false===cf(e)?e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}})
e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")})
e.ui.registry.addMenuItem("tableprops",a)
e.ui.registry.addMenuItem("deletetable",i)
e.ui.registry.addNestedMenuItem("row",u)
e.ui.registry.addNestedMenuItem("column",c)
e.ui.registry.addNestedMenuItem("cell",s)
e.ui.registry.addContextMenu("table",{update:function(){t.resetTargets()
return t.targets().fold((function(){return""}),(function(e){return"caption"===Zt(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})}
var Zy=function(e){var t=na((function(){return Iu(e)}),(function(){return Dm(Xu(e))}),ic.selectedSelector)
var n=$y(e,t)
var r=If(e)
var o=qy(e,r.lazyResize,n)
var a=Nm(e,r.lazyWire,t)
var i=eh()
Jg(e,a,o,t,i)
Qg(e,a,t)
mc(e,t,a,o)
Ky(e,n,i)
Gy(e,n,i)
Xy(e)
e.on("PreInit",(function(){e.serializer.addTempAttr(ic.firstSelected)
e.serializer.addTempAttr(ic.lastSelected)
nh(e)}))
nf(e)&&e.on("keydown",(function(t){Bp(t,e,o)}))
e.on("remove",(function(){r.destroy()}))
return Qm(e,i,r,n)}
function Yy(){ra.add("table",Zy)}Yy()})()},YBdB:function(e,t,n){(function(e,t){(function(e,n){"use strict"
if(e.setImmediate)return
var r=1
var o={}
var a=false
var i=e.document
var u
function c(e){"function"!==typeof e&&(e=new Function(""+e))
var t=new Array(arguments.length-1)
for(var n=0;n<t.length;n++)t[n]=arguments[n+1]
var a={callback:e,args:t}
o[r]=a
u(r)
return r++}function s(e){delete o[e]}function l(e){var t=e.callback
var r=e.args
switch(r.length){case 0:t()
break
case 1:t(r[0])
break
case 2:t(r[0],r[1])
break
case 3:t(r[0],r[1],r[2])
break
default:t.apply(n,r)}}function f(e){if(a)setTimeout(f,0,e)
else{var t=o[e]
if(t){a=true
try{l(t)}finally{s(e)
a=false}}}}function v(){u=function(e){t.nextTick((function(){f(e)}))}}function d(){if(e.postMessage&&!e.importScripts){var t=true
var n=e.onmessage
e.onmessage=function(){t=false}
e.postMessage("","*")
e.onmessage=n
return t}}function m(){var t="setImmediate$"+Math.random()+"$"
var n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))}
e.addEventListener?e.addEventListener("message",n,false):e.attachEvent("onmessage",n)
u=function(n){e.postMessage(t+n,"*")}}function g(){var e=new MessageChannel
e.port1.onmessage=function(e){var t=e.data
f(t)}
u=function(t){e.port2.postMessage(t)}}function h(){var e=i.documentElement
u=function(t){var n=i.createElement("script")
n.onreadystatechange=function(){f(t)
n.onreadystatechange=null
e.removeChild(n)
n=null}
e.appendChild(n)}}function p(){u=function(e){setTimeout(f,0,e)}}var b=Object.getPrototypeOf&&Object.getPrototypeOf(e)
b=b&&b.setTimeout?b:e
"[object process]"==={}.toString.call(e.process)?v():d()?m():e.MessageChannel?g():i&&"onreadystatechange"in i.createElement("script")?h():p()
b.setImmediate=c
b.clearImmediate=s})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n("yLpj"),n("8oxB"))},YTLx:function(e,t){(function(){"use strict"
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var t=tinymce.util.Tools.resolve("tinymce.util.VK")
var n=function(e){var t=typeof e
return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}
var r=function(e){return function(t){return n(t)===e}}
var o=function(e){return function(t){return typeof t===e}}
var a=function(e){return function(t){return e===t}}
var i=r("string")
var u=r("array")
var c=a(null)
var s=o("boolean")
var l=o("function")
var f=function(e){var t=e.getParam("link_assume_external_targets",false)
if(s(t)&&t)return 1
if(i(t)&&("http"===t||"https"===t))return t
return 0}
var v=function(e){return e.getParam("link_context_toolbar",false,"boolean")}
var d=function(e){return e.getParam("link_list")}
var m=function(e){return e.getParam("default_link_target")}
var g=function(e){return e.getParam("target_list",true)}
var h=function(e){return e.getParam("rel_list",[],"array")}
var p=function(e){return e.getParam("link_class_list",[],"array")}
var b=function(e){return e.getParam("link_title",true,"boolean")}
var y=function(e){return e.getParam("allow_unsafe_link_target",false,"boolean")}
var w=function(e){return e.getParam("link_quicklink",false,"boolean")}
var x=function(e){return e.getParam("link_default_protocol","http","string")}
var C=function(){}
var S=function(e){return function(){return e}}
var k=S(false)
var O=S(true)
var T=function(){return E}
var E=function(){var e=function(e){return e.isNone()}
var t=function(e){return e()}
var n=function(e){return e}
var r={fold:function(e,t){return e()},is:k,isSome:k,isNone:O,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:n,orThunk:t,map:T,each:C,bind:T,exists:k,forall:O,filter:T,equals:e,equals_:e,toArray:function(){return[]},toString:S("none()")}
return r}()
var _=function(e){var t=S(e)
var n=function(){return o}
var r=function(t){return t(e)}
var o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:O,isNone:k,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return _(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:E},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(k,(function(t){return n(e,t)}))}}
return o}
var L=function(e){return null===e||void 0===e?E:_(e)}
var D={some:_,none:T,from:L}
var A=Array.prototype.indexOf
var M=Array.prototype.push
var N=function(e,t){return A.call(e,t)}
var R=function(e,t){return N(e,t)>-1}
var z=function(e,t){var n=e.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=e[o]
r[o]=t(a,o)}return r}
var B=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
t(o,n)}}
var P=function(e,t,n){B(e,(function(e){n=t(n,e)}))
return n}
var I=function(e){var t=[]
for(var n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)
M.apply(t,e[n])}return t}
var H=function(e,t){return I(z(e,t))}
var F=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n)
if(r.isSome())return r}return D.none()}
var V=function(e){var t=[]
var n=function(e){t.push(e)}
for(var r=0;r<e.length;r++)e[r].each(n)
return t}
var j=function(e,t){return e?D.some(t):D.none()}
var U=tinymce.util.Tools.resolve("tinymce.util.Tools")
var W=function(e){return i(e.value)?e.value:""}
var q=function(e){return i(e.text)?e.text:i(e.title)?e.title:""}
var $=function(e,t){var n=[]
U.each(e,(function(e){var r=q(e)
if(void 0!==e.menu){var o=$(e.menu,t)
n.push({text:r,items:o})}else{var a=t(e)
n.push({text:r,value:a})}}))
return n}
var G=function(e){void 0===e&&(e=W)
return function(t){return D.from(t).map((function(t){return $(t,e)}))}}
var X=function(e){return G(W)(e)}
var K=function(e,t){return function(n){return{name:e,type:"listbox",label:t,items:n}}}
var Z={sanitize:X,sanitizeWith:G,createUi:K,getValue:W}
var Y=function(){Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n]
for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}
return Y.apply(this,arguments)}
var J=Object.keys
var Q=Object.hasOwnProperty
var ee=function(e,t){var n=J(e)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=e[a]
t(i,a)}}
var te=function(e){return function(t,n){e[n]=t}}
var ne=function(e,t,n,r){var o={}
ee(e,(function(e,o){(t(e,o)?n:r)(e,o)}))
return o}
var re=function(e,t){var n={}
ne(e,t,te(n),C)
return n}
var oe=function(e,t){return Q.call(e,t)}
var ae=function(e,t){return oe(e,t)&&void 0!==e[t]&&null!==e[t]}
var ie=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var ue=function(e){return e&&"a"===e.nodeName.toLowerCase()}
var ce=function(e){return ue(e)&&!!fe(e)}
var se=function(e,t){if(e.collapsed)return[]
var n=e.cloneContents()
var r=new ie(n.firstChild,n)
var o=[]
var a=n.firstChild
do{t(a)&&o.push(a)}while(a=r.next())
return o}
var le=function(e){return/^\w+:/i.test(e)}
var fe=function(e){var t=e.getAttribute("data-mce-href")
return t||e.getAttribute("href")}
var ve=function(e,t){var n=["noopener"]
var r=e?e.split(/\s+/):[]
var o=function(e){return U.trim(e.sort().join(" "))}
var a=function(e){e=i(e)
return e.length>0?e.concat(n):n}
var i=function(e){return e.filter((function(e){return-1===U.inArray(n,e)}))}
var u=t?a(r):i(r)
return u.length>0?o(u):""}
var de=function(e){return e.replace(/\uFEFF/g,"")}
var me=function(e,t){t=t||e.selection.getNode()
return ye(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")}
var ge=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"})
return de(n)}
var he=function(e){return U.grep(e,ce).length>0}
var pe=function(e){return se(e,ce).length>0}
var be=function(e){var t=e.schema.getTextInlineElements()
var n=function(e){return 1===e.nodeType&&!ue(e)&&!oe(t,e.nodeName.toLowerCase())}
var r=se(e.selection.getRng(),n)
return 0===r.length}
var ye=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)}
var we=function(e){return P(["title","rel","class","target"],(function(t,n){e[n].each((function(e){t[n]=e.length>0?e:null}))
return t}),{href:e.href})}
var xe=function(e,t){if(("http"===t||"https"===t)&&!le(e))return t+"://"+e
return e}
var Ce=function(e,t){var n=Y({},t)
if(!(h(e).length>0)&&false===y(e)){var r=ve(n.rel,"_blank"===n.target)
n.rel=r||null}D.from(n.target).isNone()&&false===g(e)&&(n.target=m(e))
n.href=xe(n.href,f(e))
return n}
var Se=function(e,t,n,r){n.each((function(e){t.hasOwnProperty("innerText")?t.innerText=e:t.textContent=e}))
e.dom.setAttribs(t,r)
e.selection.select(t)}
var ke=function(e,t,n,r){ye(t)?Me(e,t,r):n.fold((function(){e.execCommand("mceInsertLink",false,r)}),(function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))}))}
var Oe=function(e,t,n){var r=e.selection.getNode()
var o=me(e,r)
var a=Ce(e,we(n))
e.undoManager.transact((function(){n.href===t.href&&t.attach()
if(o){e.focus()
Se(e,o,n.text,a)}else ke(e,r,n.text,a)}))}
var Te=function(e){var t=e.dom,n=e.selection
var r=n.getBookmark()
var o=n.getRng().cloneRange()
var a=t.getParent(o.startContainer,"a[href]",e.getBody())
var i=t.getParent(o.endContainer,"a[href]",e.getBody())
a&&o.setStartBefore(a)
i&&o.setEndAfter(i)
n.setRng(o)
e.execCommand("unlink")
n.moveToBookmark(r)}
var Ee=function(e){e.undoManager.transact((function(){var t=e.selection.getNode()
ye(t)?Ae(e,t):Te(e)
e.focus()}))}
var _e=function(e){var t=e.class,n=e.href,r=e.rel,o=e.target,a=e.text,i=e.title
return re({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:a.getOrNull(),title:i.getOrNull()},(function(e,t){return false===c(e)}))}
var Le=function(e,t,n){e.hasPlugin("rtc",true)?e.execCommand("createlink",false,_e(n)):Oe(e,t,n)}
var De=function(e){e.hasPlugin("rtc",true)?e.execCommand("unlink"):Ee(e)}
var Ae=function(e,t){var n=e.dom.select("img",t)[0]
if(n){var r=e.dom.getParents(n,"a[href]",t)[0]
if(r){r.parentNode.insertBefore(n,r)
e.dom.remove(r)}}}
var Me=function(e,t,n){var r=e.dom.select("img",t)[0]
if(r){var o=e.dom.create("a",n)
r.parentNode.insertBefore(o,r)
o.appendChild(r)}}
var Ne=function(e){return ae(e,"items")}
var Re=function(e,t){return F(t,(function(t){return Ne(t)?Re(e,t.items):j(t.value===e,t)}))}
var ze=function(e,t,n,r){var o=r[t]
var a=e.length>0
return void 0!==o?Re(o,n).map((function(t){return{url:{value:t.value,meta:{text:a?e:t.text,attach:C}},text:a?e:t.text}})):D.none()}
var Be=function(e,t){return"link"===t?e.link:"anchor"===t?e.anchor:D.none()}
var Pe=function(e,t){var n={text:e.text,title:e.title}
var r=function(e){return j(n.title.length<=0,D.from(e.meta.title).getOr(""))}
var o=function(e){return j(n.text.length<=0,D.from(e.meta.text).getOr(e.value))}
var a=function(e){var t=o(e.url)
var n=r(e.url)
return t.isSome()||n.isSome()?D.some(Y(Y({},t.map((function(e){return{text:e}})).getOr({})),n.map((function(e){return{title:e}})).getOr({}))):D.none()}
var i=function(e,r){var o=Be(t,r.name).getOr([])
return ze(n.text,r.name,o,e)}
var u=function(e,t){var r=t.name
if("url"===r)return a(e())
if(R(["anchor","link"],r))return i(e(),t)
if("text"===r||"title"===r){n[r]=e()[r]
return D.none()}return D.none()}
return{onChange:u}}
var Ie={init:Pe,getDelta:ze}
var He=tinymce.util.Tools.resolve("tinymce.util.Delay")
var Fe=tinymce.util.Tools.resolve("tinymce.util.Promise")
var Ve=function(e,t,n){var r=e.selection.getRng()
He.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(r)
n(t)}))}))}
var je=function(e){var t=e.href
var n=t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")
return n?D.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return Y(Y({},e),{href:"mailto:"+t})}}):D.none()}
var Ue=function(e,t){return function(n){var r=n.href
var o=1===e&&!le(r)||0===e&&/^\s*www(\.|\d\.)/i.test(r)
return o?D.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+t+":// prefix?",preprocess:function(e){return Y(Y({},e),{href:t+"://"+r})}}):D.none()}}
var We=function(e,t){return F([je,Ue(f(e),x(e))],(function(e){return e(t)})).fold((function(){return Fe.resolve(t)}),(function(n){return new Fe((function(r){Ve(e,n.message,(function(e){r(e?n.preprocess(t):t)}))}))}))}
var qe={preprocess:We}
var $e=function(e){var t=e.dom.select("a:not([href])")
var n=H(t,(function(e){var t=e.name||e.id
return t?[{text:t,value:"#"+t}]:[]}))
return n.length>0?D.some([{text:"None",value:""}].concat(n)):D.none()}
var Ge={getAnchors:$e}
var Xe=function(e){var t=p(e)
if(t.length>0)return Z.sanitize(t)
return D.none()}
var Ke={getClasses:Xe}
var Ze=tinymce.util.Tools.resolve("tinymce.util.XHR")
var Ye=function(e){try{return D.some(JSON.parse(e))}catch(e){return D.none()}}
var Je=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")}
var n=d(e)
return new Fe((function(e){i(n)?Ze.send({url:n,success:function(t){return e(Ye(t))},error:function(t){return e(D.none())}}):l(n)?n((function(t){return e(D.some(t))})):e(D.from(n))})).then((function(e){return e.bind(Z.sanitizeWith(t)).map((function(e){if(e.length>0){var t=[{text:"None",value:""}]
return t.concat(e)}return e}))}))}
var Qe={getLinks:Je}
var et=function(e,t){var n=h(e)
if(n.length>0){var r=t.is("_blank")
var o=false===y(e)
var a=function(e){return ve(Z.getValue(e),r)}
var i=o?Z.sanitizeWith(a):Z.sanitize
return i(n)}return D.none()}
var tt={getRels:et}
var nt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}]
var rt=function(e){var t=g(e)
if(u(t))return Z.sanitize(t).orThunk((function(){return D.some(nt)}))
if(false===t)return D.none()
return D.some(nt)}
var ot={getTargets:rt}
var at=function(e,t,n){var r=e.getAttrib(t,n)
return null!==r&&r.length>0?D.some(r):D.none()}
var it=function(e,t){var n=e.dom
var r=be(e)
var o=r?D.some(ge(e.selection,t)):D.none()
var a=t?D.some(n.getAttrib(t,"href")):D.none()
var i=t?D.from(n.getAttrib(t,"target")):D.none()
var u=at(n,t,"rel")
var c=at(n,t,"class")
var s=at(n,t,"title")
return{url:a,text:o,title:s,target:i,rel:u,linkClass:c}}
var ut=function(e,t){return Qe.getLinks(e).then((function(n){var r=it(e,t)
return{anchor:r,catalogs:{targets:ot.getTargets(e),rels:tt.getRels(e,r.target),classes:Ke.getClasses(e),anchor:Ge.getAnchors(e),link:n},optNode:D.from(t),flags:{titleEnabled:b(e)}}}))}
var ct={collect:ut}
var st=function(e,t){return function(n){var r=n.getData()
if(!r.url.value){De(e)
n.close()
return}var o=function(e){return D.from(r[e]).filter((function(n){return!t.anchor[e].is(n)}))}
var a={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")}
var i={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:C}
qe.preprocess(e,a).then((function(t){Le(e,i,t)}))
n.close()}}
var lt=function(e){var t=me(e)
return ct.collect(e,t)}
var ft=function(e,t){var n=e.anchor
var r=n.url.getOr("")
return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}}
var vt=function(e,t,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}]
var o=e.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray()
var a=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[]
var i=D.from(m(n))
var u=ft(e,i)
var c=e.catalogs
var s=Ie.init(u,c)
var l={type:"panel",items:I([r,o,a,V([c.anchor.map(Z.createUi("anchor","Anchors")),c.rels.map(Z.createUi("rel","Rel")),c.targets.map(Z.createUi("target","Open link in...")),c.link.map(Z.createUi("link","Link list")),c.classes.map(Z.createUi("linkClass","Class"))])])}
return{title:"Insert/Edit Link",size:"normal",body:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:u,onChange:function(e,t){var n=t.name
s.onChange(e.getData,{name:n}).each((function(t){e.setData(t)}))},onSubmit:t}}
var dt=function(e){var t=lt(e)
t.then((function(t){var n=st(e,t)
return vt(t,n,e)})).then((function(t){e.windowManager.open(t)}))}
var mt=function(e,t){document.body.appendChild(e)
e.dispatchEvent(t)
document.body.removeChild(e)}
var gt=function(e){var t=document.createElement("a")
t.target="_blank"
t.href=e
t.rel="noreferrer noopener"
var n=document.createEvent("MouseEvents")
n.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null)
mt(t,n)}
var ht=function(e,t){return e.dom.getParent(t,"a[href]")}
var pt=function(e){return ht(e,e.selection.getStart())}
var bt=function(e){return true===e.altKey&&false===e.shiftKey&&false===e.ctrlKey&&false===e.metaKey}
var yt=function(e,t){if(t){var n=fe(t)
if(/^#/.test(n)){var r=e.$(n)
r.length&&e.selection.scrollIntoView(r[0],true)}else gt(t.href)}}
var wt=function(e){return function(){dt(e)}}
var xt=function(e){return function(){yt(e,pt(e))}}
var Ct=function(e){e.on("click",(function(n){var r=ht(e,n.target)
if(r&&t.metaKeyPressed(n)){n.preventDefault()
yt(e,r)}}))
e.on("keydown",(function(t){var n=pt(e)
if(n&&13===t.keyCode&&bt(t)){t.preventDefault()
yt(e,n)}}))}
var St=function(e,t){e.on("NodeChange",t)
return function(){return e.off("NodeChange",t)}}
var kt=function(e){return function(t){return St(e,(function(){t.setActive(!e.mode.isReadOnly()&&null!==me(e,e.selection.getNode()))}))}}
var Ot=function(e){return function(t){var n=function(){return t.setDisabled(null===me(e,e.selection.getNode()))}
n()
return St(e,n)}}
var Tt=function(e){return function(t){var n=function(t){return he(t)||pe(e.selection.getRng())}
var r=e.dom.getParents(e.selection.getStart())
t.setDisabled(!n(r))
return St(e,(function(e){return t.setDisabled(!n(e.parents))}))}}
var Et=function(e){e.addCommand("mceLink",(function(){w(e)?e.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):wt(e)()}))}
var _t=function(e){e.addShortcut("Meta+K","",(function(){e.execCommand("mceLink")}))}
var Lt=function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:wt(e),onSetup:kt(e)})
e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:xt(e),onSetup:Ot(e)})
e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return De(e)},onSetup:Tt(e)})}
var Dt=function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:xt(e),onSetup:Ot(e)})
e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:wt(e)})
e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return De(e)},onSetup:Tt(e)})}
var At=function(e){var t="link unlink openlink"
var n="link"
e.ui.registry.addContextMenu("link",{update:function(r){return he(e.dom.getParents(r,"a"))?t:n}})}
var Mt=function(e){var t=function(e){e.selection.collapse(false)}
var n=function(t){var n=e.selection.getNode()
t.setDisabled(!me(e,n))
return C}
e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:kt(e)},label:"Link",predicate:function(t){return!!me(e,t)&&v(e)},initValue:function(){var t=me(e)
return!t?"":fe(t)},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:true,onSetup:function(t){var n=e.selection.getNode()
t.setActive(!!me(e,n))
return kt(e)(t)},onAction:function(n){var r=me(e)
var o=n.getValue()
if(r)e.undoManager.transact((function(){e.dom.setAttrib(r,"href",o)
t(e)
n.hide()}))
else{var a={href:o,attach:C}
var i=be(e)
var u=i?D.some(ge(e.selection,r)).filter((function(e){return e.length>0})).or(D.from(o)):D.none()
Le(e,a,{href:o,text:u,title:D.none(),rel:D.none(),target:D.none(),class:D.none()})
n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(t){De(e)
t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(t){xt(e)()
t.hide()}}]})}
function Nt(){e.add("link",(function(e){Lt(e)
Dt(e)
At(e)
Mt(e)
Ct(e)
Et(e)
_t(e)}))}Nt()})()},"a+My":function(e,t){(function(){"use strict"
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var t=function(e){e.addCommand("InsertHorizontalRule",(function(){e.execCommand("mceInsertContent",false,"<hr />")}))}
var n=function(e){e.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return e.execCommand("InsertHorizontalRule")}})
e.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return e.execCommand("InsertHorizontalRule")}})}
function r(){e.add("hr",(function(e){t(e)
n(e)}))}r()})()},eYD6:function(e,t){(function(){"use strict"
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var t=function(){t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n]
for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}
return t.apply(this,arguments)}
var n=function(e){var t=typeof e
return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}
var r=function(e){return function(t){return n(t)===e}}
var o=r("string")
var a=r("object")
var i=r("array")
var u=function(e){return null===e||void 0===e}
var c=function(e){return!u(e)}
var s=function(){}
var l=function(e){return function(){return e}}
var f=l(false)
var v=l(true)
var d=function(){return m}
var m=(g=function(e){return e.isNone()},h=function(e){return e()},p=function(e){return e},b={fold:function(e,t){return e()},is:f,isSome:f,isNone:v,getOr:p,getOrThunk:h,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:p,orThunk:h,map:d,each:s,bind:d,exists:f,forall:v,filter:d,equals:g,equals_:g,toArray:function(){return[]},toString:l("none()")},b)
var g,h,p,b
var y=function(e){var t=l(e)
var n=function(){return o}
var r=function(t){return t(e)}
var o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:v,isNone:f,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:m},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(f,(function(t){return n(e,t)}))}}
return o}
var w=function(e){return null===e||void 0===e?m:y(e)}
var x={some:y,none:d,from:w}
var C=Array.prototype.push
var S=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n]
t(o,n)}}
var k=function(e){var t=[]
for(var n=0,r=e.length;n<r;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e)
C.apply(t,e[n])}return t}
var O=function(e){var t=e
var n=function(){return t}
var r=function(e){t=e}
return{get:n,set:r}}
var T=Object.keys
var E=Object.hasOwnProperty
var _=function(e,t){var n=T(e)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=e[a]
t(i,a)}}
var L=function(e,t){return D(e,t)?x.from(e[t]):x.none()}
var D=function(e,t){return E.call(e,t)}
var A=function(e){return e.getParam("media_scripts")}
var M=function(e){return e.getParam("audio_template_callback")}
var N=function(e){return e.getParam("video_template_callback")}
var R=function(e){return e.getParam("media_live_embeds",true)}
var z=function(e){return e.getParam("media_filter_html",true)}
var B=function(e){return e.getParam("media_url_resolver")}
var P=function(e){return e.getParam("media_alt_source",true)}
var I=function(e){return e.getParam("media_poster",true)}
var H=function(e){return e.getParam("media_dimensions",true)}
var F=tinymce.util.Tools.resolve("tinymce.util.Tools")
var V=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var j=tinymce.util.Tools.resolve("tinymce.html.SaxParser")
var U=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]}
var W=V.DOM
var q=function(e){return e.replace(/px$/,"")}
var $=function(e){var t=e.map.style
var n=t?W.parseStyle(t):{}
return{type:"ephox-embed-iri",source:e.map["data-ephox-embed-iri"],altsource:"",poster:"",width:L(n,"max-width").map(q).getOr(""),height:L(n,"max-height").map(q).getOr("")}}
var G=function(e,t){var n=O(false)
var r={}
j({validate:false,allow_conditional_comments:true,start:function(t,o){if(n.get());else if(D(o.map,"data-ephox-embed-iri")){n.set(true)
r=$(o)}else{r.source||"param"!==t||(r.source=o.map.movie)
if("iframe"===t||"object"===t||"embed"===t||"video"===t||"audio"===t){r.type||(r.type=t)
r=F.extend(o.map,r)}if("script"===t){var a=U(e,o.map.src)
if(!a)return
r={type:"script",source:o.map.src,width:String(a.width),height:String(a.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src)
"img"!==t||r.poster||(r.poster=o.map.src)}}}).parse(t)
r.source=r.source||r.src||r.data
r.altsource=r.altsource||""
r.poster=r.poster||""
return r}
var X=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}
var n=e.toLowerCase().split(".").pop()
var r=t[n]
return r||""}
var K=tinymce.util.Tools.resolve("tinymce.html.Schema")
var Z=tinymce.util.Tools.resolve("tinymce.html.Writer")
var Y=V.DOM
var J=function(e){return/^[0-9.]+$/.test(e)?e+"px":e}
var Q=function(e,t){_(t,(function(t,n){var r=""+t
if(e.map[n]){var o=e.length
while(o--){var a=e[o]
if(a.name===n)if(r){e.map[n]=r
a.value=r}else{delete e.map[n]
e.splice(o,1)}}}else if(r){e.push({name:n,value:r})
e.map[n]=r}}))}
var ee=function(e,t){var n=t.map.style
var r=n?Y.parseStyle(n):{}
r["max-width"]=J(e.width)
r["max-height"]=J(e.height)
Q(t,{style:Y.serializeStyle(r)})}
var te=["source","altsource"]
var ne=function(e,t,n){var r=Z()
var o=O(false)
var a=0
var i
j({validate:false,allow_conditional_comments:true,comment:function(e){r.comment(e)},cdata:function(e){r.cdata(e)},text:function(e,t){r.text(e,t)},start:function(e,u,c){if(o.get());else if(D(u.map,"data-ephox-embed-iri")){o.set(true)
ee(t,u)}else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&Q(u,{width:t.width,height:t.height})}if(n)switch(e){case"video":Q(u,{poster:t.poster,src:""})
t.altsource&&Q(u,{src:""})
break
case"iframe":Q(u,{src:t.source})
break
case"source":if(a<2){Q(u,{src:t[te[a]],type:t[te[a]+"mime"]})
if(!t[te[a]])return}a++
break
case"img":if(!t.poster)return
i=true}}r.start(e,u,c)},end:function(e){if(!o.get()){if("video"===e&&n)for(var u=0;u<2;u++)if(t[te[u]]){var c=[]
c.map={}
if(a<=u){Q(c,{src:t[te[u]],type:t[te[u]+"mime"]})
r.start("source",c,true)}}if(t.poster&&"object"===e&&n&&!i){var s=[]
s.map={}
Q(s,{src:t.poster,width:t.width,height:t.height})
r.start("img",s,true)}}r.end(e)}},K({})).parse(e)
return r.getContent()}
var re=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:true},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:true},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:true},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:true},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:true},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:false},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:true},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:true}]
var oe=function(e){var t=e.match(/^(https?:\/\/|www\.)(.+)$/i)
return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"}
var ae=function(e,t){var n=oe(t)
var r=e.regex.exec(t)
var o=n+e.url
var a=function(e){o=o.replace("$"+e,(function(){return r[e]?r[e]:""}))}
for(var i=0;i<r.length;i++)a(i)
return o.replace(/\?$/,"")}
var ie=function(e){var t=re.filter((function(t){return t.regex.test(e)}))
return t.length>0?F.extend({},t[0],{url:ae(t[0],e)}):null}
var ue=function(e){var t=e.allowfullscreen?' allowFullscreen="1"':""
return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}
var ce=function(e){var t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">'
e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />')
t+="</object>"
return t}
var se=function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>"}
var le=function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>"}
var fe=function(e){return'<script src="'+e.source+'"><\/script>'}
var ve=function(e,t){var n=F.extend({},t)
if(!n.source){F.extend(n,G(A(e),n.embed))
if(!n.source)return""}n.altsource||(n.altsource="")
n.poster||(n.poster="")
n.source=e.convertURL(n.source,"source")
n.altsource=e.convertURL(n.altsource,"source")
n.sourcemime=X(n.source)
n.altsourcemime=X(n.altsource)
n.poster=e.convertURL(n.poster,"poster")
var r=ie(n.source)
if(r){n.source=r.url
n.type=r.type
n.allowfullscreen=r.allowFullscreen
n.width=n.width||String(r.w)
n.height=n.height||String(r.h)}if(n.embed)return ne(n.embed,n,true)
var o=U(A(e),n.source)
if(o){n.type="script"
n.width=String(o.width)
n.height=String(o.height)}var a=M(e)
var i=N(e)
n.width=n.width||"300"
n.height=n.height||"150"
F.each(n,(function(t,r){n[r]=e.dom.encode(""+t)}))
return"iframe"===n.type?ue(n):"application/x-shockwave-flash"===n.sourcemime?ce(n):-1!==n.sourcemime.indexOf("audio")?se(n,a):"script"===n.type?fe(n):le(n,i)}
var de=tinymce.util.Tools.resolve("tinymce.util.Promise")
var me={}
var ge=function(e,t,n){return new de((function(r,o){var a=function(n){n.html&&(me[e.source]=n)
return r({url:e.source,html:n.html?n.html:t(e)})}
me[e.source]?a(me[e.source]):n({url:e.source},a,o)}))}
var he=function(e,t){return new de((function(n){n({html:t(e),url:e.source})}))}
var pe=function(e){return function(t){return ve(e,t)}}
var be=function(e,t){var n=B(e)
return n?ge(t,pe(e),n):he(t,pe(e))}
var ye=function(e){return me.hasOwnProperty(e)}
var we=function(e,t){return L(t,e).bind((function(e){return L(e,"meta")}))}
var xe=function(e,t,n){return function(r){var o
var i=function(){return L(e,r)}
var u=function(){return L(t,r)}
var c=function(e){return L(e,"value").bind((function(e){return e.length>0?x.some(e):x.none()}))}
var s=function(){return i().bind((function(e){return a(e)?c(e).orThunk(u):u().orThunk((function(){return x.from(e)}))}))}
var l=function(){return u().orThunk((function(){return i().bind((function(e){return a(e)?c(e):x.from(e)}))}))}
return o={},o[r]=(r===n?s():l()).getOr(""),o}}
var Ce=function(e,t){var n={}
L(e,"dimensions").each((function(e){S(["width","height"],(function(r){L(t,r).orThunk((function(){return L(e,r)})).each((function(e){return n[r]=e}))}))}))
return n}
var Se=function(e,n){var r=n?we(n,e).getOr({}):{}
var o=xe(e,r,n)
return t(t(t(t(t({},o("source")),o("altsource")),o("poster")),o("embed")),Ce(e,r))}
var ke=function(e){var n=t(t({},e),{source:{value:L(e,"source").getOr("")},altsource:{value:L(e,"altsource").getOr("")},poster:{value:L(e,"poster").getOr("")}})
S(["width","height"],(function(t){L(e,t).each((function(e){var r=n.dimensions||{}
r[t]=e
n.dimensions=r}))}))
return n}
var Oe=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error."
e.notificationManager.open({type:"error",text:n})}}
var Te=function(e,t){return G(A(e),t)}
var Ee=function(e){return e.getAttribute("data-mce-object")||e.getAttribute("data-ephox-embed-iri")}
var _e=function(e){var n=e.selection.getNode()
var r=Ee(n)?e.serializer.serialize(n,{selection:true}):""
return t({embed:r},G(A(e),r))}
var Le=function(e,n){return function(r){if(o(r.url)&&r.url.trim().length>0){var a=r.html
var i=Te(n,a)
var u=t(t({},i),{source:r.url,embed:a})
e.setData(ke(u))}}}
var De=function(e,t){var n=e.dom.select("*[data-mce-object]")
for(var r=0;r<t.length;r++)for(var o=n.length-1;o>=0;o--)t[r]===n[o]&&n.splice(o,1)
e.selection.select(n[0])}
var Ae=function(e,t){var n=e.dom.select("*[data-mce-object]")
e.insertContent(t)
De(e,n)
e.nodeChanged()}
var Me=function(e,t,n){t.embed=ne(t.embed,t)
t.embed&&(e.source===t.source||ye(t.source))?Ae(n,t.embed):be(n,t).then((function(e){Ae(n,e.html)})).catch(Oe(n))}
var Ne=function(e){var n=_e(e)
var r=O(n)
var o=ke(n)
var a=function(t,n){var r=Se(n.getData(),"source")
if(t.source!==r.source){Le(p,e)({url:r.source,html:""})
be(e,r).then(Le(p,e)).catch(Oe(e))}}
var i=function(t){var n=Se(t.getData())
var r=Te(e,n.embed)
t.setData(ke(r))}
var u=function(n,r){var o=Se(n.getData(),r)
var a=ve(e,o)
n.setData(ke(t(t({},o),{embed:a})))}
var c=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}]
var s=H(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:true}]:[]
var l={title:"General",name:"general",items:k([c,s])}
var f={type:"textarea",name:"embed",label:"Paste your embed code below:"}
var v={title:"Embed",items:[f]}
var d=[]
P(e)&&d.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"})
I(e)&&d.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"})
var m={title:"Advanced",name:"advanced",items:d}
var g=[l,v]
d.length>0&&g.push(m)
var h={type:"tabpanel",tabs:g}
var p=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:h,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:function(t){var n=Se(t.getData())
Me(r.get(),n,e)
t.close()},onChange:function(e,t){switch(t.name){case"source":a(r.get(),e)
break
case"embed":i(e)
break
case"dimensions":case"altsource":case"poster":u(e,t.name)}r.set(Se(e.getData()))},initialData:o})}
var Re=function(e){var t=function(){Ne(e)}
return{showDialog:t}}
var ze=function(e){var t=function(){Ne(e)}
e.addCommand("mceMedia",t)}
var Be=tinymce.util.Tools.resolve("tinymce.html.Node")
var Pe=tinymce.util.Tools.resolve("tinymce.Env")
var Ie=tinymce.util.Tools.resolve("tinymce.html.DomParser")
var He=function(e,t){if(false===z(e))return t
var n=Z()
var r
j({validate:false,allow_conditional_comments:false,comment:function(e){r||n.comment(e)},cdata:function(e){r||n.cdata(e)},text:function(e,t){r||n.text(e,t)},start:function(t,o,a){r=true
if("script"===t||"noscript"===t||"svg"===t)return
for(var i=o.length-1;i>=0;i--){var u=o[i].name
if(0===u.indexOf("on")){delete o.map[u]
o.splice(i,1)}"style"===u&&(o[i].value=e.dom.serializeStyle(e.dom.parseStyle(o[i].value),t))}n.start(t,o,a)
r=false},end:function(e){if(r)return
n.end(e)}},K({})).parse(t)
return n.getContent()}
var Fe=function(e){var t=e.name
return"iframe"===t||"video"===t||"audio"===t}
var Ve=function(e,t,n,r){void 0===r&&(r=null)
var o=e.attr(n)
return c(o)?o:D(t,n)?null:r}
var je=function(e,t,n){var r="img"===t.name||"video"===e.name
var o=r?"300":null
var a="audio"===e.name?"30":"150"
var i=r?a:null
t.attr({width:Ve(e,n,"width",o),height:Ve(e,n,"height",i)})}
var Ue=function(e,t,n,r){var o=Ie({forced_root_block:false,validate:false},e.schema).parse(r,{context:t})
while(o.firstChild)n.append(o.firstChild)}
var We=function(e,t){var n=t.name
var r=new Be("img",1)
r.shortEnded=true
$e(e,t,r)
je(t,r,{})
r.attr({style:t.attr("style"),src:Pe.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n})
return r}
var qe=function(e,t){var n=t.name
var r=new Be("span",1)
r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n})
$e(e,t,r)
var o=e.dom.parseStyle(t.attr("style"))
var a=new Be(n,1)
je(t,a,o)
a.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")})
if("iframe"===n)a.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0"})
else{var i=["controls","crossorigin","currentTime","loop","muted","poster","preload"]
S(i,(function(e){a.attr(e,t.attr(e))}))
var u=r.attr("data-mce-html")
c(u)&&Ue(e,n,a,u)}var s=new Be("span",1)
s.attr("class","mce-shim")
r.append(a)
r.append(s)
return r}
var $e=function(e,t,n){var r=t.attributes
var o=r.length
while(o--){var a=r[o].name
var i=r[o].value
if("width"!==a&&"height"!==a&&"style"!==a){"data"!==a&&"src"!==a||(i=e.convertURL(i,a))
n.attr("data-mce-p-"+a,i)}}var u=t.firstChild&&t.firstChild.value
if(u){n.attr("data-mce-html",escape(He(e,u)))
n.firstChild=null}}
var Ge=function(e){var t=e.attr("class")
return t&&/\btiny-pageembed\b/.test(t)}
var Xe=function(e){while(e=e.parent)if(e.attr("data-ephox-embed-iri")||Ge(e))return true
return false}
var Ke=function(e){return function(t){var n=t.length
var r
var o
while(n--){r=t[n]
if(!r.parent)continue
if(r.parent.attr("data-mce-object"))continue
if("script"===r.name){o=U(A(e),r.attr("src"))
if(!o)continue}if(o){o.width&&r.attr("width",o.width.toString())
o.height&&r.attr("height",o.height.toString())}Fe(r)&&R(e)&&Pe.ceFalse?Xe(r)||r.replace(qe(e,r)):Xe(r)||r.replace(We(e,r))}}}
var Ze=function(e){e.on("preInit",(function(){var t=e.schema.getSpecialElements()
F.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}))
var n=e.schema.getBoolAttrs()
F.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){n[e]={}}))
e.parser.addNodeFilter("iframe,video,audio,object,embed,script",Ke(e))
e.serializer.addAttributeFilter("data-mce-object",(function(t,n){var r=t.length
var o
var a
var i
var u
var c
var s
var l
var f
while(r--){o=t[r]
if(!o.parent)continue
l=o.attr(n)
a=new Be(l,1)
if("audio"!==l&&"script"!==l){f=o.attr("class")
f&&-1!==f.indexOf("mce-preview-object")?a.attr({width:o.firstChild.attr("width"),height:o.firstChild.attr("height")}):a.attr({width:o.attr("width"),height:o.attr("height")})}a.attr({style:o.attr("style")})
u=o.attributes
i=u.length
while(i--){var v=u[i].name
0===v.indexOf("data-mce-p-")&&a.attr(v.substr(11),u[i].value)}"script"===l&&a.attr("type","text/javascript")
c=o.attr("data-mce-html")
if(c){s=new Be("#text",3)
s.raw=true
s.value=He(e,unescape(c))
a.append(s)}o.replace(a)}}))}))
e.on("SetContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var r=e.$(n)
0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))}
var Ye=function(e){e.on("ResolveName",(function(e){var t
1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))}
var Je=function(e){e.on("click keyup touchend",(function(){var t=e.selection.getNode()
t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")}))
e.on("ObjectSelected",(function(e){var t=e.target.getAttribute("data-mce-object")
"script"===t&&e.preventDefault()}))
e.on("ObjectResized",(function(e){var t=e.target
var n
if(t.getAttribute("data-mce-object")){n=t.getAttribute("data-mce-html")
if(n){n=unescape(n)
t.setAttribute("data-mce-html",escape(ne(n,{width:String(e.width),height:String(e.height)})))}}}))}
var Qe=function(e,t){return function(n){return e.selection.selectorChangedWithUnbind(t.join(","),n.setActive).unbind}}
var et=function(e){e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){e.execCommand("mceMedia")},onSetup:Qe(e,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])})
e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){e.execCommand("mceMedia")}})}
function tt(){e.add("media",(function(e){ze(e)
et(e)
Ye(e)
Ze(e)
Je(e)
return Re(e)}))}tt()})()},rU96:function(e,t){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},ujec:function(e,t){(function(){"use strict"
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var t=tinymce.util.Tools.resolve("tinymce.util.Tools")
var n=function(e,n){var r=e.dom
var o
var a=e.selection.getSelectedBlocks()
if(a.length){o=r.getAttrib(a[0],"dir")
t.each(a,(function(e){r.getParent(e.parentNode,'*[dir="'+n+'"]',r.getRoot())||r.setAttrib(e,"dir",o!==n?n:null)}))
e.nodeChanged()}}
var r=function(e){e.addCommand("mceDirectionLTR",(function(){n(e,"ltr")}))
e.addCommand("mceDirectionRTL",(function(){n(e,"rtl")}))}
var o=function(e){return function(t){return typeof t===e}}
var a=function(e){return null===e||void 0===e}
var i=function(e){return!a(e)}
var u=o("function")
var c=function(){}
var s=function(e,t){return function(n){return e(t(n))}}
var l=function(e){return function(){return e}}
var f=l(false)
var v=l(true)
var d=function(){return m}
var m=(g=function(e){return e.isNone()},h=function(e){return e()},p=function(e){return e},b={fold:function(e,t){return e()},is:f,isSome:f,isNone:v,getOr:p,getOrThunk:h,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:p,orThunk:h,map:d,each:c,bind:d,exists:f,forall:v,filter:d,equals:g,equals_:g,toArray:function(){return[]},toString:l("none()")},b)
var g,h,p,b
var y=function(e){var t=l(e)
var n=function(){return o}
var r=function(t){return t(e)}
var o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:v,isNone:f,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:m},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(f,(function(t){return n(e,t)}))}}
return o}
var w=function(e){return null===e||void 0===e?m:y(e)}
var x={some:y,none:d,from:w}
var C=function(e){return void 0!==e.style&&u(e.style.getPropertyValue)}
var S=function(e,t){var n=t||document
var r=n.createElement("div")
r.innerHTML=e
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",e)
throw new Error("HTML must have a single root node")}return T(r.childNodes[0])}
var k=function(e,t){var n=t||document
var r=n.createElement(e)
return T(r)}
var O=function(e,t){var n=t||document
var r=n.createTextNode(e)
return T(r)}
var T=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined")
return{dom:e}}
var E=function(e,t,n){return x.from(e.dom.elementFromPoint(t,n)).map(T)}
var _={fromHtml:S,fromTag:k,fromText:O,fromDom:T,fromPoint:E}
"undefined"!==typeof window?window:Function("return this;")()
var L=9
var D=11
var A=3
var M=function(e){return e.dom.nodeType}
var N=function(e){return function(t){return M(t)===e}}
var R=N(A)
var z=N(L)
var B=N(D)
var P=function(e){return _.fromDom(e.dom.ownerDocument)}
var I=function(e){return z(e)?e:P(e)}
var H=function(e){return B(e)&&i(e.dom.host)}
var F=u(Element.prototype.attachShadow)&&u(Node.prototype.getRootNode)
var V=F?function(e){return _.fromDom(e.dom.getRootNode())}:I
var j=function(e){var t=V(e)
return H(t)?x.some(t):x.none()}
var U=function(e){return _.fromDom(e.dom.host)}
var W=function(e){var t=R(e)?e.dom.parentNode:e.dom
if(void 0===t||null===t||null===t.ownerDocument)return false
var n=t.ownerDocument
return j(_.fromDom(t)).fold((function(){return n.body.contains(t)}),s(W,U))}
var q=function(e,t){var n=e.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(t)
return""!==o||W(e)?o:$(n,t)}
var $=function(e,t){return C(e)?e.style.getPropertyValue(t):""}
var G=function(e){return"rtl"===q(e,"direction")?"rtl":"ltr"}
var X=function(e,t){return function(n){var r=function(e){var r=_.fromDom(e.element)
n.setActive(G(r)===t)}
e.on("NodeChange",r)
return function(){return e.off("NodeChange",r)}}}
var K=function(e){e.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return e.execCommand("mceDirectionLTR")},onSetup:X(e,"ltr")})
e.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return e.execCommand("mceDirectionRTL")},onSetup:X(e,"rtl")})}
function Z(){e.add("directionality",(function(e){r(e)
K(e)}))}Z()})()},xw2z:function(e,t){(function(){"use strict"
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var t=tinymce.util.Tools.resolve("tinymce.Env")
var n=function(e){return e.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i)}
var r=function(e){return e.getParam("default_link_target",false)}
var o=function(e){return e.getParam("link_default_protocol","http","string")}
var a=function(e,t){return e===t||" "===e||160===e.charCodeAt(0)}
var i=function(e){v(e,-1,"(")}
var u=function(e){v(e,0,"")}
var c=function(e){v(e,-1,"")}
var s=function(e,t){t<0&&(t=0)
if(3===e.nodeType){var n=e.data.length
t>n&&(t=n)}return t}
var l=function(e,t,n){1!==t.nodeType||t.hasChildNodes()?e.setStart(t,s(t,n)):e.setStartBefore(t)}
var f=function(e,t,n){1!==t.nodeType||t.hasChildNodes()?e.setEnd(t,s(t,n)):e.setEndAfter(t)}
var v=function(e,t,i){var u,c,s,v,d,m,g
var h=n(e)
var p=r(e)
if("A"===e.selection.getNode().tagName)return
var b=e.selection.getRng().cloneRange()
if(b.startOffset<5){d=b.endContainer.previousSibling
if(!d){if(!b.endContainer.firstChild||!b.endContainer.firstChild.nextSibling)return
d=b.endContainer.firstChild.nextSibling}m=d.length
l(b,d,m)
f(b,d,m)
if(b.endOffset<5)return
u=b.endOffset
c=d}else{c=b.endContainer
if(3!==c.nodeType&&c.firstChild){while(3!==c.nodeType&&c.firstChild)c=c.firstChild
if(3===c.nodeType){l(b,c,0)
f(b,c,c.nodeValue.length)}}u=1===b.endOffset?2:b.endOffset-1-t}var y=u
do{l(b,c,u>=2?u-2:0)
f(b,c,u>=1?u-1:0)
u-=1
g=b.toString()}while(" "!==g&&""!==g&&160!==g.charCodeAt(0)&&u-2>=0&&g!==i)
if(a(b.toString(),i)){l(b,c,u)
f(b,c,y)
u+=1}else if(0===b.startOffset){l(b,c,0)
f(b,c,y)}else{l(b,c,u)
f(b,c,y)}v=b.toString()
"."===v.charAt(v.length-1)&&f(b,c,y-1)
v=b.toString().trim()
var w=v.match(h)
var x=o(e)
if(w){"www."===w[1]?w[1]=x+"://www.":/@$/.test(w[1])&&!/^mailto:/.test(w[1])&&(w[1]="mailto:"+w[1])
s=e.selection.getBookmark()
e.selection.setRng(b)
e.execCommand("createlink",false,w[1]+w[2])
false!==p&&e.dom.setAttrib(e.selection.getNode(),"target",p)
e.selection.moveToBookmark(s)
e.nodeChanged()}}
var d=function(e){var n
e.on("keydown",(function(t){if(13===t.keyCode)return c(e)}))
if(t.browser.isIE()){e.on("focus",(function(){if(!n){n=true
try{e.execCommand("AutoUrlDetect",false,true)}catch(e){}}}))
return}e.on("keypress",(function(t){if(41===t.keyCode)return i(e)}))
e.on("keyup",(function(t){if(32===t.keyCode)return u(e)}))}
function m(){e.add("autolink",(function(e){d(e)}))}m()})()}}])

//# sourceMappingURL=39-c-3187682d5c.js.map